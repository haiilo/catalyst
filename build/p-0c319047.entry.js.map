{"version":3,"names":["setAttributeDefault","host","attr","value","hostElement","hasAttribute","setAttribute","String","catAlertCss","CatAlert","this","mapIcon","Map","mapRole","connectedCallback","get","color","render","h","Host","noIcon","size","icon","class","loadImg","src","Promise","resolve","reject","image","Image","addEventListener","catAvatarCss","CatAvatar","onSrcChanged","then","backgroundImage","undefined","componentWillLoad","componentWillRender","label","log","warn","url","href","target","urlTarget","style","cssStyle","cssClass","content","getInitials","avatar","round","Boolean","initials","split","map","n","join","catBadgeCss","CatBadge","_breakpoints","Breakpoints","xs","s","m","l","xl","isBreakpoint","includes","hasV8BreakIterator","Intl","v8BreakIterator","Platform","constructor","EDGE","test","navigator","userAgent","TRIDENT","BLINK","window","chrome","CSS","WEBKIT","IOS","FIREFOX","ANDROID","SAFARI","mediaQueriesForWebkitCompatibility","Set","mediaQueryStyleNode","MediaMatcher","_platform","_matchMedia","matchMedia","bind","query","createEmptyStyleRule","has","document","createElement","head","appendChild","sheet","insertRule","add","e","error","catButtonCss","CatButton","onIconOnlyChanged","mediaQueryList","removeEventListener","mediaQueryListener","mediaMatcher","event","_iconOnly","matches","iconOnly","isIconButton","a11yLabel","haltDisabledEvents","disabled","loading","preventDefault","stopImmediatePropagation","async","options","button","focus","blur","click","ref","el","a11yCurrent","id","buttonId","part","active","noEllipsis","variant","onClick","onFocus","onBlur","nativeAttributes","type","submit","name","buttonGroupPosition","iconSize","spinnerSize","hasPrefixIcon","iconRight","hasSuffixIcon","catClick","emit","catFocus","catBlur","catButtonGroupCss","CatButtonGroup","formElements","role","onSlotchange","onSlotChange","Array","from","querySelectorAll","forEach","element","index","length","catCardCss","CatCard","CatFormHint","props","hint","slottedHint","errorMap","errors","Object","entries","key","params","i18n","t","isArray","item","catCheckboxCss","nextUniqueId","CatCheckbox","_id","identifier","componentDidLoad","input","indeterminate","hasSlottedLabel","querySelector","hasSlottedHint","htmlFor","labelHidden","labelLeft","checked","required","onInput","viewBox","points","catChange","module","exports","r","i","u","a","o","f","c","d","$","y","M","weekdays","months","ordinal","v","z","utcOffset","Math","abs","floor","date","year","month","clone","ceil","p","w","D","ms","Q","toLowerCase","replace","g","_","S","args","arguments","O","locale","$L","utc","$u","x","$x","$offset","parse","prototype","$d","Date","NaN","match","substring","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","toString","isSame","startOf","endOf","isAfter","isBefore","$g","set","unix","valueOf","getTime","toDate","apply","slice","$locale","weekStart","$set","min","daysInMonth","Number","subtract","format","invalidDate","meridiem","YY","YYYY","MM","MMM","monthsShort","MMMM","DD","dd","weekdaysMin","ddd","weekdaysShort","dddd","H","HH","hh","A","mm","ss","SSS","Z","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","T","extend","$i","isDayjs","en","Ls","isoWeekday","isoWeekYear","isoWeek","day","local","call","getUTCFullYear","getUTCMonth","getUTCDate","getUTCDay","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","$localOffset","isUTC","dayjs","today","lastItemOf","arr","pushUnique","items","push","stringToArray","str","separator","isInRange","testVal","max","minOK","maxOK","limitToRange","val","createTagRepeat","tagName","repeat","attributes","html","openTagSrc","keys","reduce","next","optimizeTemplateHTML","stripTime","timeValue","setHours","dateValue","newDate","setFullYear","addDays","amount","setDate","addWeeks","addMonths","monthsToSet","expectedMonth","time","setMonth","addYears","dayDiff","dayOfTheWeekOf","baseDate","dayOfWeek","baseDay","calcWeekNum","dayOfTheWeek","sameDayOfFirstWeek","getIsoWeek","thuOfTheWeek","firstThu","calcTraditionalWeekNumber","startOfFirstWeek","startOfTheWeek","weekNum","weekOneOfNextYear","getWesternTradWeek","getMidEasternWeek","startOfYearPeriod","years","regularizeDate","timeSpan","useLastDate","reFormatTokens","reNonDateParts","knownFormats","parseFns","parseInt","monthIndex","isNaN","monthName","compareNames","startsWith","findIndex","normalizeMonth","formatFns","padZero","daysShort","days","yy","yyyy","num","padStart","parseFormatString","Error","separators","parts","RegExp","partFormatters","token","partParserKeys","find","parser","dateStr","dateParts","dtParts","origDate","formatter","fn","parseDate","toValue","formatDate","dateObj","toDisplay","range","createRange","parseHTML","createContextualFragment","getParent","parentElement","parentNode","ShadowRoot","isActiveElement","getRootNode","activeElement","hideElement","display","dataset","styleDisplay","showElement","emptyChildNodes","firstChild","removeChild","replaceChildNodes","newChildNodes","DocumentFragment","node","listenerRegistry","WeakMap","EventTarget","registerListeners","keyObj","listeners","registered","listener","unregisterListeners","delete","Event","composedPath","getComposedPath","path","parent","defaultView","findFromPath","criteria","currentTarget","rest","findElementInEventPath","ev","selector","Element","locales","daysMin","clear","titleFormat","defaultOptions","autohide","beforeShowDay","beforeShowDecade","beforeShowMonth","beforeShowYear","clearButton","dateDelimiter","datesDisabled","daysOfWeekDisabled","daysOfWeekHighlighted","defaultViewDate","disableTouchKeyboard","enableOnReadonly","language","maxDate","maxNumberOfDates","maxView","minDate","nextArrow","orientation","pickLevel","prevArrow","showDaysOfWeek","showOnClick","showOnFocus","startView","title","todayButton","todayButtonMode","todayHighlight","updateOnBlur","weekNumbers","defaultLang","defaultFormat","defaultWeekStart","sanitizeDOW","dow","determineGetWeekMethod","numberingMode","methodId","updateWeekStart","newValue","config","weekEnd","getWeekNumber","validateDate","origValue","validateViewId","viewId","replaceOptions","to","convert","processOptions","datepicker","inOpts","assign","rangeEnd","rangeSideIndex","lang","origLocale","hasToDisplay","hasToValue","validFormatString","newPickLevel","minDt","maxDt","defaultMinDt","dtsDisabled","checkDisabled","dates","dt","viewDate","wkStart","method","startOfWeek","multidate","newMaxView","newStartView","childNodes","defaultShortcutKeys","show","hide","toggle","prevButton","ctrlOrMetaKey","nextButton","viewSwitch","exitEditMode","createShortcutKeyConfig","keyDefs","shortcut","keyDef","normalizedDef","ctrlKey","metaKey","altKey","shiftKey","pickerTemplate","daysTemplate","weekNumbersTemplate","View","picker","selected","isRangeEnd","isMinView","setOptions","updateFocus","updateSelection","prepareForRender","switchLabel","prevButtonDisabled","nextButtonDisabled","setViewSwitchLabel","setPrevButtonDisabled","setNextButtonDisabled","setDisabled","classList","performBeforeHook","result","beforeShow","enabled","classes","extraClasses","renderCell","cellVal","outOfScope","textContent","className","cellClass","first","last","rangeStart","focused","refreshCell","remove","changeFocusedCell","cellIndex","grid","children","DaysView","super","onConstruction","inner","lastChild","updateDOW","dayNames","switchLabelFormat","weeksElem","weeks","insertBefore","viewYear","viewMonth","firstOfMonth","start","rangepicker","dateOfWeekStart","current","refresh","refreshFocus","computeMonthRange","thisYear","startY","startM","endY","endM","MonthsView","ix","monthNames","minYear","minMonth","minDateObj","maxYear","maxMonth","maxDateObj","yrOutOfRange","isMinYear","isMaxYear","toTitleCase","word","ch","toUpperCase","YearsView","navStep","step","beforeShowOption","triggerDatepickerEvent","detail","currentView","dispatchEvent","CustomEvent","goToPrevOrNext","direction","newViewDate","changeFocus","switchView","changeView","clearSelection","goToOrSelectToday","currentDate","forceRefresh","setFocusedDate","unfocus","update","revert","once","goToSelectedMonthOrYear","selection","onClickViewSwitch","onClickPrevButton","onClickNextButton","onClickView","contains","data","onMousedownPicker","orientClasses","obj","toPx","processPickerOptions","controls","cloneNode","computeResetViewDate","setViewDate","_oldViewDate","getTextDirection","getComputedStyle","findScrollParents","body","overflow","Picker","inputField","template","buttonClass","header","main","footer","firstElementChild","lastElementChild","elementClass","views","container","after","view","detach","inputDirection","dir","removeAttribute","visibility","place","offsetParent","width","calendarWidth","height","calendarHeight","getBoundingClientRect","left","inputLeft","top","inputTop","right","inputRight","bottom","inputBottom","inputWidth","inputHeight","orientX","orientY","scrollX","scrollY","offsetParentRect","scrollLeft","scrollTop","scrollParent","scrollAreaLeft","scrollAreaTop","clientWidth","scrollAreaRight","clientHeight","scrollAreaBottom","documentElement","scrollParentRect","adjustment","values","labelText","_oldView","_renderMethod","quickRender","oldView","oldViewDate","renderMethod","replaceChild","findNextAvailableOne","addFn","increase","testFn","moveByArrowKey","vertical","onKeydown","editMode","cancelEvent","stopPropagation","shortcutKeys","keyInfo","prop","action","handleArrowKeyPress","enterEditMode","_showing","onMousedown","_active","_clicking","setTimeout","onClickInput","clearTimeout","onPaste","clipboardData","types","onClickOutside","pickerElem","stringifyDates","processInputDates","inputDates","origDates","newDates","filter","refreshUI","mode","newView","getOutputConverter","Datepicker","HTMLElement","inputs","indexOf","datepickers","_options","initialDates","inputDateValues","keydownListener","static","pickerElement","newOptions","readOnly","destroy","callback","opts","lastArg","pop","getFocusedDate","resetView","forceRender","DatepickerTypeEnum","browserLanguage","getDefaultDate","selectedDate","getDatepickerOptions","daysForLocale","weekday","firstDayOfWeek","setUTCDate","DateTimeFormat","monthsForLocale","setUTCMonth","browser","catDatepickerCss","CatDatepicker","catInput","requiredMarker","horizontal","autoComplete","clearable","iconLeft","placeholder","textPrefix","textSuffix","readonly","errorUpdate","onCatChange","onCatFocus","onCatBlur","slot","inputWrapper","shadowRoot","inputElement","fromISOWeek","dateFormat","toISOWeek","shouldHighlightAsToday","handleWeekDays","handleDateChange","focusAllWeekDays","disconnectedCallback","selectAllWeekDays","addClassToAllWeekDays","weekdaysCount","nextElementSibling","now","isSameYear","isSameMonth","isSameDay","week","weekNumber","fromISOWeekNumber","refDate","diffDays","firstDayOfYear","HOOKS","defaults","_disable","allowInput","allowInvalidPreload","altFormat","altInput","altInputClass","animate","ariaDateFormat","autoFillDefaultTime","clickOpens","closeOnSelect","conjunction","defaultHour","defaultMinute","defaultSeconds","disable","disableMobile","enableSeconds","enableTime","errorHandler","err","console","getWeek","givenDate","week1","hourIncrement","ignoredFocusElements","inline","minuteIncrement","monthSelectorType","noCalendar","onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition","plugins","position","positionElement","shorthandCurrentMonth","showMonths","time_24hr","wrap","english","shorthand","longhand","nth","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","monthAriaLabel","hourAriaLabel","minuteAriaLabel","pad","number","int","bool","debounce","wait","_this","arrayify","toggleClass","elem","tag","clearNode","findParent","condition","createNumberInput","inputClassName","wrapper","numInput","arrowUp","arrowDown","pattern","getEventTarget","doNothing","monthToStr","monthNumber","revFormat","F","G","hour","parseFloat","J","K","shortMonth","seconds","setSeconds","U","unixSeconds","W","Y","ISODate","minutes","setMinutes","j","unixMillSeconds","tokenRegex","formats","createDateFormatter","_a","_b","_c","l10n","_d","isMobile","frmt","overrideLocale","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","toFixed","datestr","trim","matched","ops","matchIndex","regexStr","isBackSlash","escaped","exec","compareDates","date1","date2","isBetween","ts","ts1","ts2","calculateSecondsSinceMidnight","hours","parseSeconds","secondsSinceMidnight","duration","DAY","getDefaultHours","minHour","minMinutes","minSeconds","maxHr","maxMinutes","_i","TypeError","_loop_1","source","args_1","__assign","hasOwnProperty","__spreadArrays","il","k","jl","DEBOUNCED_CHANGE_MS","FlatpickrInstance","instanceConfig","self","flatpickr","defaultConfig","English","_handlers","pluginElements","loadedPlugins","_bind","_setHoursFromDate","setHoursFromDate","_positionCalendar","positionCalendar","changeMonth","changeYear","close","onMouseOver","_createElement","createDay","isEnabled","jumpToDate","updateValue","open","redraw","setupHelperFunctions","utils","getDaysInMonth","yr","currentMonth","currentYear","isOpen","parseConfig","setupLocale","setupInputs","setupDates","build","bindEvents","selectedDates","latestSelectedDateObj","setCalendarWidth","isSafari","triggerEvent","getClosestActiveElement","calendarContainer","bindToInstance","requestAnimationFrame","daysContainer","daysWidth","offsetWidth","weekWrapper","removeProperty","updateTime","defaultDate","timeWrapper","prevValue","_input","setHoursFromInputs","_debouncedChange","ampm2military","military2ampm","hourElement","minuteElement","secondElement","limitMinHours","minTime","minDateHasTime","limitMaxHours","maxTime","maxDateHasTime","minBound","maxBound","currentTime","onYearInput","eventTarget","delta","handler","triggerChange","evt","setupMobile","debouncedResize","onResize","ontouchstart","documentClick","capture","monthNav","onMonthNavClick","selectDate","timeContainer","selText","select","timeIncrement","jumpDate","jumpTo","oldYear","oldMonth","message","buildMonthSwitch","incrementNumInput","inputElem","createEvent","fragment","createDocumentFragment","tabIndex","buildMonthNav","innerContainer","buildWeeks","rContainer","buildWeekdays","buildDays","buildTime","customAppend","appendTo","nodeType","nextSibling","_dayNumber","dateIsEnabled","dayElement","todayDateElem","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","focusOnDayElem","targetNode","getFirstAvailableDay","startMonth","endMonth","startIndex","endIndex","getNextAvailableDay","givenMonth","loopDelta","numMonthDays","focusOnDay","offset","dayFocused","isInView","startElem","buildMonthDays","prevMonthDays","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayNumber","dayIndex","dayNum","dayContainer","frag","shouldBuildMonth","monthsDropdownContainer","innerHTML","buildMonth","monthNavFragment","monthElement","selectedMonth","yearInput","tabindex","yearElement","getElementsByTagName","buildMonths","prevMonthNav","yearElements","monthElements","nextMonthNav","defineProperty","__hidePrevMonthArrow","__hideNextMonthArrow","currentYearElement","updateNavigationCurrentMonth","hourInput","minuteInput","secondInput","getAttribute","weekdayContainer","updateWeekdays","splice","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","triggerChangeEvent","toInitial","mobileInput","_initialDate","_type","isCalendarElem","eventTarget_1","isCalendarElement","isInput","lostFocus","relatedTarget","isIgnored","some","newYear","newYearNum","isNewYear","dateToCheck","enable","array","parsed","valueChanged","trimEnd","getDateStr","allowKeydown","allowInlineKeydown","keyCode","isTimeObj","focusAndClose","delta_1","elems","concat","charAt","hoverDate","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","hoverableCells","dayElem","timestamp","outOfRange","_positionElement","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","userConfig","JSON","stringify","_enable","parseDateRules","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","hook","pluginConf","getInputElem","l10ns","default","customPositionElement","acc","child","offsetHeight","configPos","configPosVertical","configPosHorizontal","inputBounds","distanceFromBottom","innerHeight","showOnTop","pageYOffset","pageXOffset","isCenter","isRight","rightMost","centerMost","doc","getDocumentStyleSheet","bodyWidth","centerLeft","centerBefore","centerAfter","centerIndex","cssRules","centerStyle","editableSheet","styleSheets","createStyleSheet","msMaxTouchPoints","isSelectable","shouldChangeMonth","selectedIndex","sort","b","single","CALLBACKS","updatePositionElement","option","setSelectedDate","inputDate","rule","preloadedDate","nodeName","inputType","mobileFormatStr","defaultValue","hooks","initEvent","specificFormat","dObj","isPrevMonth","isNextMonth","isKeyDown","curValue","which","isHourElem","isMinuteElem","_flatpickr","nodeList","nodes","instances","HTMLCollection","NodeList","Node","localize","setDefaults","jQuery","fp_incr","getFormat","formatTime","minute","datetime","getHour12","getFirstDayOfWeek","Locale","weekInfo","getWeekInfo","firstDay","getLocale","catDatepickerFlatCss","CatDatepickerFlat","_date","getAlignment","placement","getLengthFromAxis","axis","getSide","getMainAxisFromPlacement","computeCoordsFromPlacement","_ref","rtl","reference","floating","commonX","commonY","mainAxis","commonAlign","side","isVertical","coords","computePosition","strategy","middleware","platform","validMiddleware","isRTL","rects","getElementRects","statefulPlacement","middlewareData","resetCount","nextX","nextY","reset","initialPlacement","elements","evaluate","param","expandPaddingObject","padding","getSideObjectFromPadding","rectToClientRect","rect","detectOverflow","state","_await$platform$isEle","boundary","rootBoundary","elementContext","altBoundary","paddingObject","altContext","clippingClientRect","getClippingRect","isElement","contextElement","getDocumentElement","getOffsetParent","offsetScale","getScale","elementClientRect","convertOffsetParentRelativeRectToViewportRelativeRect","within","min$1","max$1","oppositeSideMap","getOppositePlacement","getAlignmentSides","alignment","mainAlignmentSide","cross","oppositeAlignmentMap","end","getOppositeAlignmentPlacement","getExpandedPlacements","oppositePlacement","getSideList","isStart","lr","rl","tb","bt","getOppositeAxisPlacements","flipAlignment","list","flip","_middlewareData$flip","checkMainAxis","crossAxis","checkCrossAxis","fallbackPlacements","specifiedFallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","detectOverflowOptions","isBasePlacement","placements","overflows","overflowsData","every","_middlewareData$flip2","_overflowsData$filter","nextIndex","nextPlacement","resetPlacement","_overflowsData$map$so","convertValueToCoords","mainAxisMulti","crossAxisMulti","rawValue","alignmentAxis","diffCoords","getCrossAxis","shift","limiter","mainAxisCoord","crossAxisCoord","minSide","maxSide","limitedCoords","isXAxis","heightSide","widthSide","overflowAvailableHeight","overflowAvailableWidth","noShift","availableHeight","availableWidth","maximumClippingWidth","maximumClippingHeight","xMin","xMax","yMin","yMax","nextDimensions","getDimensions","getWindow","_node$ownerDocument","ownerDocument","getComputedStyle$1","isNode","getNodeName","uaString","getUAString","uaData","userAgentData","brands","brand","version","isHTMLElement","isShadowRoot","OwnElement","isOverflowElement","overflowX","overflowY","isTableElement","isContainingBlock","isFirefox","css","backdropFilter","WebkitBackdropFilter","transform","perspective","willChange","contain","isClientRectVisualViewportBased","isLastTraversableNode","getCssDimensions","hasOffset","shouldFallback","fallback","unwrapElement","FALLBACK_SCALE","domElement","isFinite","includeScale","isFixedStrategy","_win$visualViewport","_win$visualViewport2","clientRect","scale","win","addVisualOffsets","visualViewport","offsetLeft","offsetTop","offsetWin","currentIFrame","frameElement","iframeScale","iframeRect","clientLeft","paddingLeft","clientTop","paddingTop","getNodeScroll","isOffsetParentAnElement","scroll","offsets","offsetRect","getWindowScrollBarX","getDocumentRect","scrollWidth","scrollHeight","getParentNode","assignedSlot","getNearestOverflowAncestor","getOverflowAncestors","scrollableAncestor","isBody","getViewportRect","visualViewportBased","getInnerBoundingClientRect","getClientRectFromClippingAncestor","clippingAncestor","mutableRect","hasFixedPositionAncestor","stopNode","getClippingElementAncestors","cache","cachedResult","currentContainingBlockComputedStyle","elementIsFixed","currentNode","computedStyle","currentNodeIsContaining","shouldDropCurrentNode","ancestor","elementClippingAncestors","clippingAncestors","firstClippingAncestor","clippingRect","accRect","getTrueOffsetParent","polyfill","getContainingBlock","getRectRelativeToOffsetParent","getOffsetParentFn","getDimensionsFn","getClientRects","autoUpdate","ancestorScroll","ancestorResize","elementResize","animationFrame","ancestors","isVisualViewport","passive","observer","ResizeObserver","observe","frameId","prevRefRect","frameLoop","nextRefRect","_observer","disconnect","cancelAnimationFrame","mergedOptions","platformWithCache","computePosition$1","timeTransitionS","candidateSelectors","candidateSelector","NoElement","msMatchesSelector","webkitMatchesSelector","_element$getRootNode","isInert","lookUp","_node$getAttribute","inertAtt","inert","isContentEditable","_node$getAttribute2","attValue","getCandidates","includeContainer","candidates","unshift","getCandidatesIteratively","elementsToCheck","assigned","assignedElements","nestedCandidates","flatten","scopeParent","validCandidate","getShadowRoot","validShadowRoot","shadowRootFilter","_nestedCandidates","getTabindex","isScope","sortOrderedTabbables","documentOrder","isHiddenInput","isDetailsWithSummary","getCheckedRadio","form","isTabbableRadio","radioScope","queryRadios","radioSet","escape","isRadio","isNonTabbableRadio","isNodeAttached","_nodeRoot","nodeRoot","nodeRootHost","attached","_nodeRootHost","_nodeRootHost$ownerDo","_nodeRoot2","_nodeRootHost2","_nodeRootHost2$ownerD","isZeroArea","_node$getBoundingClie","isHidden","displayCheck","isDirectSummary","nodeUnderDetails","originalNode","rootNode","isDisabledFromFieldset","isNodeMatchingSelectorFocusable","isNodeMatchingSelectorTabbable","isValidShadowRootTabbable","shadowHostNode","sortByOrder","regularTabbables","orderedTabbables","candidateTabindex","sortable","tabbable","focusable","isTabbable","focusableCandidateSelector","isFocusable","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","_objectSpread2","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","configurable","writable","_toPrimitive","prim","Symbol","toPrimitive","res","arg","activeFocusTraps","activateTrap","trapStack","trap","activeTrap","pause","trapIndex","deactivateTrap","unpause","isSelectableInput","isEscapeEvent","isTabEvent","isKeyForward","isKeyBackward","delay","idx","valueOrHandler","_len","_key","getActualTarget","internalTrapStack","createFocusTrap","userOptions","returnFocusOnDeactivate","escapeDeactivates","delayInitialFocus","containers","containerGroups","tabbableGroups","nodeFocusedBeforeActivation","mostRecentlyFocusedNode","paused","delayInitialFocusTimer","getOption","configOverrideOptions","optionName","configOptionName","findContainerIndex","tabbableNodes","getNodeForOption","optionValue","_len2","_key2","getInitialFocusNode","tabbableOptions","firstTabbableGroup","firstTabbableNode","updateTabbableNodes","focusableNodes","lastTabbableNode","nextTabbableNode","forward","nodeIdx","reverse","group","tryFocus","preventScroll","getReturnFocusNode","previousActiveElement","checkPointerDown","clickOutsideDeactivates","deactivate","returnFocus","allowOutsideClick","checkFocusIn","targetContained","Document","checkKeyNav","isBackward","destinationNode","containerIndex","containerGroup","startOfGroupIndex","_ref2","destinationGroupIndex","destinationGroup","lastOfGroupIndex","_ref3","_destinationGroupIndex","_destinationGroup","checkKey","checkClick","addListeners","removeListeners","checkDomRemoval","mutations","isFocusedNodeRemoved","mutation","removedNodes","mutationObserver","MutationObserver","updateObservedNodes","subtree","childList","activate","activateOptions","onActivate","onPostActivate","checkCanFocusTrap","finishActivation","deactivateOptions","onDeactivate","onPostDeactivate","checkCanReturnFocus","finishDeactivation","pauseOptions","onPause","onPostPause","unpauseOptions","onUnpause","onPostUnpause","updateContainerElements","containerElements","elementsAsArray","firstTabbable","catDropdownCss","CatDropdown","clickHandler","trigger","initTrigger","noAutoClose","catOpen","focusTrap.createFocusTrap","shouldClose","catClose","keyListener","targetElements","activeIdx","activeOff","targetIdx","triggerSlot","contentId","findTrigger","OFFSET","maxWidth","maxHeight","catFormGroupCss","CatFormGroup","onRequiredMarker","newRequiredMarker","updateMarker","calculate","endsWith","onHorizontal","newHorizontal","labelSize","formFields","optionalFields","requiredFields","catIconCss","CatIcon","iconSrc","icons","getIcon","coerceBoolean","coerceNumber","fallbackValue","isNumberValue","catInputCss","CatInput","watchErrorsHandler","errorMapSrc","showErrorsIfTimeout","showErrorsIfNoFocus","hidden","maxLength","invalid","autocomplete","maxlength","minlength","minLength","showErrors","errorUpdateTimeoutId","hasFocus","catLabelCss","CatLabel","for","getElementById","findShadowTarget","SHADOW_TARGETS","catPaginationCss","CatPagination","isFirst","iconPrev","setPage","page","isLast","iconNext","pageCount","pages","sidePadding","activePadding","minPage","minActivepage","maxPage","maxActivepage","addSeq","_start","clamp","_end","fill","compact","catRadioCss","CatRadio","catRadioGroupCss","CatRadioGroup","catRadioGroup","onNameChanged","newName","catRadio","onValueChanged","updateTabIndex","onDisabledChanged","onLabelLeftChanged","doFocus","catRadioElement","checkedRadioIndex","isFunction","createErrorClass","createImpl","_super","instance","stack","ctorFunc","create","UnsubscriptionError","UnsubscriptionErrorImpl","arrRemove","Subscription","initialTeardown","closed","_parentage","_finalizers","unsubscribe","initialFinalizer","finalizer","execFinalizer","teardown","_hasParent","_addParent","_removeParent","EMPTY","empty","EMPTY_SUBSCRIPTION","isSubscription","onUnhandledError","onStoppedNotification","useDeprecatedSynchronousErrorHandling","useDeprecatedNextContext","timeoutProvider","timeout","delegate","handle","reportUnhandledError","noop","COMPLETE_NOTIFICATION","createNotification","errorNotification","nextNotification","kind","errorContext","cb","Subscriber","destination","isStopped","EMPTY_OBSERVER","complete","SafeSubscriber","handleStoppedNotification","_next","_error","_complete","Function","thisArg","ConsumerObserver","partialObserver","handleUnhandledError","observerOrNext","context","defaultErrorHandler","notification","subscriber","observable","identity","pipeFromArray","fns","piped","prev","Observable","subscribe","_subscribe","lift","operator","isSubscriber","_trySubscribe","sink","promiseCtor","getPromiseCtor","Symbol_observable","pipe","operations","toPromise","isObserver","hasLift","operate","liftedSource","createOperatorSubscriber","onNext","onComplete","onError","onFinalize","OperatorSubscriber","shouldUnsubscribe","ObjectUnsubscribedError","ObjectUnsubscribedErrorImpl","Subject","currentObservers","observers","hasError","thrownError","subject","AnonymousSubject","_throwIfClosed","observed","_checkFinalizedStatuses","_innerSubscribe","asObservable","dateTimestampProvider","Action","scheduler","work","schedule","intervalProvider","setInterval","clearInterval","AsyncAction","pending","recycleAsyncId","requestAsyncId","flush","_scheduler","execute","_execute","_delay","errored","errorValue","actions","Scheduler","schedulerActionCtor","AsyncScheduler","SchedulerAction","asyncScheduler","isScheduler","popScheduler","popNumber","__awaiter","_arguments","P","generator","adopt","fulfilled","rejected","done","__values","iterator","__await","__asyncGenerator","asyncIterator","q","verb","resume","settle","fulfill","__asyncValues","isArrayLike","isPromise","isInteropObservable","isAsyncIterable","createInvalidObservableTypeError","getSymbolIterator","isIterable","Symbol_iterator","readableStreamLikeToAsyncGenerator","readableStream","readableStreamLikeToAsyncGenerator_1","reader","getReader","read","releaseLock","isReadableStreamLike","innerFrom","fromInteropObservable","fromArrayLike","fromPromise","fromAsyncIterable","fromIterable","fromReadableStreamLike","obs","promise","iterable","asyncIterable","process","catch","asyncIterable_1","asyncIterable_1_1","e_1","e_1_1","return","executeSchedule","parentSubscription","scheduleSubscription","observeOn","subscribeOn","scheduleObservable","schedulePromise","scheduleArray","scheduleIterable","scheduleAsyncIterable","scheduleReadableStreamLike","scheduled","of","EmptyError","EmptyErrorImpl","isValidDate","project","callOrApply","mapOneOrManyArgs","mergeInternals","concurrent","onBeforeNext","expand","innerSubScheduler","additionalFinalizer","buffer","isComplete","checkComplete","outerNext","doInnerSub","innerComplete","innerValue","bufferedValue","mergeMap","resultSelector","Infinity","ii","mergeAll","concatAll","nodeEventEmitterMethods","eventTargetMethods","jqueryMethods","fromEvent","eventName","isEventTarget","methodName","isNodeStyleEventEmitter","toCommonHandlerRegistry","isJQueryStyleEventEmitter","subTarget","addListener","removeListener","on","off","timer","dueTime","intervalOrScheduler","intervalDuration","due","merge","sources","predicate","audit","durationSelector","hasValue","lastValue","durationSubscriber","endDuration","cleanupDuration","auditTime","catchError","innerSub","syncUnsub","handledResult","scanInternals","accumulator","seed","hasSeed","emitOnNext","emitBeforeComplete","hasState","defaultIfEmpty","take","count","seen","ignoreElements","mapTo","delayWhen","delayDurationSelector","subscriptionDelay","distinctUntilChanged","comparator","keySelector","defaultCompare","previousKey","currentKey","throwIfEmpty","errorFactory","defaultErrorFactory","hasDefaultValue","scan","startWith","switchMap","innerSubscriber","innerIndex","outerIndex","takeUntil","notifier","takeWhile","inclusive","tap","tapObserver","isUnsub","finalize","catScrollableCss","CatScrollable","destroyed","resizedEntries","resizedObserver","componentDidRender","scrollElement","scrolled","scrollWrapperElement","attachEmitter","scrolledLeft","scrolledRight","scrolledBottom","scrolledTop","THROTTLE","getScrollOffset","noScrolledInit","noShadowY","noShadowX","noOverflowX","noOverflowY","noOverscroll","emitter","scrolledBuffer","isLower","GHOST_ELEMENT_ID","characterEntities","mapSpecialCharacterToCharacterEntity","specialCharacter","escapeSpecialCharacters","string","createGhostElement","ghostElement","cssText","autosizeInput","elementStyle","elementCssText","boxSizing","borderLeftWidth","borderRightWidth","fontFamily","fontFeatureSettings","fontKerning","fontSize","fontStretch","fontStyle","fontVariant","fontVariantCaps","fontVariantLigatures","fontVariantNumeric","fontWeight","letterSpacing","marginLeft","marginRight","paddingRight","textIndent","textTransform","setWidth","minWidth","catSelectCss","INIT_STATE","term","isLoading","isResolving","tempSelection","activeOptionIndex","activeSelectionIndex","CatSelect","term$","more$","valueChangedBySelection","onConnectorChange","connector","onValueChange","onStateChange","newState","oldState","changed","dropdown","scrollIntoView","block","multiple","idsSelected","tags","ids","createTag","patchState","isInputFocused","onArrowKeyDown","toggleTag","selectionStart","deselect","selectionClone","onKeyUp","number$","subscription","retrieve","totalElements","toSelectItems","value1","isTagSelected","isPillboxActive","activeDescendant","pill","onCatClick","onScrolledBottom","optionsList","SKELETON_COUNT","lines","noItems","isTagOption","isOptionSelected","isSelected","getLabel","tagTextHelp","description","initIds","initTags","data$","customId","search","newSelection","setTransparentCaret","removeTag","DROPDOWN_OFFSET","tagHint","CatSelectTest","multipleSelect","connect","firstName","lastName","desc","user","multipleSelectAvatar","random","multipleSelectAvatarInitials","multipleSelectTagging","countryConnector","singleSelect","singleSelectAvatar","singleSelectAvatarInitials","country","capital","singleSelectTagging","flexDirection","countries","catSkeletonCss","CatSkeleton","skeleton","effect","catSpinnerCss","CatSpinner","xmlns","cx","cy","catTabCss","CatTab","tabClick","catTabsCss","CatTabs","buttons","onActiveTabChanged","newActiveTab","activeTab","tabs","syncTabs","activeTabId","tab","updateButtonsRef","deactivated","testForHeightReduction","restoreTextAlign","resize","textAlign","wordWrap","scrollBehavior","paddingBottom","borderTopWidth","borderBottomWidth","bubbles","catTextareaCss","CatTextarea","autosize","textarea","rows","catTimepickerCss","CatTimepicker","isBrowserHour12","timeSelect","timeConnector","onCatOpen","onCatClose","times","timeArray","getHour","filteredTimeArray","formatedTime","hourShort","formatAMPM","minutesStep","isHigherThanMinValue","isLowerThanMaxValue","maxHour","catToggleCss","CatToggle","isTouchDevice","maxTouchPoints","catTooltipCss","CatTooltip","handleKeyDown","hideListener","isTouchScreen","windowTouchStartListener","touchStartListener","touchEndListener","showListener","hasSlottedContent","tooltip","SHIFT_PADDING","hideTimeout","showTimeout","showTooltip","showDelay","hideTooltip","hideDelay","touchTimeout","longTouchDuration","cleanupFloatingUi"],"sources":["./src/utils/setDefault.ts","./src/components/cat-alert/cat-alert.scss?tag=cat-alert&encapsulation=shadow","./src/components/cat-alert/cat-alert.tsx","./src/utils/load-img.ts","./src/components/cat-avatar/cat-avatar.scss?tag=cat-avatar&encapsulation=shadow","./src/components/cat-avatar/cat-avatar.tsx","./src/components/cat-badge/cat-badge.scss?tag=cat-badge&encapsulation=shadow","./src/components/cat-badge/cat-badge.tsx","./src/utils/breakpoints.ts","./src/utils/platform.ts","./src/utils/media-matcher.ts","./src/components/cat-button/cat-button.scss?tag=cat-button&encapsulation=shadow","./src/components/cat-button/cat-button.tsx","./src/components/cat-button-group/cat-button-group.scss?tag=cat-button-group&encapsulation=shadow","./src/components/cat-button-group/cat-button-group.tsx","./src/components/cat-card/cat-card.scss?tag=cat-card&encapsulation=shadow","./src/components/cat-card/cat-card.tsx","./src/components/cat-form-hint/cat-form-hint.tsx","./src/components/cat-checkbox/cat-checkbox.scss?tag=cat-checkbox&encapsulation=shadow","./src/components/cat-checkbox/cat-checkbox.tsx","../node_modules/dayjs/dayjs.min.js","../node_modules/dayjs/plugin/isoWeek.js","../node_modules/dayjs/plugin/utc.js","./src/components/cat-datepicker/dayjs.config.ts","../node_modules/vanillajs-datepicker/js/lib/utils.js","../node_modules/vanillajs-datepicker/js/lib/date.js","../node_modules/vanillajs-datepicker/js/lib/date-format.js","../node_modules/vanillajs-datepicker/js/lib/dom.js","../node_modules/vanillajs-datepicker/js/lib/event.js","../node_modules/vanillajs-datepicker/js/i18n/base-locales.js","../node_modules/vanillajs-datepicker/js/options/defaultOptions.js","../node_modules/vanillajs-datepicker/js/options/processOptions.js","../node_modules/vanillajs-datepicker/js/options/shortcutKeys.js","../node_modules/vanillajs-datepicker/js/picker/templates/pickerTemplate.js","../node_modules/vanillajs-datepicker/js/picker/templates/daysTemplate.js","../node_modules/vanillajs-datepicker/js/picker/templates/weekNumbersTemplate.js","../node_modules/vanillajs-datepicker/js/picker/views/View.js","../node_modules/vanillajs-datepicker/js/picker/views/DaysView.js","../node_modules/vanillajs-datepicker/js/picker/views/MonthsView.js","../node_modules/vanillajs-datepicker/js/picker/views/YearsView.js","../node_modules/vanillajs-datepicker/js/events/functions.js","../node_modules/vanillajs-datepicker/js/events/pickerListeners.js","../node_modules/vanillajs-datepicker/js/picker/Picker.js","../node_modules/vanillajs-datepicker/js/events/elementListeners.js","../node_modules/vanillajs-datepicker/js/events/otherListeners.js","../node_modules/vanillajs-datepicker/js/Datepicker.js","./src/components/cat-datepicker/datepicker-type.ts","./src/components/cat-datepicker/vanillajs-datepicker.config.ts","./src/components/cat-datepicker/cat-datepicker.scss?tag=cat-datepicker&encapsulation=shadow","./src/components/cat-datepicker/cat-datepicker.tsx","../node_modules/flatpickr/dist/esm/types/options.js","../node_modules/flatpickr/dist/esm/l10n/default.js","../node_modules/flatpickr/dist/esm/utils/index.js","../node_modules/flatpickr/dist/esm/utils/dom.js","../node_modules/flatpickr/dist/esm/utils/formatting.js","../node_modules/flatpickr/dist/esm/utils/dates.js","../node_modules/flatpickr/dist/esm/utils/polyfills.js","../node_modules/flatpickr/dist/esm/index.js","./src/components/cat-datepicker-flat/cat-datepicker.config.tsx","./src/components/cat-datepicker-flat/cat-datepicker.locale.tsx","./src/components/cat-datepicker-flat/cat-datepicker-flat.scss?tag=cat-datepicker-flat&encapsulation=shadow","./src/components/cat-datepicker-flat/cat-datepicker-flat.tsx","../node_modules/@floating-ui/core/dist/floating-ui.core.esm.js","../node_modules/@floating-ui/dom/dist/floating-ui.dom.esm.js","../tokens/dist/js/variables.js","../node_modules/tabbable/dist/index.esm.js","../node_modules/focus-trap/dist/focus-trap.esm.js","./src/utils/first-tabbable.ts","./src/components/cat-dropdown/cat-dropdown.scss?tag=cat-dropdown&encapsulation=shadow","./src/components/cat-dropdown/cat-dropdown.tsx","./src/components/cat-form-group/cat-form-group.scss?tag=cat-form-group&encapsulation=shadow","./src/components/cat-form-group/cat-form-group.tsx","./src/components/cat-icon/cat-icon.scss?tag=cat-icon&encapsulation=shadow","./src/components/cat-icon/cat-icon.tsx","./src/utils/coerce.ts","./src/components/cat-input/cat-input.scss?tag=cat-input&encapsulation=shadow","./src/components/cat-input/cat-input.tsx","./src/components/cat-label/cat-label.scss?tag=cat-label&encapsulation=shadow","./src/components/cat-label/cat-label.tsx","./src/components/cat-pagination/cat-pagination.scss?tag=cat-pagination&encapsulation=shadow","./src/components/cat-pagination/cat-pagination.tsx","./src/components/cat-radio/cat-radio.scss?tag=cat-radio&encapsulation=shadow","./src/components/cat-radio/cat-radio.tsx","./src/components/cat-radio-group/cat-radio-group.scss?tag=cat-radio-group&encapsulation=shadow","./src/components/cat-radio-group/cat-radio-group.tsx","./node_modules/rxjs/dist/esm/internal/util/isFunction.js","./node_modules/rxjs/dist/esm/internal/util/createErrorClass.js","./node_modules/rxjs/dist/esm/internal/util/UnsubscriptionError.js","./node_modules/rxjs/dist/esm/internal/util/arrRemove.js","./node_modules/rxjs/dist/esm/internal/Subscription.js","./node_modules/rxjs/dist/esm/internal/config.js","./node_modules/rxjs/dist/esm/internal/scheduler/timeoutProvider.js","./node_modules/rxjs/dist/esm/internal/util/reportUnhandledError.js","./node_modules/rxjs/dist/esm/internal/util/noop.js","./node_modules/rxjs/dist/esm/internal/NotificationFactories.js","./node_modules/rxjs/dist/esm/internal/util/errorContext.js","./node_modules/rxjs/dist/esm/internal/Subscriber.js","./node_modules/rxjs/dist/esm/internal/symbol/observable.js","./node_modules/rxjs/dist/esm/internal/util/identity.js","./node_modules/rxjs/dist/esm/internal/util/pipe.js","./node_modules/rxjs/dist/esm/internal/Observable.js","./node_modules/rxjs/dist/esm/internal/util/lift.js","./node_modules/rxjs/dist/esm/internal/operators/OperatorSubscriber.js","./node_modules/rxjs/dist/esm/internal/util/ObjectUnsubscribedError.js","./node_modules/rxjs/dist/esm/internal/Subject.js","./node_modules/rxjs/dist/esm/internal/scheduler/dateTimestampProvider.js","./node_modules/rxjs/dist/esm/internal/scheduler/Action.js","./node_modules/rxjs/dist/esm/internal/scheduler/intervalProvider.js","./node_modules/rxjs/dist/esm/internal/scheduler/AsyncAction.js","./node_modules/rxjs/dist/esm/internal/Scheduler.js","./node_modules/rxjs/dist/esm/internal/scheduler/AsyncScheduler.js","./node_modules/rxjs/dist/esm/internal/scheduler/async.js","./node_modules/rxjs/dist/esm/internal/observable/empty.js","./node_modules/rxjs/dist/esm/internal/util/isScheduler.js","./node_modules/rxjs/dist/esm/internal/util/args.js","../node_modules/tslib/tslib.es6.js","./node_modules/rxjs/dist/esm/internal/util/isArrayLike.js","./node_modules/rxjs/dist/esm/internal/util/isPromise.js","./node_modules/rxjs/dist/esm/internal/util/isInteropObservable.js","./node_modules/rxjs/dist/esm/internal/util/isAsyncIterable.js","./node_modules/rxjs/dist/esm/internal/util/throwUnobservableError.js","./node_modules/rxjs/dist/esm/internal/symbol/iterator.js","./node_modules/rxjs/dist/esm/internal/util/isIterable.js","./node_modules/rxjs/dist/esm/internal/util/isReadableStreamLike.js","./node_modules/rxjs/dist/esm/internal/observable/innerFrom.js","./node_modules/rxjs/dist/esm/internal/util/executeSchedule.js","./node_modules/rxjs/dist/esm/internal/operators/observeOn.js","./node_modules/rxjs/dist/esm/internal/operators/subscribeOn.js","./node_modules/rxjs/dist/esm/internal/scheduled/scheduleObservable.js","./node_modules/rxjs/dist/esm/internal/scheduled/schedulePromise.js","./node_modules/rxjs/dist/esm/internal/scheduled/scheduleArray.js","./node_modules/rxjs/dist/esm/internal/scheduled/scheduleIterable.js","./node_modules/rxjs/dist/esm/internal/scheduled/scheduleAsyncIterable.js","./node_modules/rxjs/dist/esm/internal/scheduled/scheduleReadableStreamLike.js","./node_modules/rxjs/dist/esm/internal/scheduled/scheduled.js","./node_modules/rxjs/dist/esm/internal/observable/from.js","./node_modules/rxjs/dist/esm/internal/observable/of.js","./node_modules/rxjs/dist/esm/internal/util/EmptyError.js","./node_modules/rxjs/dist/esm/internal/util/isDate.js","./node_modules/rxjs/dist/esm/internal/operators/map.js","./node_modules/rxjs/dist/esm/internal/util/mapOneOrManyArgs.js","./node_modules/rxjs/dist/esm/internal/operators/mergeInternals.js","./node_modules/rxjs/dist/esm/internal/operators/mergeMap.js","./node_modules/rxjs/dist/esm/internal/operators/mergeAll.js","./node_modules/rxjs/dist/esm/internal/operators/concatAll.js","./node_modules/rxjs/dist/esm/internal/observable/concat.js","./node_modules/rxjs/dist/esm/internal/observable/fromEvent.js","./node_modules/rxjs/dist/esm/internal/observable/timer.js","./node_modules/rxjs/dist/esm/internal/observable/merge.js","./node_modules/rxjs/dist/esm/internal/operators/filter.js","./node_modules/rxjs/dist/esm/internal/operators/audit.js","./node_modules/rxjs/dist/esm/internal/operators/auditTime.js","./node_modules/rxjs/dist/esm/internal/operators/catchError.js","./node_modules/rxjs/dist/esm/internal/operators/scanInternals.js","./node_modules/rxjs/dist/esm/internal/operators/debounce.js","./node_modules/rxjs/dist/esm/internal/operators/defaultIfEmpty.js","./node_modules/rxjs/dist/esm/internal/operators/take.js","./node_modules/rxjs/dist/esm/internal/operators/ignoreElements.js","./node_modules/rxjs/dist/esm/internal/operators/mapTo.js","./node_modules/rxjs/dist/esm/internal/operators/delayWhen.js","./node_modules/rxjs/dist/esm/internal/operators/delay.js","./node_modules/rxjs/dist/esm/internal/operators/distinctUntilChanged.js","./node_modules/rxjs/dist/esm/internal/operators/throwIfEmpty.js","./node_modules/rxjs/dist/esm/internal/operators/first.js","./node_modules/rxjs/dist/esm/internal/operators/scan.js","./node_modules/rxjs/dist/esm/internal/operators/startWith.js","./node_modules/rxjs/dist/esm/internal/operators/switchMap.js","./node_modules/rxjs/dist/esm/internal/operators/takeUntil.js","./node_modules/rxjs/dist/esm/internal/operators/takeWhile.js","./node_modules/rxjs/dist/esm/internal/operators/tap.js","./src/components/cat-scrollable/cat-scrollable.scss?tag=cat-scrollable&encapsulation=shadow","./src/components/cat-scrollable/cat-scrollable.tsx","../node_modules/autosize-input/index.js","./src/components/cat-select/cat-select.scss?tag=cat-select&encapsulation=shadow","./src/components/cat-select/cat-select.tsx","./src/components/cat-select-demo/cat-select-demo.tsx","./src/components/cat-skeleton/cat-skeleton.scss?tag=cat-skeleton&encapsulation=shadow","./src/components/cat-skeleton/cat-skeleton.tsx","./src/components/cat-spinner/cat-spinner.scss?tag=cat-spinner&encapsulation=shadow","./src/components/cat-spinner/cat-spinner.tsx","./src/components/cat-tab/cat-tab.scss?tag=cat-tab&encapsulation=shadow","./src/components/cat-tab/cat-tab.tsx","./src/components/cat-tabs/cat-tabs.scss?tag=cat-tabs&encapsulation=shadow","./src/components/cat-tabs/cat-tabs.tsx","../node_modules/autosize/dist/autosize.esm.js","./src/components/cat-textarea/cat-textarea.scss?tag=cat-textarea&encapsulation=shadow","./src/components/cat-textarea/cat-textarea.tsx","./src/components/cat-timepicker/cat-timepicker.scss?tag=cat-timepicker&encapsulation=shadow","./src/components/cat-timepicker/cat-timepicker.tsx","./src/components/cat-toggle/cat-toggle.scss?tag=cat-toggle&encapsulation=shadow","./src/components/cat-toggle/cat-toggle.tsx","./src/utils/is-touch-screen.ts","./src/components/cat-tooltip/cat-tooltip.scss?tag=cat-tooltip&encapsulation=shadow","./src/components/cat-tooltip/cat-tooltip.tsx"],"sourcesContent":["export function setAttributeDefault<T extends { hostElement: HTMLElement }>(\n  host: T,\n  attr: string,\n  value: unknown\n): void {\n  if (!host.hostElement.hasAttribute(attr) && value != null) {\n    host.hostElement.setAttribute(attr, String(value));\n  }\n}\n\nexport function setAttribute<T extends { hostElement: HTMLElement }>(host: T, attr: string, value: unknown): void {\n  host.hostElement.setAttribute(attr, String(value));\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n// -----\n\n$-icon-colors: (\n  'primary': cat-token('color.theme.primary.text'),\n  'secondary': cat-token('color.base.neutral.400'),\n  'success': cat-token('color.base.green.400'),\n  'warning': cat-token('color.base.orange.400'),\n  'danger': cat-token('color.base.red.400')\n);\n\n// -----\n\n:host {\n  display: flex;\n  gap: 0.5rem;\n  padding: 1.25rem;\n  border-radius: cat-border-radius('l');\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n:host(:focus-visible) {\n  outline: 2px solid cat-token('color.ui.border.focus');\n  outline-offset: 1px;\n}\n\n.content {\n  align-self: center;\n}\n\n::slotted(:last-child) {\n  margin-bottom: 0 !important;\n}\n\n// ----- theme\n\n@mixin theme($theme) {\n  :host([color='#{$theme}']) {\n    background-color: cat-token('color.theme.#{$theme}.bg', 0.1);\n\n    cat-icon {\n      color: map.get($-icon-colors, $theme);\n    }\n  }\n}\n\n@include theme('primary');\n@include theme('secondary');\n@include theme('success');\n@include theme('warning');\n@include theme('danger');\n","import { Component, Element, h, Host, Prop } from '@stencil/core';\nimport { setAttributeDefault } from '../../utils/setDefault';\n\n/**\n * Informs user about important changes or conditions in the interface. Use this\n * component if you need to capture userâ€™s attention in a prominent way.\n */\n@Component({\n  tag: 'cat-alert',\n  styleUrl: 'cat-alert.scss',\n  shadow: true\n})\nexport class CatAlert {\n  private readonly mapIcon: Map<string, string> = new Map([\n    ['primary', '$cat:alert-primary'],\n    ['secondary', '$cat:alert-secondary'],\n    ['success', '$cat:alert-success'],\n    ['warning', '$cat:alert-warning'],\n    ['danger', '$cat:alert-danger']\n  ]);\n  private readonly mapRole: Map<string, string> = new Map([\n    ['primary', 'status'],\n    ['secondary', 'status'],\n    ['success', 'status'],\n    ['warning', 'alert'],\n    ['danger', 'alert']\n  ]);\n\n  @Element() hostElement!: HTMLElement;\n\n  /**\n   * The color palette of the alert.\n   */\n  @Prop({ reflect: true }) color: 'primary' | 'secondary' | 'danger' | 'success' | 'warning' = 'primary';\n\n  /**\n   * The name of an icon to be displayed in the alert.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * Whether the icon of the alert is deactivated.\n   */\n  @Prop() noIcon = false;\n\n  connectedCallback() {\n    setAttributeDefault(this, 'tabindex', 0);\n    setAttributeDefault(this, 'role', this.mapRole.get(this.color));\n  }\n\n  render() {\n    return (\n      <Host>\n        {!this.noIcon && <cat-icon size=\"l\" icon={this.icon ? this.icon : this.mapIcon.get(this.color)}></cat-icon>}\n        <div class=\"content\">\n          <slot></slot>\n        </div>\n      </Host>\n    );\n  }\n}\n","/**\n * Loads an image and wraps the result in a promise.\n *\n * @param src the image URL\n * @returns a promise\n */\nconst loadImg = (src: string): Promise<Event> => {\n  return new Promise((resolve, reject) => {\n    const image = new Image();\n    image.addEventListener('load', resolve);\n    image.addEventListener('error', reject);\n    image.src = src;\n  });\n};\n\nexport default loadImg;\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n// -----\n\n$-background-color: cat-token('color.base.neutral.400');\n$-color: cat-token('color.base.white');\n$-sizes: (\n  'xl': 3.5rem,\n  'l': 3rem,\n  'm': 2.5rem,\n  's': 2rem,\n  'xs': 1.5rem\n);\n\n// -----\n\n:host {\n  /**\n   * @prop --cat-avatar-bg: The background color of the avatar.\n   * @prop --cat-avatar-fill: The text color of the avatar.\n   * @prop --cat-avatar-size: The size of the avatar.\n   * @prop --cat-avatar-font-size: The font size of the avatar.\n   */\n  display: contents;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.avatar {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: cat-border-radius('m');\n  text-decoration: inherit;\n  color: var(--cat-avatar-fill, $-color);\n  background-color: var(--cat-avatar-bg, $-background-color);\n  background-size: cover;\n  background-position: center;\n  white-space: nowrap;\n  overflow: hidden;\n  vertical-align: middle;\n  font-weight: 600;\n  @include cat-select(none);\n\n  &:focus-visible {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: 1px;\n  }\n}\n\n.avatar-round {\n  border-radius: 50%;\n}\n\n// ----- size\n\n@mixin size($size, $fontSize) {\n  .avatar-#{$size} {\n    width: var(--cat-avatar-size, map.get($-sizes, $size));\n    height: var(--cat-avatar-size, map.get($-sizes, $size));\n    line-height: var(--cat-avatar-size, map.get($-sizes, $size));\n    font-size: var(--cat-avatar-font-size, cat-body-font-size($fontSize));\n  }\n}\n\n@include size('xs', 'xs');\n@include size('s', 's');\n@include size('m', 'm');\n@include size('l', 'l');\n@include size('xl', 'xl');\n","import { Component, h, Prop, State, Watch } from '@stencil/core';\nimport log from 'loglevel';\nimport loadImg from '../../utils/load-img';\n\n/**\n * Avatars are used to represent a person or object.\n */\n@Component({\n  tag: 'cat-avatar',\n  styleUrl: 'cat-avatar.scss',\n  shadow: true\n})\nexport class CatAvatar {\n  @State() backgroundImage?: string;\n\n  /**\n   * The size of the avatar.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' = 'm';\n\n  /**\n   * Use round avatar edges.\n   */\n  @Prop() round = false;\n\n  /**\n   * The label of the avatar.\n   */\n  @Prop() label = '';\n\n  /**\n   * Custom initials for the avatar.\n   */\n  @Prop() initials?: string;\n\n  /**\n   * An optional avatar image.\n   */\n  @Prop() src?: string;\n\n  /**\n   * An icon to be used instead of the initials.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * A destination to link to, rendered in the href attribute of a link.\n   */\n  @Prop() url?: string;\n\n  /**\n   * Specifies where to open the linked document.\n   */\n  @Prop() urlTarget?: '_blank' | '_self';\n\n  @Watch('src')\n  onSrcChanged(value?: string): void {\n    if (value) {\n      loadImg(value).then(\n        () => (this.backgroundImage = `url(${value})`),\n        () => (this.backgroundImage = undefined)\n      );\n    } else {\n      this.backgroundImage = undefined;\n    }\n  }\n\n  componentWillLoad(): void {\n    this.onSrcChanged(this.src);\n  }\n\n  componentWillRender(): void {\n    if (!this.label) {\n      log.warn('[A11y] Missing ARIA label on avatar', this);\n    }\n  }\n\n  render() {\n    if (this.url) {\n      return (\n        <a href={this.url} target={this.urlTarget} style={this.cssStyle} class={this.cssClass} aria-label={this.label}>\n          {this.content}\n        </a>\n      );\n    } else {\n      return (\n        <span style={this.cssStyle} class={this.cssClass} aria-label={this.label}>\n          {this.content}\n        </span>\n      );\n    }\n  }\n\n  private get content() {\n    return !this.backgroundImage\n      ? [this.icon ? <cat-icon icon={this.icon} size={this.size}></cat-icon> : this.getInitials()]\n      : [];\n  }\n\n  private get cssStyle() {\n    return { 'background-image': this.backgroundImage };\n  }\n\n  private get cssClass() {\n    return {\n      avatar: true,\n      'avatar-round': this.round,\n      [`avatar-${this.size}`]: Boolean(this.size)\n    };\n  }\n\n  private getInitials(): string {\n    return (\n      this.initials ??\n      (this.label ?? '')\n        .split(' ')\n        .map(n => n[0])\n        .join('')\n    );\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n// -----\n\n$-sizes: (\n  'xl': 3rem,\n  'l': 2.5rem,\n  'm': 2rem,\n  's': 1.5rem,\n  'xs': 1rem\n);\n$-paddings: (\n  'xl': 0 1rem,\n  'l': 0 1rem,\n  'm': 0 0.75rem,\n  's': 0 0.5rem,\n  'xs': 0 0.25rem\n);\n\n// -----\n\n:host([hidden]) {\n  display: none;\n}\n\n:host {\n  display: inline-flex;\n  max-width: 100%;\n  vertical-align: baseline;\n  align-items: center;\n  justify-content: center;\n  border-radius: cat-border-radius('m');\n  text-decoration: none;\n  line-height: 1.5;\n\n  slot {\n    display: inline-block;\n    @include cat-ellipsis;\n  }\n}\n\n// ----- round\n\n:host([round]) {\n  border-radius: 10rem;\n}\n\n// ----- theme\n\n:host([variant='filled']) {\n  background-color: cat-token-wrap(var(--bg), 0.1);\n  color: cat-token-wrap(var(--text));\n  font-weight: 600;\n  @include cat-font-smooth;\n}\n\n$-outline: inset 0 0 0 1px cat-token-wrap(var(--border), $alpha: 0.2);\n\n:host([variant='outlined']) {\n  background-color: cat-token('color.ui.background.surface');\n  box-shadow: $-outline;\n  color: cat-token-wrap(var(--text));\n}\n\n@mixin theme($theme) {\n  :host([color='#{$theme}']) {\n    --bg: #{cat-token('color.theme.#{$theme}.bg', $wrap: false)};\n    --fill: #{cat-token('color.theme.#{$theme}.fill', $wrap: false)};\n    --text: #{cat-token('color.theme.#{$theme}.text', $wrap: false)};\n    @if $theme == 'secondary' {\n      --border: #{cat-token('color.theme.#{$theme}.bg', $wrap: false)};\n    } @else {\n      --border: #{cat-token('color.theme.#{$theme}.text', $wrap: false)};\n    }\n  }\n}\n\n@include theme('primary');\n@include theme('secondary');\n@include theme('success');\n@include theme('warning');\n@include theme('danger');\n\n// ----- size\n\n@mixin size($size, $fontSize) {\n  :host([size='#{$size}']) {\n    height: map.get($-sizes, $size);\n    min-width: map.get($-sizes, $size);\n    font-size: cat-body-font-size($fontSize);\n    padding: map.get($-paddings, $size);\n  }\n}\n\n@include size('xs', 'xs');\n@include size('s', 'xs');\n@include size('m', 's');\n@include size('l', 'm');\n@include size('xl', 'l');\n\n// ----- pulse\n\n$-pulse-0: 0 0 0 0 cat-token-wrap(var(--bg));\n$-pulse-70: transparent 0 0 0 0.5rem;\n$-pulse-100: transparent 0 0 0 0;\n\n:host([pulse][variant='filled']) {\n  animation: 1.5s ease 0s infinite normal none running pulse;\n}\n\n:host([pulse][variant='outlined']) {\n  animation: 1.5s ease 0s infinite normal none running pulse-outlined;\n}\n\n@keyframes pulse {\n  0% {\n    box-shadow: $-pulse-0;\n  }\n\n  70% {\n    box-shadow: $-pulse-70;\n  }\n\n  100% {\n    box-shadow: $-pulse-100;\n  }\n}\n\n@keyframes pulse-outlined {\n  0% {\n    box-shadow: $-pulse-0, $-outline;\n  }\n\n  70% {\n    box-shadow: $-pulse-70, $-outline;\n  }\n\n  100% {\n    box-shadow: $-pulse-100, $-outline;\n  }\n}\n","import { Component, Element, h, Prop } from '@stencil/core';\n\n/**\n * Badges are used to inform users of the status of an object or of an action\n * thatâ€™s been taken.\n */\n@Component({\n  tag: 'cat-badge',\n  styleUrl: 'cat-badge.scss',\n  shadow: true\n})\nexport class CatBadge {\n  @Element() hostElement!: HTMLElement;\n\n  /**\n   * The rendering style of the badge.\n   */\n  @Prop({ reflect: true }) variant: 'filled' | 'outlined' = 'filled';\n\n  /**\n   * The color palette of the badge.\n   */\n  @Prop({ reflect: true }) color: 'primary' | 'secondary' | 'danger' | 'success' | 'warning' = 'primary';\n\n  /**\n   * The size of the badge.\n   */\n  @Prop({ reflect: true }) size: 'xs' | 's' | 'm' | 'l' | 'xl' = 'm';\n\n  /**\n   * Use round badge edges.\n   */\n  @Prop({ reflect: true }) round = false;\n\n  /**\n   * Draw attention to the badge with a subtle animation.\n   */\n  @Prop({ reflect: true }) pulse = false;\n\n  render() {\n    return <slot></slot>;\n  }\n}\n","const _breakpoints = ['xs', 's', 'm', 'l', 'xl'] as const;\n\nexport type Breakpoint = (typeof _breakpoints)[number];\n\nexport const Breakpoints: { [breakpoint in Breakpoint]: string } = {\n  xs: '(max-width: 539.98px)',\n  s: '(max-width: 767.98px)',\n  m: '(max-width: 991.98px)',\n  l: '(max-width: 1199.98px)',\n  xl: '(max-width: 1399.98px)'\n};\n\nexport function isBreakpoint(value: unknown): value is Breakpoint {\n  return typeof value === 'string' && _breakpoints.includes(value as Breakpoint);\n}\n","// https://github.com/angular/components/blob/master/src/cdk/platform/platform.ts\n\n// Whether the current platform supports the V8 Break Iterator. The V8 check\n// is necessary to detect all Blink based browsers.\nlet hasV8BreakIterator: boolean;\n\n// We need a try/catch around the reference to `Intl`, because accessing it in some cases can\n// cause IE to throw. These cases are tied to particular versions of Windows and can happen if\n// the consumer is providing a polyfilled `Map`. See:\n// https://github.com/Microsoft/ChakraCore/issues/3189\n// https://github.com/angular/components/issues/15687\ntry {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  hasV8BreakIterator = typeof Intl !== 'undefined' && (Intl as any).v8BreakIterator;\n} catch {\n  hasV8BreakIterator = false;\n}\n\nexport class Platform {\n  /** Whether the current browser is Microsoft Edge. */\n  EDGE: boolean = /(edge)/i.test(navigator.userAgent);\n\n  /** Whether the current rendering engine is Microsoft Trident. */\n  TRIDENT: boolean = /(msie|trident)/i.test(navigator.userAgent);\n\n  // EdgeHTML and Trident mock Blink specific things and need to be excluded from this check.\n  /** Whether the current rendering engine is Blink. */\n  BLINK: boolean =\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    !!((window as any).chrome || hasV8BreakIterator) && typeof CSS !== 'undefined' && !this.EDGE && !this.TRIDENT;\n\n  // Webkit is part of the userAgent in EdgeHTML, Blink and Trident. Therefore we need to\n  // ensure that Webkit runs standalone and is not used as another engine's base.\n  /** Whether the current rendering engine is WebKit. */\n  WEBKIT: boolean = /AppleWebKit/i.test(navigator.userAgent) && !this.BLINK && !this.EDGE && !this.TRIDENT;\n\n  /** Whether the current platform is Apple iOS. */\n  IOS: boolean = /iPad|iPhone|iPod/.test(navigator.userAgent) && !('MSStream' in window);\n\n  // It's difficult to detect the plain Gecko engine, because most of the browsers identify\n  // them self as Gecko-like browsers and modify the userAgent's according to that.\n  // Since we only cover one explicit Firefox case, we can simply check for Firefox\n  // instead of having an unstable check for Gecko.\n  /** Whether the current browser is Firefox. */\n  FIREFOX: boolean = /(firefox|minefield)/i.test(navigator.userAgent);\n\n  /** Whether the current platform is Android. */\n  // Trident on mobile adds the android platform to the userAgent to trick detections.\n  ANDROID: boolean = /android/i.test(navigator.userAgent) && !this.TRIDENT;\n\n  // Safari browsers will include the Safari keyword in their userAgent. Some browsers may fake\n  // this and just place the Safari keyword in the userAgent. To be more safe about Safari every\n  // Safari browser should also use Webkit as its layout engine.\n  /** Whether the current browser is Safari. */\n  SAFARI: boolean = /safari/i.test(navigator.userAgent) && this.WEBKIT;\n}\n","import log from 'loglevel';\nimport { Platform } from './platform';\n\n// https://github.com/angular/components/blob/master/src/cdk/layout/media-matcher.ts\n\n/** Global registry for all dynamically-created, injected media queries. */\nconst mediaQueriesForWebkitCompatibility: Set<string> = new Set<string>();\n\n/** Style tag that holds all of the dynamically-created media queries. */\nlet mediaQueryStyleNode: HTMLStyleElement | undefined;\n\n/** A utility for calling matchMedia queries. */\nexport class MediaMatcher {\n  private _platform;\n  private _matchMedia: (query: string) => MediaQueryList;\n\n  constructor() {\n    this._platform = new Platform();\n    this._matchMedia = window.matchMedia.bind(window);\n  }\n\n  /**\n   * Evaluates the given media query and returns the native MediaQueryList from which results\n   * can be retrieved.\n   * Confirms the layout engine will trigger for the selector query provided and returns the\n   * MediaQueryList for the query provided.\n   */\n  matchMedia(query: string): MediaQueryList {\n    if (this._platform.WEBKIT || this._platform.BLINK) {\n      createEmptyStyleRule(query);\n    }\n    return this._matchMedia(query);\n  }\n}\n\n/**\n * Creates an empty stylesheet that is used to work around browser inconsistencies related to\n * `matchMedia`. At the time of writing, it handles the following cases:\n * 1. On WebKit browsers, a media query has to have at least one rule in order for `matchMedia`\n * to fire. We work around it by declaring a dummy stylesheet with a `@media` declaration.\n * 2. In some cases Blink browsers will stop firing the `matchMedia` listener if none of the rules\n * inside the `@media` match existing elements on the page. We work around it by having one rule\n * targeting the `body`. See https://github.com/angular/components/issues/23546.\n */\nfunction createEmptyStyleRule(query: string) {\n  if (mediaQueriesForWebkitCompatibility.has(query)) {\n    return;\n  }\n\n  try {\n    if (!mediaQueryStyleNode) {\n      mediaQueryStyleNode = document.createElement('style');\n      mediaQueryStyleNode.setAttribute('type', 'text/css');\n      document.head.appendChild(mediaQueryStyleNode);\n    }\n    if (mediaQueryStyleNode.sheet) {\n      mediaQueryStyleNode.sheet.insertRule(`@media ${query} {body{ }}`, 0);\n      mediaQueriesForWebkitCompatibility.add(query);\n    }\n  } catch (e) {\n    log.error(e);\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n$button-sizes: (\n  'xl': 3.5rem,\n  'l': 3rem,\n  'm': 2.5rem,\n  's': 2rem,\n  'xs': 1.5rem\n);\n\n:host {\n  display: inline-block;\n  max-width: 100%;\n  vertical-align: middle;\n  @include cat-select(none);\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.cat-button {\n  position: relative;\n  font: inherit;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: none;\n  border-radius: cat-border-radius('m');\n  text-decoration: none;\n  width: 100%;\n  box-sizing: border-box;\n  cursor: pointer;\n  transition: color cat-token('time.transition.s') linear, border-color cat-token('time.transition.s') linear,\n    background-color cat-token('time.transition.s') linear, box-shadow cat-token('time.transition.s') linear;\n\n  &:focus-visible {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: 1px;\n  }\n}\n\n// ----- content\n\n.cat-button-content {\n  @include cat-break-word;\n\n  .cat-button-ellipsed & {\n    @include cat-ellipsis;\n  }\n}\n\n// ----- disabled\n\n.cat-button-disabled {\n  cursor: not-allowed;\n}\n\n// ----- round\n\n.cat-button-round {\n  border-radius: 10rem;\n}\n\n// ----- loading\n\n.cat-button-loading {\n  cursor: default;\n\n  cat-spinner {\n    position: absolute;\n  }\n\n  > *:not(cat-spinner) {\n    visibility: hidden;\n  }\n}\n\n// ----- group button\n\n.cat-group-button {\n  &-first {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  &-middle {\n    border-radius: 0;\n  }\n\n  &-last {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n\n  &:hover {\n    z-index: 1;\n  }\n\n  &:focus-visible {\n    z-index: 2;\n  }\n}\n\n// ----- theme\n\n.cat-button-filled {\n  background-color: cat-token-wrap(var(--bg));\n  color: cat-token-wrap(var(--fill));\n  font-weight: 600;\n  @include cat-font-smooth;\n\n  &.cat-button-disabled {\n    --bg: #{cat-token('color.ui.background.muted', $wrap: false)};\n    --fill: #{cat-token('color.ui.font.muted', $wrap: false)};\n  }\n}\n\n.cat-button-outlined {\n  background-color: cat-token('color.ui.background.surface');\n  box-shadow: inset 0 0 0 1px cat-token-wrap(var(--base), $alpha: 0.2);\n  color: cat-token-wrap(var(--text));\n\n  &.cat-button-disabled {\n    --base: #{cat-token('color.ui.font.muted', $wrap: false)};\n    --text: #{cat-token('color.ui.font.muted', $wrap: false)};\n  }\n\n  &:hover:not(.cat-button-disabled):not(.cat-button-loading) {\n    background-color: cat-token-wrap(var(--base), $alpha: 0.1);\n  }\n\n  &.cat-button-active:not(.cat-button-disabled):not(.cat-button-loading) {\n    background-color: cat-token-wrap(var(--base), $alpha: 0.1);\n  }\n\n  &:active:not(.cat-button-disabled):not(.cat-button-loading) {\n    background-color: cat-token-wrap(var(--base), $alpha: 0.1);\n  }\n}\n\n.cat-button-text {\n  background-color: transparent;\n  color: cat-token-wrap(var(--text));\n  text-decoration: cat-token('font.decoration.linkButton');\n\n  &.cat-button-disabled {\n    --text: #{cat-token('color.ui.font.muted', $wrap: false)};\n  }\n\n  &:hover:not(.cat-button-disabled):not(.cat-button-loading) {\n    text-decoration: cat-token('font.decoration.linkButtonHover');\n    background-color: rgba(var(--base), 0.1);\n  }\n\n  &.cat-button-active:not(.cat-button-disabled):not(.cat-button-loading) {\n    text-decoration: cat-token('font.decoration.linkButtonHover');\n    background-color: rgba(var(--base), 0.1);\n  }\n}\n\n@mixin theme($theme) {\n  .cat-button-#{$theme} {\n    --bg: #{cat-token('color.theme.#{$theme}.bg', $wrap: false)};\n    --fill: #{cat-token('color.theme.#{$theme}.fill', $wrap: false)};\n    --text: #{cat-token('color.theme.#{$theme}.text', $wrap: false)};\n    @if $theme == 'secondary' {\n      --base: #{cat-token('color.theme.#{$theme}.bg', $wrap: false)};\n    } @else {\n      --base: #{cat-token('color.theme.#{$theme}.text', $wrap: false)};\n    }\n\n    &:hover:not(.cat-button-disabled):not(.cat-button-loading) {\n      --bg: #{cat-token('color.theme.#{$theme}.bgHover', $wrap: false)};\n      --fill: #{cat-token('color.theme.#{$theme}.fillHover', $wrap: false)};\n      --text: #{cat-token('color.theme.#{$theme}.textHover', $wrap: false)};\n    }\n\n    &.cat-button-active:not(.cat-button-disabled):not(.cat-button-loading),\n    &:active:not(.cat-button-disabled):not(.cat-button-loading) {\n      --bg: #{cat-token('color.theme.#{$theme}.bgActive', $wrap: false)};\n      --fill: #{cat-token('color.theme.#{$theme}.fillActive', $wrap: false)};\n      --text: #{cat-token('color.theme.#{$theme}.textActive', $wrap: false)};\n    }\n  }\n}\n\n@include theme('primary');\n@include theme('secondary');\n@include theme('success');\n@include theme('warning');\n@include theme('danger');\n\n// ----- size\n\n@mixin size($size, $fontSize, $padding) {\n  $-line-height: cat-body-line-height($fontSize);\n\n  $-total-height: map.get($button-sizes, $size);\n  $-padding-v: ($-total-height - $-line-height) * 0.5;\n  $-padding-h: $padding;\n\n  .cat-button-#{$size} {\n    min-width: map.get($button-sizes, $size);\n    padding: $-padding-v $-padding-h;\n    @include cat-body($fontSize, null);\n    gap: 0.25rem;\n\n    // normalize icon size for line height\n    @if $fontSize == 'm' {\n      cat-icon {\n        margin-top: -0.125rem;\n        margin-bottom: -0.125rem;\n      }\n    }\n\n    &.cat-button-icon {\n      width: $-total-height;\n      padding-left: 0;\n      padding-right: 0;\n    }\n  }\n\n  :host(.cat-button-pull[size='#{$size}']) {\n    margin: $-padding-v * -1 $-padding-h * -1;\n  }\n\n  :host(.cat-button-pull-h[size='#{$size}']) {\n    margin-left: $-padding-h * -1;\n    margin-right: $-padding-h * -1;\n  }\n\n  :host(.cat-button-pull-v[size='#{$size}']) {\n    margin-top: $-padding-v * -1;\n    margin-bottom: $-padding-v * -1;\n  }\n\n  :host(.cat-button-pull-t[size='#{$size}']) {\n    margin-top: $-padding-v * -1;\n  }\n\n  :host(.cat-button-pull-l[size='#{$size}']) {\n    margin-left: $-padding-h * -1;\n  }\n\n  :host(.cat-button-pull-b[size='#{$size}']) {\n    margin-bottom: $-padding-v * -1;\n  }\n\n  :host(.cat-button-pull-r[size='#{$size}']) {\n    margin-right: $-padding-h * -1;\n  }\n}\n\n:host(.cat-button-pull:not([size])) {\n  margin: -0.625rem -0.75rem;\n}\n\n:host(.cat-button-pull-h:not([size])) {\n  margin-left: -0.75rem;\n  margin-right: -0.75rem;\n}\n\n:host(.cat-button-pull-v:not([size])) {\n  margin-top: -0.625rem;\n  margin-bottom: -0.625rem;\n}\n\n:host(.cat-button-pull-t:not([size])) {\n  margin-top: -0.625rem;\n}\n\n:host(.cat-button-pull-l:not([size])) {\n  margin-left: -0.75rem;\n}\n\n:host(.cat-button-pull-b:not([size])) {\n  margin-bottom: -0.625rem;\n}\n\n:host(.cat-button-pull-r:not([size])) {\n  margin-right: -0.75rem;\n}\n\n@include size('xs', 's', 0.25rem);\n@include size('s', 'm', 0.5rem);\n@include size('m', 'm', 0.75rem);\n@include size('l', 'm', 1rem);\n@include size('xl', 'l', 1.25rem);\n\n// ----- tabs\n\n:host(.cat-tab-active:not(:hover)) {\n  --cat-primary-text: transparent;\n}\n\n// ----- alignment\n\n:host(.cat-text-left) .cat-button {\n  justify-content: left;\n}\n\n:host(.cat-text-right) .cat-button {\n  justify-content: right;\n}\n\n// ----- navigation\n\n:host(.cat-nav-item) {\n  width: 100%;\n\n  .cat-button {\n    box-shadow: none;\n    border-radius: 0;\n    justify-content: left;\n    padding-left: $cat-nav-padding-horizontal;\n    padding-right: $cat-nav-padding-horizontal;\n    gap: 0.5rem;\n\n    &:focus-visible {\n      outline-offset: -2px;\n    }\n  }\n}\n","import { Component, Event, EventEmitter, h, Listen, Method, Prop, State, Watch } from '@stencil/core';\nimport log from 'loglevel';\nimport { Breakpoint, Breakpoints, isBreakpoint } from '../../utils/breakpoints';\nimport { MediaMatcher } from '../../utils/media-matcher';\n\n/**\n * Buttons are used for interface actions. Primary style should be used only\n * once per view for main call-to-action.\n *\n * @part button - The native anchor or button element.\n * @part content - The textual content of the button.\n * @part prefix - The prefix icon.\n * @part suffix - The suffix icon.\n */\n@Component({\n  tag: 'cat-button',\n  styleUrl: 'cat-button.scss',\n  shadow: true\n})\nexport class CatButton {\n  private button!: HTMLButtonElement | HTMLAnchorElement;\n  private mediaMatcher?: MediaMatcher;\n  private mediaQueryList?: MediaQueryList;\n  private mediaQueryListener?: (event: MediaQueryListEvent) => void;\n\n  @State() _iconOnly = true;\n\n  /**\n   * The rendering style of the button.\n   */\n  @Prop() variant: 'filled' | 'outlined' | 'text' = 'outlined';\n\n  /**\n   * The color palette of the button.\n   */\n  @Prop() color: 'primary' | 'secondary' | 'danger' | 'success' | 'warning' = 'secondary';\n\n  /**\n   * Set the button into an active state.\n   */\n  @Prop() active = false;\n\n  /**\n   * The size of the button.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' = 'm';\n\n  /**\n   * The name of the button, which gets paired with the button's value when\n   * submitted as part of a form. Corresponds with the native HTML name\n   * attribute.\n   */\n  @Prop() name?: string;\n\n  /**\n   * The value of the button, which gets paired with the button's name when\n   * submitted as part of a form. Corresponds with the native HTML value\n   * attribute.\n   */\n  @Prop() value?: string;\n\n  /**\n   * Specifies that the button should be disabled. A disabled button is unusable\n   * and un-clickable. Corresponds with the native HTML disabled attribute.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Displays the button in a loading state with a spinner. Just like a disabled\n   * button, an inactive button is unusable and un-clickable. However, it\n   * retains the current focus state.\n   */\n  @Prop() loading = false;\n\n  /**\n   * Allows the button to submit a form.\n   */\n  @Prop() submit = false;\n\n  /**\n   * Disables ellipse overflowing button content.\n   */\n  @Prop() noEllipsis = false;\n\n  /**\n   * Use round button edges.\n   */\n  @Prop() round = false;\n\n  /**\n   * A destination to link to, rendered in the href attribute of a link.\n   */\n  @Prop() url?: string;\n\n  /**\n   * Specifies where to open the linked document.\n   */\n  @Prop() urlTarget?: '_blank' | '_self';\n\n  /**\n   * The name of an icon to be displayed in the button.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * Hide the actual button content and only display the icon.\n   */\n  @Prop() iconOnly: boolean | Breakpoint = false;\n\n  /**\n   * Display the icon on the right.\n   */\n  @Prop() iconRight = false;\n\n  /**\n   * Adds a unique identifier for the button. Please note that with this\n   * particular component this ID is added inside the web component. If you need\n   * an ID on the HTML element, use the regular `id` attribute instead.\n   */\n  @Prop() buttonId?: string;\n\n  /**\n   * Adds accessible label for the button that is only shown for screen\n   * readers. Typically, this label text replaces the visible text on the\n   * button for users who use assistive technology.\n   */\n  @Prop({ attribute: 'a11y-label' }) a11yLabel?: string;\n\n  /**\n   * Sets the `aria-current` attribute on the button.\n   */\n  @Prop({ attribute: 'a11y-current' }) a11yCurrent?: string;\n\n  /**\n   * Attributes that will be added to the native HTML button element\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * The index of a button that is used inside a cat-button-group component\n   */\n  @Prop() buttonGroupPosition?: 'first' | 'last' | 'middle';\n\n  @Watch('iconOnly')\n  onIconOnlyChanged(value: boolean | Breakpoint): void {\n    // teardown\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    this.mediaQueryList?.removeEventListener('change', this.mediaQueryListener!);\n    this.mediaQueryList = undefined;\n    this.mediaQueryListener = undefined;\n    // setup\n    if (isBreakpoint(value)) {\n      this.mediaMatcher ??= new MediaMatcher();\n      this.mediaQueryList = this.mediaMatcher.matchMedia(Breakpoints[value]);\n      this.mediaQueryListener = (event: MediaQueryListEvent) => (this._iconOnly = event.matches);\n      this.mediaQueryList.addEventListener('change', this.mediaQueryListener);\n      this._iconOnly = this.mediaQueryList.matches;\n    } else {\n      this._iconOnly = value;\n    }\n  }\n\n  /**\n   * Emitted when the button is clicked.\n   */\n  @Event() catClick!: EventEmitter<MouseEvent>;\n\n  /**\n   * Emitted when the button received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the button loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillLoad(): void {\n    this.onIconOnlyChanged(this.iconOnly);\n  }\n\n  componentWillRender(): void {\n    if (this.isIconButton && !this.a11yLabel) {\n      log.warn('[A11y] Missing ARIA label on icon button', this);\n    }\n  }\n\n  @Listen('click')\n  haltDisabledEvents(event: Event): void {\n    if (this.disabled || this.loading) {\n      event.preventDefault();\n      event.stopImmediatePropagation();\n    }\n  }\n\n  /**\n   * Programmatically move focus to the button. Use this method instead of\n   * `button.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this.button.focus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the button. Use this method instead of\n   * `button.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.button.blur();\n  }\n\n  /**\n   * Programmatically simulate a click on the button.\n   */\n  @Method()\n  async doClick(): Promise<void> {\n    this.button.click();\n  }\n\n  render() {\n    if (this.url) {\n      return (\n        <a\n          ref={el => (this.button = el as HTMLAnchorElement)}\n          href={this.disabled ? undefined : this.url}\n          target={this.urlTarget}\n          aria-disabled={this.disabled ? 'true' : null}\n          aria-label={this.a11yLabel}\n          aria-current={this.a11yCurrent}\n          id={this.buttonId}\n          part=\"button\"\n          class={{\n            'cat-button': true,\n            'cat-button-active': this.active,\n            'cat-button-icon': this.isIconButton,\n            'cat-button-round': this.round,\n            'cat-button-loading': this.loading,\n            'cat-button-disabled': this.disabled,\n            'cat-button-ellipsed': !this.noEllipsis && !this.isIconButton,\n            [`cat-button-${this.variant}`]: Boolean(this.variant),\n            [`cat-button-${this.color}`]: Boolean(this.color),\n            [`cat-button-${this.size}`]: Boolean(this.size)\n          }}\n          onClick={this.onClick.bind(this)}\n          onFocus={this.onFocus.bind(this)}\n          onBlur={this.onBlur.bind(this)}\n        >\n          {this.content}\n        </a>\n      );\n    } else {\n      return (\n        <button\n          {...this.nativeAttributes}\n          ref={el => (this.button = el as HTMLButtonElement)}\n          type={this.submit ? 'submit' : 'button'}\n          name={this.name}\n          value={this.value}\n          disabled={this.disabled}\n          aria-disabled={this.disabled ? 'true' : null}\n          aria-label={this.a11yLabel}\n          aria-current={this.a11yCurrent}\n          id={this.buttonId}\n          part=\"button\"\n          class={{\n            'cat-button': true,\n            'cat-button-active': this.active,\n            'cat-button-icon': this.isIconButton,\n            'cat-button-round': this.round ?? this.isIconButton,\n            'cat-button-loading': this.loading,\n            'cat-button-disabled': this.disabled,\n            'cat-button-ellipsed': !this.noEllipsis && !this.isIconButton,\n            [`cat-button-${this.variant}`]: Boolean(this.variant),\n            [`cat-button-${this.color}`]: Boolean(this.color),\n            [`cat-button-${this.size}`]: Boolean(this.size),\n            [`cat-group-button-${this.buttonGroupPosition}`]: Boolean(this.buttonGroupPosition),\n            'cat-group-button': Boolean(this.buttonGroupPosition)\n          }}\n          onClick={this.onClick.bind(this)}\n          onFocus={this.onFocus.bind(this)}\n          onBlur={this.onBlur.bind(this)}\n        >\n          {this.content}\n        </button>\n      );\n    }\n  }\n\n  private get iconSize(): 'xs' | 's' | 'm' | 'l' | 'xl' {\n    switch (this.size) {\n      case 'xs':\n        return 's';\n      default:\n        return 'l';\n    }\n  }\n\n  private get spinnerSize(): 'xs' | 's' | 'm' | 'l' | 'xl' {\n    switch (this.size) {\n      case 'xs':\n        return 'xs';\n      default:\n        return 'm';\n    }\n  }\n\n  private get isIconButton() {\n    return Boolean(this.icon) && this._iconOnly;\n  }\n\n  private get hasPrefixIcon() {\n    return Boolean(this.icon) && !this._iconOnly && !this.iconRight;\n  }\n\n  private get hasSuffixIcon() {\n    return Boolean(this.icon) && !this._iconOnly && this.iconRight;\n  }\n\n  private get content() {\n    return [\n      this.hasPrefixIcon ? <cat-icon icon={this.icon} size={this.iconSize} part=\"prefix\"></cat-icon> : null,\n      this.isIconButton ? (\n        <cat-icon icon={this.icon} size={this.iconSize}></cat-icon>\n      ) : (\n        <span class=\"cat-button-content\" part=\"content\">\n          <slot></slot>\n        </span>\n      ),\n      this.hasSuffixIcon ? <cat-icon icon={this.icon} size={this.iconSize} part=\"suffix\"></cat-icon> : null,\n      this.loading ? <cat-spinner size={this.spinnerSize}></cat-spinner> : null\n    ];\n  }\n\n  private onClick(event: MouseEvent) {\n    this.catClick.emit(event);\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n  }\n}\n",":host {\n  position: relative;\n  display: inline-flex;\n  vertical-align: middle;\n}\n\n::slotted(cat-button[variant='outlined']),\n::slotted(cat-button:not([variant])) {\n  margin-right: -1px;\n}\n\n::slotted(cat-button[variant='outlined']:last-child),\n::slotted(cat-button:not([variant]):last-child) {\n  margin-right: 0;\n}\n","import { Component, Element, h, Host, Prop } from '@stencil/core';\n\n@Component({\n  tag: 'cat-button-group',\n  styleUrl: 'cat-button-group.scss',\n  shadow: true\n})\nexport class CatButtonGroup {\n  private formElements: HTMLCatButtonElement[] = [];\n\n  @Element() hostElement!: HTMLElement;\n\n  /**\n   * Adds an accessible label for the button group that\n   * it is only shown in assistive technologies, like screen readers.\n   */\n  @Prop({ attribute: 'a11y-label' }) a11yLabel?: string;\n\n  render() {\n    return (\n      <Host role=\"group\" aria-label={this.a11yLabel}>\n        <slot onSlotchange={this.onSlotChange.bind(this)}></slot>\n      </Host>\n    );\n  }\n\n  private onSlotChange(): void {\n    this.formElements = Array.from(this.hostElement.querySelectorAll('cat-button'));\n\n    this.formElements.forEach((element, index) => {\n      element.buttonGroupPosition = index === 0 ? 'first' : index === this.formElements.length - 1 ? 'last' : 'middle';\n    });\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n$-padding: 1.25rem;\n\n:host {\n  display: block;\n  margin-bottom: $cat-body-margin-bottom;\n  border-radius: cat-border-radius('l');\n  background-color: cat-token('color.ui.background.surface');\n  padding: $-padding;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n::slotted(:last-child) {\n  margin-bottom: 0 !important;\n}\n\n::slotted(nav),\n::slotted(nav:last-child) {\n  margin: #{$cat-body-margin-bottom * 0.5 - $-padding} #{-$-padding} !important;\n}\n\n// --- pull out helper classes\n\n::slotted(.cat-card-pull) {\n  margin: -$-padding !important;\n  width: calc(100% + #{2 * $-padding}) !important;\n  height: calc(100% + #{2 * $-padding}) !important;\n}\n\n::slotted(.cat-card-pull-h) {\n  margin-left: -$-padding !important;\n  margin-right: -$-padding !important;\n  width: calc(100% + #{2 * $-padding}) !important;\n}\n\n::slotted(.cat-card-pull-v) {\n  margin-top: -$-padding !important;\n  margin-bottom: -$-padding !important;\n  height: calc(100% + #{2 * $-padding}) !important;\n}\n\n::slotted(.cat-card-pull-t) {\n  margin-top: -$-padding !important;\n}\n\n::slotted(.cat-card-pull-l) {\n  margin-left: -$-padding !important;\n}\n\n::slotted(.cat-card-pull-r) {\n  margin-right: -$-padding !important;\n}\n\n::slotted(.cat-card-pull-b) {\n  margin-bottom: -$-padding !important;\n}\n","import { Component, h } from '@stencil/core';\n\n/**\n * Cards are surfaces that display content and actions on a single topic. They\n * should be easy to scan for relevant and actionable information.\n */\n@Component({\n  tag: 'cat-card',\n  styleUrl: 'cat-card.scss',\n  shadow: true\n})\nexport class CatCard {\n  render() {\n    return <slot></slot>;\n  }\n}\n","import { h, FunctionalComponent } from '@stencil/core';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type ErrorMap = { [key: string]: any };\n\n/**\n * Properties of CatFormHint.\n *\n * @property hint - Optional hint text(s) of the form field.\n * @property slottedHint - Optional hint element of the form field.\n */\ninterface CatFormHintProps {\n  id: string;\n  hint?: string | string[];\n  slottedHint?: HTMLSlotElement;\n  class?: string;\n  errorMap?: ErrorMap;\n}\n\n/**\n * CatFormHint is a functional component that represents the hint area of form elements.\n *\n * @param props - {@link CatFormHintProps}\n * @return a JSX.Element\n */\nexport const CatFormHint: FunctionalComponent<CatFormHintProps> = props => {\n  const { id, hint, slottedHint, errorMap } = props;\n  const errors = Object.entries(errorMap || {});\n  return (\n    <div id={id + '-hint'} class=\"hint-section\">\n      {errors.length\n        ? errors.map(([key, params]) => (\n            <p class={(props.class ?? '') + ' input-hint cat-text-danger'}>{i18n.t(`error.${key}`, params)}</p>\n          ))\n        : [\n            hint &&\n              (Array.isArray(hint) ? (\n                hint.map(item => <p class={(props.class ?? '') + ' input-hint'}>{item}</p>)\n              ) : (\n                <p class={(props.class ?? '') + ' input-hint'}>{hint}</p>\n              )),\n            slottedHint\n          ]}\n    </div>\n  );\n};\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n@use '_snippets/checkbox-hint';\n\n$checkbox-width: 1.25rem;\n$checkbox-height: 1.25rem;\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nlabel {\n  flex: 0 1 auto;\n  display: flex;\n  gap: 0.5rem;\n  @include cat-body('m');\n  @include cat-select(none);\n  cursor: pointer;\n  position: relative;\n}\n\n.label-left {\n  flex-direction: row-reverse;\n\n  input {\n    right: 1px;\n    left: unset;\n  }\n}\n\ninput {\n  position: absolute;\n  width: $checkbox-width;\n  height: $checkbox-height;\n  margin: 0;\n  opacity: 0;\n  cursor: inherit;\n  left: 1px;\n  top: 0.5px;\n}\n\n.box-placeholder {\n  width: calc($checkbox-width + 1px);\n}\n\n.box {\n  flex: 0 0 auto;\n  display: flex;\n  position: relative;\n  height: $checkbox-height;\n  width: $checkbox-width;\n  background-color: cat-token('color.ui.background.input');\n  border: 1px solid cat-token('color.ui.border.dark');\n  border-radius: cat-border-radius(s);\n  transition: background-color cat-token('time.transition.s') ease, border-color cat-token('time.transition.s') ease;\n  pointer-events: none;\n\n  svg {\n    fill: none;\n    stroke-width: 2;\n    stroke-linecap: round;\n    stroke-linejoin: round;\n    stroke-dasharray: 16px;\n    stroke-dashoffset: 16px;\n    transition: all cat-token('time.transition.s') ease;\n    width: 50%;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%) scale(0.99);\n  }\n\n  :checked + & {\n    background-color: cat-token('color.theme.primary.bg');\n    border-color: cat-token('color.theme.primary.bg');\n    stroke: cat-token('color.theme.primary.fill');\n\n    .check {\n      stroke-dashoffset: 0;\n    }\n  }\n\n  :indeterminate + & {\n    background-color: cat-token('color.theme.primary.bg');\n    border-color: cat-token('color.theme.primary.bg');\n    stroke: cat-token('color.theme.primary.fill');\n\n    .dash {\n      stroke-dashoffset: 0;\n    }\n  }\n\n  :focus-visible + & {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: 1px;\n  }\n\n  .is-disabled & {\n    background-color: cat-token('color.ui.background.muted');\n    border-color: cat-token('color.ui.border.dark');\n    stroke: cat-token('color.ui.font.muted');\n  }\n}\n\n:host(.cat-error) {\n  .box {\n    border: 1px solid cat-token('color.theme.danger.bg');\n  }\n\n  :checked + .box,\n  :indeterminate + .box {\n    background-color: cat-token('color.theme.danger.bg');\n    border-color: cat-token('color.theme.danger.bg');\n    stroke: cat-token('color.theme.danger.fill');\n  }\n}\n\n.label {\n  flex: 1 1 auto;\n  min-width: 0;\n\n  .is-hidden & {\n    @include cat-visually-hidden;\n  }\n}\n\n.is-disabled {\n  cursor: not-allowed;\n  color: cat-token('color.ui.font.muted');\n}\n","import { Component, Element, Event, EventEmitter, h, Host, Method, Prop, State } from '@stencil/core';\nimport log from 'loglevel';\nimport { CatFormHint } from '../cat-form-hint/cat-form-hint';\n\nlet nextUniqueId = 0;\n\n/**\n * Checkboxes are used to let a user choose one or more options from a limited\n * number of options.\n *\n * @slot hint - Optional hint element to be displayed with the checkbox.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part checkbox - The checkbox element.\n * @part label - The label content.\n */\n@Component({\n  tag: 'cat-checkbox',\n  styleUrls: ['cat-checkbox.scss'],\n  shadow: true\n})\nexport class CatCheckbox {\n  private readonly _id = `cat-checkbox-${nextUniqueId++}`;\n  private get id() {\n    return this.identifier || this._id;\n  }\n\n  private input!: HTMLInputElement;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n  @State() hasSlottedHint = false;\n\n  /**\n   * Checked state of the checkbox\n   */\n  @Prop({ mutable: true }) checked = false;\n\n  /**\n   * Disabled state of the checkbox\n   */\n  @Prop() disabled = false;\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * Indeterminate state of the checkbox\n   */\n  @Prop() indeterminate = false;\n\n  /**\n   * Label of the checkbox which is presented in the UI\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * The name of the input\n   */\n  @Prop() name?: string;\n\n  /**\n   * Required state of the checkbox\n   */\n  @Prop() required = false;\n\n  /**\n   * The value of the checkbox\n   */\n  @Prop({ mutable: true }) value?: string | boolean;\n\n  /**\n   * Optional hint text(s) to be displayed with the checkbox.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * Whether the label should appear to the left of the checkbox.\n   */\n  @Prop() labelLeft = false;\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * Emitted when the checked status of the checkbox is changed.\n   */\n  @Event() catChange!: EventEmitter<InputEvent>;\n\n  /**\n   * Emitted when the checkbox received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the checkbox loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentDidLoad() {\n    if (this.input && this.indeterminate) {\n      this.input.indeterminate = true;\n    }\n  }\n\n  componentWillRender(): void {\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n    if (!this.label && !this.hasSlottedLabel) {\n      log.warn('[A11y] Missing ARIA label on checkbox', this);\n    }\n  }\n\n  /**\n   * Programmatically move focus to the checkbox. Use this method instead of\n   * `input.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this.input.focus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the checkbox. Use this method instead of\n   * `input.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.input.blur();\n  }\n\n  /**\n   * Programmatically simulate a click on the checkbox.\n   */\n  @Method()\n  async doClick(): Promise<void> {\n    this.input.click();\n  }\n\n  render() {\n    return (\n      <Host>\n        <label\n          htmlFor={this.id}\n          class={{ 'is-hidden': this.labelHidden, 'is-disabled': this.disabled, 'label-left': this.labelLeft }}\n        >\n          <input\n            {...this.nativeAttributes}\n            ref={el => (this.input = el as HTMLInputElement)}\n            id={this.id}\n            type=\"checkbox\"\n            name={this.name}\n            value={this.value !== undefined ? String(this.value) : this.value}\n            checked={this.checked}\n            required={this.required}\n            disabled={this.disabled}\n            onInput={this.onInput.bind(this)}\n            onFocus={this.onFocus.bind(this)}\n            onBlur={this.onBlur.bind(this)}\n          />\n          <span class=\"box\" aria-hidden=\"true\" part=\"checkbox\">\n            <svg class=\"check\" viewBox=\"0 0 12 10\">\n              <polyline points=\"1.5 6 4.5 9 10.5 1\"></polyline>\n            </svg>\n            <svg class=\"dash\" viewBox=\"0 0 12 10\">\n              <polyline points=\"1.5 5 10.5 5\"></polyline>\n            </svg>\n          </span>\n          <span class=\"label\" part=\"label\">\n            {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n          </span>\n        </label>\n        {(this.hint || this.hasSlottedHint) && (\n          <div class={{ 'hint-wrapper': true, 'label-left': this.labelLeft }}>\n            <div class=\"box-placeholder\"></div>\n            <CatFormHint id={this.id} hint={this.hint} slottedHint={this.hasSlottedHint && <slot name=\"hint\"></slot>} />\n          </div>\n        )}\n      </Host>\n    );\n  }\n\n  private onInput(event: InputEvent) {\n    this.checked = this.input.checked;\n\n    if (!this.value || typeof this.value === 'boolean') {\n      this.value = this.checked;\n    }\n    this.catChange.emit(event);\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n  }\n}\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",f=\"month\",h=\"quarter\",c=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,f),s=n-i<0,u=e.clone().add(r+(s?-1:1),f);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:f,y:c,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:h}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=function(t){return t instanceof _},S=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},w=function(t,e){if(p(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},O=v;O.l=S,O.i=p,O.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=S(t.locale,null,!0),this.parse(t)}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return O},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return w(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<w(t)},m.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!O.u(e)||e,h=O.p(t),l=function(t,e){var i=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return O.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(h){case c:return r?l(1,0):l(31,11);case f:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=O.p(t),h=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=h+\"Date\",n[d]=h+\"Date\",n[f]=h+\"Month\",n[c]=h+\"FullYear\",n[u]=h+\"Hours\",n[s]=h+\"Minutes\",n[i]=h+\"Seconds\",n[r]=h+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===f||o===c){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[O.p(t)]()},m.add=function(r,h){var d,l=this;r=Number(r);var $=O.p(h),y=function(t){var e=w(l);return O.w(e.date(e.date()+Math.round(t*r)),l)};if($===f)return this.set(f,this.$M+r);if($===c)return this.set(c,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return O.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=O.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,f=n.months,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},c=function(t){return O.s(s%12||12,t,\"0\")},d=n.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},$={YY:String(this.$y).slice(-2),YYYY:O.s(this.$y,4,\"0\"),M:a+1,MM:O.s(a+1,2,\"0\"),MMM:h(n.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:O.s(this.$D,2,\"0\"),d:String(this.$W),dd:h(n.weekdaysMin,this.$W,o,2),ddd:h(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:O.s(s,2,\"0\"),h:c(1),hh:c(2),a:d(s,u,!0),A:d(s,u,!1),m:String(u),mm:O.s(u,2,\"0\"),s:String(this.$s),ss:O.s(this.$s,2,\"0\"),SSS:O.s(this.$ms,3,\"0\"),Z:i};return r.replace(y,(function(t,e){return e||$[t]||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=O.p(d),M=w(r),m=(M.utcOffset()-this.utcOffset())*e,v=this-M,g=O.m(this,M);return g=($={},$[c]=g/12,$[f]=g,$[h]=g/3,$[o]=(v-m)/6048e5,$[a]=(v-m)/864e5,$[u]=v/n,$[s]=v/e,$[i]=v/t,$)[y]||v,l?g:O.a(g)},m.daysInMonth=function(){return this.endOf(f).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return O.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),T=_.prototype;return w.prototype=T,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",f],[\"$y\",c],[\"$D\",d]].forEach((function(t){T[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,_,w),t.$i=!0),w},w.locale=S,w.isDayjs=p,w.unix=function(t){return w(1e3*t)},w.en=D[g],w.Ls=D,w.p={},w}));","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_isoWeek=t()}(this,(function(){\"use strict\";var e=\"day\";return function(t,i,s){var a=function(t){return t.add(4-t.isoWeekday(),e)},d=i.prototype;d.isoWeekYear=function(){return a(this).year()},d.isoWeek=function(t){if(!this.$utils().u(t))return this.add(7*(t-this.isoWeek()),e);var i,d,n,o,r=a(this),u=(i=this.isoWeekYear(),d=this.$u,n=(d?s.utc:s)().year(i).startOf(\"year\"),o=4-n.isoWeekday(),n.isoWeekday()>4&&(o+=7),n.add(o,e));return r.diff(u,\"week\")+1},d.isoWeekday=function(e){return this.$utils().u(e)?this.day()||7:this.day(this.day()%7?e:e-7)};var n=d.startOf;d.startOf=function(e,t){var i=this.$utils(),s=!!i.u(t)||t;return\"isoweek\"===i.p(e)?s?this.date(this.date()-(this.isoWeekday()-1)).startOf(\"day\"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf(\"day\"):n.bind(this)(e,t)}}}));","!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs_plugin_utc=i()}(this,(function(){\"use strict\";var t=\"minute\",i=/[+-]\\d\\d(?::?\\d\\d)?/g,e=/([+-]|\\d\\d)/g;return function(s,f,n){var u=f.prototype;n.utc=function(t){var i={date:t,utc:!0,args:arguments};return new f(i)},u.utc=function(i){var e=n(this.toDate(),{locale:this.$L,utc:!0});return i?e.add(this.utcOffset(),t):e},u.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var o=u.parse;u.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),o.call(this,t)};var r=u.init;u.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else r.call(this)};var a=u.utcOffset;u.utcOffset=function(s,f){var n=this.$utils().u;if(n(s))return this.$u?0:n(this.$offset)?a.call(this):this.$offset;if(\"string\"==typeof s&&(s=function(t){void 0===t&&(t=\"\");var s=t.match(i);if(!s)return null;var f=(\"\"+s[0]).match(e)||[\"-\",0,0],n=f[0],u=60*+f[1]+ +f[2];return 0===u?0:\"+\"===n?u:-u}(s),null===s))return this;var u=Math.abs(s)<=16?60*s:s,o=this;if(f)return o.$offset=u,o.$u=0===s,o;if(0!==s){var r=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(o=this.local().add(u+r,t)).$offset=u,o.$x.$localOffset=r}else o=this.utc();return o};var h=u.format;u.format=function(t){var i=t||(this.$u?\"YYYY-MM-DDTHH:mm:ss[Z]\":\"\");return h.call(this,i)},u.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var l=u.toDate;u.toDate=function(t){return\"s\"===t&&this.$offset?n(this.format(\"YYYY-MM-DD HH:mm:ss:SSS\")).toDate():l.call(this)};var c=u.diff;u.diff=function(t,i,e){if(t&&this.$u===t.$u)return c.call(this,t,i,e);var s=this.local(),f=n(t).local();return c.call(s,f,i,e)}}}));","import dayjs from 'dayjs';\nimport isoWeek from 'dayjs/plugin/isoWeek';\nimport utc from 'dayjs/plugin/utc';\n\ndayjs.extend(isoWeek);\ndayjs.extend(utc);\n\nexport const today = () => dayjs().utc().startOf('day').toDate();\n\nexport default dayjs;\n","export function lastItemOf(arr) {\n  return arr[arr.length - 1];\n}\n\n// push only the items not included in the array\nexport function pushUnique(arr, ...items) {\n  items.forEach((item) => {\n    if (arr.includes(item)) {\n      return;\n    }\n    arr.push(item);\n  });\n  return arr;\n}\n\nexport function stringToArray(str, separator) {\n  // convert empty string to an empty array\n  return str ? str.split(separator) : [];\n}\n\nexport function isInRange(testVal, min, max) {\n  const minOK = min === undefined || testVal >= min;\n  const maxOK = max === undefined || testVal <= max;\n  return minOK && maxOK;\n}\n\nexport function limitToRange(val, min, max) {\n  if (val < min) {\n    return min;\n  }\n  if (val > max) {\n    return max;\n  }\n  return val;\n}\n\nexport function createTagRepeat(tagName, repeat, attributes = {}, index = 0, html = '') {\n  const openTagSrc = Object.keys(attributes).reduce((src, attr) => {\n    let val = attributes[attr];\n    if (typeof val === 'function') {\n      val = val(index);\n    }\n    return `${src} ${attr}=\"${val}\"`;\n  }, tagName);\n  html += `<${openTagSrc}></${tagName}>`;\n\n  const next = index + 1;\n  return next < repeat\n    ? createTagRepeat(tagName, repeat, attributes, next, html)\n    : html;\n}\n\n// Remove the spacing surrounding tags for HTML parser not to create text nodes\n// before/after elements\nexport function optimizeTemplateHTML(html) {\n  return html.replace(/>\\s+/g, '>').replace(/\\s+</, '<');\n}\n","export function stripTime(timeValue) {\n  return new Date(timeValue).setHours(0, 0, 0, 0);\n}\n\nexport function today() {\n  return new Date().setHours(0, 0, 0, 0);\n}\n\n// Get the time value of the start of given date or year, month and day\nexport function dateValue(...args) {\n  switch (args.length) {\n    case 0:\n      return today();\n    case 1:\n      return stripTime(args[0]);\n  }\n\n  // use setFullYear() to keep 2-digit year from being mapped to 1900-1999\n  const newDate = new Date(0);\n  newDate.setFullYear(...args);\n  return newDate.setHours(0, 0, 0, 0);\n}\n\nexport function addDays(date, amount) {\n  const newDate = new Date(date);\n  return newDate.setDate(newDate.getDate() + amount);\n}\n\nexport function addWeeks(date, amount) {\n  return addDays(date, amount * 7);\n}\n\nexport function addMonths(date, amount) {\n  // If the day of the date is not in the new month, the last day of the new\n  // month will be returned. e.g. Jan 31 + 1 month â†’ Feb 28 (not Mar 03)\n  const newDate = new Date(date);\n  const monthsToSet = newDate.getMonth() + amount;\n  let expectedMonth = monthsToSet % 12;\n  if (expectedMonth < 0) {\n    expectedMonth += 12;\n  }\n\n  const time = newDate.setMonth(monthsToSet);\n  return newDate.getMonth() !== expectedMonth ? newDate.setDate(0) : time;\n}\n\nexport function addYears(date, amount) {\n  // If the date is Feb 29 and the new year is not a leap year, Feb 28 of the\n  // new year will be returned.\n  const newDate = new Date(date);\n  const expectedMonth = newDate.getMonth();\n  const time = newDate.setFullYear(newDate.getFullYear() + amount);\n  return expectedMonth === 1 && newDate.getMonth() === 2 ? newDate.setDate(0) : time;\n}\n\n// Calculate the distance bettwen 2 days of the week\nfunction dayDiff(day, from) {\n  return (day - from + 7) % 7;\n}\n\n// Get the date of the specified day of the week of given base date\nexport function dayOfTheWeekOf(baseDate, dayOfWeek, weekStart = 0) {\n  const baseDay = new Date(baseDate).getDay();\n  return addDays(baseDate, dayDiff(dayOfWeek, weekStart) - dayDiff(baseDay, weekStart));\n}\n\nfunction calcWeekNum(dayOfTheWeek, sameDayOfFirstWeek) {\n  return Math.round((dayOfTheWeek - sameDayOfFirstWeek) / 604800000) + 1;\n}\n\n// Get the ISO week number of a date\nexport function getIsoWeek(date) {\n  // - Start of ISO week is Monday\n  // - Use Thursday for culculation because the first Thursday of ISO week is\n  //   always in January\n  const thuOfTheWeek = dayOfTheWeekOf(date, 4, 1);\n  // - Week 1 in ISO week is the week including Jan 04\n  // - Use the Thu of given date's week (instead of given date itself) to\n  //   calculate week 1 of the year so that Jan 01 - 03 won't be miscalculated\n  //   as week 0 when Jan 04 is Mon - Wed\n  const firstThu = dayOfTheWeekOf(new Date(thuOfTheWeek).setMonth(0, 4), 4, 1);\n  // return Math.round((thuOfTheWeek - firstThu) / 604800000) + 1;\n  return calcWeekNum(thuOfTheWeek, firstThu);\n}\n\n// Calculate week number in traditional week number system\n// @see https://en.wikipedia.org/wiki/Week#Other_week_numbering_systems\nfunction calcTraditionalWeekNumber(date, weekStart) {\n  // - Week 1 of traditional week is the week including the Jan 01\n  // - Use Jan 01 of given date's year to calculate the start of week 1\n  const startOfFirstWeek = dayOfTheWeekOf(new Date(date).setMonth(0, 1), weekStart, weekStart);\n  const startOfTheWeek = dayOfTheWeekOf(date, weekStart, weekStart);\n  const weekNum = calcWeekNum(startOfTheWeek, startOfFirstWeek);\n  if (weekNum < 53) {\n    return weekNum;\n  }\n  // If the 53rd week includes Jan 01, it's actually next year's week 1\n  const weekOneOfNextYear = dayOfTheWeekOf(new Date(date).setDate(32), weekStart, weekStart);\n  return startOfTheWeek === weekOneOfNextYear ? 1 : weekNum;\n}\n\n// Get the Western traditional week number of a date\nexport function getWesternTradWeek(date) {\n  // Start of Western traditionl week is Sunday\n  return calcTraditionalWeekNumber(date, 0);\n}\n\n// Get the Middle Eastern week number of a date\nexport function getMidEasternWeek(date) {\n  // Start of Middle Eastern week is Saturday\n  return calcTraditionalWeekNumber(date, 6);\n}\n\n// Get the start year of the period of years that includes given date\n// years: length of the year period\nexport function startOfYearPeriod(date, years) {\n  /* @see https://en.wikipedia.org/wiki/Year_zero#ISO_8601 */\n  const year = new Date(date).getFullYear();\n  return Math.floor(year / years) * years;\n}\n\n// Convert date to the first/last date of the month/year of the date\nexport function regularizeDate(date, timeSpan, useLastDate) {\n  if (timeSpan !== 1 && timeSpan !== 2) {\n    return date;\n  }\n  const newDate = new Date(date);\n  if (timeSpan === 1) {\n    useLastDate\n      ? newDate.setMonth(newDate.getMonth() + 1, 0)\n      : newDate.setDate(1);\n  } else {\n    useLastDate\n      ? newDate.setFullYear(newDate.getFullYear() + 1, 0, 0)\n      : newDate.setMonth(0, 1);\n  }\n  return newDate.setHours(0, 0, 0, 0);\n}\n","import {stripTime, today} from './date.js';\nimport {lastItemOf} from './utils.js';\n\n// pattern for format parts\nexport const reFormatTokens = /dd?|DD?|mm?|MM?|yy?(?:yy)?/;\n// pattern for non date parts\nexport const reNonDateParts = /[\\s!-/:-@[-`{-~å¹´æœˆæ—¥]+/;\n// cache for persed formats\nlet knownFormats = {};\n// parse funtions for date parts\nconst parseFns = {\n  y(date, year) {\n    return new Date(date).setFullYear(parseInt(year, 10));\n  },\n  m(date, month, locale) {\n    const newDate = new Date(date);\n    let monthIndex = parseInt(month, 10) - 1;\n\n    if (isNaN(monthIndex)) {\n      if (!month) {\n        return NaN;\n      }\n\n      const monthName = month.toLowerCase();\n      const compareNames = name => name.toLowerCase().startsWith(monthName);\n      // compare with both short and full names because some locales have periods\n      // in the short names (not equal to the first X letters of the full names)\n      monthIndex = locale.monthsShort.findIndex(compareNames);\n      if (monthIndex < 0) {\n        monthIndex = locale.months.findIndex(compareNames);\n      }\n      if (monthIndex < 0) {\n        return NaN;\n      }\n    }\n\n    newDate.setMonth(monthIndex);\n    return newDate.getMonth() !== normalizeMonth(monthIndex)\n      ? newDate.setDate(0)\n      : newDate.getTime();\n  },\n  d(date, day) {\n    return new Date(date).setDate(parseInt(day, 10));\n  },\n};\n// format functions for date parts\nconst formatFns = {\n  d(date) {\n    return date.getDate();\n  },\n  dd(date) {\n    return padZero(date.getDate(), 2);\n  },\n  D(date, locale) {\n    return locale.daysShort[date.getDay()];\n  },\n  DD(date, locale) {\n    return locale.days[date.getDay()];\n  },\n  m(date) {\n    return date.getMonth() + 1;\n  },\n  mm(date) {\n    return padZero(date.getMonth() + 1, 2);\n  },\n  M(date, locale) {\n    return locale.monthsShort[date.getMonth()];\n  },\n  MM(date, locale) {\n    return locale.months[date.getMonth()];\n  },\n  y(date) {\n    return date.getFullYear();\n  },\n  yy(date) {\n    return padZero(date.getFullYear(), 2).slice(-2);\n  },\n  yyyy(date) {\n    return padZero(date.getFullYear(), 4);\n  },\n};\n\n// get month index in normal range (0 - 11) from any number\nfunction normalizeMonth(monthIndex) {\n  return monthIndex > -1 ? monthIndex % 12 : normalizeMonth(monthIndex + 12);\n}\n\nfunction padZero(num, length) {\n  return num.toString().padStart(length, '0');\n}\n\nfunction parseFormatString(format) {\n  if (typeof format !== 'string') {\n    throw new Error(\"Invalid date format.\");\n  }\n  if (format in knownFormats) {\n    return knownFormats[format];\n  }\n\n  // sprit the format string into parts and seprators\n  const separators = format.split(reFormatTokens);\n  const parts = format.match(new RegExp(reFormatTokens, 'g'));\n  if (separators.length === 0 || !parts) {\n    throw new Error(\"Invalid date format.\");\n  }\n\n  // collect format functions used in the format\n  const partFormatters = parts.map(token => formatFns[token]);\n\n  // collect parse function keys used in the format\n  // iterate over parseFns' keys in order to keep the order of the keys.\n  const partParserKeys = Object.keys(parseFns).reduce((keys, key) => {\n    const token = parts.find(part => part[0] !== 'D' && part[0].toLowerCase() === key);\n    if (token) {\n      keys.push(key);\n    }\n    return keys;\n  }, []);\n\n  return knownFormats[format] = {\n    parser(dateStr, locale) {\n      const dateParts = dateStr.split(reNonDateParts).reduce((dtParts, part, index) => {\n        if (part.length > 0 && parts[index]) {\n          const token = parts[index][0];\n          if (token === 'M') {\n            dtParts.m = part;\n          } else if (token !== 'D') {\n            dtParts[token] = part;\n          }\n        }\n        return dtParts;\n      }, {});\n\n      // iterate over partParserkeys so that the parsing is made in the oder\n      // of year, month and day to prevent the day parser from correcting last\n      // day of month wrongly\n      return partParserKeys.reduce((origDate, key) => {\n        const newDate = parseFns[key](origDate, dateParts[key], locale);\n        // ingnore the part failed to parse\n        return isNaN(newDate) ? origDate : newDate;\n      }, today());\n    },\n    formatter(date, locale) {\n      let dateStr = partFormatters.reduce((str, fn, index) => {\n        return str += `${separators[index]}${fn(date, locale)}`;\n      }, '');\n      // separators' length is always parts' length + 1,\n      return dateStr += lastItemOf(separators);\n    },\n  };\n}\n\nexport function parseDate(dateStr, format, locale) {\n  if (dateStr instanceof Date || typeof dateStr === 'number') {\n    const date = stripTime(dateStr);\n    return isNaN(date) ? undefined : date;\n  }\n  if (!dateStr) {\n    return undefined;\n  }\n  if (dateStr === 'today') {\n    return today();\n  }\n\n  if (format && format.toValue) {\n    const date = format.toValue(dateStr, format, locale);\n    return isNaN(date) ? undefined : stripTime(date);\n  }\n\n  return parseFormatString(format).parser(dateStr, locale);\n}\n\nexport function formatDate(date, format, locale) {\n  if (isNaN(date) || (!date && date !== 0)) {\n    return '';\n  }\n\n  const dateObj = typeof date === 'number' ? new Date(date) : date;\n\n  if (format.toDisplay) {\n    return format.toDisplay(dateObj, format, locale);\n  }\n\n  return parseFormatString(format).formatter(dateObj, locale);\n}\n","const range = document.createRange();\n\nexport function parseHTML(html) {\n  return range.createContextualFragment(html);\n}\n\nexport function getParent(el) {\n  return el.parentElement\n    || (el.parentNode instanceof ShadowRoot ? el.parentNode.host : undefined);\n}\n\nexport function isActiveElement(el) {\n  return el.getRootNode().activeElement === el;\n}\n\n// equivalent to jQuery's :visble\nexport function isVisible(el) {\n  return !!(el.offsetWidth || el.offsetHeight || el.getClientRects().length);\n}\n\nexport function hideElement(el) {\n  if (el.style.display === 'none') {\n    return;\n  }\n  // back up the existing display setting in data-style-display\n  if (el.style.display) {\n    el.dataset.styleDisplay = el.style.display;\n  }\n  el.style.display = 'none';\n}\n\nexport function showElement(el) {\n  if (el.style.display !== 'none') {\n    return;\n  }\n  if (el.dataset.styleDisplay) {\n    // restore backed-up dispay property\n    el.style.display = el.dataset.styleDisplay;\n    delete el.dataset.styleDisplay;\n  } else {\n    el.style.display = '';\n  }\n}\n\nexport function emptyChildNodes(el) {\n  if (el.firstChild) {\n    el.removeChild(el.firstChild);\n    emptyChildNodes(el);\n  }\n}\n\nexport function replaceChildNodes(el, newChildNodes) {\n  emptyChildNodes(el);\n  if (newChildNodes instanceof DocumentFragment) {\n    el.appendChild(newChildNodes);\n  } else if (typeof newChildNodes === 'string') {\n    el.appendChild(parseHTML(newChildNodes));\n  } else if (typeof newChildNodes.forEach === 'function') {\n    newChildNodes.forEach((node) => {\n      el.appendChild(node);\n    });\n  }\n}\n","const listenerRegistry = new WeakMap();\nconst {addEventListener, removeEventListener} = EventTarget.prototype;\n\n// Register event listeners to a key object\n// listeners: array of listener definitions;\n//   - each definition must be a flat array of event target and the arguments\n//     used to call addEventListener() on the target\nexport function registerListeners(keyObj, listeners) {\n  let registered = listenerRegistry.get(keyObj);\n  if (!registered) {\n    registered = [];\n    listenerRegistry.set(keyObj, registered);\n  }\n  listeners.forEach((listener) => {\n    addEventListener.call(...listener);\n    registered.push(listener);\n  });\n}\n\nexport function unregisterListeners(keyObj) {\n  let listeners = listenerRegistry.get(keyObj);\n  if (!listeners) {\n    return;\n  }\n  listeners.forEach((listener) => {\n    removeEventListener.call(...listener);\n  });\n  listenerRegistry.delete(keyObj);\n}\n\n// Event.composedPath() polyfill for Edge\n// based on https://gist.github.com/kleinfreund/e9787d73776c0e3750dcfcdc89f100ec\nif (!Event.prototype.composedPath) {\n  const getComposedPath = (node, path = []) => {\n    path.push(node);\n\n    let parent;\n    if (node.parentNode) {\n      parent = node.parentNode;\n    } else if (node.host) { // ShadowRoot\n      parent = node.host;\n    } else if (node.defaultView) {  // Document\n      parent = node.defaultView;\n    }\n    return parent ? getComposedPath(parent, path) : path;\n  };\n\n  Event.prototype.composedPath = function () {\n    return getComposedPath(this.target);\n  };\n}\n\nfunction findFromPath(path, criteria, currentTarget) {\n  const [node, ...rest] = path;\n  if (criteria(node)) {\n    return node;\n  }\n  if (node === currentTarget || node.tagName === 'HTML' || rest.length === 0) {\n    // stop when reaching currentTarget or <html>\n    return;\n  }\n  return findFromPath(rest, criteria, currentTarget);\n}\n\n// Search for the actual target of a delegated event\nexport function findElementInEventPath(ev, selector) {\n  const criteria = typeof selector === 'function'\n    ? selector\n    : el => el instanceof Element && el.matches(selector);\n  return findFromPath(ev.composedPath(), criteria, ev.currentTarget);\n}\n","// default locales\nexport default {\n  en: {\n    days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n    daysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n    daysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n    months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n    monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n    today: \"Today\",\n    clear: \"Clear\",\n    titleFormat: \"MM y\"\n  }\n};\n","// config options updatable by setOptions() and their default values\nexport default {\n  autohide: false,\n  beforeShowDay: null,\n  beforeShowDecade: null,\n  beforeShowMonth: null,\n  beforeShowYear: null,\n  clearButton: false,\n  dateDelimiter: ',',\n  datesDisabled: [],\n  daysOfWeekDisabled: [],\n  daysOfWeekHighlighted: [],\n  defaultViewDate: undefined, // placeholder, defaults to today() by the program\n  disableTouchKeyboard: false,\n  enableOnReadonly: true,\n  format: 'mm/dd/yyyy',\n  language: 'en',\n  maxDate: null,\n  maxNumberOfDates: 1,\n  maxView: 3,\n  minDate: null,\n  nextArrow: 'Â»',\n  orientation: 'auto',\n  pickLevel: 0,\n  prevArrow: 'Â«',\n  showDaysOfWeek: true,\n  showOnClick: true,\n  showOnFocus: true,\n  startView: 0,\n  title: '',\n  todayButton: false,\n  todayButtonMode: 0,\n  todayHighlight: false,\n  updateOnBlur: true,\n  weekNumbers: 0,\n  weekStart: 0,\n};\n","import {pushUnique} from '../lib/utils.js';\nimport {\n  dateValue,\n  regularizeDate,\n  getIsoWeek,\n  getWesternTradWeek,\n  getMidEasternWeek,\n} from '../lib/date.js';\nimport {reFormatTokens, parseDate} from '../lib/date-format.js';\nimport {parseHTML} from '../lib/dom.js';\nimport defaultOptions from './defaultOptions.js';\n\nconst {\n  language: defaultLang,\n  format: defaultFormat,\n  weekStart: defaultWeekStart,\n} = defaultOptions;\n\n// Reducer function to filter out invalid day-of-week from the input\nfunction sanitizeDOW(dow, day) {\n  return dow.length < 6 && day >= 0 && day < 7\n    ? pushUnique(dow, day)\n    : dow;\n}\n\nfunction determineGetWeekMethod(numberingMode, weekStart) {\n  const methodId = numberingMode === 4\n    ? (weekStart === 6 ? 3 : !weekStart + 1)\n    : numberingMode;\n  switch (methodId) {\n    case 1:\n      return getIsoWeek;\n    case 2:\n      return getWesternTradWeek;\n    case 3:\n      return getMidEasternWeek;\n  }\n}\n\nfunction updateWeekStart(newValue, config, weekNumbers) {\n  config.weekStart = newValue;\n  config.weekEnd = (newValue + 6) % 7;\n  if (weekNumbers === 4) {\n    config.getWeekNumber = determineGetWeekMethod(4, newValue);\n  }\n  return newValue;\n}\n\n// validate input date. if invalid, fallback to the original value\nfunction validateDate(value, format, locale, origValue) {\n  const date = parseDate(value, format, locale);\n  return date !== undefined ? date : origValue;\n}\n\n// Validate viewId. if invalid, fallback to the original value\nfunction validateViewId(value, origValue, max = 3) {\n  const viewId = parseInt(value, 10);\n  return viewId >= 0 && viewId <= max ? viewId : origValue;\n}\n\nfunction replaceOptions(options, from, to, convert = undefined) {\n  if (from in options) {\n    if (!(to in options)) {\n      options[to] = convert ? convert(options[from]) : options[from];\n    }\n    delete options[from];\n  }\n}\n\n// Create Datepicker configuration to set\nexport default function processOptions(options, datepicker) {\n  const inOpts = Object.assign({}, options);\n  const config = {};\n  const locales = datepicker.constructor.locales;\n  const rangeEnd = !!datepicker.rangeSideIndex;\n  let {\n    datesDisabled,\n    format,\n    language,\n    locale,\n    maxDate,\n    maxView,\n    minDate,\n    pickLevel,\n    startView,\n    weekNumbers,\n    weekStart,\n  } = datepicker.config || {};\n\n  // for backword compatibility\n  replaceOptions(inOpts, 'calendarWeeks', 'weekNumbers', val => val ? 1 : 0);\n  replaceOptions(inOpts, 'clearBtn', 'clearButton');\n  replaceOptions(inOpts, 'todayBtn', 'todayButton');\n  replaceOptions(inOpts, 'todayBtnMode', 'todayButtonMode');\n\n  if (inOpts.language) {\n    let lang;\n    if (inOpts.language !== language) {\n      if (locales[inOpts.language]) {\n        lang = inOpts.language;\n      } else {\n        // Check if langauge + region tag can fallback to the one without\n        // region (e.g. fr-CA â†’ fr)\n        lang = inOpts.language.split('-')[0];\n        if (!locales[lang]) {\n          lang = false;\n        }\n      }\n    }\n    delete inOpts.language;\n    if (lang) {\n      language = config.language = lang;\n\n      // update locale as well when updating language\n      const origLocale = locale || locales[defaultLang];\n      // use default language's properties for the fallback\n      locale = Object.assign({\n        format: defaultFormat,\n        weekStart: defaultWeekStart\n      }, locales[defaultLang]);\n      if (language !== defaultLang) {\n        Object.assign(locale, locales[language]);\n      }\n      config.locale = locale;\n      // if format and/or weekStart are the same as old locale's defaults,\n      // update them to new locale's defaults\n      if (format === origLocale.format) {\n        format = config.format = locale.format;\n      }\n      if (weekStart === origLocale.weekStart) {\n        weekStart = updateWeekStart(locale.weekStart, config, weekNumbers);\n      }\n    }\n  }\n\n  if (inOpts.format) {\n    const hasToDisplay = typeof inOpts.format.toDisplay === 'function';\n    const hasToValue = typeof inOpts.format.toValue === 'function';\n    const validFormatString = reFormatTokens.test(inOpts.format);\n    if ((hasToDisplay && hasToValue) || validFormatString) {\n      format = config.format = inOpts.format;\n    }\n    delete inOpts.format;\n  }\n\n  //*** pick level ***//\n  let newPickLevel = pickLevel;\n  if ('pickLevel' in inOpts) {\n    newPickLevel = validateViewId(inOpts.pickLevel, pickLevel, 2);\n    delete inOpts.pickLevel;\n  }\n  if (newPickLevel !== pickLevel) {\n    if (newPickLevel > pickLevel) {\n      // complement current minDate/madDate so that the existing range will be\n      // expanded to fit the new level later\n      if (!('minDate' in inOpts)) {\n        inOpts.minDate = minDate;\n      }\n      if (!('maxDate' in inOpts)) {\n        inOpts.maxDate = maxDate;\n      }\n    }\n    // complement datesDisabled so that it will be reset later\n    if (datesDisabled && !inOpts.datesDisabled) {\n      inOpts.datesDisabled = [];\n    }\n    pickLevel = config.pickLevel = newPickLevel;\n  }\n\n  //*** dates ***//\n  // while min and maxDate for \"no limit\" in the options are better to be null\n  // (especially when updating), the ones in the config have to be undefined\n  // because null is treated as 0 (= unix epoch) when comparing with time value\n  let minDt = minDate;\n  let maxDt = maxDate;\n  if ('minDate' in inOpts) {\n    const defaultMinDt = dateValue(0, 0, 1);\n    minDt = inOpts.minDate === null\n      ? defaultMinDt  // set 0000-01-01 to prevent negative values for year\n      : validateDate(inOpts.minDate, format, locale, minDt);\n    if (minDt !== defaultMinDt) {\n      minDt = regularizeDate(minDt, pickLevel, false);\n    }\n    delete inOpts.minDate;\n  }\n  if ('maxDate' in inOpts) {\n    maxDt = inOpts.maxDate === null\n      ? undefined\n      : validateDate(inOpts.maxDate, format, locale, maxDt);\n    if (maxDt !== undefined) {\n      maxDt = regularizeDate(maxDt, pickLevel, true);\n    }\n    delete inOpts.maxDate;\n  }\n  if (maxDt < minDt) {\n    minDate = config.minDate = maxDt;\n    maxDate = config.maxDate = minDt;\n  } else {\n    if (minDate !== minDt) {\n      minDate = config.minDate = minDt;\n    }\n    if (maxDate !== maxDt) {\n      maxDate = config.maxDate = maxDt;\n    }\n  }\n\n  if (inOpts.datesDisabled) {\n    const dtsDisabled = inOpts.datesDisabled;\n    if (typeof dtsDisabled === 'function') {\n      config.datesDisabled = null;\n      config.checkDisabled = (timeValue, viewId) => dtsDisabled(\n        new Date(timeValue),\n        viewId,\n        rangeEnd\n      );\n    } else {\n      const disabled = config.datesDisabled = dtsDisabled.reduce((dates, dt) => {\n        const date = parseDate(dt, format, locale);\n        return date !== undefined\n          ? pushUnique(dates, regularizeDate(date, pickLevel, rangeEnd))\n          : dates;\n      }, []);\n      config.checkDisabled = timeValue => disabled.includes(timeValue);\n    }\n    delete inOpts.datesDisabled;\n  }\n  if ('defaultViewDate' in inOpts) {\n    const viewDate = parseDate(inOpts.defaultViewDate, format, locale);\n    if (viewDate !== undefined) {\n      config.defaultViewDate = viewDate;\n    }\n    delete inOpts.defaultViewDate;\n  }\n\n  //*** days of week ***//\n  if ('weekStart' in inOpts) {\n    const wkStart = Number(inOpts.weekStart) % 7;\n    if (!isNaN(wkStart)) {\n      weekStart = updateWeekStart(wkStart, config, weekNumbers);\n    }\n    delete inOpts.weekStart;\n  }\n  if (inOpts.daysOfWeekDisabled) {\n    config.daysOfWeekDisabled = inOpts.daysOfWeekDisabled.reduce(sanitizeDOW, []);\n    delete inOpts.daysOfWeekDisabled;\n  }\n  if (inOpts.daysOfWeekHighlighted) {\n    config.daysOfWeekHighlighted = inOpts.daysOfWeekHighlighted.reduce(sanitizeDOW, []);\n    delete inOpts.daysOfWeekHighlighted;\n  }\n\n  //*** week numbers ***//\n  if ('weekNumbers' in inOpts) {\n    let method = inOpts.weekNumbers;\n    if (method) {\n      const getWeekNumber = typeof method === 'function'\n        ? (timeValue, startOfWeek) => method(new Date(timeValue), startOfWeek)\n        : determineGetWeekMethod((method = parseInt(method, 10)), weekStart);\n      if (getWeekNumber) {\n        weekNumbers = config.weekNumbers = method;\n        config.getWeekNumber = getWeekNumber;\n      }\n    } else {\n      weekNumbers = config.weekNumbers = 0;\n      config.getWeekNumber = null;\n    }\n    delete inOpts.weekNumbers;\n  }\n\n  //*** multi date ***//\n  if ('maxNumberOfDates' in inOpts) {\n    const maxNumberOfDates = parseInt(inOpts.maxNumberOfDates, 10);\n    if (maxNumberOfDates >= 0) {\n      config.maxNumberOfDates = maxNumberOfDates;\n      config.multidate = maxNumberOfDates !== 1;\n    }\n    delete inOpts.maxNumberOfDates;\n  }\n  if (inOpts.dateDelimiter) {\n    config.dateDelimiter = String(inOpts.dateDelimiter);\n    delete inOpts.dateDelimiter;\n  }\n\n  //*** view ***//\n  let newMaxView = maxView;\n  if ('maxView' in inOpts) {\n    newMaxView = validateViewId(inOpts.maxView, maxView);\n    delete inOpts.maxView;\n  }\n  // ensure max view >= pick level\n  newMaxView = pickLevel > newMaxView ? pickLevel : newMaxView;\n  if (newMaxView !== maxView) {\n    maxView = config.maxView = newMaxView;\n  }\n\n  let newStartView = startView;\n  if ('startView' in inOpts) {\n    newStartView = validateViewId(inOpts.startView, newStartView);\n    delete inOpts.startView;\n  }\n  // ensure pick level <= start view <= max view\n  if (newStartView < pickLevel) {\n    newStartView = pickLevel;\n  } else if (newStartView > maxView) {\n    newStartView = maxView;\n  }\n  if (newStartView !== startView) {\n    config.startView = newStartView;\n  }\n\n  //*** template ***//\n  if (inOpts.prevArrow) {\n    const prevArrow = parseHTML(inOpts.prevArrow);\n    if (prevArrow.childNodes.length > 0) {\n      config.prevArrow = prevArrow.childNodes;\n    }\n    delete inOpts.prevArrow;\n  }\n  if (inOpts.nextArrow) {\n    const nextArrow = parseHTML(inOpts.nextArrow);\n    if (nextArrow.childNodes.length > 0) {\n      config.nextArrow = nextArrow.childNodes;\n    }\n    delete inOpts.nextArrow;\n  }\n\n  //*** misc ***//\n  if ('disableTouchKeyboard' in inOpts) {\n    config.disableTouchKeyboard = 'ontouchstart' in document && !!inOpts.disableTouchKeyboard;\n    delete inOpts.disableTouchKeyboard;\n  }\n  if (inOpts.orientation) {\n    const orientation = inOpts.orientation.toLowerCase().split(/\\s+/g);\n    config.orientation = {\n      x: orientation.find(x => (x === 'left' || x === 'right')) || 'auto',\n      y: orientation.find(y => (y === 'top' || y === 'bottom')) || 'auto',\n    };\n    delete inOpts.orientation;\n  }\n  if ('todayButtonMode' in inOpts) {\n    switch(inOpts.todayButtonMode) {\n      case 0:\n      case 1:\n        config.todayButtonMode = inOpts.todayButtonMode;\n    }\n    delete inOpts.todayButtonMode;\n  }\n\n  //*** copy the rest ***//\n  Object.entries(inOpts).forEach(([key, value]) => {\n    if (value !== undefined && key in defaultOptions) {\n      config[key] = value;\n    }\n  });\n\n  return config;\n}\n","const defaultShortcutKeys = {\n  show: {key: 'ArrowDown'},\n  hide: null,\n  toggle: {key: 'Escape'},\n  prevButton: {key: 'ArrowLeft', ctrlOrMetaKey: true},\n  nextButton: {key: 'ArrowRight', ctrlOrMetaKey: true},\n  viewSwitch: {key: 'ArrowUp', ctrlOrMetaKey: true},\n  clearButton: {key: 'Backspace', ctrlOrMetaKey: true},\n  todayButton: {key: '.', ctrlOrMetaKey: true},\n  exitEditMode: {key: 'ArrowDown', ctrlOrMetaKey: true},\n};\n\nexport default function createShortcutKeyConfig(options) {\n  return Object.keys(defaultShortcutKeys).reduce((keyDefs, shortcut) => {\n    const keyDef = options[shortcut] === undefined\n      ? defaultShortcutKeys[shortcut]\n      : options[shortcut];\n    const key = keyDef && keyDef.key;\n    if (!key || typeof key !== 'string') {\n      return keyDefs;\n    }\n\n    const normalizedDef = {\n      key,\n      ctrlOrMetaKey: !!(keyDef.ctrlOrMetaKey || keyDef.ctrlKey || keyDef.metaKey),\n    };\n    if (key.length > 1) {\n      normalizedDef.altKey = !!keyDef.altKey;\n      normalizedDef.shiftKey = !!keyDef.shiftKey;\n    }\n    keyDefs[shortcut] = normalizedDef;\n    return keyDefs;\n  }, {});\n}\n","import {optimizeTemplateHTML} from '../../lib/utils.js';\n\nexport default optimizeTemplateHTML(`<div class=\"datepicker\">\n  <div class=\"datepicker-picker\">\n    <div class=\"datepicker-header\">\n      <div class=\"datepicker-title\"></div>\n      <div class=\"datepicker-controls\">\n        <button type=\"button\" class=\"%buttonClass% prev-button prev-btn\"></button>\n        <button type=\"button\" class=\"%buttonClass% view-switch\"></button>\n        <button type=\"button\" class=\"%buttonClass% next-button next-btn\"></button>\n      </div>\n    </div>\n    <div class=\"datepicker-main\"></div>\n    <div class=\"datepicker-footer\">\n      <div class=\"datepicker-controls\">\n        <button type=\"button\" class=\"%buttonClass% today-button today-btn\"></button>\n        <button type=\"button\" class=\"%buttonClass% clear-button clear-btn\"></button>\n      </div>\n    </div>\n  </div>\n</div>`);\n","import {createTagRepeat, optimizeTemplateHTML} from '../../lib/utils.js';\n\nexport default optimizeTemplateHTML(`<div class=\"days\">\n  <div class=\"days-of-week\">${createTagRepeat('span', 7, {class: 'dow'})}</div>\n  <div class=\"datepicker-grid\">${createTagRepeat('span', 42)}</div>\n</div>`);\n","import {createTagRepeat, optimizeTemplateHTML} from '../../lib/utils.js';\n\nexport default optimizeTemplateHTML(`<div class=\"week-numbers calendar-weeks\">\n  <div class=\"days-of-week\"><span class=\"dow\"></span></div>\n  <div class=\"weeks\">${createTagRepeat('span', 6, {class: 'week'})}</div>\n</div>`);\n\n","import {pushUnique} from '../../lib/utils.js';\nimport {parseHTML, replaceChildNodes} from '../../lib/dom.js';\n\n// Base class of the view classes\nexport default class View {\n  constructor(picker, config) {\n    Object.assign(this, config, {\n      picker,\n      element: parseHTML(`<div class=\"datepicker-view\"></div>`).firstChild,\n      selected: [],\n      isRangeEnd: !!picker.datepicker.rangeSideIndex,\n    });\n    this.init(this.picker.datepicker.config);\n  }\n\n  init(options) {\n    if ('pickLevel' in options) {\n      this.isMinView = this.id === options.pickLevel;\n    }\n    this.setOptions(options);\n    this.updateFocus();\n    this.updateSelection();\n  }\n\n  prepareForRender(switchLabel, prevButtonDisabled, nextButtonDisabled) {\n    // refresh disabled years on every render in order to clear the ones added\n    // by beforeShow hook at previous render\n    this.disabled = [];\n\n    const picker = this.picker;\n    picker.setViewSwitchLabel(switchLabel);\n    picker.setPrevButtonDisabled(prevButtonDisabled);\n    picker.setNextButtonDisabled(nextButtonDisabled);\n  }\n\n  setDisabled(date, classList) {\n    classList.add('disabled');\n    pushUnique(this.disabled, date);\n  }\n\n  // Execute beforeShow() callback and apply the result to the element\n  // args:\n  performBeforeHook(el, timeValue) {\n    let result = this.beforeShow(new Date(timeValue));\n    switch (typeof result) {\n      case 'boolean':\n        result = {enabled: result};\n        break;\n      case 'string':\n        result = {classes: result};\n    }\n\n    if (result) {\n      const classList = el.classList;\n      if (result.enabled === false) {\n        this.setDisabled(timeValue, classList);\n      }\n      if (result.classes) {\n        const extraClasses = result.classes.split(/\\s+/);\n        classList.add(...extraClasses);\n        if (extraClasses.includes('disabled')) {\n          this.setDisabled(timeValue, classList);\n        }\n      }\n      if (result.content) {\n        replaceChildNodes(el, result.content);\n      }\n    }\n  }\n\n  renderCell(el, content, cellVal, date, {selected, range}, outOfScope, extraClasses = []) {\n    el.textContent = content;\n    if (this.isMinView) {\n      el.dataset.date = date;\n    }\n\n    const classList = el.classList;\n    el.className = `datepicker-cell ${this.cellClass}`;\n    if (cellVal < this.first) {\n      classList.add('prev');\n    } else if (cellVal > this.last) {\n      classList.add('next');\n    }\n    classList.add(...extraClasses);\n    if (outOfScope || this.checkDisabled(date, this.id)) {\n      this.setDisabled(date, classList);\n    }\n    if (range) {\n      const [rangeStart, rangeEnd] = range;\n      if (cellVal > rangeStart && cellVal < rangeEnd) {\n        classList.add('range');\n      }\n      if (cellVal === rangeStart) {\n        classList.add('range-start');\n      }\n      if (cellVal === rangeEnd) {\n        classList.add('range-end');\n      }\n    }\n    if (selected.includes(cellVal)) {\n      classList.add('selected');\n    }\n    if (cellVal === this.focused) {\n      classList.add('focused');\n    }\n\n    if (this.beforeShow) {\n      this.performBeforeHook(el, date);\n    }\n  }\n\n  refreshCell(el, cellVal, selected, [rangeStart, rangeEnd]) {\n    const classList = el.classList;\n    classList.remove('range', 'range-start', 'range-end', 'selected', 'focused');\n    if (cellVal > rangeStart && cellVal < rangeEnd) {\n      classList.add('range');\n    }\n    if (cellVal === rangeStart) {\n      classList.add('range-start');\n    }\n    if (cellVal === rangeEnd) {\n      classList.add('range-end');\n    }\n    if (selected.includes(cellVal)) {\n      classList.add('selected');\n    }\n    if (cellVal === this.focused) {\n      classList.add('focused');\n    }\n  }\n\n  changeFocusedCell(cellIndex) {\n    this.grid.querySelectorAll('.focused').forEach((el) => {\n      el.classList.remove('focused');\n    });\n    this.grid.children[cellIndex].classList.add('focused');\n  }\n}\n","import {today, dateValue, addDays, addWeeks, dayOfTheWeekOf} from '../../lib/date.js';\nimport {formatDate} from '../../lib/date-format.js';\nimport {parseHTML, showElement, hideElement} from '../../lib/dom.js';\nimport daysTemplate from '../templates/daysTemplate.js';\nimport weekNumbersTemplate from '../templates/weekNumbersTemplate.js';\nimport View from './View.js';\n\nexport default class DaysView extends View {\n  constructor(picker) {\n    super(picker, {\n      id: 0,\n      name: 'days',\n      cellClass: 'day',\n    });\n  }\n\n  init(options, onConstruction = true) {\n    if (onConstruction) {\n      const inner = parseHTML(daysTemplate).firstChild;\n      this.dow = inner.firstChild;\n      this.grid = inner.lastChild;\n      this.element.appendChild(inner);\n    }\n    super.init(options);\n  }\n\n  setOptions(options) {\n    let updateDOW;\n\n    if ('minDate' in options) {\n      this.minDate = options.minDate;\n    }\n    if ('maxDate' in options) {\n      this.maxDate = options.maxDate;\n    }\n    if (options.checkDisabled) {\n      this.checkDisabled = options.checkDisabled;\n    }\n    if (options.daysOfWeekDisabled) {\n      this.daysOfWeekDisabled = options.daysOfWeekDisabled;\n      updateDOW = true;\n    }\n    if (options.daysOfWeekHighlighted) {\n      this.daysOfWeekHighlighted = options.daysOfWeekHighlighted;\n    }\n    if ('todayHighlight' in options) {\n      this.todayHighlight = options.todayHighlight;\n    }\n    if ('weekStart' in options) {\n      this.weekStart = options.weekStart;\n      this.weekEnd = options.weekEnd;\n      updateDOW = true;\n    }\n    if (options.locale) {\n      const locale = this.locale = options.locale;\n      this.dayNames = locale.daysMin;\n      this.switchLabelFormat = locale.titleFormat;\n      updateDOW = true;\n    }\n    if ('beforeShowDay' in options) {\n      this.beforeShow = typeof options.beforeShowDay === 'function'\n        ? options.beforeShowDay\n        : undefined;\n    }\n\n    if ('weekNumbers' in options) {\n      if (options.weekNumbers && !this.weekNumbers) {\n        const weeksElem = parseHTML(weekNumbersTemplate).firstChild;\n        this.weekNumbers = {\n          element: weeksElem,\n          dow: weeksElem.firstChild,\n          weeks: weeksElem.lastChild,\n        };\n        this.element.insertBefore(weeksElem, this.element.firstChild);\n      } else if (this.weekNumbers && !options.weekNumbers) {\n        this.element.removeChild(this.weekNumbers.element);\n        this.weekNumbers = null;\n      }\n    }\n\n    if ('getWeekNumber' in options) {\n      this.getWeekNumber = options.getWeekNumber;\n    }\n\n    if ('showDaysOfWeek' in options) {\n      if (options.showDaysOfWeek) {\n        showElement(this.dow);\n        if (this.weekNumbers) {\n          showElement(this.weekNumbers.dow);\n        }\n      } else {\n        hideElement(this.dow);\n        if (this.weekNumbers) {\n          hideElement(this.weekNumbers.dow);\n        }\n      }\n    }\n\n    // update days-of-week when locale, daysOfweekDisabled or weekStart is changed\n    if (updateDOW) {\n      Array.from(this.dow.children).forEach((el, index) => {\n        const dow = (this.weekStart + index) % 7;\n        el.textContent = this.dayNames[dow];\n        el.className = this.daysOfWeekDisabled.includes(dow) ? 'dow disabled' : 'dow';\n      });\n    }\n  }\n\n  // Apply update on the focused date to view's settings\n  updateFocus() {\n    const viewDate = new Date(this.picker.viewDate);\n    const viewYear = viewDate.getFullYear();\n    const viewMonth = viewDate.getMonth();\n    const firstOfMonth = dateValue(viewYear, viewMonth, 1);\n    const start = dayOfTheWeekOf(firstOfMonth, this.weekStart, this.weekStart);\n\n    this.first = firstOfMonth;\n    this.last = dateValue(viewYear, viewMonth + 1, 0);\n    this.start = start;\n    this.focused = this.picker.viewDate;\n  }\n\n  // Apply update on the selected dates to view's settings\n  updateSelection() {\n    const {dates, rangepicker} = this.picker.datepicker;\n    this.selected = dates;\n    if (rangepicker) {\n      this.range = rangepicker.dates;\n    }\n  }\n\n   // Update the entire view UI\n  render() {\n    // update today marker on ever render\n    this.today = this.todayHighlight ? today() : undefined;\n\n    this.prepareForRender(\n      formatDate(this.focused, this.switchLabelFormat, this.locale),\n      this.first <= this.minDate,\n      this.last >= this.maxDate\n    );\n\n    if (this.weekNumbers) {\n      const weekStart = this.weekStart;\n      const startOfWeek = dayOfTheWeekOf(this.first, weekStart, weekStart);\n      Array.from(this.weekNumbers.weeks.children).forEach((el, index) => {\n        const dateOfWeekStart = addWeeks(startOfWeek, index);\n        el.textContent = this.getWeekNumber(dateOfWeekStart, weekStart);\n        if (index > 3) {\n          el.classList[dateOfWeekStart > this.last ? 'add' : 'remove']('next');\n        }\n      });\n    }\n    Array.from(this.grid.children).forEach((el, index) => {\n      const current = addDays(this.start, index);\n      const dateObj = new Date(current);\n      const day = dateObj.getDay();\n      const extraClasses = [];\n\n      if (this.today === current) {\n        extraClasses.push('today');\n      }\n      if (this.daysOfWeekHighlighted.includes(day)) {\n        extraClasses.push('highlighted');\n      }\n\n      this.renderCell(\n        el,\n        dateObj.getDate(),\n        current,\n        current,\n        this,\n        current < this.minDate\n          || current > this.maxDate\n          || this.daysOfWeekDisabled.includes(day),\n        extraClasses\n      );\n    });\n  }\n\n  // Update the view UI by applying the changes of selected and focused items\n  refresh() {\n    const range = this.range || [];\n    Array.from(this.grid.children).forEach((el) => {\n      this.refreshCell(el, Number(el.dataset.date), this.selected, range);\n    });\n  }\n\n  // Update the view UI by applying the change of focused item\n  refreshFocus() {\n    this.changeFocusedCell(Math.round((this.focused - this.start) / 86400000));\n  }\n}\n","import {pushUnique, createTagRepeat} from '../../lib/utils.js';\nimport {dateValue, regularizeDate} from '../../lib/date.js';\nimport {parseHTML} from '../../lib/dom.js';\nimport View from './View.js';\n\nfunction computeMonthRange(range, thisYear) {\n  if (!range || !range[0] || !range[1]) {\n    return;\n  }\n\n  const [[startY, startM], [endY, endM]] = range;\n  if (startY > thisYear || endY < thisYear) {\n    return;\n  }\n  return [\n    startY === thisYear ? startM : -1,\n    endY === thisYear ? endM : 12,\n  ];\n}\n\nexport default class MonthsView extends View {\n  constructor(picker) {\n    super(picker, {\n      id: 1,\n      name: 'months',\n      cellClass: 'month',\n    });\n  }\n\n  init(options, onConstruction = true) {\n    if (onConstruction) {\n      this.grid = this.element;\n      this.element.classList.add('months', 'datepicker-grid');\n      this.grid.appendChild(parseHTML(createTagRepeat('span', 12, {'data-month': ix => ix})));\n      this.first = 0;\n      this.last = 11;\n    }\n    super.init(options);\n  }\n\n  setOptions(options) {\n    if (options.locale) {\n      this.monthNames = options.locale.monthsShort;\n    }\n    if ('minDate' in options) {\n      if (options.minDate === undefined) {\n        this.minYear = this.minMonth = this.minDate = undefined;\n      } else {\n        const minDateObj = new Date(options.minDate);\n        this.minYear = minDateObj.getFullYear();\n        this.minMonth = minDateObj.getMonth();\n        this.minDate = minDateObj.setDate(1);\n      }\n    }\n    if ('maxDate' in options) {\n      if (options.maxDate === undefined) {\n        this.maxYear = this.maxMonth = this.maxDate = undefined;\n      } else {\n        const maxDateObj = new Date(options.maxDate);\n        this.maxYear = maxDateObj.getFullYear();\n        this.maxMonth = maxDateObj.getMonth();\n        this.maxDate = dateValue(this.maxYear, this.maxMonth + 1, 0);\n      }\n    }\n    if (options.checkDisabled) {\n      this.checkDisabled = this.isMinView || options.datesDisabled === null\n        ? options.checkDisabled\n        : () => false;\n    }\n    if ('beforeShowMonth' in options) {\n      this.beforeShow = typeof options.beforeShowMonth === 'function'\n        ? options.beforeShowMonth\n        : undefined;\n    }\n  }\n\n  // Update view's settings to reflect the viewDate set on the picker\n  updateFocus() {\n    const viewDate = new Date(this.picker.viewDate);\n    this.year = viewDate.getFullYear();\n    this.focused = viewDate.getMonth();\n  }\n\n  // Update view's settings to reflect the selected dates\n  updateSelection() {\n    const {dates, rangepicker} = this.picker.datepicker;\n    this.selected = dates.reduce((selected, timeValue) => {\n      const date = new Date(timeValue);\n      const year = date.getFullYear();\n      const month = date.getMonth();\n      if (selected[year] === undefined) {\n        selected[year] = [month];\n      } else {\n        pushUnique(selected[year], month);\n      }\n      return selected;\n    }, {});\n    if (rangepicker && rangepicker.dates) {\n      this.range = rangepicker.dates.map(timeValue => {\n        const date = new Date(timeValue);\n        return isNaN(date) ? undefined : [date.getFullYear(), date.getMonth()];\n      });\n    }\n  }\n\n  // Update the entire view UI\n  render() {\n    this.prepareForRender(\n      this.year,\n      this.year <= this.minYear,\n      this.year >= this.maxYear\n    );\n\n    const selected = this.selected[this.year] || [];\n    const yrOutOfRange = this.year < this.minYear || this.year > this.maxYear;\n    const isMinYear = this.year === this.minYear;\n    const isMaxYear = this.year === this.maxYear;\n    const range = computeMonthRange(this.range, this.year);\n\n    Array.from(this.grid.children).forEach((el, index) => {\n      const date = regularizeDate(new Date(this.year, index, 1), 1, this.isRangeEnd);\n\n      this.renderCell(\n        el,\n        this.monthNames[index],\n        index,\n        date,\n        {selected, range},\n        yrOutOfRange\n          || isMinYear && index < this.minMonth\n          || isMaxYear && index > this.maxMonth\n      );\n    });\n  }\n\n  // Update the view UI by applying the changes of selected and focused items\n  refresh() {\n    const selected = this.selected[this.year] || [];\n    const range = computeMonthRange(this.range, this.year) || [];\n    Array.from(this.grid.children).forEach((el, index) => {\n      this.refreshCell(el, index, selected, range);\n    });\n  }\n\n  // Update the view UI by applying the change of focused item\n  refreshFocus() {\n    this.changeFocusedCell(this.focused);\n  }\n}","import {pushUnique, createTagRepeat} from '../../lib/utils.js';\nimport {dateValue, regularizeDate, startOfYearPeriod} from '../../lib/date.js';\nimport {parseHTML} from '../../lib/dom.js';\nimport View from './View.js';\n\nfunction toTitleCase(word) {\n  return [...word].reduce((str, ch, ix) => str += ix ? ch : ch.toUpperCase(), '');\n}\n\n// Class representing the years and decades view elements\nexport default class YearsView extends View {\n  constructor(picker, config) {\n    super(picker, config);\n  }\n\n  init(options, onConstruction = true) {\n    if (onConstruction) {\n      this.navStep = this.step * 10;\n      this.beforeShowOption = `beforeShow${toTitleCase(this.cellClass)}`;\n      this.grid = this.element;\n      this.element.classList.add(this.name, 'datepicker-grid');\n      this.grid.appendChild(parseHTML(createTagRepeat('span', 12)));\n    }\n    super.init(options);\n  }\n\n  setOptions(options) {\n    if ('minDate' in options) {\n      if (options.minDate === undefined) {\n        this.minYear = this.minDate = undefined;\n      } else {\n        this.minYear = startOfYearPeriod(options.minDate, this.step);\n        this.minDate = dateValue(this.minYear, 0, 1);\n      }\n    }\n    if ('maxDate' in options) {\n      if (options.maxDate === undefined) {\n        this.maxYear = this.maxDate = undefined;\n      } else {\n        this.maxYear = startOfYearPeriod(options.maxDate, this.step);\n        this.maxDate = dateValue(this.maxYear, 11, 31);\n      }\n    }\n    if (options.checkDisabled) {\n      this.checkDisabled = this.isMinView || options.datesDisabled === null\n        ? options.checkDisabled\n        : () => false;\n    }\n    if (this.beforeShowOption in options) {\n      const beforeShow = options[this.beforeShowOption];\n      this.beforeShow = typeof beforeShow === 'function' ? beforeShow : undefined;\n    }\n  }\n\n  // Update view's settings to reflect the viewDate set on the picker\n  updateFocus() {\n    const viewDate = new Date(this.picker.viewDate);\n    const first = startOfYearPeriod(viewDate, this.navStep);\n    const last = first + 9 * this.step;\n\n    this.first = first;\n    this.last = last;\n    this.start = first - this.step;\n    this.focused = startOfYearPeriod(viewDate, this.step);\n  }\n\n  // Update view's settings to reflect the selected dates\n  updateSelection() {\n    const {dates, rangepicker} = this.picker.datepicker;\n    this.selected = dates.reduce((years, timeValue) => {\n      return pushUnique(years, startOfYearPeriod(timeValue, this.step));\n    }, []);\n    if (rangepicker && rangepicker.dates) {\n      this.range = rangepicker.dates.map(timeValue => {\n        if (timeValue !== undefined) {\n          return startOfYearPeriod(timeValue, this.step);\n        }\n      });\n    }\n  }\n\n  // Update the entire view UI\n  render() {\n    this.prepareForRender(\n      `${this.first}-${this.last}`,\n      this.first <= this.minYear,\n      this.last >= this.maxYear\n    );\n\n    Array.from(this.grid.children).forEach((el, index) => {\n      const current = this.start + (index * this.step);\n      const date = regularizeDate(new Date(current, 0, 1), 2, this.isRangeEnd);\n\n      el.dataset.year = current;\n      this.renderCell(\n        el,\n        current,\n        current,\n        date,\n        this,\n        current < this.minYear || current > this.maxYear\n      );\n    });\n  }\n\n  // Update the view UI by applying the changes of selected and focused items\n  refresh() {\n    const range = this.range || [];\n    Array.from(this.grid.children).forEach((el) => {\n      this.refreshCell(el, Number(el.textContent), this.selected, range);\n    });\n  }\n\n  // Update the view UI by applying the change of focused item\n  refreshFocus() {\n    this.changeFocusedCell(Math.round((this.focused - this.start) / this.step));\n  }\n}\n","import {limitToRange} from '../lib/utils.js';\nimport {today, addMonths, addYears} from '../lib/date.js';\nimport {isActiveElement} from '../lib/dom.js';\n\nexport function triggerDatepickerEvent(datepicker, type) {\n  const detail = {\n    date: datepicker.getDate(),\n    viewDate: new Date(datepicker.picker.viewDate),\n    viewId: datepicker.picker.currentView.id,\n    datepicker,\n  };\n  datepicker.element.dispatchEvent(new CustomEvent(type, {detail}));\n}\n\n// direction: -1 (to previous), 1 (to next)\nexport function goToPrevOrNext(datepicker, direction) {\n  const {config, picker} = datepicker;\n  const {currentView, viewDate} = picker;\n  let newViewDate;\n  switch (currentView.id) {\n    case 0:\n      newViewDate = addMonths(viewDate, direction);\n      break;\n    case 1:\n      newViewDate = addYears(viewDate, direction);\n      break;\n    default:\n      newViewDate = addYears(viewDate, direction * currentView.navStep);\n  }\n  newViewDate = limitToRange(newViewDate, config.minDate, config.maxDate);\n  picker.changeFocus(newViewDate).render();\n}\n\nexport function switchView(datepicker) {\n  const viewId = datepicker.picker.currentView.id;\n  if (viewId === datepicker.config.maxView) {\n    return;\n  }\n  datepicker.picker.changeView(viewId + 1).render();\n}\n\nexport function clearSelection(datepicker) {\n  datepicker.setDate({clear: true});\n}\n\nexport function goToOrSelectToday(datepicker) {\n  const currentDate = today();\n  if (datepicker.config.todayButtonMode === 1) {\n    datepicker.setDate(currentDate, {forceRefresh: true, viewDate: currentDate});\n  } else {\n    datepicker.setFocusedDate(currentDate, true);\n  }\n}\n\nexport function unfocus(datepicker) {\n  const onBlur = () => {\n    if (datepicker.config.updateOnBlur) {\n      datepicker.update({revert: true});\n    } else {\n      datepicker.refresh('input');\n    }\n    datepicker.hide();\n  };\n  const element = datepicker.element;\n\n  if (isActiveElement(element)) {\n    element.addEventListener('blur', onBlur, {once: true});\n  } else {\n    onBlur();\n  }\n}\n","import {addMonths, addYears} from '../lib/date.js';\nimport {findElementInEventPath} from '../lib/event.js';\nimport {goToPrevOrNext, switchView} from './functions.js';\n\nfunction goToSelectedMonthOrYear(datepicker, selection) {\n  const picker = datepicker.picker;\n  const viewDate = new Date(picker.viewDate);\n  const viewId = picker.currentView.id;\n  const newDate = viewId === 1\n    ? addMonths(viewDate, selection - viewDate.getMonth())\n    : addYears(viewDate, selection - viewDate.getFullYear());\n\n  picker.changeFocus(newDate).changeView(viewId - 1).render();\n}\n\nexport function onClickViewSwitch(datepicker) {\n  switchView(datepicker);\n}\n\nexport function onClickPrevButton(datepicker) {\n  goToPrevOrNext(datepicker, -1);\n}\n\nexport function onClickNextButton(datepicker) {\n  goToPrevOrNext(datepicker, 1);\n}\n\n// For the picker's main block to delegete the events from `datepicker-cell`s\nexport function onClickView(datepicker, ev) {\n  const target = findElementInEventPath(ev, '.datepicker-cell');\n  if (!target || target.classList.contains('disabled')) {\n    return;\n  }\n\n  const {id, isMinView} = datepicker.picker.currentView;\n  const data = target.dataset;\n  if (isMinView) {\n    datepicker.setDate(Number(data.date));\n  } else if (id === 1) {\n    goToSelectedMonthOrYear(datepicker, Number(data.month));\n  } else {\n    goToSelectedMonthOrYear(datepicker, Number(data.year));\n  }\n}\n\nexport function onMousedownPicker(ev) {\n  ev.preventDefault();\n}\n","import {lastItemOf, isInRange, limitToRange} from '../lib/utils.js';\nimport {today, regularizeDate} from '../lib/date.js';\nimport {\n  parseHTML,\n  getParent,\n  showElement,\n  hideElement,\n  emptyChildNodes,\n} from '../lib/dom.js';\nimport {registerListeners} from '../lib/event.js';\nimport pickerTemplate from './templates/pickerTemplate.js';\nimport DaysView from './views/DaysView.js';\nimport MonthsView from './views/MonthsView.js';\nimport YearsView from './views/YearsView.js';\nimport {\n  triggerDatepickerEvent,\n  clearSelection,\n  goToOrSelectToday,\n} from '../events/functions.js';\nimport {\n  onClickViewSwitch,\n  onClickPrevButton,\n  onClickNextButton,\n  onClickView,\n  onMousedownPicker,\n} from '../events/pickerListeners.js';\n\nconst orientClasses = ['left', 'top', 'right', 'bottom'].reduce((obj, key) => {\n  obj[key] = `datepicker-orient-${key}`;\n  return obj;\n}, {});\nconst toPx = num => num ? `${num}px` : num;\n\nfunction processPickerOptions(picker, options) {\n  if ('title' in options) {\n    if (options.title) {\n      picker.controls.title.textContent = options.title;\n      showElement(picker.controls.title);\n    } else {\n      picker.controls.title.textContent = '';\n      hideElement(picker.controls.title);\n    }\n  }\n  if (options.prevArrow) {\n    const prevButton = picker.controls.prevButton;\n    emptyChildNodes(prevButton);\n    options.prevArrow.forEach((node) => {\n      prevButton.appendChild(node.cloneNode(true));\n    });\n  }\n  if (options.nextArrow) {\n    const nextButton = picker.controls.nextButton;\n    emptyChildNodes(nextButton);\n    options.nextArrow.forEach((node) => {\n      nextButton.appendChild(node.cloneNode(true));\n    });\n  }\n  if (options.locale) {\n    picker.controls.todayButton.textContent = options.locale.today;\n    picker.controls.clearButton.textContent = options.locale.clear;\n  }\n  if ('todayButton' in options) {\n    if (options.todayButton) {\n      showElement(picker.controls.todayButton);\n    } else {\n      hideElement(picker.controls.todayButton);\n    }\n  }\n  if ('minDate' in options || 'maxDate' in options) {\n    const {minDate, maxDate} = picker.datepicker.config;\n    picker.controls.todayButton.disabled = !isInRange(today(), minDate, maxDate);\n  }\n  if ('clearButton' in options) {\n    if (options.clearButton) {\n      showElement(picker.controls.clearButton);\n    } else {\n      hideElement(picker.controls.clearButton);\n    }\n  }\n}\n\n// Compute view date to reset, which will be...\n// - the last item of the selected dates or defaultViewDate if no selection\n// - limitted to minDate or maxDate if it exceeds the range\nfunction computeResetViewDate(datepicker) {\n  const {dates, config, rangeSideIndex} = datepicker;\n  const viewDate = dates.length > 0\n    ? lastItemOf(dates)\n    : regularizeDate(config.defaultViewDate, config.pickLevel, rangeSideIndex);\n  return limitToRange(viewDate, config.minDate, config.maxDate);\n}\n\n// Change current view's view date\nfunction setViewDate(picker, newDate) {\n  if (!('_oldViewDate' in picker) && newDate !== picker.viewDate) {\n    picker._oldViewDate = picker.viewDate;\n  }\n  picker.viewDate = newDate;\n\n  // return whether the new date is in different period on time from the one\n  // displayed in the current view\n  // when true, the view needs to be re-rendered on the next UI refresh.\n  const {id, year, first, last} = picker.currentView;\n  const viewYear = new Date(newDate).getFullYear();\n  switch (id) {\n    case 0:\n      return newDate < first || newDate > last;\n    case 1:\n      return viewYear !== year;\n    default:\n      return viewYear < first || viewYear > last;\n  }\n}\n\nfunction getTextDirection(el) {\n  return window.getComputedStyle(el).direction;\n}\n\n// find the closet scrollable ancestor elemnt under the body\nfunction findScrollParents(el) {\n  const parent = getParent(el);\n  if (parent === document.body || !parent) {\n    return;\n  }\n\n  // checking overflow only is enough because computed overflow cannot be\n  // visible or a combination of visible and other when either axis is set\n  // to other than visible.\n  // (Setting one axis to other than 'visible' while the other is 'visible'\n  // results in the other axis turning to 'auto')\n  return window.getComputedStyle(parent).overflow !== 'visible'\n    ? parent\n    : findScrollParents(parent);\n}\n\n// Class representing the picker UI\nexport default class Picker {\n  constructor(datepicker) {\n    const {config, inputField} = this.datepicker = datepicker;\n\n    const template = pickerTemplate.replace(/%buttonClass%/g, config.buttonClass);\n    const element = this.element = parseHTML(template).firstChild;\n    const [header, main, footer] = element.firstChild.children;\n    const title = header.firstElementChild;\n    const [prevButton, viewSwitch, nextButton] = header.lastElementChild.children;\n    const [todayButton, clearButton] = footer.firstChild.children;\n    const controls = {\n      title,\n      prevButton,\n      viewSwitch,\n      nextButton,\n      todayButton,\n      clearButton,\n    };\n    this.main = main;\n    this.controls = controls;\n\n    const elementClass = inputField ? 'dropdown' : 'inline';\n    element.classList.add(`datepicker-${elementClass}`);\n\n    processPickerOptions(this, config);\n    this.viewDate = computeResetViewDate(datepicker);\n\n    // set up event listeners\n    registerListeners(datepicker, [\n      [element, 'mousedown', onMousedownPicker],\n      [main, 'click', onClickView.bind(null, datepicker)],\n      [controls.viewSwitch, 'click', onClickViewSwitch.bind(null, datepicker)],\n      [controls.prevButton, 'click', onClickPrevButton.bind(null, datepicker)],\n      [controls.nextButton, 'click', onClickNextButton.bind(null, datepicker)],\n      [controls.todayButton, 'click', goToOrSelectToday.bind(null, datepicker)],\n      [controls.clearButton, 'click', clearSelection.bind(null, datepicker)],\n    ]);\n\n    // set up views\n    this.views = [\n      new DaysView(this),\n      new MonthsView(this),\n      new YearsView(this, {id: 2, name: 'years', cellClass: 'year', step: 1}),\n      new YearsView(this, {id: 3, name: 'decades', cellClass: 'decade', step: 10}),\n    ];\n    this.currentView = this.views[config.startView];\n\n    this.currentView.render();\n    this.main.appendChild(this.currentView.element);\n    if (config.container) {\n      config.container.appendChild(this.element);\n    } else {\n      inputField.after(this.element);\n    }\n  }\n\n  setOptions(options) {\n    processPickerOptions(this, options);\n    this.views.forEach((view) => {\n      view.init(options, false);\n    });\n    this.currentView.render();\n  }\n\n  detach() {\n    this.element.remove();\n  }\n\n  show() {\n    if (this.active) {\n      return;\n    }\n\n    const {datepicker, element} = this;\n    const inputField = datepicker.inputField;\n    if (inputField) {\n      // ensure picker's direction matches input's\n      const inputDirection = getTextDirection(inputField);\n      if (inputDirection !== getTextDirection(getParent(element))) {\n        element.dir = inputDirection;\n      } else if (element.dir) {\n        element.removeAttribute('dir');\n      }\n\n      element.style.visibility = 'hidden';\n      element.classList.add('active');\n      this.place();\n      element.style.visibility = '';\n\n      if (datepicker.config.disableTouchKeyboard) {\n        inputField.blur();\n      }\n    } else {\n      element.classList.add('active');\n    }\n    this.active = true;\n    triggerDatepickerEvent(datepicker, 'show');\n  }\n\n  hide() {\n    if (!this.active) {\n      return;\n    }\n    this.datepicker.exitEditMode();\n    this.element.classList.remove('active');\n    this.active = false;\n    triggerDatepickerEvent(this.datepicker, 'hide');\n  }\n\n  place() {\n    const {classList, offsetParent, style} = this.element;\n    const {config, inputField} = this.datepicker;\n    const {\n      width: calendarWidth,\n      height: calendarHeight,\n    } = this.element.getBoundingClientRect();\n    const {\n      left: inputLeft,\n      top: inputTop,\n      right: inputRight,\n      bottom: inputBottom,\n      width: inputWidth,\n      height: inputHeight\n    } = inputField.getBoundingClientRect();\n    let {x: orientX, y: orientY} = config.orientation;\n    let left = inputLeft;\n    let top = inputTop;\n\n    // caliculate offsetLeft/Top of inputField\n    if (offsetParent === document.body || !offsetParent) {\n      left += window.scrollX;\n      top += window.scrollY;\n    } else {\n      const offsetParentRect = offsetParent.getBoundingClientRect();\n      left -= offsetParentRect.left - offsetParent.scrollLeft;\n      top -= offsetParentRect.top - offsetParent.scrollTop;\n    }\n\n    // caliculate the boundaries of the visible area that contains inputField\n    const scrollParent = findScrollParents(inputField);\n    let scrollAreaLeft = 0;\n    let scrollAreaTop = 0;\n    let {\n      clientWidth: scrollAreaRight,\n      clientHeight: scrollAreaBottom,\n    } = document.documentElement;\n\n    if (scrollParent) {\n      const scrollParentRect = scrollParent.getBoundingClientRect();\n      if (scrollParentRect.top > 0) {\n        scrollAreaTop = scrollParentRect.top;\n      }\n      if (scrollParentRect.left > 0) {\n        scrollAreaLeft = scrollParentRect.left;\n      }\n      if (scrollParentRect.right < scrollAreaRight) {\n        scrollAreaRight = scrollParentRect.right;\n      }\n      if (scrollParentRect.bottom < scrollAreaBottom) {\n        scrollAreaBottom = scrollParentRect.bottom;\n      }\n    }\n\n    // determine the horizontal orientation and left position\n    let adjustment = 0;\n    if (orientX === 'auto') {\n      if (inputLeft < scrollAreaLeft) {\n        orientX = 'left';\n        adjustment = scrollAreaLeft - inputLeft;\n      } else if (inputLeft + calendarWidth > scrollAreaRight) {\n        orientX = 'right';\n        if (scrollAreaRight < inputRight) {\n          adjustment = scrollAreaRight - inputRight;\n        }\n      } else if (getTextDirection(inputField) === 'rtl') {\n        orientX = inputRight - calendarWidth < scrollAreaLeft ? 'left' : 'right';\n      } else {\n        orientX = 'left';\n      }\n    }\n    if (orientX === 'right') {\n      left += inputWidth - calendarWidth;\n    }\n    left += adjustment;\n\n    // determine the vertical orientation and top position\n    if (orientY === 'auto') {\n      if (inputTop - calendarHeight > scrollAreaTop) {\n        orientY = inputBottom + calendarHeight > scrollAreaBottom ? 'top' : 'bottom';\n      } else {\n        orientY = 'bottom';\n      }\n    }\n    if (orientY === 'top') {\n      top -= calendarHeight;\n    } else {\n      top += inputHeight;\n    }\n\n    classList.remove(...Object.values(orientClasses));\n    classList.add(orientClasses[orientX], orientClasses[orientY]);\n\n    style.left = toPx(left);\n    style.top = toPx(top);\n  }\n\n  setViewSwitchLabel(labelText) {\n    this.controls.viewSwitch.textContent = labelText;\n  }\n\n  setPrevButtonDisabled(disabled) {\n    this.controls.prevButton.disabled = disabled;\n  }\n\n  setNextButtonDisabled(disabled) {\n    this.controls.nextButton.disabled = disabled;\n  }\n\n  changeView(viewId) {\n    const currentView = this.currentView;\n    if (viewId !== currentView.id) {\n      if (!this._oldView) {\n        this._oldView = currentView;\n      }\n      this.currentView = this.views[viewId];\n      this._renderMethod = 'render';\n    }\n    return this;\n  }\n\n  // Change the focused date (view date)\n  changeFocus(newViewDate) {\n    this._renderMethod = setViewDate(this, newViewDate) ? 'render' : 'refreshFocus';\n    this.views.forEach((view) => {\n      view.updateFocus();\n    });\n    return this;\n  }\n\n  // Apply the change of the selected dates\n  update(viewDate = undefined) {\n    const newViewDate = viewDate === undefined\n      ? computeResetViewDate(this.datepicker)\n      : viewDate;\n    this._renderMethod = setViewDate(this, newViewDate) ? 'render' : 'refresh';\n    this.views.forEach((view) => {\n      view.updateFocus();\n      view.updateSelection();\n    });\n    return this;\n  }\n\n  // Refresh the picker UI\n  render(quickRender = true) {\n    const {currentView, datepicker, _oldView: oldView} = this;\n    const oldViewDate = new Date(this._oldViewDate);\n    const renderMethod = (quickRender && this._renderMethod) || 'render';\n    delete this._oldView;\n    delete this._oldViewDate;\n    delete this._renderMethod;\n\n    currentView[renderMethod]();\n    if (oldView) {\n      this.main.replaceChild(currentView.element, oldView.element);\n      triggerDatepickerEvent(datepicker, 'changeView');\n    }\n    if (!isNaN(oldViewDate)) {\n      const newViewDate = new Date(this.viewDate);\n      if (newViewDate.getFullYear() !== oldViewDate.getFullYear()) {\n        triggerDatepickerEvent(datepicker, 'changeYear');\n      }\n      if (newViewDate.getMonth() !== oldViewDate.getMonth()) {\n        triggerDatepickerEvent(datepicker, 'changeMonth');\n      }\n    }\n  }\n}\n","import {isInRange} from '../lib/utils.js';\nimport {isActiveElement} from '../lib/dom.js';\nimport {addDays, addMonths, addYears} from '../lib/date.js';\nimport {\n  goToPrevOrNext,\n  switchView,\n  clearSelection,\n  goToOrSelectToday,\n  unfocus,\n} from './functions.js';\n\n// Find the closest date that doesn't meet the condition for unavailable date\n// Returns undefined if no available date is found\n// addFn: function to calculate the next date\n//   - args: time value, amount\n// increase: amount to pass to addFn\n// testFn: function to test the unavailability of the date\n//   - args: time value; return: true if unavailable\nfunction findNextAvailableOne(date, addFn, increase, testFn, min, max) {\n  if (!isInRange(date, min, max)) {\n    return;\n  }\n  if (testFn(date)) {\n    const newDate = addFn(date, increase);\n    return findNextAvailableOne(newDate, addFn, increase, testFn, min, max);\n  }\n  return date;\n}\n\n// direction: -1 (left/up), 1 (right/down)\n// vertical: true for up/down, false for left/right\nfunction moveByArrowKey(datepicker, direction, vertical) {\n  const picker = datepicker.picker;\n  const currentView = picker.currentView;\n  const step = currentView.step || 1;\n  let viewDate = picker.viewDate;\n  let addFn;\n  switch (currentView.id) {\n    case 0:\n      viewDate = addDays(viewDate, vertical ? direction * 7 : direction);\n      addFn = addDays;\n      break;\n    case 1:\n      viewDate = addMonths(viewDate, vertical ? direction * 4 : direction);\n      addFn = addMonths;\n      break;\n    default:\n      viewDate = addYears(viewDate, direction * (vertical ? 4 : 1) * step);\n      addFn = addYears;\n  }\n  viewDate = findNextAvailableOne(\n    viewDate,\n    addFn,\n    direction < 0 ? -step : step,\n    (date) => currentView.disabled.includes(date),\n    currentView.minDate,\n    currentView.maxDate\n  );\n  if (viewDate !== undefined) {\n    picker.changeFocus(viewDate).render();\n  }\n}\n\nexport function onKeydown(datepicker, ev) {\n  const {config, picker, editMode} = datepicker;\n  const active = picker.active;\n  const {key, altKey, shiftKey} = ev;\n  const ctrlOrMetaKey = ev.ctrlKey || ev.metaKey;\n  const cancelEvent = () => {\n    ev.preventDefault();\n    ev.stopPropagation();\n  };\n\n  // tab/enter keys should not be taken by shortcut keys\n  if (key === 'Tab') {\n    unfocus(datepicker);\n    return;\n  }\n  if (key === 'Enter') {\n    if (!active) {\n      datepicker.update();\n    } else if (editMode) {\n      datepicker.exitEditMode({update: true, autohide: config.autohide});\n    } else {\n      const currentView = picker.currentView;\n      if (currentView.isMinView) {\n        datepicker.setDate(picker.viewDate);\n      } else {\n        picker.changeView(currentView.id - 1).render();\n        cancelEvent();\n      }\n    }\n    return;\n  }\n\n  const shortcutKeys = config.shortcutKeys;\n  const keyInfo = {key, ctrlOrMetaKey, altKey, shiftKey};\n  const shortcut = Object.keys(shortcutKeys).find((item) => {\n    const keyDef = shortcutKeys[item];\n    return !Object.keys(keyDef).find(prop => keyDef[prop] !== keyInfo[prop]);\n  });\n  if (shortcut) {\n    let action;\n    if (shortcut === 'toggle') {\n      action = shortcut;\n    } else if (editMode) {\n      if (shortcut === 'exitEditMode') {\n        action = shortcut;\n      }\n    } else if (active) {\n      if (shortcut === 'hide') {\n        action = shortcut;\n      } else if (shortcut === 'prevButton') {\n        action = [goToPrevOrNext, [datepicker, -1]];\n      } else if (shortcut === 'nextButton') {\n        action = [goToPrevOrNext, [datepicker, 1]];\n      } else if (shortcut === 'viewSwitch') {\n        action = [switchView, [datepicker]];\n      } else if (config.clearButton && shortcut === 'clearButton') {\n        action = [clearSelection, [datepicker]];\n      } else if (config.todayButton && shortcut === 'todayButton') {\n        action = [goToOrSelectToday, [datepicker]];\n      }\n    } else if (shortcut === 'show') {\n      action = shortcut;\n    }\n    if (action) {\n      if (Array.isArray(action)) {\n        action[0].apply(null, action[1]);\n      } else {\n        datepicker[action]();\n      }\n      cancelEvent();\n      return;\n    }\n  }\n\n  // perform as a regular <input> when picker in hidden or in edit mode\n  if (!active || editMode) {\n    return;\n  }\n\n  const handleArrowKeyPress = (direction, vertical) => {\n    if (shiftKey || ctrlOrMetaKey || altKey) {\n      datepicker.enterEditMode();\n    } else {\n      moveByArrowKey(datepicker, direction, vertical);\n      ev.preventDefault();\n    }\n  };\n\n  if (key === 'ArrowLeft') {\n    handleArrowKeyPress(-1, false);\n  } else if (key === 'ArrowRight') {\n    handleArrowKeyPress(1, false);\n  } else if (key === 'ArrowUp') {\n    handleArrowKeyPress(-1, true);\n  } else if (key === 'ArrowDown') {\n    handleArrowKeyPress(1, true);\n  } else if (\n    key === 'Backspace'\n    || key === 'Delete'\n      // When autofill is performed, Chromium-based browsers trigger fake\n      // keydown/keyup events that don't have the `key` property (on Edge,\n      // keyup only) in addition to the input event. Therefore, we need to\n      // check the existence of `key`'s value before checking the length.\n      // (issue #144)\n    || (key && key.length === 1 && !ctrlOrMetaKey)\n  ) {\n    datepicker.enterEditMode();\n  }\n}\n\nexport function onFocus(datepicker) {\n  if (datepicker.config.showOnFocus && !datepicker._showing) {\n    datepicker.show();\n  }\n}\n\n// for the prevention for entering edit mode while getting focus on click\nexport function onMousedown(datepicker, ev) {\n  const el = ev.target;\n  if (datepicker.picker.active || datepicker.config.showOnClick) {\n    el._active = isActiveElement(el);\n    el._clicking = setTimeout(() => {\n      delete el._active;\n      delete el._clicking;\n    }, 2000);\n  }\n}\n\nexport function onClickInput(datepicker, ev) {\n  const el = ev.target;\n  if (!el._clicking) {\n    return;\n  }\n  clearTimeout(el._clicking);\n  delete el._clicking;\n\n  if (el._active) {\n    datepicker.enterEditMode();\n  }\n  delete el._active;\n\n  if (datepicker.config.showOnClick) {\n    datepicker.show();\n  }\n}\n\nexport function onPaste(datepicker, ev) {\n  if (ev.clipboardData.types.includes('text/plain')) {\n    datepicker.enterEditMode();\n  }\n}\n","import {isActiveElement} from '../lib/dom.js';\nimport {findElementInEventPath} from '../lib/event.js';\nimport {unfocus} from './functions.js';\n\n// for the `document` to delegate the events from outside the picker/input field\nexport function onClickOutside(datepicker, ev) {\n  const {element, picker} = datepicker;\n  // check both picker's and input's activeness to make updateOnBlur work in\n  // the cases where...\n  // - picker is hidden by ESC key press â†’ input stays focused\n  // - input is unfocused by closing mobile keyboard â†’ piker is kept shown\n  if (!picker.active && !isActiveElement(element)) {\n    return;\n  }\n  const pickerElem = picker.element;\n  if (findElementInEventPath(ev, el => el === element || el === pickerElem)) {\n    return;\n  }\n  unfocus(datepicker);\n}\n","import {lastItemOf, stringToArray, isInRange} from './lib/utils.js';\nimport {today, regularizeDate} from './lib/date.js';\nimport {parseDate, formatDate} from './lib/date-format.js';\nimport {isActiveElement} from './lib/dom.js';\nimport {registerListeners, unregisterListeners} from './lib/event.js';\nimport locales from './i18n/base-locales.js';\nimport defaultOptions from './options/defaultOptions.js';\nimport processOptions from './options/processOptions.js';\nimport createShortcutKeyConfig from './options/shortcutKeys.js';\nimport Picker from './picker/Picker.js';\nimport {triggerDatepickerEvent} from './events/functions.js';\nimport {\n  onKeydown,\n  onFocus,\n  onMousedown,\n  onClickInput,\n  onPaste,\n} from './events/elementListeners.js';\nimport {onClickOutside} from './events/otherListeners.js';\n\nfunction stringifyDates(dates, config) {\n  return dates\n    .map(dt => formatDate(dt, config.format, config.locale))\n    .join(config.dateDelimiter);\n}\n\n// parse input dates and create an array of time values for selection\n// returns undefined if there are no valid dates in inputDates\n// when origDates (current selection) is passed, the function works to mix\n// the input dates into the current selection\nfunction processInputDates(datepicker, inputDates, clear = false) {\n  if (inputDates.length === 0) {\n    // empty input is considered valid unless origiDates is passed\n    return clear ? [] : undefined;\n  }\n\n  const {config, dates: origDates, rangeSideIndex} = datepicker;\n  const {pickLevel, maxNumberOfDates} = config;\n  let newDates = inputDates.reduce((dates, dt) => {\n    let date = parseDate(dt, config.format, config.locale);\n    if (date === undefined) {\n      return dates;\n    }\n    // adjust to 1st of the month/Jan 1st of the year\n    // or to the last day of the monh/Dec 31st of the year if the datepicker\n    // is the range-end picker of a rangepicker\n    date = regularizeDate(date, pickLevel, rangeSideIndex);\n    if (\n      isInRange(date, config.minDate, config.maxDate)\n      && !dates.includes(date)\n      && !config.checkDisabled(date, pickLevel)\n      && (pickLevel > 0 || !config.daysOfWeekDisabled.includes(new Date(date).getDay()))\n    ) {\n      dates.push(date);\n    }\n    return dates;\n  }, []);\n  if (newDates.length === 0) {\n    return;\n  }\n  if (config.multidate && !clear) {\n    // get the synmetric difference between origDates and newDates\n    newDates = newDates.reduce((dates, date) => {\n      if (!origDates.includes(date)) {\n        dates.push(date);\n      }\n      return dates;\n    }, origDates.filter(date => !newDates.includes(date)));\n  }\n  // do length check always because user can input multiple dates regardless of the mode\n  return maxNumberOfDates && newDates.length > maxNumberOfDates\n    ? newDates.slice(maxNumberOfDates * -1)\n    : newDates;\n}\n\n// refresh the UI elements\n// modes: 1: input only, 2, picker only, 3 both\nfunction refreshUI(datepicker, mode = 3, quickRender = true, viewDate = undefined) {\n  const {config, picker, inputField} = datepicker;\n  if (mode & 2) {\n    const newView = picker.active ? config.pickLevel : config.startView;\n    picker.update(viewDate).changeView(newView).render(quickRender);\n  }\n  if (mode & 1 && inputField) {\n    inputField.value = stringifyDates(datepicker.dates, config);\n  }\n}\n\nfunction setDate(datepicker, inputDates, options) {\n  const config = datepicker.config;\n  let {clear, render, autohide, revert, forceRefresh, viewDate} = options;\n  if (render === undefined) {\n    render = true;\n  }\n  if (!render) {\n    autohide = forceRefresh = false;\n  } else if (autohide === undefined) {\n    autohide = config.autohide;\n  }\n  viewDate = parseDate(viewDate, config.format, config.locale);\n\n  const newDates = processInputDates(datepicker, inputDates, clear);\n  if (!newDates && !revert) {\n    return;\n  }\n  if (newDates && newDates.toString() !== datepicker.dates.toString()) {\n    datepicker.dates = newDates;\n    refreshUI(datepicker, render ? 3 : 1, true, viewDate);\n    triggerDatepickerEvent(datepicker, 'changeDate');\n  } else {\n    refreshUI(datepicker, forceRefresh ? 3 : 1, true, viewDate);\n  }\n\n  if (autohide) {\n    datepicker.hide();\n  }\n}\n\nfunction getOutputConverter(datepicker, format) {\n  return format\n    ? date => formatDate(date, format, datepicker.config.locale)\n    : date => new Date(date);\n}\n\n/**\n * Class representing a date picker\n */\nexport default class Datepicker {\n  /**\n   * Create a date picker\n   * @param  {Element} element - element to bind a date picker\n   * @param  {Object} [options] - config options\n   * @param  {DateRangePicker} [rangepicker] - DateRangePicker instance the\n   * date picker belongs to. Use this only when creating date picker as a part\n   * of date range picker\n   */\n  constructor(element, options = {}, rangepicker = undefined) {\n    element.datepicker = this;\n    this.element = element;\n    this.dates = [];\n\n    // initialize config\n    const config = this.config = Object.assign({\n      buttonClass: (options.buttonClass && String(options.buttonClass)) || 'button',\n      container: null,\n      defaultViewDate: today(),\n      maxDate: undefined,\n      minDate: undefined,\n    }, processOptions(defaultOptions, this));\n\n    // configure by type\n    let inputField;\n    if (element.tagName === 'INPUT') {\n      inputField = this.inputField = element;\n      inputField.classList.add('datepicker-input');\n      if (options.container) {\n        // omit string type check because it doesn't guarantee to avoid errors\n        // (invalid selector string causes abend with sytax error)\n        config.container = options.container instanceof HTMLElement\n          ? options.container\n          : document.querySelector(options.container);\n      }\n    } else {\n      config.container = element;\n    }\n    if (rangepicker) {\n      // check validiry\n      const index = rangepicker.inputs.indexOf(inputField);\n      const datepickers = rangepicker.datepickers;\n      if (index < 0 || index > 1 || !Array.isArray(datepickers)) {\n        throw Error('Invalid rangepicker object.');\n      }\n      // attach itaelf to the rangepicker here so that processInputDates() can\n      // determine if this is the range-end picker of the rangepicker while\n      // setting inital values when pickLevel > 0\n      datepickers[index] = this;\n      this.rangepicker = rangepicker;\n      this.rangeSideIndex = index;\n    }\n\n    // set up config\n    this._options = options;\n    Object.assign(config, processOptions(options, this));\n    config.shortcutKeys = createShortcutKeyConfig(options.shortcutKeys || {});\n\n    // process initial value\n    const initialDates = stringToArray(\n      element.value || element.dataset.date,\n      config.dateDelimiter\n    );\n    delete element.dataset.date;\n    const inputDateValues = processInputDates(this, initialDates);\n    if (inputDateValues && inputDateValues.length > 0) {\n      this.dates = inputDateValues;\n    }\n    if (inputField) {\n      inputField.value = stringifyDates(this.dates, config);\n    }\n\n    // set up picekr element\n    const picker = this.picker = new Picker(this);\n\n    const keydownListener = [element, 'keydown', onKeydown.bind(null, this)];\n    if (inputField) {\n      registerListeners(this, [\n        keydownListener,\n        [inputField, 'focus', onFocus.bind(null, this)],\n        [inputField, 'mousedown', onMousedown.bind(null, this)],\n        [inputField, 'click', onClickInput.bind(null, this)],\n        [inputField, 'paste', onPaste.bind(null, this)],\n        // To detect a click on outside, just listening to mousedown is enough,\n        // no need to listen to touchstart.\n        // Actually, listening to touchstart can be a problem because, while\n        // mousedown is fired only on tapping but not on swiping/pinching,\n        // touchstart is fired on swiping/pinching as well.\n        // (issue #95)\n        [document, 'mousedown', onClickOutside.bind(null, this)],\n        [window, 'resize', picker.place.bind(picker)]\n      ]);\n    } else {\n      registerListeners(this, [keydownListener]);\n      this.show();\n    }\n  }\n\n  /**\n   * Format Date object or time value in given format and language\n   * @param  {Date|Number} date - date or time value to format\n   * @param  {String|Object} format - format string or object that contains\n   * toDisplay() custom formatter, whose signature is\n   * - args:\n   *   - date: {Date} - Date instance of the date passed to the method\n   *   - format: {Object} - the format object passed to the method\n   *   - locale: {Object} - locale for the language specified by `lang`\n   * - return:\n   *     {String} formatted date\n   * @param  {String} [lang=en] - language code for the locale to use\n   * @return {String} formatted date\n   */\n  static formatDate(date, format, lang) {\n    return formatDate(date, format, lang && locales[lang] || locales.en);\n  }\n\n  /**\n   * Parse date string\n   * @param  {String|Date|Number} dateStr - date string, Date object or time\n   * value to parse\n   * @param  {String|Object} format - format string or object that contains\n   * toValue() custom parser, whose signature is\n   * - args:\n   *   - dateStr: {String|Date|Number} - the dateStr passed to the method\n   *   - format: {Object} - the format object passed to the method\n   *   - locale: {Object} - locale for the language specified by `lang`\n   * - return:\n   *     {Date|Number} parsed date or its time value\n   * @param  {String} [lang=en] - language code for the locale to use\n   * @return {Number} time value of parsed date\n   */\n  static parseDate(dateStr, format, lang) {\n    return parseDate(dateStr, format, lang && locales[lang] || locales.en);\n  }\n\n  /**\n   * @type {Object} - Installed locales in `[languageCode]: localeObject` format\n   * en`:_English (US)_ is pre-installed.\n   */\n  static get locales() {\n    return locales;\n  }\n\n  /**\n   * @type {Boolean} - Whether the picker element is shown. `true` whne shown\n   */\n  get active() {\n    return !!(this.picker && this.picker.active);\n  }\n\n  /**\n   * @type {HTMLDivElement} - DOM object of picker element\n   */\n  get pickerElement() {\n    return this.picker ? this.picker.element : undefined;\n  }\n\n  /**\n   * Set new values to the config options\n   * @param {Object} options - config options to update\n   */\n  setOptions(options) {\n    const newOptions = processOptions(options, this);\n    Object.assign(this._options, options);\n    Object.assign(this.config, newOptions);\n    this.picker.setOptions(newOptions);\n\n    refreshUI(this, 3);\n  }\n\n  /**\n   * Show the picker element\n   */\n  show() {\n    if (this.inputField) {\n      const {config, inputField} = this;\n      if (inputField.disabled || (inputField.readOnly && !config.enableOnReadonly)) {\n        return;\n      }\n      if (!isActiveElement(inputField) && !config.disableTouchKeyboard) {\n        this._showing = true;\n        inputField.focus();\n        delete this._showing;\n      }\n    }\n    this.picker.show();\n  }\n\n  /**\n   * Hide the picker element\n   * Not available on inline picker\n   */\n  hide() {\n    if (!this.inputField) {\n      return;\n    }\n    this.picker.hide();\n    this.picker.update().changeView(this.config.startView).render();\n  }\n\n  /**\n   * Toggle the display of the picker element\n   * Not available on inline picker\n   *\n   * Unlike hide(), the picker does not return to the start view when hiding.\n   */\n  toggle() {\n    if (!this.picker.active) {\n      this.show();\n    } else if (this.inputField) {\n      this.picker.hide();\n    }\n  }\n\n  /**\n   * Destroy the Datepicker instance\n   * @return {Detepicker} - the instance destroyed\n   */\n  destroy() {\n    this.hide();\n    unregisterListeners(this);\n    this.picker.detach();\n    const element = this.element;\n    element.classList.remove('datepicker-input');\n    delete element.datepicker;\n    return this;\n  }\n\n  /**\n   * Get the selected date(s)\n   *\n   * The method returns a Date object of selected date by default, and returns\n   * an array of selected dates in multidate mode. If format string is passed,\n   * it returns date string(s) formatted in given format.\n   *\n   * @param  {String} [format] - format string to stringify the date(s)\n   * @return {Date|String|Date[]|String[]} - selected date(s), or if none is\n   * selected, empty array in multidate mode and undefined in sigledate mode\n   */\n  getDate(format = undefined) {\n    const callback = getOutputConverter(this, format);\n\n    if (this.config.multidate) {\n      return this.dates.map(callback);\n    }\n    if (this.dates.length > 0) {\n      return callback(this.dates[0]);\n    }\n  }\n\n  /**\n   * Set selected date(s)\n   *\n   * In multidate mode, you can pass multiple dates as a series of arguments\n   * or an array. (Since each date is parsed individually, the type of the\n   * dates doesn't have to be the same.)\n   * The given dates are used to toggle the select status of each date. The\n   * number of selected dates is kept from exceeding the length set to\n   * maxNumberOfDates.\n   *\n   * With clear: true option, the method can be used to clear the selection\n   * and to replace the selection instead of toggling in multidate mode.\n   * If the option is passed with no date arguments or an empty dates array,\n   * it works as \"clear\" (clear the selection then set nothing), and if the\n   * option is passed with new dates to select, it works as \"replace\" (clear\n   * the selection then set the given dates)\n   *\n   * When render: false option is used, the method omits re-rendering the\n   * picker element. In this case, you need to call refresh() method later in\n   * order for the picker element to reflect the changes. The input field is\n   * refreshed always regardless of this option.\n   *\n   * When invalid (unparsable, repeated, disabled or out-of-range) dates are\n   * passed, the method ignores them and applies only valid ones. In the case\n   * that all the given dates are invalid, which is distinguished from passing\n   * no dates, the method considers it as an error and leaves the selection\n   * untouched. (The input field also remains untouched unless revert: true\n   * option is used.)\n   * Replacing the selection with the same date(s) also causes a similar\n   * situation. In both cases, the method does not refresh the picker element\n   * unless forceRefresh: true option is used.\n   *\n   * If viewDate option is used, the method changes the focused date to the\n   * specified date instead of the last item of the selection.\n   *\n   * @param {...(Date|Number|String)|Array} [dates] - Date strings, Date\n   * objects, time values or mix of those for new selection\n   * @param {Object} [options] - function options\n   * - clear: {boolean} - Whether to clear the existing selection\n   *     defualt: false\n   * - render: {boolean} - Whether to re-render the picker element\n   *     default: true\n   * - autohide: {boolean} - Whether to hide the picker element after re-render\n   *     Ignored when used with render: false\n   *     default: config.autohide\n   * - revert: {boolean} - Whether to refresh the input field when all the\n   *     passed dates are invalid\n   *     default: false\n   * - forceRefresh: {boolean} - Whether to refresh the picker element when\n   *     passed dates don't change the existing selection\n   *     default: false\n   * - viewDate: {Date|Number|String} - Date to be focused after setiing date(s)\n   *     default: The last item of the resulting selection, or defaultViewDate\n   *     config option if none is selected\n   */\n  setDate(...args) {\n    const dates = [...args];\n    const opts = {};\n    const lastArg = lastItemOf(args);\n    if (\n      lastArg\n      && typeof lastArg === 'object'\n      && !Array.isArray(lastArg)\n      && !(lastArg instanceof Date)\n    ) {\n      Object.assign(opts, dates.pop());\n    }\n\n    const inputDates = Array.isArray(dates[0]) ? dates[0] : dates;\n    setDate(this, inputDates, opts);\n  }\n\n  /**\n   * Update the selected date(s) with input field's value\n   * Not available on inline picker\n   *\n   * The input field will be refreshed with properly formatted date string.\n   *\n   * In the case that all the entered dates are invalid (unparsable, repeated,\n   * disabled or out-of-range), which is distinguished from empty input field,\n   * the method leaves the input field untouched as well as the selection by\n   * default. If revert: true option is used in this case, the input field is\n   * refreshed with the existing selection.\n   * The method also doesn't refresh the picker element in this case and when\n   * the entered dates are the same as the existing selection. If\n   * forceRefresh: true option is used, the picker element is refreshed in\n   * these cases too.\n   *\n   * @param  {Object} [options] - function options\n   * - autohide: {boolean} - whether to hide the picker element after refresh\n   *     default: false\n   * - revert: {boolean} - Whether to refresh the input field when all the\n   *     passed dates are invalid\n   *     default: false\n   * - forceRefresh: {boolean} - Whether to refresh the picer element when\n   *     input field's value doesn't change the existing selection\n   *     default: false\n   */\n  update(options = undefined) {\n    if (!this.inputField) {\n      return;\n    }\n\n    const opts = Object.assign(options || {}, {clear: true, render: true, viewDate: undefined});\n    const inputDates = stringToArray(this.inputField.value, this.config.dateDelimiter);\n    setDate(this, inputDates, opts);\n  }\n\n  /**\n   * Get the focused date\n   *\n   * The method returns a Date object of focused date by default. If format\n   * string is passed, it returns date string formatted in given format.\n   *\n   * @param  {String} [format] - format string to stringify the date\n   * @return {Date|String} - focused date (viewDate)\n   */\n  getFocusedDate(format = undefined) {\n    return getOutputConverter(this, format)(this.picker.viewDate);\n  }\n\n  /**\n   * Set focused date\n   *\n   * By default, the method updates the focus on the view shown at the time,\n   * or the one set to the startView config option if the picker is hidden.\n   * When resetView: true is passed, the view displayed is changed to the\n   * pickLevel config option's if the picker is shown.\n   *\n   * @param {Date|Number|String} viewDate - date string, Date object, time\n   * values of the date to focus\n   * @param {Boolean} [resetView] - whether to change the view to pickLevel\n   * config option's when the picker is shown. Ignored when the picker is\n   * hidden\n   */\n  setFocusedDate(viewDate, resetView = false) {\n    const {config, picker, active, rangeSideIndex} = this;\n    const pickLevel = config.pickLevel;\n    const newViewDate = parseDate(viewDate, config.format, config.locale);\n    if (newViewDate === undefined) {\n      return;\n    }\n\n    picker.changeFocus(regularizeDate(newViewDate, pickLevel, rangeSideIndex));\n    if (active && resetView) {\n      picker.changeView(pickLevel);\n    }\n    picker.render();\n  }\n\n  /**\n   * Refresh the picker element and the associated input field\n   * @param {String} [target] - target item when refreshing one item only\n   * 'picker' or 'input'\n   * @param {Boolean} [forceRender] - whether to re-render the picker element\n   * regardless of its state instead of optimized refresh\n   */\n  refresh(target = undefined, forceRender = false) {\n    if (target && typeof target !== 'string') {\n      forceRender = target;\n      target = undefined;\n    }\n\n    let mode;\n    if (target === 'picker') {\n      mode = 2;\n    } else if (target === 'input') {\n      mode = 1;\n    } else {\n      mode = 3;\n    }\n    refreshUI(this, mode, !forceRender);\n  }\n\n  /**\n   * Enter edit mode\n   * Not available on inline picker or when the picker element is hidden\n   */\n  enterEditMode() {\n    const inputField = this.inputField;\n    if (!inputField || inputField.readOnly || !this.picker.active || this.editMode) {\n      return;\n    }\n    this.editMode = true;\n    inputField.classList.add('in-edit');\n  }\n\n  /**\n   * Exit from edit mode\n   * Not available on inline picker\n   * @param  {Object} [options] - function options\n   * - update: {boolean} - whether to call update() after exiting\n   *     If false, input field is revert to the existing selection\n   *     default: false\n   */\n  exitEditMode(options = undefined) {\n    if (!this.inputField || !this.editMode) {\n      return;\n    }\n    const opts = Object.assign({update: false}, options);\n    delete this.editMode;\n    this.inputField.classList.remove('in-edit');\n    if (opts.update) {\n      this.update(opts);\n    }\n  }\n}\n","export enum DatepickerTypeEnum {\n  date = 0,\n  month = 1,\n  year = 2,\n  week = 3\n}\n\nexport type DatepickerType = keyof typeof DatepickerTypeEnum;\n","import { Datepicker } from 'vanillajs-datepicker';\nimport { DatepickerType, DatepickerTypeEnum } from './datepicker-type';\nimport dayjs, { today } from './dayjs.config';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\nconst browserLanguage = window?.navigator?.language ?? 'en';\n\nconst getDefaultDate = (type: DatepickerType, selectedDate?: string): Date => {\n  const date = selectedDate ? dayjs(selectedDate).toDate() : today();\n  return type === 'week' ? dayjs(date).startOf('isoWeek').toDate() : date;\n};\n\nexport function getDatepickerOptions(type: DatepickerType, selectedDate?: string) {\n  const config: object = {\n    enableOnReadonly: false,\n    pickLevel: DatepickerTypeEnum[type],\n    todayButton: true,\n    todayButtonMode: 1,\n    todayHighlight: true,\n    weekStart: 1, // TO-DO get value from browser Intl.Locale().weekInfo api which is not supported by Firefox or other browsers\n    language: 'browser',\n    defaultViewDate: getDefaultDate(type, selectedDate)\n  };\n  return config;\n}\n\nfunction daysForLocale(weekday: 'long' | 'short' | 'narrow' = 'long') {\n  const date = new Date();\n  const firstDayOfWeek = new Date(date.setUTCDate(date.getUTCDate() - date.getUTCDay()));\n  const format = new Intl.DateTimeFormat(browserLanguage, { weekday }).format;\n  return [...Array(7).keys()].map(day => format(firstDayOfWeek.setUTCDate(firstDayOfWeek.getUTCDate() + day)));\n}\n\nfunction monthsForLocale(month: 'long' | 'short' = 'long') {\n  const date = new Date();\n  const format = new Intl.DateTimeFormat(browserLanguage, { month }).format;\n  return [...Array(12).keys()].map(month => format(date.setUTCMonth(month)));\n}\n\nif (Datepicker?.locales?.browser) {\n  Datepicker.locales.browser = {\n    days: daysForLocale('long'),\n    daysShort: daysForLocale('short'),\n    daysMin: daysForLocale('narrow'),\n    months: monthsForLocale('long'),\n    monthsShort: monthsForLocale('short'),\n    today: i18n.t('input.today')\n  };\n}\n\nexport default Datepicker;\n","@use './vanillajs-datepicker';\n","import { Component, Element, Event, EventEmitter, Host, Method, Prop, State, h } from '@stencil/core';\nimport log from 'loglevel';\nimport { ErrorMap } from '../cat-form-hint/cat-form-hint';\nimport { DatepickerType } from './datepicker-type';\nimport dayjs from './dayjs.config';\nimport Datepicker, { getDatepickerOptions } from './vanillajs-datepicker.config';\n\n/**\n * Inputs are used to allow users to provide text input when the expected input\n * is short. As well as plain text, Input supports various types of text,\n * including passwords and numbers.\n *\n * @slot hint - Optional hint element to be displayed with the input.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part label - The label content.\n */\n@Component({\n  tag: 'cat-datepicker',\n  styleUrl: 'cat-datepicker.scss',\n  shadow: true\n})\nexport class CatDatepicker {\n  private input!: HTMLInputElement;\n  private catInput!: HTMLCatInputElement;\n  private datepicker!: any;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  @State() hasSlottedHint = false;\n\n  /**\n   * Whether the label need a marker to shown if the input is required or optional.\n   */\n  @Prop() requiredMarker: 'none' | 'required' | 'optional' | 'none!' | 'optional!' | 'required!' = 'optional';\n\n  /**\n   * Whether the label is on top or left.\n   */\n  @Prop() horizontal = false;\n\n  /**\n   * Hint for form autofill feature.\n   */\n  @Prop() autoComplete?: string;\n\n  /**\n   * Whether the input should show a clear button.\n   */\n  @Prop() clearable = false;\n\n  /**\n   * Whether the input is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Optional hint text(s) to be displayed with the input.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * The name of an icon to be displayed in the input.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * Display the icon on the left.\n   */\n  @Prop() iconLeft = false;\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label for the input.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A maximum value for date, time and numeric values.\n   */\n  @Prop() max?: number | string;\n\n  /**\n   * A minimum value for date, time and numeric values.\n   */\n  @Prop() min?: number | string;\n\n  /**\n   * The name of the form control. Submitted with the form as part of a name/value pair.\n   */\n  @Prop() name?: string;\n\n  /**\n   * The placeholder text to display within the input.\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * A textual prefix to be displayed in the input.\n   */\n  @Prop() textPrefix?: string;\n\n  /**\n   * A textual suffix to be displayed in the input.\n   */\n  @Prop() textSuffix?: string;\n\n  /**\n   * The value is not editable.\n   */\n  @Prop() readonly = false;\n\n  /**\n   * A value is required or must be check for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * The date format after picker selection.\n   */\n  @Prop() format = 'mm/dd/yyyy';\n\n  /**\n   * Whether the picker should show the week numbers.\n   */\n  @Prop() weekNumbers = true;\n\n  /**\n   * Type of datepicker ('date', 'week', 'month', 'year').\n   */\n  @Prop() type: DatepickerType = 'date';\n\n  /**\n   * Dates that should be disabled inside the picker\n   */\n  @Prop() datesDisabled!: Array<Date> | Array<string>;\n\n  /**\n   * The value of the control.\n   */\n  @Prop({ mutable: true }) value?: string;\n\n  /**\n   * The validation errors for this input. Will render a hint under the input\n   * with the translated error message(s) `error.${key}`. If an object is\n   * passed, the keys will be used as error keys and the values translation\n   * parameters.\n   * If the value is `true`, the input will be marked as invalid without any\n   * hints under the input.\n   */\n  @Prop() errors?: boolean | string[] | ErrorMap;\n\n  /**\n   * Fine-grained control over when the errors are shown. Can be `false` to\n   * never show errors, `true` to show errors on blur, or a number to show\n   * errors on change with the given delay in milliseconds.\n   */\n  @Prop() errorUpdate: boolean | number = 0;\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter<InputEvent>;\n\n  /**\n   * Emitted when the input received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the input loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  /**\n   * Programmatically move focus to the input. Use this method instead of\n   * `input.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this.input.focus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the input. Use this method instead of\n   * `input.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.input.blur();\n  }\n\n  /**\n   * Programmatically simulate a click on the input.\n   */\n  @Method()\n  async doClick(): Promise<void> {\n    this.input.click();\n  }\n\n  /**\n   * Clear the input.\n   */\n  @Method()\n  async clear(): Promise<void> {\n    this.value = '';\n  }\n\n  componentWillRender(): void {\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n  }\n\n  render() {\n    return (\n      <Host>\n        <cat-input\n          ref={el => (this.catInput = el as HTMLCatInputElement)}\n          requiredMarker={this.requiredMarker}\n          horizontal={this.horizontal}\n          autoComplete={this.autoComplete}\n          clearable={this.clearable}\n          disabled={this.disabled}\n          hint={this.hint}\n          icon={this.icon}\n          iconRight={!this.iconLeft}\n          identifier={this.identifier}\n          label={this.label}\n          labelHidden={this.labelHidden}\n          name={this.name}\n          placeholder={this.placeholder}\n          textPrefix={this.textPrefix}\n          textSuffix={this.textSuffix}\n          readonly={this.readonly}\n          required={this.required}\n          value={this.value}\n          errors={this.errors}\n          errorUpdate={this.errorUpdate}\n          nativeAttributes={this.nativeAttributes}\n          onCatChange={event => this.onCatChange(event)}\n          onCatFocus={event => this.onCatFocus(event.detail)}\n          onCatBlur={event => this.onCatBlur(event.detail)}\n        >\n          {this.hasSlottedLabel && (\n            <span slot=\"label\">\n              <slot name=\"label\"></slot>\n            </span>\n          )}\n          {this.hasSlottedHint && (\n            <span slot=\"hint\">\n              <slot name=\"hint\"></slot>\n            </span>\n          )}\n        </cat-input>\n      </Host>\n    );\n  }\n\n  componentDidLoad() {\n    if (this.hostElement) {\n      const inputWrapper = this.catInput.shadowRoot?.querySelector('.input-wrapper') as HTMLElement;\n      const inputElement = inputWrapper?.querySelector('input');\n\n      if (inputElement) {\n        this.input = inputElement;\n      } else {\n        log.error('[CatInput] Missing input element', this);\n        return;\n      }\n\n      this.datepicker = new Datepicker(inputElement, {\n        ...getDatepickerOptions(this.type, this.value),\n        container: inputWrapper,\n        maxDate: this.max,\n        minDate: this.min,\n        datesDisabled: this.datesDisabled,\n        prevArrow: 'â†',\n        nextArrow: 'â†’',\n        weekNumbers: this.weekNumbers ? 1 : 0,\n        format: {\n          toValue: (dateStr: string | Date | number): Date =>\n            this.type === 'week' ? this.fromISOWeek(dateStr) : Datepicker.parseDate(dateStr, this.dateFormat),\n          toDisplay: (date: Date): string =>\n            this.type === 'week' ? this.toISOWeek(date).toString() : Datepicker.formatDate(date, this.dateFormat)\n        },\n        beforeShowDay: (date: Date) => (this.shouldHighlightAsToday(date) ? 'today' : null),\n        beforeShowMonth: (date: Date) => (this.shouldHighlightAsToday(date) ? 'today' : null),\n        beforeShowYear: (date: Date) => (this.shouldHighlightAsToday(date) ? 'today' : null)\n      });\n\n      if (this.type === 'week') {\n        this.datepicker.pickerElement.classList.add('weekly');\n      }\n\n      this.input.addEventListener('show', this.handleWeekDays.bind(this));\n      this.input.addEventListener('changeDate', this.handleDateChange.bind(this) as EventListener);\n      this.input.addEventListener('changeMonth', this.handleWeekDays.bind(this));\n      this.input.addEventListener('changeView', this.handleWeekDays.bind(this));\n      this.input.addEventListener('keydown', this.focusAllWeekDays.bind(this));\n    }\n  }\n\n  disconnectedCallback() {\n    this.input.removeEventListener('show', this.handleWeekDays.bind(this));\n    this.input.removeEventListener('changeDate', this.handleDateChange.bind(this) as EventListener);\n    this.input.removeEventListener('changeMonth', this.handleWeekDays.bind(this));\n    this.input.removeEventListener('changeView', this.handleWeekDays.bind(this));\n    this.input.removeEventListener('keydown', this.focusAllWeekDays.bind(this));\n  }\n\n  private handleDateChange(event: CustomEvent) {\n    this.selectAllWeekDays(event.detail.date);\n    this.value = this.input.value;\n    this.catChange.emit();\n  }\n\n  private handleWeekDays(event: Event | Date) {\n    this.selectAllWeekDays(event);\n    this.focusAllWeekDays();\n  }\n\n  private selectAllWeekDays(event: Event | Date) {\n    const date = event instanceof Date ? event : (event as CustomEvent).detail?.date;\n    if (this.type !== 'week') {\n      return;\n    }\n    if (this.input?.value) {\n      const firstDayOfWeek = dayjs(date).startOf('isoWeek');\n\n      if (!firstDayOfWeek.isSame(dayjs(date).startOf('day'))) {\n        this.datepicker.setDate(firstDayOfWeek.toDate());\n      } else {\n        this.addClassToAllWeekDays('selected');\n      }\n    }\n  }\n\n  private focusAllWeekDays() {\n    const date = dayjs(this.datepicker.picker.viewDate);\n    if (this.type !== 'week' || !date) {\n      return;\n    }\n\n    const firstDayOfWeek = dayjs(date).startOf('isoWeek');\n\n    if (!firstDayOfWeek.isSame(dayjs(date).startOf('day'))) {\n      this.datepicker.setFocusedDate(firstDayOfWeek.toDate());\n    }\n\n    this.addClassToAllWeekDays('focused');\n  }\n\n  private addClassToAllWeekDays(className: string) {\n    let weekdaysCount = 7;\n    const pickerElement = this.datepicker.pickerElement as HTMLElement;\n    let selected = pickerElement.querySelector(`.datepicker-cell:not(.month):not(.year).${className}`);\n    while (weekdaysCount > 1) {\n      if (selected) {\n        selected = selected.nextElementSibling;\n        selected?.classList.add(className);\n        weekdaysCount--;\n      } else {\n        break;\n      }\n    }\n  }\n\n  private onCatChange(event: unknown) {\n    this.value = this.input.value;\n    this.catChange.emit(event as InputEvent);\n  }\n\n  private onCatFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onCatBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n  }\n\n  private shouldHighlightAsToday(date: Date) {\n    const now = new Date();\n    const isSameYear = now.getFullYear() === date.getFullYear();\n    const isSameMonth = now.getMonth() === date.getMonth();\n    const isSameDay = now.getDate() === date.getDate();\n    switch (this.type) {\n      case 'date':\n        return isSameYear && isSameMonth && isSameDay;\n      case 'week':\n        return isSameYear && this.toISOWeek(now) === this.toISOWeek(date);\n      case 'month':\n        return isSameYear && isSameMonth;\n      case 'year':\n        return isSameYear;\n      default:\n        return false;\n    }\n  }\n\n  // ----- Date handling\n\n  private get dateFormat(): string {\n    const date = new Date(Date.UTC(3333, 10, 22));\n    const dateStr = new Intl.DateTimeFormat('en-US', {\n      year: 'numeric',\n      month: this.type !== 'year' ? 'numeric' : undefined,\n      day: this.type === 'date' || this.type === 'week' ? 'numeric' : undefined\n    }).format(date);\n    return dateStr.replace('22', 'dd').replace('11', 'mm').replace('3333', 'yyyy');\n  }\n\n  private fromISOWeek(week: string | Date | number): Date {\n    if (typeof week === 'string' || typeof week === 'number') {\n      const weekNumber = parseInt(week.toString(), 10);\n      return isNaN(weekNumber) ? new Date() : this.fromISOWeekNumber(weekNumber);\n    }\n    return week;\n  }\n\n  private fromISOWeekNumber(weekNumber: number, year = new Date().getFullYear()): Date {\n    const refDate = new Date(Date.UTC(year, 0, 4)); // January 4th\n    const diffDays = (weekNumber - 1) * 7 - (refDate.getUTCDay() || 7) + 1;\n    const date = new Date(refDate);\n    date.setUTCDate(date.getUTCDate() + diffDays);\n    return date;\n  }\n\n  private toISOWeek(date: Date): number {\n    const currentDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\n    currentDate.setUTCDate(currentDate.getUTCDate() + 4 - (currentDate.getUTCDay() || 7));\n    const firstDayOfYear = new Date(Date.UTC(currentDate.getUTCFullYear(), 0, 1));\n    return Math.ceil(((currentDate.getTime() - firstDayOfYear.getTime()) / 86400000 + 1) / 7);\n  }\n}\n","export var HOOKS = [\n    \"onChange\",\n    \"onClose\",\n    \"onDayCreate\",\n    \"onDestroy\",\n    \"onKeyDown\",\n    \"onMonthChange\",\n    \"onOpen\",\n    \"onParseConfig\",\n    \"onReady\",\n    \"onValueUpdate\",\n    \"onYearChange\",\n    \"onPreCalendarPosition\",\n];\nexport var defaults = {\n    _disable: [],\n    allowInput: false,\n    allowInvalidPreload: false,\n    altFormat: \"F j, Y\",\n    altInput: false,\n    altInputClass: \"form-control input\",\n    animate: typeof window === \"object\" &&\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n    ariaDateFormat: \"F j, Y\",\n    autoFillDefaultTime: true,\n    clickOpens: true,\n    closeOnSelect: true,\n    conjunction: \", \",\n    dateFormat: \"Y-m-d\",\n    defaultHour: 12,\n    defaultMinute: 0,\n    defaultSeconds: 0,\n    disable: [],\n    disableMobile: false,\n    enableSeconds: false,\n    enableTime: false,\n    errorHandler: function (err) {\n        return typeof console !== \"undefined\" && console.warn(err);\n    },\n    getWeek: function (givenDate) {\n        var date = new Date(givenDate.getTime());\n        date.setHours(0, 0, 0, 0);\n        date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n        var week1 = new Date(date.getFullYear(), 0, 4);\n        return (1 +\n            Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                3 +\n                ((week1.getDay() + 6) % 7)) /\n                7));\n    },\n    hourIncrement: 1,\n    ignoredFocusElements: [],\n    inline: false,\n    locale: \"default\",\n    minuteIncrement: 5,\n    mode: \"single\",\n    monthSelectorType: \"dropdown\",\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n    noCalendar: false,\n    now: new Date(),\n    onChange: [],\n    onClose: [],\n    onDayCreate: [],\n    onDestroy: [],\n    onKeyDown: [],\n    onMonthChange: [],\n    onOpen: [],\n    onParseConfig: [],\n    onReady: [],\n    onValueUpdate: [],\n    onYearChange: [],\n    onPreCalendarPosition: [],\n    plugins: [],\n    position: \"auto\",\n    positionElement: undefined,\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n    shorthandCurrentMonth: false,\n    showMonths: 1,\n    static: false,\n    time_24hr: false,\n    weekNumbers: false,\n    wrap: false,\n};\n","export var english = {\n    weekdays: {\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n        longhand: [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n        ],\n    },\n    months: {\n        shorthand: [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n        ],\n        longhand: [\n            \"January\",\n            \"February\",\n            \"March\",\n            \"April\",\n            \"May\",\n            \"June\",\n            \"July\",\n            \"August\",\n            \"September\",\n            \"October\",\n            \"November\",\n            \"December\",\n        ],\n    },\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    firstDayOfWeek: 0,\n    ordinal: function (nth) {\n        var s = nth % 100;\n        if (s > 3 && s < 21)\n            return \"th\";\n        switch (s % 10) {\n            case 1:\n                return \"st\";\n            case 2:\n                return \"nd\";\n            case 3:\n                return \"rd\";\n            default:\n                return \"th\";\n        }\n    },\n    rangeSeparator: \" to \",\n    weekAbbreviation: \"Wk\",\n    scrollTitle: \"Scroll to increment\",\n    toggleTitle: \"Click to toggle\",\n    amPM: [\"AM\", \"PM\"],\n    yearAriaLabel: \"Year\",\n    monthAriaLabel: \"Month\",\n    hourAriaLabel: \"Hour\",\n    minuteAriaLabel: \"Minute\",\n    time_24hr: false,\n};\nexport default english;\n","export var pad = function (number, length) {\n    if (length === void 0) { length = 2; }\n    return (\"000\" + number).slice(length * -1);\n};\nexport var int = function (bool) { return (bool === true ? 1 : 0); };\nexport function debounce(fn, wait) {\n    var t;\n    return function () {\n        var _this = this;\n        var args = arguments;\n        clearTimeout(t);\n        t = setTimeout(function () { return fn.apply(_this, args); }, wait);\n    };\n}\nexport var arrayify = function (obj) {\n    return obj instanceof Array ? obj : [obj];\n};\n","export function toggleClass(elem, className, bool) {\n    if (bool === true)\n        return elem.classList.add(className);\n    elem.classList.remove(className);\n}\nexport function createElement(tag, className, content) {\n    var e = window.document.createElement(tag);\n    className = className || \"\";\n    content = content || \"\";\n    e.className = className;\n    if (content !== undefined)\n        e.textContent = content;\n    return e;\n}\nexport function clearNode(node) {\n    while (node.firstChild)\n        node.removeChild(node.firstChild);\n}\nexport function findParent(node, condition) {\n    if (condition(node))\n        return node;\n    else if (node.parentNode)\n        return findParent(node.parentNode, condition);\n    return undefined;\n}\nexport function createNumberInput(inputClassName, opts) {\n    var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n    if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n        numInput.type = \"number\";\n    }\n    else {\n        numInput.type = \"text\";\n        numInput.pattern = \"\\\\d*\";\n    }\n    if (opts !== undefined)\n        for (var key in opts)\n            numInput.setAttribute(key, opts[key]);\n    wrapper.appendChild(numInput);\n    wrapper.appendChild(arrowUp);\n    wrapper.appendChild(arrowDown);\n    return wrapper;\n}\nexport function getEventTarget(event) {\n    try {\n        if (typeof event.composedPath === \"function\") {\n            var path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n    catch (error) {\n        return event.target;\n    }\n}\n","import { int, pad } from \"../utils\";\nvar doNothing = function () { return undefined; };\nexport var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\nexport var revFormat = {\n    D: doNothing,\n    F: function (dateObj, monthName, locale) {\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n    },\n    G: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    H: function (dateObj, hour) {\n        dateObj.setHours(parseFloat(hour));\n    },\n    J: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    K: function (dateObj, amPM, locale) {\n        dateObj.setHours((dateObj.getHours() % 12) +\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n    },\n    M: function (dateObj, shortMonth, locale) {\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n    },\n    S: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\n    W: function (dateObj, weekNum, locale) {\n        var weekNumber = parseInt(weekNum);\n        var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n        date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n        return date;\n    },\n    Y: function (dateObj, year) {\n        dateObj.setFullYear(parseFloat(year));\n    },\n    Z: function (_, ISODate) { return new Date(ISODate); },\n    d: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    h: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    i: function (dateObj, minutes) {\n        dateObj.setMinutes(parseFloat(minutes));\n    },\n    j: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    l: doNothing,\n    m: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    n: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    s: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    u: function (_, unixMillSeconds) {\n        return new Date(parseFloat(unixMillSeconds));\n    },\n    w: doNothing,\n    y: function (dateObj, year) {\n        dateObj.setFullYear(2000 + parseFloat(year));\n    },\n};\nexport var tokenRegex = {\n    D: \"\",\n    F: \"\",\n    G: \"(\\\\d\\\\d|\\\\d)\",\n    H: \"(\\\\d\\\\d|\\\\d)\",\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n    K: \"\",\n    M: \"\",\n    S: \"(\\\\d\\\\d|\\\\d)\",\n    U: \"(.+)\",\n    W: \"(\\\\d\\\\d|\\\\d)\",\n    Y: \"(\\\\d{4})\",\n    Z: \"(.+)\",\n    d: \"(\\\\d\\\\d|\\\\d)\",\n    h: \"(\\\\d\\\\d|\\\\d)\",\n    i: \"(\\\\d\\\\d|\\\\d)\",\n    j: \"(\\\\d\\\\d|\\\\d)\",\n    l: \"\",\n    m: \"(\\\\d\\\\d|\\\\d)\",\n    n: \"(\\\\d\\\\d|\\\\d)\",\n    s: \"(\\\\d\\\\d|\\\\d)\",\n    u: \"(.+)\",\n    w: \"(\\\\d\\\\d|\\\\d)\",\n    y: \"(\\\\d{2})\",\n};\nexport var formats = {\n    Z: function (date) { return date.toISOString(); },\n    D: function (date, locale, options) {\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\n    },\n    F: function (date, locale, options) {\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n    },\n    G: function (date, locale, options) {\n        return pad(formats.h(date, locale, options));\n    },\n    H: function (date) { return pad(date.getHours()); },\n    J: function (date, locale) {\n        return locale.ordinal !== undefined\n            ? date.getDate() + locale.ordinal(date.getDate())\n            : date.getDate();\n    },\n    K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\n    M: function (date, locale) {\n        return monthToStr(date.getMonth(), true, locale);\n    },\n    S: function (date) { return pad(date.getSeconds()); },\n    U: function (date) { return date.getTime() / 1000; },\n    W: function (date, _, options) {\n        return options.getWeek(date);\n    },\n    Y: function (date) { return pad(date.getFullYear(), 4); },\n    d: function (date) { return pad(date.getDate()); },\n    h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\n    i: function (date) { return pad(date.getMinutes()); },\n    j: function (date) { return date.getDate(); },\n    l: function (date, locale) {\n        return locale.weekdays.longhand[date.getDay()];\n    },\n    m: function (date) { return pad(date.getMonth() + 1); },\n    n: function (date) { return date.getMonth() + 1; },\n    s: function (date) { return date.getSeconds(); },\n    u: function (date) { return date.getTime(); },\n    w: function (date) { return date.getDay(); },\n    y: function (date) { return String(date.getFullYear()).substring(2); },\n};\n","import { tokenRegex, revFormat, formats, } from \"./formatting\";\nimport { defaults } from \"../types/options\";\nimport { english } from \"../l10n/default\";\nexport var createDateFormatter = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c, _d = _a.isMobile, isMobile = _d === void 0 ? false : _d;\n    return function (dateObj, frmt, overrideLocale) {\n        var locale = overrideLocale || l10n;\n        if (config.formatDate !== undefined && !isMobile) {\n            return config.formatDate(dateObj, frmt, locale);\n        }\n        return frmt\n            .split(\"\")\n            .map(function (c, i, arr) {\n            return formats[c] && arr[i - 1] !== \"\\\\\"\n                ? formats[c](dateObj, locale, config)\n                : c !== \"\\\\\"\n                    ? c\n                    : \"\";\n        })\n            .join(\"\");\n    };\n};\nexport var createDateParser = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n    return function (date, givenFormat, timeless, customLocale) {\n        if (date !== 0 && !date)\n            return undefined;\n        var locale = customLocale || l10n;\n        var parsedDate;\n        var dateOrig = date;\n        if (date instanceof Date)\n            parsedDate = new Date(date.getTime());\n        else if (typeof date !== \"string\" &&\n            date.toFixed !== undefined)\n            parsedDate = new Date(date);\n        else if (typeof date === \"string\") {\n            var format = givenFormat || (config || defaults).dateFormat;\n            var datestr = String(date).trim();\n            if (datestr === \"today\") {\n                parsedDate = new Date();\n                timeless = true;\n            }\n            else if (config && config.parseDate) {\n                parsedDate = config.parseDate(date, format);\n            }\n            else if (/Z$/.test(datestr) ||\n                /GMT$/.test(datestr)) {\n                parsedDate = new Date(date);\n            }\n            else {\n                var matched = void 0, ops = [];\n                for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                    var token = format[i];\n                    var isBackSlash = token === \"\\\\\";\n                    var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                    if (tokenRegex[token] && !escaped) {\n                        regexStr += tokenRegex[token];\n                        var match = new RegExp(regexStr).exec(date);\n                        if (match && (matched = true)) {\n                            ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                                fn: revFormat[token],\n                                val: match[++matchIndex],\n                            });\n                        }\n                    }\n                    else if (!isBackSlash)\n                        regexStr += \".\";\n                }\n                parsedDate =\n                    !config || !config.noCalendar\n                        ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                        : new Date(new Date().setHours(0, 0, 0, 0));\n                ops.forEach(function (_a) {\n                    var fn = _a.fn, val = _a.val;\n                    return (parsedDate = fn(parsedDate, val, locale) || parsedDate);\n                });\n                parsedDate = matched ? parsedDate : undefined;\n            }\n        }\n        if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n            config.errorHandler(new Error(\"Invalid date provided: \" + dateOrig));\n            return undefined;\n        }\n        if (timeless === true)\n            parsedDate.setHours(0, 0, 0, 0);\n        return parsedDate;\n    };\n};\nexport function compareDates(date1, date2, timeless) {\n    if (timeless === void 0) { timeless = true; }\n    if (timeless !== false) {\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\n    }\n    return date1.getTime() - date2.getTime();\n}\nexport function compareTimes(date1, date2) {\n    return (3600 * (date1.getHours() - date2.getHours()) +\n        60 * (date1.getMinutes() - date2.getMinutes()) +\n        date1.getSeconds() -\n        date2.getSeconds());\n}\nexport var isBetween = function (ts, ts1, ts2) {\n    return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\nexport var calculateSecondsSinceMidnight = function (hours, minutes, seconds) {\n    return hours * 3600 + minutes * 60 + seconds;\n};\nexport var parseSeconds = function (secondsSinceMidnight) {\n    var hours = Math.floor(secondsSinceMidnight / 3600), minutes = (secondsSinceMidnight - hours * 3600) / 60;\n    return [hours, minutes, secondsSinceMidnight - hours * 3600 - minutes * 60];\n};\nexport var duration = {\n    DAY: 86400000,\n};\nexport function getDefaultHours(config) {\n    var hours = config.defaultHour;\n    var minutes = config.defaultMinute;\n    var seconds = config.defaultSeconds;\n    if (config.minDate !== undefined) {\n        var minHour = config.minDate.getHours();\n        var minMinutes = config.minDate.getMinutes();\n        var minSeconds = config.minDate.getSeconds();\n        if (hours < minHour) {\n            hours = minHour;\n        }\n        if (hours === minHour && minutes < minMinutes) {\n            minutes = minMinutes;\n        }\n        if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\n            seconds = config.minDate.getSeconds();\n    }\n    if (config.maxDate !== undefined) {\n        var maxHr = config.maxDate.getHours();\n        var maxMinutes = config.maxDate.getMinutes();\n        hours = Math.min(hours, maxHr);\n        if (hours === maxHr)\n            minutes = Math.min(maxMinutes, minutes);\n        if (hours === maxHr && minutes === maxMinutes)\n            seconds = config.maxDate.getSeconds();\n    }\n    return { hours: hours, minutes: minutes, seconds: seconds };\n}\n","\"use strict\";\nif (typeof Object.assign !== \"function\") {\n    Object.assign = function (target) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!target) {\n            throw TypeError(\"Cannot convert undefined or null to object\");\n        }\n        var _loop_1 = function (source) {\n            if (source) {\n                Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\n            }\n        };\n        for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n            var source = args_1[_a];\n            _loop_1(source);\n        }\n        return target;\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { defaults as defaultOptions, HOOKS, } from \"./types/options\";\nimport English from \"./l10n/default\";\nimport { arrayify, debounce, int, pad } from \"./utils\";\nimport { clearNode, createElement, createNumberInput, findParent, toggleClass, getEventTarget, } from \"./utils/dom\";\nimport { compareDates, createDateParser, createDateFormatter, duration, isBetween, getDefaultHours, calculateSecondsSinceMidnight, parseSeconds, } from \"./utils/dates\";\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\nimport \"./utils/polyfills\";\nvar DEBOUNCED_CHANGE_MS = 300;\nfunction FlatpickrInstance(element, instanceConfig) {\n    var self = {\n        config: __assign(__assign({}, defaultOptions), flatpickr.defaultConfig),\n        l10n: English,\n    };\n    self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    self._handlers = [];\n    self.pluginElements = [];\n    self.loadedPlugins = [];\n    self._bind = bind;\n    self._setHoursFromDate = setHoursFromDate;\n    self._positionCalendar = positionCalendar;\n    self.changeMonth = changeMonth;\n    self.changeYear = changeYear;\n    self.clear = clear;\n    self.close = close;\n    self.onMouseOver = onMouseOver;\n    self._createElement = createElement;\n    self.createDay = createDay;\n    self.destroy = destroy;\n    self.isEnabled = isEnabled;\n    self.jumpToDate = jumpToDate;\n    self.updateValue = updateValue;\n    self.open = open;\n    self.redraw = redraw;\n    self.set = set;\n    self.setDate = setDate;\n    self.toggle = toggle;\n    function setupHelperFunctions() {\n        self.utils = {\n            getDaysInMonth: function (month, yr) {\n                if (month === void 0) { month = self.currentMonth; }\n                if (yr === void 0) { yr = self.currentYear; }\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                    return 29;\n                return self.l10n.daysInMonth[month];\n            },\n        };\n    }\n    function init() {\n        self.element = self.input = element;\n        self.isOpen = false;\n        parseConfig();\n        setupLocale();\n        setupInputs();\n        setupDates();\n        setupHelperFunctions();\n        if (!self.isMobile)\n            build();\n        bindEvents();\n        if (self.selectedDates.length || self.config.noCalendar) {\n            if (self.config.enableTime) {\n                setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\n            }\n            updateValue(false);\n        }\n        setCalendarWidth();\n        var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        if (!self.isMobile && isSafari) {\n            positionCalendar();\n        }\n        triggerEvent(\"onReady\");\n    }\n    function getClosestActiveElement() {\n        var _a;\n        return (((_a = self.calendarContainer) === null || _a === void 0 ? void 0 : _a.getRootNode())\n            .activeElement || document.activeElement);\n    }\n    function bindToInstance(fn) {\n        return fn.bind(self);\n    }\n    function setCalendarWidth() {\n        var config = self.config;\n        if (config.weekNumbers === false && config.showMonths === 1) {\n            return;\n        }\n        else if (config.noCalendar !== true) {\n            window.requestAnimationFrame(function () {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.style.visibility = \"hidden\";\n                    self.calendarContainer.style.display = \"block\";\n                }\n                if (self.daysContainer !== undefined) {\n                    var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                    self.daysContainer.style.width = daysWidth + \"px\";\n                    self.calendarContainer.style.width =\n                        daysWidth +\n                            (self.weekWrapper !== undefined\n                                ? self.weekWrapper.offsetWidth\n                                : 0) +\n                            \"px\";\n                    self.calendarContainer.style.removeProperty(\"visibility\");\n                    self.calendarContainer.style.removeProperty(\"display\");\n                }\n            });\n        }\n    }\n    function updateTime(e) {\n        if (self.selectedDates.length === 0) {\n            var defaultDate = self.config.minDate === undefined ||\n                compareDates(new Date(), self.config.minDate) >= 0\n                ? new Date()\n                : new Date(self.config.minDate.getTime());\n            var defaults = getDefaultHours(self.config);\n            defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\n            self.selectedDates = [defaultDate];\n            self.latestSelectedDateObj = defaultDate;\n        }\n        if (e !== undefined && e.type !== \"blur\") {\n            timeWrapper(e);\n        }\n        var prevValue = self._input.value;\n        setHoursFromInputs();\n        updateValue();\n        if (self._input.value !== prevValue) {\n            self._debouncedChange();\n        }\n    }\n    function ampm2military(hour, amPM) {\n        return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n    }\n    function military2ampm(hour) {\n        switch (hour % 24) {\n            case 0:\n            case 12:\n                return 12;\n            default:\n                return hour % 12;\n        }\n    }\n    function setHoursFromInputs() {\n        if (self.hourElement === undefined || self.minuteElement === undefined)\n            return;\n        var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\n            : 0;\n        if (self.amPM !== undefined) {\n            hours = ampm2military(hours, self.amPM.textContent);\n        }\n        var limitMinHours = self.config.minTime !== undefined ||\n            (self.config.minDate &&\n                self.minDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                    0);\n        var limitMaxHours = self.config.maxTime !== undefined ||\n            (self.config.maxDate &&\n                self.maxDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                    0);\n        if (self.config.maxTime !== undefined &&\n            self.config.minTime !== undefined &&\n            self.config.minTime > self.config.maxTime) {\n            var minBound = calculateSecondsSinceMidnight(self.config.minTime.getHours(), self.config.minTime.getMinutes(), self.config.minTime.getSeconds());\n            var maxBound = calculateSecondsSinceMidnight(self.config.maxTime.getHours(), self.config.maxTime.getMinutes(), self.config.maxTime.getSeconds());\n            var currentTime = calculateSecondsSinceMidnight(hours, minutes, seconds);\n            if (currentTime > maxBound && currentTime < minBound) {\n                var result = parseSeconds(minBound);\n                hours = result[0];\n                minutes = result[1];\n                seconds = result[2];\n            }\n        }\n        else {\n            if (limitMaxHours) {\n                var maxTime = self.config.maxTime !== undefined\n                    ? self.config.maxTime\n                    : self.config.maxDate;\n                hours = Math.min(hours, maxTime.getHours());\n                if (hours === maxTime.getHours())\n                    minutes = Math.min(minutes, maxTime.getMinutes());\n                if (minutes === maxTime.getMinutes())\n                    seconds = Math.min(seconds, maxTime.getSeconds());\n            }\n            if (limitMinHours) {\n                var minTime = self.config.minTime !== undefined\n                    ? self.config.minTime\n                    : self.config.minDate;\n                hours = Math.max(hours, minTime.getHours());\n                if (hours === minTime.getHours() && minutes < minTime.getMinutes())\n                    minutes = minTime.getMinutes();\n                if (minutes === minTime.getMinutes())\n                    seconds = Math.max(seconds, minTime.getSeconds());\n            }\n        }\n        setHours(hours, minutes, seconds);\n    }\n    function setHoursFromDate(dateObj) {\n        var date = dateObj || self.latestSelectedDateObj;\n        if (date && date instanceof Date) {\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n    }\n    function setHours(hours, minutes, seconds) {\n        if (self.latestSelectedDateObj !== undefined) {\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n        }\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\n            return;\n        self.hourElement.value = pad(!self.config.time_24hr\n            ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n            : hours);\n        self.minuteElement.value = pad(minutes);\n        if (self.amPM !== undefined)\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n        if (self.secondElement !== undefined)\n            self.secondElement.value = pad(seconds);\n    }\n    function onYearInput(event) {\n        var eventTarget = getEventTarget(event);\n        var year = parseInt(eventTarget.value) + (event.delta || 0);\n        if (year / 1000 > 1 ||\n            (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n            changeYear(year);\n        }\n    }\n    function bind(element, event, handler, options) {\n        if (event instanceof Array)\n            return event.forEach(function (ev) { return bind(element, ev, handler, options); });\n        if (element instanceof Array)\n            return element.forEach(function (el) { return bind(el, event, handler, options); });\n        element.addEventListener(event, handler, options);\n        self._handlers.push({\n            remove: function () { return element.removeEventListener(event, handler, options); },\n        });\n    }\n    function triggerChange() {\n        triggerEvent(\"onChange\");\n    }\n    function bindEvents() {\n        if (self.config.wrap) {\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n                Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n                    return bind(el, \"click\", self[evt]);\n                });\n            });\n        }\n        if (self.isMobile) {\n            setupMobile();\n            return;\n        }\n        var debouncedResize = debounce(onResize, 50);\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n            bind(self.daysContainer, \"mouseover\", function (e) {\n                if (self.config.mode === \"range\")\n                    onMouseOver(getEventTarget(e));\n            });\n        bind(self._input, \"keydown\", onKeyDown);\n        if (self.calendarContainer !== undefined) {\n            bind(self.calendarContainer, \"keydown\", onKeyDown);\n        }\n        if (!self.config.inline && !self.config.static)\n            bind(window, \"resize\", debouncedResize);\n        if (window.ontouchstart !== undefined)\n            bind(window.document, \"touchstart\", documentClick);\n        else\n            bind(window.document, \"mousedown\", documentClick);\n        bind(window.document, \"focus\", documentClick, { capture: true });\n        if (self.config.clickOpens === true) {\n            bind(self._input, \"focus\", self.open);\n            bind(self._input, \"click\", self.open);\n        }\n        if (self.daysContainer !== undefined) {\n            bind(self.monthNav, \"click\", onMonthNavClick);\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n            bind(self.daysContainer, \"click\", selectDate);\n        }\n        if (self.timeContainer !== undefined &&\n            self.minuteElement !== undefined &&\n            self.hourElement !== undefined) {\n            var selText = function (e) {\n                return getEventTarget(e).select();\n            };\n            bind(self.timeContainer, [\"increment\"], updateTime);\n            bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n            bind(self.timeContainer, \"click\", timeIncrement);\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n            if (self.secondElement !== undefined)\n                bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\n            if (self.amPM !== undefined) {\n                bind(self.amPM, \"click\", function (e) {\n                    updateTime(e);\n                });\n            }\n        }\n        if (self.config.allowInput) {\n            bind(self._input, \"blur\", onBlur);\n        }\n    }\n    function jumpToDate(jumpDate, triggerChange) {\n        var jumpTo = jumpDate !== undefined\n            ? self.parseDate(jumpDate)\n            : self.latestSelectedDateObj ||\n                (self.config.minDate && self.config.minDate > self.now\n                    ? self.config.minDate\n                    : self.config.maxDate && self.config.maxDate < self.now\n                        ? self.config.maxDate\n                        : self.now);\n        var oldYear = self.currentYear;\n        var oldMonth = self.currentMonth;\n        try {\n            if (jumpTo !== undefined) {\n                self.currentYear = jumpTo.getFullYear();\n                self.currentMonth = jumpTo.getMonth();\n            }\n        }\n        catch (e) {\n            e.message = \"Invalid date supplied: \" + jumpTo;\n            self.config.errorHandler(e);\n        }\n        if (triggerChange && self.currentYear !== oldYear) {\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        if (triggerChange &&\n            (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n            triggerEvent(\"onMonthChange\");\n        }\n        self.redraw();\n    }\n    function timeIncrement(e) {\n        var eventTarget = getEventTarget(e);\n        if (~eventTarget.className.indexOf(\"arrow\"))\n            incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n    }\n    function incrementNumInput(e, delta, inputElem) {\n        var target = e && getEventTarget(e);\n        var input = inputElem ||\n            (target && target.parentNode && target.parentNode.firstChild);\n        var event = createEvent(\"increment\");\n        event.delta = delta;\n        input && input.dispatchEvent(event);\n    }\n    function build() {\n        var fragment = window.document.createDocumentFragment();\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n        self.calendarContainer.tabIndex = -1;\n        if (!self.config.noCalendar) {\n            fragment.appendChild(buildMonthNav());\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n            if (self.config.weekNumbers) {\n                var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\n                self.innerContainer.appendChild(weekWrapper);\n                self.weekNumbers = weekNumbers;\n                self.weekWrapper = weekWrapper;\n            }\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n            self.rContainer.appendChild(buildWeekdays());\n            if (!self.daysContainer) {\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                self.daysContainer.tabIndex = -1;\n            }\n            buildDays();\n            self.rContainer.appendChild(self.daysContainer);\n            self.innerContainer.appendChild(self.rContainer);\n            fragment.appendChild(self.innerContainer);\n        }\n        if (self.config.enableTime) {\n            fragment.appendChild(buildTime());\n        }\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n        toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n        self.calendarContainer.appendChild(fragment);\n        var customAppend = self.config.appendTo !== undefined &&\n            self.config.appendTo.nodeType !== undefined;\n        if (self.config.inline || self.config.static) {\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n            if (self.config.inline) {\n                if (!customAppend && self.element.parentNode)\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                else if (self.config.appendTo !== undefined)\n                    self.config.appendTo.appendChild(self.calendarContainer);\n            }\n            if (self.config.static) {\n                var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                if (self.element.parentNode)\n                    self.element.parentNode.insertBefore(wrapper, self.element);\n                wrapper.appendChild(self.element);\n                if (self.altInput)\n                    wrapper.appendChild(self.altInput);\n                wrapper.appendChild(self.calendarContainer);\n            }\n        }\n        if (!self.config.static && !self.config.inline)\n            (self.config.appendTo !== undefined\n                ? self.config.appendTo\n                : window.document.body).appendChild(self.calendarContainer);\n    }\n    function createDay(className, date, _dayNumber, i) {\n        var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", className, date.getDate().toString());\n        dayElement.dateObj = date;\n        dayElement.$i = i;\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n        if (className.indexOf(\"hidden\") === -1 &&\n            compareDates(date, self.now) === 0) {\n            self.todayDateElem = dayElement;\n            dayElement.classList.add(\"today\");\n            dayElement.setAttribute(\"aria-current\", \"date\");\n        }\n        if (dateIsEnabled) {\n            dayElement.tabIndex = -1;\n            if (isDateSelected(date)) {\n                dayElement.classList.add(\"selected\");\n                self.selectedDateElem = dayElement;\n                if (self.config.mode === \"range\") {\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                        compareDates(date, self.selectedDates[0], true) === 0);\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                        compareDates(date, self.selectedDates[1], true) === 0);\n                    if (className === \"nextMonthDay\")\n                        dayElement.classList.add(\"inRange\");\n                }\n            }\n        }\n        else {\n            dayElement.classList.add(\"flatpickr-disabled\");\n        }\n        if (self.config.mode === \"range\") {\n            if (isDateInRange(date) && !isDateSelected(date))\n                dayElement.classList.add(\"inRange\");\n        }\n        if (self.weekNumbers &&\n            self.config.showMonths === 1 &&\n            className !== \"prevMonthDay\" &&\n            i % 7 === 6) {\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n        }\n        triggerEvent(\"onDayCreate\", dayElement);\n        return dayElement;\n    }\n    function focusOnDayElem(targetNode) {\n        targetNode.focus();\n        if (self.config.mode === \"range\")\n            onMouseOver(targetNode);\n    }\n    function getFirstAvailableDay(delta) {\n        var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        for (var m = startMonth; m != endMonth; m += delta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = delta > 0 ? 0 : month.children.length - 1;\n            var endIndex = delta > 0 ? month.children.length : -1;\n            for (var i = startIndex; i != endIndex; i += delta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                    return c;\n            }\n        }\n        return undefined;\n    }\n    function getNextAvailableDay(current, delta) {\n        var givenMonth = current.className.indexOf(\"Month\") === -1\n            ? current.dateObj.getMonth()\n            : self.currentMonth;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        var loopDelta = delta > 0 ? 1 : -1;\n        for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = givenMonth - self.currentMonth === m\n                ? current.$i + delta\n                : delta < 0\n                    ? month.children.length - 1\n                    : 0;\n            var numMonthDays = month.children.length;\n            for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 &&\n                    isEnabled(c.dateObj) &&\n                    Math.abs(current.$i - i) >= Math.abs(delta))\n                    return focusOnDayElem(c);\n            }\n        }\n        self.changeMonth(loopDelta);\n        focusOnDay(getFirstAvailableDay(loopDelta), 0);\n        return undefined;\n    }\n    function focusOnDay(current, offset) {\n        var activeElement = getClosestActiveElement();\n        var dayFocused = isInView(activeElement || document.body);\n        var startElem = current !== undefined\n            ? current\n            : dayFocused\n                ? activeElement\n                : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                    ? self.selectedDateElem\n                    : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                        ? self.todayDateElem\n                        : getFirstAvailableDay(offset > 0 ? 1 : -1);\n        if (startElem === undefined) {\n            self._input.focus();\n        }\n        else if (!dayFocused) {\n            focusOnDayElem(startElem);\n        }\n        else {\n            getNextAvailableDay(startElem, offset);\n        }\n    }\n    function buildMonthDays(year, month) {\n        var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n        var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\n        var daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n        var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n        }\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n        }\n        for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n            (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n        }\n        var dayContainer = createElement(\"div\", \"dayContainer\");\n        dayContainer.appendChild(days);\n        return dayContainer;\n    }\n    function buildDays() {\n        if (self.daysContainer === undefined) {\n            return;\n        }\n        clearNode(self.daysContainer);\n        if (self.weekNumbers)\n            clearNode(self.weekNumbers);\n        var frag = document.createDocumentFragment();\n        for (var i = 0; i < self.config.showMonths; i++) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n        }\n        self.daysContainer.appendChild(frag);\n        self.days = self.daysContainer.firstChild;\n        if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n            onMouseOver();\n        }\n    }\n    function buildMonthSwitch() {\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType !== \"dropdown\")\n            return;\n        var shouldBuildMonth = function (month) {\n            if (self.config.minDate !== undefined &&\n                self.currentYear === self.config.minDate.getFullYear() &&\n                month < self.config.minDate.getMonth()) {\n                return false;\n            }\n            return !(self.config.maxDate !== undefined &&\n                self.currentYear === self.config.maxDate.getFullYear() &&\n                month > self.config.maxDate.getMonth());\n        };\n        self.monthsDropdownContainer.tabIndex = -1;\n        self.monthsDropdownContainer.innerHTML = \"\";\n        for (var i = 0; i < 12; i++) {\n            if (!shouldBuildMonth(i))\n                continue;\n            var month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n            month.value = new Date(self.currentYear, i).getMonth().toString();\n            month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n            month.tabIndex = -1;\n            if (self.currentMonth === i) {\n                month.selected = true;\n            }\n            self.monthsDropdownContainer.appendChild(month);\n        }\n    }\n    function buildMonth() {\n        var container = createElement(\"div\", \"flatpickr-month\");\n        var monthNavFragment = window.document.createDocumentFragment();\n        var monthElement;\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType === \"static\") {\n            monthElement = createElement(\"span\", \"cur-month\");\n        }\n        else {\n            self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n            self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\n            bind(self.monthsDropdownContainer, \"change\", function (e) {\n                var target = getEventTarget(e);\n                var selectedMonth = parseInt(target.value, 10);\n                self.changeMonth(selectedMonth - self.currentMonth);\n                triggerEvent(\"onMonthChange\");\n            });\n            buildMonthSwitch();\n            monthElement = self.monthsDropdownContainer;\n        }\n        var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n        var yearElement = yearInput.getElementsByTagName(\"input\")[0];\n        yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n        if (self.config.minDate) {\n            yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n        }\n        if (self.config.maxDate) {\n            yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n            yearElement.disabled =\n                !!self.config.minDate &&\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n        }\n        var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n        currentMonth.appendChild(monthElement);\n        currentMonth.appendChild(yearInput);\n        monthNavFragment.appendChild(currentMonth);\n        container.appendChild(monthNavFragment);\n        return {\n            container: container,\n            yearElement: yearElement,\n            monthElement: monthElement,\n        };\n    }\n    function buildMonths() {\n        clearNode(self.monthNav);\n        self.monthNav.appendChild(self.prevMonthNav);\n        if (self.config.showMonths) {\n            self.yearElements = [];\n            self.monthElements = [];\n        }\n        for (var m = self.config.showMonths; m--;) {\n            var month = buildMonth();\n            self.yearElements.push(month.yearElement);\n            self.monthElements.push(month.monthElement);\n            self.monthNav.appendChild(month.container);\n        }\n        self.monthNav.appendChild(self.nextMonthNav);\n    }\n    function buildMonthNav() {\n        self.monthNav = createElement(\"div\", \"flatpickr-months\");\n        self.yearElements = [];\n        self.monthElements = [];\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\n        buildMonths();\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n            get: function () { return self.__hidePrevMonthArrow; },\n            set: function (bool) {\n                if (self.__hidePrevMonthArrow !== bool) {\n                    toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hidePrevMonthArrow = bool;\n                }\n            },\n        });\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\n            get: function () { return self.__hideNextMonthArrow; },\n            set: function (bool) {\n                if (self.__hideNextMonthArrow !== bool) {\n                    toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hideNextMonthArrow = bool;\n                }\n            },\n        });\n        self.currentYearElement = self.yearElements[0];\n        updateNavigationCurrentMonth();\n        return self.monthNav;\n    }\n    function buildTime() {\n        self.calendarContainer.classList.add(\"hasTime\");\n        if (self.config.noCalendar)\n            self.calendarContainer.classList.add(\"noCalendar\");\n        var defaults = getDefaultHours(self.config);\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n        self.timeContainer.tabIndex = -1;\n        var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n        var hourInput = createNumberInput(\"flatpickr-hour\", {\n            \"aria-label\": self.l10n.hourAriaLabel,\n        });\n        self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n        var minuteInput = createNumberInput(\"flatpickr-minute\", {\n            \"aria-label\": self.l10n.minuteAriaLabel,\n        });\n        self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n        self.hourElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getHours()\n            : self.config.time_24hr\n                ? defaults.hours\n                : military2ampm(defaults.hours));\n        self.minuteElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getMinutes()\n            : defaults.minutes);\n        self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n        self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n        self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n        self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n        self.hourElement.setAttribute(\"maxlength\", \"2\");\n        self.minuteElement.setAttribute(\"min\", \"0\");\n        self.minuteElement.setAttribute(\"max\", \"59\");\n        self.minuteElement.setAttribute(\"maxlength\", \"2\");\n        self.timeContainer.appendChild(hourInput);\n        self.timeContainer.appendChild(separator);\n        self.timeContainer.appendChild(minuteInput);\n        if (self.config.time_24hr)\n            self.timeContainer.classList.add(\"time24hr\");\n        if (self.config.enableSeconds) {\n            self.timeContainer.classList.add(\"hasSeconds\");\n            var secondInput = createNumberInput(\"flatpickr-second\");\n            self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n            self.secondElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getSeconds()\n                : defaults.seconds);\n            self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n            self.secondElement.setAttribute(\"min\", \"0\");\n            self.secondElement.setAttribute(\"max\", \"59\");\n            self.secondElement.setAttribute(\"maxlength\", \"2\");\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n            self.timeContainer.appendChild(secondInput);\n        }\n        if (!self.config.time_24hr) {\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                ? self.hourElement.value\n                : self.config.defaultHour) > 11)]);\n            self.amPM.title = self.l10n.toggleTitle;\n            self.amPM.tabIndex = -1;\n            self.timeContainer.appendChild(self.amPM);\n        }\n        return self.timeContainer;\n    }\n    function buildWeekdays() {\n        if (!self.weekdayContainer)\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n        else\n            clearNode(self.weekdayContainer);\n        for (var i = self.config.showMonths; i--;) {\n            var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n            self.weekdayContainer.appendChild(container);\n        }\n        updateWeekdays();\n        return self.weekdayContainer;\n    }\n    function updateWeekdays() {\n        if (!self.weekdayContainer) {\n            return;\n        }\n        var firstDayOfWeek = self.l10n.firstDayOfWeek;\n        var weekdays = __spreadArrays(self.l10n.weekdays.shorthand);\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n            weekdays = __spreadArrays(weekdays.splice(firstDayOfWeek, weekdays.length), weekdays.splice(0, firstDayOfWeek));\n        }\n        for (var i = self.config.showMonths; i--;) {\n            self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\n        }\n    }\n    function buildWeeks() {\n        self.calendarContainer.classList.add(\"hasWeeks\");\n        var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n        var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n        weekWrapper.appendChild(weekNumbers);\n        return {\n            weekWrapper: weekWrapper,\n            weekNumbers: weekNumbers,\n        };\n    }\n    function changeMonth(value, isOffset) {\n        if (isOffset === void 0) { isOffset = true; }\n        var delta = isOffset ? value : value - self.currentMonth;\n        if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n            (delta > 0 && self._hideNextMonthArrow === true))\n            return;\n        self.currentMonth += delta;\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\n            self.currentMonth = (self.currentMonth + 12) % 12;\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        buildDays();\n        triggerEvent(\"onMonthChange\");\n        updateNavigationCurrentMonth();\n    }\n    function clear(triggerChangeEvent, toInitial) {\n        if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\n        if (toInitial === void 0) { toInitial = true; }\n        self.input.value = \"\";\n        if (self.altInput !== undefined)\n            self.altInput.value = \"\";\n        if (self.mobileInput !== undefined)\n            self.mobileInput.value = \"\";\n        self.selectedDates = [];\n        self.latestSelectedDateObj = undefined;\n        if (toInitial === true) {\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n        }\n        if (self.config.enableTime === true) {\n            var _a = getDefaultHours(self.config), hours = _a.hours, minutes = _a.minutes, seconds = _a.seconds;\n            setHours(hours, minutes, seconds);\n        }\n        self.redraw();\n        if (triggerChangeEvent)\n            triggerEvent(\"onChange\");\n    }\n    function close() {\n        self.isOpen = false;\n        if (!self.isMobile) {\n            if (self.calendarContainer !== undefined) {\n                self.calendarContainer.classList.remove(\"open\");\n            }\n            if (self._input !== undefined) {\n                self._input.classList.remove(\"active\");\n            }\n        }\n        triggerEvent(\"onClose\");\n    }\n    function destroy() {\n        if (self.config !== undefined)\n            triggerEvent(\"onDestroy\");\n        for (var i = self._handlers.length; i--;) {\n            self._handlers[i].remove();\n        }\n        self._handlers = [];\n        if (self.mobileInput) {\n            if (self.mobileInput.parentNode)\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\n            self.mobileInput = undefined;\n        }\n        else if (self.calendarContainer && self.calendarContainer.parentNode) {\n            if (self.config.static && self.calendarContainer.parentNode) {\n                var wrapper = self.calendarContainer.parentNode;\n                wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                if (wrapper.parentNode) {\n                    while (wrapper.firstChild)\n                        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                    wrapper.parentNode.removeChild(wrapper);\n                }\n            }\n            else\n                self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n        }\n        if (self.altInput) {\n            self.input.type = \"text\";\n            if (self.altInput.parentNode)\n                self.altInput.parentNode.removeChild(self.altInput);\n            delete self.altInput;\n        }\n        if (self.input) {\n            self.input.type = self.input._type;\n            self.input.classList.remove(\"flatpickr-input\");\n            self.input.removeAttribute(\"readonly\");\n        }\n        [\n            \"_showTimeInput\",\n            \"latestSelectedDateObj\",\n            \"_hideNextMonthArrow\",\n            \"_hidePrevMonthArrow\",\n            \"__hideNextMonthArrow\",\n            \"__hidePrevMonthArrow\",\n            \"isMobile\",\n            \"isOpen\",\n            \"selectedDateElem\",\n            \"minDateHasTime\",\n            \"maxDateHasTime\",\n            \"days\",\n            \"daysContainer\",\n            \"_input\",\n            \"_positionElement\",\n            \"innerContainer\",\n            \"rContainer\",\n            \"monthNav\",\n            \"todayDateElem\",\n            \"calendarContainer\",\n            \"weekdayContainer\",\n            \"prevMonthNav\",\n            \"nextMonthNav\",\n            \"monthsDropdownContainer\",\n            \"currentMonthElement\",\n            \"currentYearElement\",\n            \"navigationCurrentMonth\",\n            \"selectedDateElem\",\n            \"config\",\n        ].forEach(function (k) {\n            try {\n                delete self[k];\n            }\n            catch (_) { }\n        });\n    }\n    function isCalendarElem(elem) {\n        return self.calendarContainer.contains(elem);\n    }\n    function documentClick(e) {\n        if (self.isOpen && !self.config.inline) {\n            var eventTarget_1 = getEventTarget(e);\n            var isCalendarElement = isCalendarElem(eventTarget_1);\n            var isInput = eventTarget_1 === self.input ||\n                eventTarget_1 === self.altInput ||\n                self.element.contains(eventTarget_1) ||\n                (e.path &&\n                    e.path.indexOf &&\n                    (~e.path.indexOf(self.input) ||\n                        ~e.path.indexOf(self.altInput)));\n            var lostFocus = !isInput &&\n                !isCalendarElement &&\n                !isCalendarElem(e.relatedTarget);\n            var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\n                return elem.contains(eventTarget_1);\n            });\n            if (lostFocus && isIgnored) {\n                if (self.config.allowInput) {\n                    self.setDate(self._input.value, false, self.config.altInput\n                        ? self.config.altFormat\n                        : self.config.dateFormat);\n                }\n                if (self.timeContainer !== undefined &&\n                    self.minuteElement !== undefined &&\n                    self.hourElement !== undefined &&\n                    self.input.value !== \"\" &&\n                    self.input.value !== undefined) {\n                    updateTime();\n                }\n                self.close();\n                if (self.config &&\n                    self.config.mode === \"range\" &&\n                    self.selectedDates.length === 1)\n                    self.clear(false);\n            }\n        }\n    }\n    function changeYear(newYear) {\n        if (!newYear ||\n            (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n            (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n            return;\n        var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n        self.currentYear = newYearNum || self.currentYear;\n        if (self.config.maxDate &&\n            self.currentYear === self.config.maxDate.getFullYear()) {\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n        }\n        else if (self.config.minDate &&\n            self.currentYear === self.config.minDate.getFullYear()) {\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n        }\n        if (isNewYear) {\n            self.redraw();\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n    }\n    function isEnabled(date, timeless) {\n        var _a;\n        if (timeless === void 0) { timeless = true; }\n        var dateToCheck = self.parseDate(date, undefined, timeless);\n        if ((self.config.minDate &&\n            dateToCheck &&\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n            (self.config.maxDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n            return false;\n        if (!self.config.enable && self.config.disable.length === 0)\n            return true;\n        if (dateToCheck === undefined)\n            return false;\n        var bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\n        for (var i = 0, d = void 0; i < array.length; i++) {\n            d = array[i];\n            if (typeof d === \"function\" &&\n                d(dateToCheck))\n                return bool;\n            else if (d instanceof Date &&\n                dateToCheck !== undefined &&\n                d.getTime() === dateToCheck.getTime())\n                return bool;\n            else if (typeof d === \"string\") {\n                var parsed = self.parseDate(d, undefined, true);\n                return parsed && parsed.getTime() === dateToCheck.getTime()\n                    ? bool\n                    : !bool;\n            }\n            else if (typeof d === \"object\" &&\n                dateToCheck !== undefined &&\n                d.from &&\n                d.to &&\n                dateToCheck.getTime() >= d.from.getTime() &&\n                dateToCheck.getTime() <= d.to.getTime())\n                return bool;\n        }\n        return !bool;\n    }\n    function isInView(elem) {\n        if (self.daysContainer !== undefined)\n            return (elem.className.indexOf(\"hidden\") === -1 &&\n                elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\n                self.daysContainer.contains(elem));\n        return false;\n    }\n    function onBlur(e) {\n        var isInput = e.target === self._input;\n        var valueChanged = self._input.value.trimEnd() !== getDateStr();\n        if (isInput &&\n            valueChanged &&\n            !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\n            self.setDate(self._input.value, true, e.target === self.altInput\n                ? self.config.altFormat\n                : self.config.dateFormat);\n        }\n    }\n    function onKeyDown(e) {\n        var eventTarget = getEventTarget(e);\n        var isInput = self.config.wrap\n            ? element.contains(eventTarget)\n            : eventTarget === self._input;\n        var allowInput = self.config.allowInput;\n        var allowKeydown = self.isOpen && (!allowInput || !isInput);\n        var allowInlineKeydown = self.config.inline && isInput && !allowInput;\n        if (e.keyCode === 13 && isInput) {\n            if (allowInput) {\n                self.setDate(self._input.value, true, eventTarget === self.altInput\n                    ? self.config.altFormat\n                    : self.config.dateFormat);\n                self.close();\n                return eventTarget.blur();\n            }\n            else {\n                self.open();\n            }\n        }\n        else if (isCalendarElem(eventTarget) ||\n            allowKeydown ||\n            allowInlineKeydown) {\n            var isTimeObj = !!self.timeContainer &&\n                self.timeContainer.contains(eventTarget);\n            switch (e.keyCode) {\n                case 13:\n                    if (isTimeObj) {\n                        e.preventDefault();\n                        updateTime();\n                        focusAndClose();\n                    }\n                    else\n                        selectDate(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    focusAndClose();\n                    break;\n                case 8:\n                case 46:\n                    if (isInput && !self.config.allowInput) {\n                        e.preventDefault();\n                        self.clear();\n                    }\n                    break;\n                case 37:\n                case 39:\n                    if (!isTimeObj && !isInput) {\n                        e.preventDefault();\n                        var activeElement = getClosestActiveElement();\n                        if (self.daysContainer !== undefined &&\n                            (allowInput === false ||\n                                (activeElement && isInView(activeElement)))) {\n                            var delta_1 = e.keyCode === 39 ? 1 : -1;\n                            if (!e.ctrlKey)\n                                focusOnDay(undefined, delta_1);\n                            else {\n                                e.stopPropagation();\n                                changeMonth(delta_1);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                        }\n                    }\n                    else if (self.hourElement)\n                        self.hourElement.focus();\n                    break;\n                case 38:\n                case 40:\n                    e.preventDefault();\n                    var delta = e.keyCode === 40 ? 1 : -1;\n                    if ((self.daysContainer &&\n                        eventTarget.$i !== undefined) ||\n                        eventTarget === self.input ||\n                        eventTarget === self.altInput) {\n                        if (e.ctrlKey) {\n                            e.stopPropagation();\n                            changeYear(self.currentYear - delta);\n                            focusOnDay(getFirstAvailableDay(1), 0);\n                        }\n                        else if (!isTimeObj)\n                            focusOnDay(undefined, delta * 7);\n                    }\n                    else if (eventTarget === self.currentYearElement) {\n                        changeYear(self.currentYear - delta);\n                    }\n                    else if (self.config.enableTime) {\n                        if (!isTimeObj && self.hourElement)\n                            self.hourElement.focus();\n                        updateTime(e);\n                        self._debouncedChange();\n                    }\n                    break;\n                case 9:\n                    if (isTimeObj) {\n                        var elems = [\n                            self.hourElement,\n                            self.minuteElement,\n                            self.secondElement,\n                            self.amPM,\n                        ]\n                            .concat(self.pluginElements)\n                            .filter(function (x) { return x; });\n                        var i = elems.indexOf(eventTarget);\n                        if (i !== -1) {\n                            var target = elems[i + (e.shiftKey ? -1 : 1)];\n                            e.preventDefault();\n                            (target || self._input).focus();\n                        }\n                    }\n                    else if (!self.config.noCalendar &&\n                        self.daysContainer &&\n                        self.daysContainer.contains(eventTarget) &&\n                        e.shiftKey) {\n                        e.preventDefault();\n                        self._input.focus();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            switch (e.key) {\n                case self.l10n.amPM[0].charAt(0):\n                case self.l10n.amPM[0].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[0];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n                case self.l10n.amPM[1].charAt(0):\n                case self.l10n.amPM[1].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[1];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n            }\n        }\n        if (isInput || isCalendarElem(eventTarget)) {\n            triggerEvent(\"onKeyDown\", e);\n        }\n    }\n    function onMouseOver(elem, cellClass) {\n        if (cellClass === void 0) { cellClass = \"flatpickr-day\"; }\n        if (self.selectedDates.length !== 1 ||\n            (elem &&\n                (!elem.classList.contains(cellClass) ||\n                    elem.classList.contains(\"flatpickr-disabled\"))))\n            return;\n        var hoverDate = elem\n            ? elem.dateObj.getTime()\n            : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n        var containsDisabled = false;\n        var minRange = 0, maxRange = 0;\n        for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n            if (!isEnabled(new Date(t), true)) {\n                containsDisabled =\n                    containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                if (t < initialDate && (!minRange || t > minRange))\n                    minRange = t;\n                else if (t > initialDate && (!maxRange || t < maxRange))\n                    maxRange = t;\n            }\n        }\n        var hoverableCells = Array.from(self.rContainer.querySelectorAll(\"*:nth-child(-n+\" + self.config.showMonths + \") > .\" + cellClass));\n        hoverableCells.forEach(function (dayElem) {\n            var date = dayElem.dateObj;\n            var timestamp = date.getTime();\n            var outOfRange = (minRange > 0 && timestamp < minRange) ||\n                (maxRange > 0 && timestamp > maxRange);\n            if (outOfRange) {\n                dayElem.classList.add(\"notAllowed\");\n                [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n                    dayElem.classList.remove(c);\n                });\n                return;\n            }\n            else if (containsDisabled && !outOfRange)\n                return;\n            [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n                dayElem.classList.remove(c);\n            });\n            if (elem !== undefined) {\n                elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                    ? \"startRange\"\n                    : \"endRange\");\n                if (initialDate < hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"startRange\");\n                else if (initialDate > hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"endRange\");\n                if (timestamp >= minRange &&\n                    (maxRange === 0 || timestamp <= maxRange) &&\n                    isBetween(timestamp, initialDate, hoverDate))\n                    dayElem.classList.add(\"inRange\");\n            }\n        });\n    }\n    function onResize() {\n        if (self.isOpen && !self.config.static && !self.config.inline)\n            positionCalendar();\n    }\n    function open(e, positionElement) {\n        if (positionElement === void 0) { positionElement = self._positionElement; }\n        if (self.isMobile === true) {\n            if (e) {\n                e.preventDefault();\n                var eventTarget = getEventTarget(e);\n                if (eventTarget) {\n                    eventTarget.blur();\n                }\n            }\n            if (self.mobileInput !== undefined) {\n                self.mobileInput.focus();\n                self.mobileInput.click();\n            }\n            triggerEvent(\"onOpen\");\n            return;\n        }\n        else if (self._input.disabled || self.config.inline) {\n            return;\n        }\n        var wasOpen = self.isOpen;\n        self.isOpen = true;\n        if (!wasOpen) {\n            self.calendarContainer.classList.add(\"open\");\n            self._input.classList.add(\"active\");\n            triggerEvent(\"onOpen\");\n            positionCalendar(positionElement);\n        }\n        if (self.config.enableTime === true && self.config.noCalendar === true) {\n            if (self.config.allowInput === false &&\n                (e === undefined ||\n                    !self.timeContainer.contains(e.relatedTarget))) {\n                setTimeout(function () { return self.hourElement.select(); }, 50);\n            }\n        }\n    }\n    function minMaxDateSetter(type) {\n        return function (date) {\n            var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\n            var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n            if (dateObj !== undefined) {\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                    dateObj.getHours() > 0 ||\n                        dateObj.getMinutes() > 0 ||\n                        dateObj.getSeconds() > 0;\n            }\n            if (self.selectedDates) {\n                self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\n                if (!self.selectedDates.length && type === \"min\")\n                    setHoursFromDate(dateObj);\n                updateValue();\n            }\n            if (self.daysContainer) {\n                redraw();\n                if (dateObj !== undefined)\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\n                else\n                    self.currentYearElement.removeAttribute(type);\n                self.currentYearElement.disabled =\n                    !!inverseDateObj &&\n                        dateObj !== undefined &&\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\n            }\n        };\n    }\n    function parseConfig() {\n        var boolOpts = [\n            \"wrap\",\n            \"weekNumbers\",\n            \"allowInput\",\n            \"allowInvalidPreload\",\n            \"clickOpens\",\n            \"time_24hr\",\n            \"enableTime\",\n            \"noCalendar\",\n            \"altInput\",\n            \"shorthandCurrentMonth\",\n            \"inline\",\n            \"static\",\n            \"enableSeconds\",\n            \"disableMobile\",\n        ];\n        var userConfig = __assign(__assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\n        var formats = {};\n        self.config.parseDate = userConfig.parseDate;\n        self.config.formatDate = userConfig.formatDate;\n        Object.defineProperty(self.config, \"enable\", {\n            get: function () { return self.config._enable; },\n            set: function (dates) {\n                self.config._enable = parseDateRules(dates);\n            },\n        });\n        Object.defineProperty(self.config, \"disable\", {\n            get: function () { return self.config._disable; },\n            set: function (dates) {\n                self.config._disable = parseDateRules(dates);\n            },\n        });\n        var timeMode = userConfig.mode === \"time\";\n        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n            var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n            formats.dateFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                    : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n        }\n        if (userConfig.altInput &&\n            (userConfig.enableTime || timeMode) &&\n            !userConfig.altFormat) {\n            var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n            formats.altFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                    : defaultAltFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\n        }\n        Object.defineProperty(self.config, \"minDate\", {\n            get: function () { return self.config._minDate; },\n            set: minMaxDateSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxDate\", {\n            get: function () { return self.config._maxDate; },\n            set: minMaxDateSetter(\"max\"),\n        });\n        var minMaxTimeSetter = function (type) { return function (val) {\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n        }; };\n        Object.defineProperty(self.config, \"minTime\", {\n            get: function () { return self.config._minTime; },\n            set: minMaxTimeSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxTime\", {\n            get: function () { return self.config._maxTime; },\n            set: minMaxTimeSetter(\"max\"),\n        });\n        if (userConfig.mode === \"time\") {\n            self.config.noCalendar = true;\n            self.config.enableTime = true;\n        }\n        Object.assign(self.config, formats, userConfig);\n        for (var i = 0; i < boolOpts.length; i++)\n            self.config[boolOpts[i]] =\n                self.config[boolOpts[i]] === true ||\n                    self.config[boolOpts[i]] === \"true\";\n        HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {\n            self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n        });\n        self.isMobile =\n            !self.config.disableMobile &&\n                !self.config.inline &&\n                self.config.mode === \"single\" &&\n                !self.config.disable.length &&\n                !self.config.enable &&\n                !self.config.weekNumbers &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        for (var i = 0; i < self.config.plugins.length; i++) {\n            var pluginConf = self.config.plugins[i](self) || {};\n            for (var key in pluginConf) {\n                if (HOOKS.indexOf(key) > -1) {\n                    self.config[key] = arrayify(pluginConf[key])\n                        .map(bindToInstance)\n                        .concat(self.config[key]);\n                }\n                else if (typeof userConfig[key] === \"undefined\")\n                    self.config[key] = pluginConf[key];\n            }\n        }\n        if (!userConfig.altInputClass) {\n            self.config.altInputClass =\n                getInputElem().className + \" \" + self.config.altInputClass;\n        }\n        triggerEvent(\"onParseConfig\");\n    }\n    function getInputElem() {\n        return self.config.wrap\n            ? element.querySelector(\"[data-input]\")\n            : element;\n    }\n    function setupLocale() {\n        if (typeof self.config.locale !== \"object\" &&\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n            self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\n        self.l10n = __assign(__assign({}, flatpickr.l10ns.default), (typeof self.config.locale === \"object\"\n            ? self.config.locale\n            : self.config.locale !== \"default\"\n                ? flatpickr.l10ns[self.config.locale]\n                : undefined));\n        tokenRegex.D = \"(\" + self.l10n.weekdays.shorthand.join(\"|\") + \")\";\n        tokenRegex.l = \"(\" + self.l10n.weekdays.longhand.join(\"|\") + \")\";\n        tokenRegex.M = \"(\" + self.l10n.months.shorthand.join(\"|\") + \")\";\n        tokenRegex.F = \"(\" + self.l10n.months.longhand.join(\"|\") + \")\";\n        tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\n        var userConfig = __assign(__assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\n        if (userConfig.time_24hr === undefined &&\n            flatpickr.defaultConfig.time_24hr === undefined) {\n            self.config.time_24hr = self.l10n.time_24hr;\n        }\n        self.formatDate = createDateFormatter(self);\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    }\n    function positionCalendar(customPositionElement) {\n        if (typeof self.config.position === \"function\") {\n            return void self.config.position(self, customPositionElement);\n        }\n        if (self.calendarContainer === undefined)\n            return;\n        triggerEvent(\"onPreCalendarPosition\");\n        var positionElement = customPositionElement || self._positionElement;\n        var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n            (configPosVertical !== \"below\" &&\n                distanceFromBottom < calendarHeight &&\n                inputBounds.top > calendarHeight);\n        var top = window.pageYOffset +\n            inputBounds.top +\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n        if (self.config.inline)\n            return;\n        var left = window.pageXOffset + inputBounds.left;\n        var isCenter = false;\n        var isRight = false;\n        if (configPosHorizontal === \"center\") {\n            left -= (calendarWidth - inputBounds.width) / 2;\n            isCenter = true;\n        }\n        else if (configPosHorizontal === \"right\") {\n            left -= calendarWidth - inputBounds.width;\n            isRight = true;\n        }\n        toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n        toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n        toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n        var right = window.document.body.offsetWidth -\n            (window.pageXOffset + inputBounds.right);\n        var rightMost = left + calendarWidth > window.document.body.offsetWidth;\n        var centerMost = right + calendarWidth > window.document.body.offsetWidth;\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n        if (self.config.static)\n            return;\n        self.calendarContainer.style.top = top + \"px\";\n        if (!rightMost) {\n            self.calendarContainer.style.left = left + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n        else if (!centerMost) {\n            self.calendarContainer.style.left = \"auto\";\n            self.calendarContainer.style.right = right + \"px\";\n        }\n        else {\n            var doc = getDocumentStyleSheet();\n            if (doc === undefined)\n                return;\n            var bodyWidth = window.document.body.offsetWidth;\n            var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n            var centerBefore = \".flatpickr-calendar.centerMost:before\";\n            var centerAfter = \".flatpickr-calendar.centerMost:after\";\n            var centerIndex = doc.cssRules.length;\n            var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\n            toggleClass(self.calendarContainer, \"rightMost\", false);\n            toggleClass(self.calendarContainer, \"centerMost\", true);\n            doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\n            self.calendarContainer.style.left = centerLeft + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n    }\n    function getDocumentStyleSheet() {\n        var editableSheet = null;\n        for (var i = 0; i < document.styleSheets.length; i++) {\n            var sheet = document.styleSheets[i];\n            if (!sheet.cssRules)\n                continue;\n            try {\n                sheet.cssRules;\n            }\n            catch (err) {\n                continue;\n            }\n            editableSheet = sheet;\n            break;\n        }\n        return editableSheet != null ? editableSheet : createStyleSheet();\n    }\n    function createStyleSheet() {\n        var style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        return style.sheet;\n    }\n    function redraw() {\n        if (self.config.noCalendar || self.isMobile)\n            return;\n        buildMonthSwitch();\n        updateNavigationCurrentMonth();\n        buildDays();\n    }\n    function focusAndClose() {\n        self._input.focus();\n        if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n            navigator.msMaxTouchPoints !== undefined) {\n            setTimeout(self.close, 0);\n        }\n        else {\n            self.close();\n        }\n    }\n    function selectDate(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var isSelectable = function (day) {\n            return day.classList &&\n                day.classList.contains(\"flatpickr-day\") &&\n                !day.classList.contains(\"flatpickr-disabled\") &&\n                !day.classList.contains(\"notAllowed\");\n        };\n        var t = findParent(getEventTarget(e), isSelectable);\n        if (t === undefined)\n            return;\n        var target = t;\n        var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n        var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n            selectedDate.getMonth() >\n                self.currentMonth + self.config.showMonths - 1) &&\n            self.config.mode !== \"range\";\n        self.selectedDateElem = target;\n        if (self.config.mode === \"single\")\n            self.selectedDates = [selectedDate];\n        else if (self.config.mode === \"multiple\") {\n            var selectedIndex = isDateSelected(selectedDate);\n            if (selectedIndex)\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\n            else\n                self.selectedDates.push(selectedDate);\n        }\n        else if (self.config.mode === \"range\") {\n            if (self.selectedDates.length === 2) {\n                self.clear(false, false);\n            }\n            self.latestSelectedDateObj = selectedDate;\n            self.selectedDates.push(selectedDate);\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n        }\n        setHoursFromInputs();\n        if (shouldChangeMonth) {\n            var isNewYear = self.currentYear !== selectedDate.getFullYear();\n            self.currentYear = selectedDate.getFullYear();\n            self.currentMonth = selectedDate.getMonth();\n            if (isNewYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            triggerEvent(\"onMonthChange\");\n        }\n        updateNavigationCurrentMonth();\n        buildDays();\n        updateValue();\n        if (!shouldChangeMonth &&\n            self.config.mode !== \"range\" &&\n            self.config.showMonths === 1)\n            focusOnDayElem(target);\n        else if (self.selectedDateElem !== undefined &&\n            self.hourElement === undefined) {\n            self.selectedDateElem && self.selectedDateElem.focus();\n        }\n        if (self.hourElement !== undefined)\n            self.hourElement !== undefined && self.hourElement.focus();\n        if (self.config.closeOnSelect) {\n            var single = self.config.mode === \"single\" && !self.config.enableTime;\n            var range = self.config.mode === \"range\" &&\n                self.selectedDates.length === 2 &&\n                !self.config.enableTime;\n            if (single || range) {\n                focusAndClose();\n            }\n        }\n        triggerChange();\n    }\n    var CALLBACKS = {\n        locale: [setupLocale, updateWeekdays],\n        showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n        minDate: [jumpToDate],\n        maxDate: [jumpToDate],\n        positionElement: [updatePositionElement],\n        clickOpens: [\n            function () {\n                if (self.config.clickOpens === true) {\n                    bind(self._input, \"focus\", self.open);\n                    bind(self._input, \"click\", self.open);\n                }\n                else {\n                    self._input.removeEventListener(\"focus\", self.open);\n                    self._input.removeEventListener(\"click\", self.open);\n                }\n            },\n        ],\n    };\n    function set(option, value) {\n        if (option !== null && typeof option === \"object\") {\n            Object.assign(self.config, option);\n            for (var key in option) {\n                if (CALLBACKS[key] !== undefined)\n                    CALLBACKS[key].forEach(function (x) { return x(); });\n            }\n        }\n        else {\n            self.config[option] = value;\n            if (CALLBACKS[option] !== undefined)\n                CALLBACKS[option].forEach(function (x) { return x(); });\n            else if (HOOKS.indexOf(option) > -1)\n                self.config[option] = arrayify(value);\n        }\n        self.redraw();\n        updateValue(true);\n    }\n    function setSelectedDate(inputDate, format) {\n        var dates = [];\n        if (inputDate instanceof Array)\n            dates = inputDate.map(function (d) { return self.parseDate(d, format); });\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\n            dates = [self.parseDate(inputDate, format)];\n        else if (typeof inputDate === \"string\") {\n            switch (self.config.mode) {\n                case \"single\":\n                case \"time\":\n                    dates = [self.parseDate(inputDate, format)];\n                    break;\n                case \"multiple\":\n                    dates = inputDate\n                        .split(self.config.conjunction)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                case \"range\":\n                    dates = inputDate\n                        .split(self.l10n.rangeSeparator)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                default:\n                    break;\n            }\n        }\n        else\n            self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\n        self.selectedDates = (self.config.allowInvalidPreload\n            ? dates\n            : dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); }));\n        if (self.config.mode === \"range\")\n            self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n    }\n    function setDate(date, triggerChange, format) {\n        if (triggerChange === void 0) { triggerChange = false; }\n        if (format === void 0) { format = self.config.dateFormat; }\n        if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n            return self.clear(triggerChange);\n        setSelectedDate(date, format);\n        self.latestSelectedDateObj =\n            self.selectedDates[self.selectedDates.length - 1];\n        self.redraw();\n        jumpToDate(undefined, triggerChange);\n        setHoursFromDate();\n        if (self.selectedDates.length === 0) {\n            self.clear(false);\n        }\n        updateValue(triggerChange);\n        if (triggerChange)\n            triggerEvent(\"onChange\");\n    }\n    function parseDateRules(arr) {\n        return arr\n            .slice()\n            .map(function (rule) {\n            if (typeof rule === \"string\" ||\n                typeof rule === \"number\" ||\n                rule instanceof Date) {\n                return self.parseDate(rule, undefined, true);\n            }\n            else if (rule &&\n                typeof rule === \"object\" &&\n                rule.from &&\n                rule.to)\n                return {\n                    from: self.parseDate(rule.from, undefined),\n                    to: self.parseDate(rule.to, undefined),\n                };\n            return rule;\n        })\n            .filter(function (x) { return x; });\n    }\n    function setupDates() {\n        self.selectedDates = [];\n        self.now = self.parseDate(self.config.now) || new Date();\n        var preloadedDate = self.config.defaultDate ||\n            ((self.input.nodeName === \"INPUT\" ||\n                self.input.nodeName === \"TEXTAREA\") &&\n                self.input.placeholder &&\n                self.input.value === self.input.placeholder\n                ? null\n                : self.input.value);\n        if (preloadedDate)\n            setSelectedDate(preloadedDate, self.config.dateFormat);\n        self._initialDate =\n            self.selectedDates.length > 0\n                ? self.selectedDates[0]\n                : self.config.minDate &&\n                    self.config.minDate.getTime() > self.now.getTime()\n                    ? self.config.minDate\n                    : self.config.maxDate &&\n                        self.config.maxDate.getTime() < self.now.getTime()\n                        ? self.config.maxDate\n                        : self.now;\n        self.currentYear = self._initialDate.getFullYear();\n        self.currentMonth = self._initialDate.getMonth();\n        if (self.selectedDates.length > 0)\n            self.latestSelectedDateObj = self.selectedDates[0];\n        if (self.config.minTime !== undefined)\n            self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n        if (self.config.maxTime !== undefined)\n            self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n        self.minDateHasTime =\n            !!self.config.minDate &&\n                (self.config.minDate.getHours() > 0 ||\n                    self.config.minDate.getMinutes() > 0 ||\n                    self.config.minDate.getSeconds() > 0);\n        self.maxDateHasTime =\n            !!self.config.maxDate &&\n                (self.config.maxDate.getHours() > 0 ||\n                    self.config.maxDate.getMinutes() > 0 ||\n                    self.config.maxDate.getSeconds() > 0);\n    }\n    function setupInputs() {\n        self.input = getInputElem();\n        if (!self.input) {\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\n            return;\n        }\n        self.input._type = self.input.type;\n        self.input.type = \"text\";\n        self.input.classList.add(\"flatpickr-input\");\n        self._input = self.input;\n        if (self.config.altInput) {\n            self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n            self._input = self.altInput;\n            self.altInput.placeholder = self.input.placeholder;\n            self.altInput.disabled = self.input.disabled;\n            self.altInput.required = self.input.required;\n            self.altInput.tabIndex = self.input.tabIndex;\n            self.altInput.type = \"text\";\n            self.input.setAttribute(\"type\", \"hidden\");\n            if (!self.config.static && self.input.parentNode)\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n        }\n        if (!self.config.allowInput)\n            self._input.setAttribute(\"readonly\", \"readonly\");\n        updatePositionElement();\n    }\n    function updatePositionElement() {\n        self._positionElement = self.config.positionElement || self._input;\n    }\n    function setupMobile() {\n        var inputType = self.config.enableTime\n            ? self.config.noCalendar\n                ? \"time\"\n                : \"datetime-local\"\n            : \"date\";\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n        self.mobileInput.tabIndex = 1;\n        self.mobileInput.type = inputType;\n        self.mobileInput.disabled = self.input.disabled;\n        self.mobileInput.required = self.input.required;\n        self.mobileInput.placeholder = self.input.placeholder;\n        self.mobileFormatStr =\n            inputType === \"datetime-local\"\n                ? \"Y-m-d\\\\TH:i:S\"\n                : inputType === \"date\"\n                    ? \"Y-m-d\"\n                    : \"H:i:S\";\n        if (self.selectedDates.length > 0) {\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n        }\n        if (self.config.minDate)\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n        if (self.config.maxDate)\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n        if (self.input.getAttribute(\"step\"))\n            self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n        self.input.type = \"hidden\";\n        if (self.altInput !== undefined)\n            self.altInput.type = \"hidden\";\n        try {\n            if (self.input.parentNode)\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n        }\n        catch (_a) { }\n        bind(self.mobileInput, \"change\", function (e) {\n            self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\n            triggerEvent(\"onChange\");\n            triggerEvent(\"onClose\");\n        });\n    }\n    function toggle(e) {\n        if (self.isOpen === true)\n            return self.close();\n        self.open(e);\n    }\n    function triggerEvent(event, data) {\n        if (self.config === undefined)\n            return;\n        var hooks = self.config[event];\n        if (hooks !== undefined && hooks.length > 0) {\n            for (var i = 0; hooks[i] && i < hooks.length; i++)\n                hooks[i](self.selectedDates, self.input.value, self, data);\n        }\n        if (event === \"onChange\") {\n            self.input.dispatchEvent(createEvent(\"change\"));\n            self.input.dispatchEvent(createEvent(\"input\"));\n        }\n    }\n    function createEvent(name) {\n        var e = document.createEvent(\"Event\");\n        e.initEvent(name, true, true);\n        return e;\n    }\n    function isDateSelected(date) {\n        for (var i = 0; i < self.selectedDates.length; i++) {\n            var selectedDate = self.selectedDates[i];\n            if (selectedDate instanceof Date &&\n                compareDates(selectedDate, date) === 0)\n                return \"\" + i;\n        }\n        return false;\n    }\n    function isDateInRange(date) {\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n            return false;\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\n            compareDates(date, self.selectedDates[1]) <= 0);\n    }\n    function updateNavigationCurrentMonth() {\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\n            return;\n        self.yearElements.forEach(function (yearElement, i) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                self.monthElements[i].textContent =\n                    monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n            }\n            else {\n                self.monthsDropdownContainer.value = d.getMonth().toString();\n            }\n            yearElement.value = d.getFullYear().toString();\n        });\n        self._hidePrevMonthArrow =\n            self.config.minDate !== undefined &&\n                (self.currentYear === self.config.minDate.getFullYear()\n                    ? self.currentMonth <= self.config.minDate.getMonth()\n                    : self.currentYear < self.config.minDate.getFullYear());\n        self._hideNextMonthArrow =\n            self.config.maxDate !== undefined &&\n                (self.currentYear === self.config.maxDate.getFullYear()\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                    : self.currentYear > self.config.maxDate.getFullYear());\n    }\n    function getDateStr(specificFormat) {\n        var format = specificFormat ||\n            (self.config.altInput ? self.config.altFormat : self.config.dateFormat);\n        return self.selectedDates\n            .map(function (dObj) { return self.formatDate(dObj, format); })\n            .filter(function (d, i, arr) {\n            return self.config.mode !== \"range\" ||\n                self.config.enableTime ||\n                arr.indexOf(d) === i;\n        })\n            .join(self.config.mode !== \"range\"\n            ? self.config.conjunction\n            : self.l10n.rangeSeparator);\n    }\n    function updateValue(triggerChange) {\n        if (triggerChange === void 0) { triggerChange = true; }\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\n            self.mobileInput.value =\n                self.latestSelectedDateObj !== undefined\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                    : \"\";\n        }\n        self.input.value = getDateStr(self.config.dateFormat);\n        if (self.altInput !== undefined) {\n            self.altInput.value = getDateStr(self.config.altFormat);\n        }\n        if (triggerChange !== false)\n            triggerEvent(\"onValueUpdate\");\n    }\n    function onMonthNavClick(e) {\n        var eventTarget = getEventTarget(e);\n        var isPrevMonth = self.prevMonthNav.contains(eventTarget);\n        var isNextMonth = self.nextMonthNav.contains(eventTarget);\n        if (isPrevMonth || isNextMonth) {\n            changeMonth(isPrevMonth ? -1 : 1);\n        }\n        else if (self.yearElements.indexOf(eventTarget) >= 0) {\n            eventTarget.select();\n        }\n        else if (eventTarget.classList.contains(\"arrowUp\")) {\n            self.changeYear(self.currentYear + 1);\n        }\n        else if (eventTarget.classList.contains(\"arrowDown\")) {\n            self.changeYear(self.currentYear - 1);\n        }\n    }\n    function timeWrapper(e) {\n        e.preventDefault();\n        var isKeyDown = e.type === \"keydown\", eventTarget = getEventTarget(e), input = eventTarget;\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            self.amPM.textContent =\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n        }\n        var min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n            (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n        var newValue = curValue + step * delta;\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n            var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n            if (newValue < min) {\n                newValue =\n                    max +\n                        newValue +\n                        int(!isHourElem) +\n                        (int(isHourElem) && int(!self.amPM));\n                if (isMinuteElem)\n                    incrementNumInput(undefined, -1, self.hourElement);\n            }\n            else if (newValue > max) {\n                newValue =\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                if (isMinuteElem)\n                    incrementNumInput(undefined, 1, self.hourElement);\n            }\n            if (self.amPM &&\n                isHourElem &&\n                (step === 1\n                    ? newValue + curValue === 23\n                    : Math.abs(newValue - curValue) > step)) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            input.value = pad(newValue);\n        }\n    }\n    init();\n    return self;\n}\nfunction _flatpickr(nodeList, config) {\n    var nodes = Array.prototype.slice\n        .call(nodeList)\n        .filter(function (x) { return x instanceof HTMLElement; });\n    var instances = [];\n    for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        try {\n            if (node.getAttribute(\"data-fp-omit\") !== null)\n                continue;\n            if (node._flatpickr !== undefined) {\n                node._flatpickr.destroy();\n                node._flatpickr = undefined;\n            }\n            node._flatpickr = FlatpickrInstance(node, config || {});\n            instances.push(node._flatpickr);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    return instances.length === 1 ? instances[0] : instances;\n}\nif (typeof HTMLElement !== \"undefined\" &&\n    typeof HTMLCollection !== \"undefined\" &&\n    typeof NodeList !== \"undefined\") {\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n    HTMLElement.prototype.flatpickr = function (config) {\n        return _flatpickr([this], config);\n    };\n}\nvar flatpickr = function (selector, config) {\n    if (typeof selector === \"string\") {\n        return _flatpickr(window.document.querySelectorAll(selector), config);\n    }\n    else if (selector instanceof Node) {\n        return _flatpickr([selector], config);\n    }\n    else {\n        return _flatpickr(selector, config);\n    }\n};\nflatpickr.defaultConfig = {};\nflatpickr.l10ns = {\n    en: __assign({}, English),\n    default: __assign({}, English),\n};\nflatpickr.localize = function (l10n) {\n    flatpickr.l10ns.default = __assign(__assign({}, flatpickr.l10ns.default), l10n);\n};\nflatpickr.setDefaults = function (config) {\n    flatpickr.defaultConfig = __assign(__assign({}, flatpickr.defaultConfig), config);\n};\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n    jQuery.fn.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n}\nDate.prototype.fp_incr = function (days) {\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n};\nif (typeof window !== \"undefined\") {\n    window.flatpickr = flatpickr;\n}\nexport default flatpickr;\n","export function getFormat(language: string, mode: 'date' | 'time' | 'datetime'): string {\n  const date = new Date(2000, 1, 3, 4, 5, 6);\n  const formatDate: Intl.DateTimeFormatOptions = { year: 'numeric', month: '2-digit', day: '2-digit' };\n  const formatTime: Intl.DateTimeFormatOptions = { hour: '2-digit', minute: '2-digit' };\n  return new Intl.DateTimeFormat(\n    language,\n    {\n      date: formatDate,\n      time: formatTime,\n      datetime: { ...formatDate, ...formatTime }\n    }[mode]\n  )\n    .format(date)\n    .replace('2000', 'Y')\n    .replace('00', 'y')\n    .replace('02', 'm')\n    .replace('03', 'd')\n    .replace('04', 'H')\n    .replace('05', 'i')\n    .replace(/AM|PM/i, 'K');\n}\n","import { CustomLocale } from 'flatpickr/dist/types/locale';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\nexport function getHour12(language: string): boolean {\n  const dateStr = new Intl.DateTimeFormat(language, { hour: '2-digit', minute: '2-digit' })\n    .format(new Date())\n    .toLowerCase();\n  return dateStr.includes('am') || dateStr.includes('pm');\n}\n\nfunction getFirstDayOfWeek(language: string): number {\n  const locale = new Intl.Locale(language);\n  const weekInfo = (locale as any).getWeekInfo?.() ?? (locale as any).weekInfo;\n  return weekInfo?.firstDay ?? 1;\n}\n\nfunction daysForLocale(language: string, weekday: 'long' | 'short' | 'narrow' = 'long') {\n  const date = new Date();\n  const firstDayOfWeek = date.getUTCDate() - date.getUTCDay();\n  const format = new Intl.DateTimeFormat(language, { weekday }).format;\n  return [...Array(7).keys()].map(day => format(date.setUTCDate(firstDayOfWeek + day)));\n}\n\nfunction monthsForLocale(language: string, month: 'long' | 'short' = 'long') {\n  const date = new Date();\n  const format = new Intl.DateTimeFormat(language, { month }).format;\n  return [...Array(12).keys()].map(month => format(date.setUTCMonth(month)));\n}\n\nexport function getLocale(language: string): CustomLocale {\n  return {\n    firstDayOfWeek: getFirstDayOfWeek(language),\n    rangeSeparator: ' â€“ ',\n    weekAbbreviation: '',\n    yearAriaLabel: i18n.t('datepicker.year'),\n    monthAriaLabel: i18n.t('datepicker.month'),\n    hourAriaLabel: i18n.t('datepicker.hour'),\n    minuteAriaLabel: i18n.t('datepicker.minute'),\n    toggleTitle: i18n.t('datepicker.toggle'),\n    scrollTitle: i18n.t('datepicker.scroll'),\n    time_24hr: !getHour12(language),\n    weekdays: {\n      shorthand: daysForLocale(language, 'short') as any,\n      longhand: daysForLocale(language, 'long') as any\n    },\n    months: {\n      shorthand: monthsForLocale(language, 'short') as any,\n      longhand: monthsForLocale(language, 'long') as any\n    }\n  };\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n:host {\n  display: flex;\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\ncat-input {\n  flex: 1 1 auto;\n  margin: 0;\n}\n","import { Component, Event, EventEmitter, Prop, h } from '@stencil/core';\nimport flatpickr from 'flatpickr';\nimport { ErrorMap } from '../cat-form-hint/cat-form-hint';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\nimport { getFormat } from './cat-datepicker.config';\nimport { getLocale } from './cat-datepicker.locale';\n\n@Component({\n  tag: 'cat-datepicker-flat',\n  styleUrl: 'cat-datepicker-flat.scss',\n  shadow: true\n})\nexport class CatDatepickerFlat {\n  private _input?: HTMLCatInputElement;\n  private get input(): HTMLInputElement | undefined {\n    return this._input?.shadowRoot?.querySelector('input') ?? undefined;\n  }\n\n  /**\n   * Whether the label need a marker to shown if the input is required or optional.\n   */\n  @Prop() requiredMarker: 'none' | 'required' | 'optional' | 'none!' | 'optional!' | 'required!' = 'optional';\n\n  /**\n   * Whether the label is on top or left.\n   */\n  @Prop() horizontal = false;\n\n  /**\n   * Hint for form autofill feature.\n   */\n  @Prop() autoComplete?: string;\n\n  /**\n   * Whether the input should show a clear button.\n   */\n  @Prop() clearable = false;\n\n  /**\n   * Whether the input is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Optional hint text(s) to be displayed with the input.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * The name of an icon to be displayed in the input.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * Display the icon on the right.\n   */\n  @Prop() iconRight = false;\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label for the input.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A maximum value as ISO Date string, e.g. 2017-03-04T01:23:43.000Z.\n   */\n  @Prop() max?: string;\n\n  /**\n   * A minimum value as ISO Date string, e.g. 2017-03-04T01:23:43.000Z.\n   */\n  @Prop() min?: string;\n\n  /**\n   * The mode of the datepicker, to select a date, time or both.\n   */\n  @Prop() mode: 'date' | 'time' | 'datetime' = 'date';\n\n  /**\n   * The name of the form control. Submitted with the form as part of a name/value pair.\n   */\n  @Prop() name?: string;\n\n  /**\n   * The placeholder text to display within the input.\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * A textual prefix to be displayed in the input.\n   */\n  @Prop() textPrefix?: string;\n\n  /**\n   * A textual suffix to be displayed in the input.\n   */\n  @Prop() textSuffix?: string;\n\n  /**\n   * The value is not editable.\n   */\n  @Prop() readonly = false;\n\n  /**\n   * A value is required or must be check for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * The step size to use when changing the time.\n   */\n  @Prop() step = 5;\n\n  /**\n   * The value as ISO Date string, e.g. 2017-03-04T01:23:43.000Z.\n   */\n  @Prop({ mutable: true }) value?: string;\n\n  /**\n   * The validation errors for this input. Will render a hint under the input\n   * with the translated error message(s) `error.${key}`. If an object is\n   * passed, the keys will be used as error keys and the values translation\n   * parameters.\n   * If the value is `true`, the input will be marked as invalid without any\n   * hints under the input.\n   */\n  @Prop() errors?: boolean | string[] | ErrorMap;\n\n  /**\n   * Fine-grained control over when the errors are shown. Can be `false` to\n   * never show errors, `true` to show errors on blur, or a number to show\n   * errors on change with the given delay in milliseconds.\n   */\n  @Prop() errorUpdate: boolean | number = 0;\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter<string>;\n\n  /**\n   * Emitted when the input received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the input loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentDidLoad() {\n    const input = this.input;\n    if (input) {\n      const locale = getLocale(i18n.getLocale());\n      const format = getFormat(i18n.getLocale(), this.mode);\n      flatpickr(input, {\n        locale,\n        altInput: true,\n        prevArrow: 'â†',\n        nextArrow: 'â†’',\n        dateFormat: 'Z',\n        altFormat: format,\n        ariaDateFormat: format,\n        minDate: this.min,\n        maxDate: this.max,\n        enableTime: this.mode === 'time' || this.mode === 'datetime',\n        noCalendar: this.mode === 'time',\n        weekNumbers: true,\n        minuteIncrement: this.step,\n        onChange: (_date, dateStr) => {\n          this.value = dateStr;\n          this.catChange.emit(dateStr);\n        }\n      });\n    }\n  }\n\n  render() {\n    return (\n      <cat-input\n        ref={el => (this._input = el)}\n        requiredMarker={this.requiredMarker}\n        horizontal={this.horizontal}\n        autoComplete={this.autoComplete}\n        clearable={this.clearable}\n        disabled={this.disabled}\n        hint={this.hint}\n        icon={this.icon}\n        iconRight={this.iconRight}\n        identifier={this.identifier}\n        label={this.label}\n        labelHidden={this.labelHidden}\n        name={this.name}\n        placeholder={this.placeholder}\n        textPrefix={this.textPrefix}\n        textSuffix={this.textSuffix}\n        readonly={this.readonly}\n        required={this.required}\n        value={this.value}\n        errors={this.errors}\n        errorUpdate={this.errorUpdate}\n        nativeAttributes={this.nativeAttributes}\n        onCatFocus={e => this.catFocus.emit(e.detail)}\n        onCatBlur={e => this.catBlur.emit(e.detail)}\n      ></cat-input>\n    );\n  }\n}\n","function getAlignment(placement) {\n  return placement.split('-')[1];\n}\n\nfunction getLengthFromAxis(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\n\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\n\nfunction getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'x' : 'y';\n}\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const mainAxis = getMainAxisFromPlacement(placement);\n  const length = getLengthFromAxis(mainAxis);\n  const commonAlign = reference[length] / 2 - floating[length] / 2;\n  const side = getSide(placement);\n  const isVertical = mainAxis === 'x';\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[mainAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[mainAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a reference element when it is given a certain positioning strategy.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n      continue;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\n\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\n\nfunction getSideObjectFromPadding(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\n\nfunction rectToClientRect(rect) {\n  return {\n    ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getSideObjectFromPadding(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    ...rects.floating,\n    x,\n    y\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\nconst min = Math.min;\nconst max = Math.max;\n\nfunction within(min$1, value, max$1) {\n  return max(min$1, min(value, max$1));\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getSideObjectFromPadding(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getMainAxisFromPlacement(placement);\n    const length = getLengthFromAxis(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = within(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. This stops `shift()` from taking action, but can\n    // be worked around by calling it again after the `arrow()` if desired.\n    const shouldAddOffset = getAlignment(placement) != null && center != offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? min$1 - center : max - center : 0;\n    return {\n      [axis]: coords[axis] - alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset\n      }\n    };\n  }\n});\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst allPlacements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-start\", side + \"-end\"), []);\n\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\n\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const mainAxis = getMainAxisFromPlacement(placement);\n  const length = getLengthFromAxis(mainAxis);\n  let mainAlignmentSide = mainAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return {\n    main: mainAlignmentSide,\n    cross: getOppositePlacement(mainAlignmentSide)\n  };\n}\n\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = allPlacements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements = alignment !== undefined || allowedPlacements === allPlacements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const {\n        main,\n        cross\n      } = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[main], overflow[cross]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\n\nfunction getSideList(side, isStart, rtl) {\n  const lr = ['left', 'right'];\n  const rl = ['right', 'left'];\n  const tb = ['top', 'bottom'];\n  const bt = ['bottom', 'top'];\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case 'left':\n    case 'right':\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const side = getSide(placement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== 'none') {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const {\n          main,\n          cross\n        } = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[main], overflow[cross]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle.\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$map$so;\n                const placement = (_overflowsData$map$so = overflowsData.map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getSideObjectFromPadding(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getMainAxisFromPlacement(placement) === 'x') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getMainAxisFromPlacement(placement) === 'x';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n\n  // eslint-disable-next-line prefer-const\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: diffCoords\n      };\n    }\n  };\n};\n\nfunction getCrossAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const mainAxis = getMainAxisFromPlacement(getSide(placement));\n      const crossAxis = getCrossAxis(mainAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = within(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = within(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const mainAxis = getMainAxisFromPlacement(placement);\n      const crossAxis = getCrossAxis(mainAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element â€”\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const axis = getMainAxisFromPlacement(placement);\n      const isXAxis = axis === 'x';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const overflowAvailableHeight = height - overflow[heightSide];\n      const overflowAvailableWidth = width - overflow[widthSide];\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if (isXAxis) {\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        availableWidth = alignment || noShift ? min(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;\n      } else {\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        availableHeight = alignment || noShift ? min(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isXAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, rectToClientRect, shift, size };\n","import { rectToClientRect, computePosition as computePosition$1 } from '@floating-ui/core';\nexport { arrow, autoPlacement, detectOverflow, flip, hide, inline, limitShift, offset, shift, size } from '@floating-ui/core';\n\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return ((_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\n\nfunction getComputedStyle$1(element) {\n  return getWindow(element).getComputedStyle(element);\n}\n\nfunction isNode(value) {\n  return value instanceof getWindow(value).Node;\n}\nfunction getNodeName(node) {\n  return isNode(node) ? (node.nodeName || '').toLowerCase() : '';\n}\n\nlet uaString;\nfunction getUAString() {\n  if (uaString) {\n    return uaString;\n  }\n  const uaData = navigator.userAgentData;\n  if (uaData && Array.isArray(uaData.brands)) {\n    uaString = uaData.brands.map(item => item.brand + \"/\" + item.version).join(' ');\n    return uaString;\n  }\n  return navigator.userAgent;\n}\n\nfunction isHTMLElement(value) {\n  return value instanceof getWindow(value).HTMLElement;\n}\nfunction isElement(value) {\n  return value instanceof getWindow(value).Element;\n}\nfunction isShadowRoot(node) {\n  // Browsers without `ShadowRoot` support.\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  const OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle$1(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  // TODO: Try to use feature detection here instead.\n  const isFirefox = /firefox/i.test(getUAString());\n  const css = getComputedStyle$1(element);\n  const backdropFilter = css.backdropFilter || css.WebkitBackdropFilter;\n\n  // This is non-exhaustive but covers the most common CSS properties that\n  // create a containing block.\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  return css.transform !== 'none' || css.perspective !== 'none' || (backdropFilter ? backdropFilter !== 'none' : false) || isFirefox && css.willChange === 'filter' || isFirefox && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective'].some(value => css.willChange.includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => {\n    // Add type check for old browsers.\n    const contain = css.contain;\n    return contain != null ? contain.includes(value) : false;\n  });\n}\n\n/**\n * Determines whether or not `.getBoundingClientRect()` is affected by visual\n * viewport offsets. In Safari, the `x`/`y` offsets are values relative to the\n * visual viewport, while in other engines, they are values relative to the\n * layout viewport.\n */\nfunction isClientRectVisualViewportBased() {\n  // TODO: Try to use feature detection here instead. Feature detection for\n  // this can fail in various ways, making the userAgent check the most\n  // reliable:\n  // â€¢ Always-visible scrollbar or not\n  // â€¢ Width of <html>\n\n  // Is Safari.\n  return /^((?!chrome|android).)*safari/i.test(getUAString());\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\n\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle$1(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    fallback: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nconst FALLBACK_SCALE = {\n  x: 1,\n  y: 1\n};\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return FALLBACK_SCALE;\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    fallback\n  } = getCssDimensions(domElement);\n  let x = (fallback ? round(rect.width) : rect.width) / width;\n  let y = (fallback ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  var _win$visualViewport, _win$visualViewport2;\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = FALLBACK_SCALE;\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const win = domElement ? getWindow(domElement) : window;\n  const addVisualOffsets = isClientRectVisualViewportBased() && isFixedStrategy;\n  let x = (clientRect.left + (addVisualOffsets ? ((_win$visualViewport = win.visualViewport) == null ? void 0 : _win$visualViewport.offsetLeft) || 0 : 0)) / scale.x;\n  let y = (clientRect.top + (addVisualOffsets ? ((_win$visualViewport2 = win.visualViewport) == null ? void 0 : _win$visualViewport2.offsetTop) || 0 : 0)) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentIFrame = win.frameElement;\n    while (currentIFrame && offsetParent && offsetWin !== win) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      iframeRect.x += (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      iframeRect.y += (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += iframeRect.x;\n      y += iframeRect.y;\n      currentIFrame = getWindow(currentIFrame).frameElement;\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\nfunction getDocumentElement(node) {\n  return ((isNode(node) ? node.ownerDocument : node.document) || window.document).documentElement;\n}\n\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  if (offsetParent === documentElement) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = {\n    x: 1,\n    y: 1\n  };\n  const offsets = {\n    x: 0,\n    y: 0\n  };\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== 'fixed') {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle$1(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\n\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    // `getParentNode` will never return a `Document` due to the fallback\n    // check, so it's either the <html> or <body> element.\n    return parentNode.ownerDocument.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\n\nfunction getOverflowAncestors(node, list) {\n  var _node$ownerDocument;\n  if (list === void 0) {\n    list = [];\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor));\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isClientRectVisualViewportBased();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : {\n    x: 1,\n    y: 1\n  };\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const mutableRect = {\n      ...clippingAncestor\n    };\n    if (isClientRectVisualViewportBased()) {\n      var _win$visualViewport, _win$visualViewport2;\n      const win = getWindow(element);\n      mutableRect.x -= ((_win$visualViewport = win.visualViewport) == null ? void 0 : _win$visualViewport.offsetLeft) || 0;\n      mutableRect.y -= ((_win$visualViewport2 = win.visualViewport) == null ? void 0 : _win$visualViewport2.offsetTop) || 0;\n    }\n    rect = mutableRect;\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle$1(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle$1(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle$1(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  return getCssDimensions(element);\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle$1(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  return element.offsetParent;\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = getParentNode(currentNode);\n    }\n  }\n  return null;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const window = getWindow(element);\n  if (!isHTMLElement(element)) {\n    return window;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle$1(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle$1(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {\n    return window;\n  }\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const rect = getBoundingClientRect(element, true, strategy === 'fixed', offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = {\n    x: 0,\n    y: 0\n  };\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== 'fixed') {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent, true);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nconst platform = {\n  getClippingRect,\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  isElement,\n  getDimensions,\n  getOffsetParent,\n  getDocumentElement,\n  getScale,\n  async getElementRects(_ref) {\n    let {\n      reference,\n      floating,\n      strategy\n    } = _ref;\n    const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n    const getDimensionsFn = this.getDimensions;\n    return {\n      reference: getRectRelativeToOffsetParent(reference, await getOffsetParentFn(floating), strategy),\n      floating: {\n        x: 0,\n        y: 0,\n        ...(await getDimensionsFn(floating))\n      }\n    };\n  },\n  getClientRects: element => Array.from(element.getClientRects()),\n  isRTL: element => getComputedStyle$1(element).direction === 'rtl'\n};\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = true,\n    animationFrame = false\n  } = options;\n  const ancestors = ancestorScroll || ancestorResize ? [...(isElement(reference) ? getOverflowAncestors(reference) : reference.contextElement ? getOverflowAncestors(reference.contextElement) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    // ignores Window, checks for [object VisualViewport]\n    const isVisualViewport = !isElement(ancestor) && ancestor.toString().includes('V');\n    if (ancestorScroll && (animationFrame ? isVisualViewport : true)) {\n      ancestor.addEventListener('scroll', update, {\n        passive: true\n      });\n    }\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  let observer = null;\n  if (elementResize) {\n    observer = new ResizeObserver(() => {\n      update();\n    });\n    isElement(reference) && !animationFrame && observer.observe(reference);\n    if (!isElement(reference) && reference.contextElement && !animationFrame) {\n      observer.observe(reference.contextElement);\n    }\n    observer.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _observer;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    (_observer = observer) == null ? void 0 : _observer.disconnect();\n    observer = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a reference element when it is given a certain CSS positioning\n * strategy.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { autoUpdate, computePosition, getOverflowAncestors, platform };\n","/**\n * Auto-generated file. Do not edit directly.\n */\n\nexport const assetFontDmSansName = \"DM Sans\";\nexport const assetFontDmSansWoff2Bold = \"DMSans-Bold.woff2\";\nexport const assetFontDmSansWoff2BoldItalic = \"DMSans-BoldItalic.woff2\";\nexport const assetFontDmSansWoff2Italic = \"DMSans-Italic.woff2\";\nexport const assetFontDmSansWoff2Medium = \"DMSans-Medium.woff2\";\nexport const assetFontDmSansWoff2MediumItalic = \"DMSans-MediumItalic.woff2\";\nexport const assetFontDmSansWoff2Regular = \"DMSans-Regular.woff2\";\nexport const assetFontLatoName = \"Lato\";\nexport const assetFontLatoWoffBlack = \"Lato-Black.woff\";\nexport const assetFontLatoWoff2Black = \"Lato-Black.woff2\";\nexport const assetFontLatoWoffBlackItalic = \"Lato-BlackItalic.woff\";\nexport const assetFontLatoWoff2BlackItalic = \"Lato-BlackItalic.woff2\";\nexport const assetFontLatoWoffBold = \"Lato-Bold.woff\";\nexport const assetFontLatoWoff2Bold = \"Lato-Bold.woff2\";\nexport const assetFontLatoWoffBoldItalic = \"Lato-BoldItalic.woff\";\nexport const assetFontLatoWoff2BoldItalic = \"Lato-BoldItalic.woff2\";\nexport const assetFontLatoWoffHairline = \"Lato-Hairline.woff\";\nexport const assetFontLatoWoff2Hairline = \"Lato-Hairline.woff2\";\nexport const assetFontLatoWoffHairlineItalic = \"Lato-HairlineItalic.woff\";\nexport const assetFontLatoWoff2HairlineItalic = \"Lato-HairlineItalic.woff2\";\nexport const assetFontLatoWoffHeavy = \"Lato-Heavy.woff\";\nexport const assetFontLatoWoff2Heavy = \"Lato-Heavy.woff2\";\nexport const assetFontLatoWoffHeavyItalic = \"Lato-HeavyItalic.woff\";\nexport const assetFontLatoWoff2HeavyItalic = \"Lato-HeavyItalic.woff2\";\nexport const assetFontLatoWoffItalic = \"Lato-Italic.woff\";\nexport const assetFontLatoWoff2Italic = \"Lato-Italic.woff2\";\nexport const assetFontLatoWoffLight = \"Lato-Light.woff\";\nexport const assetFontLatoWoff2Light = \"Lato-Light.woff2\";\nexport const assetFontLatoWoffLightItalic = \"Lato-LightItalic.woff\";\nexport const assetFontLatoWoff2LightItalic = \"Lato-LightItalic.woff2\";\nexport const assetFontLatoWoffMedium = \"Lato-Medium.woff\";\nexport const assetFontLatoWoff2Medium = \"Lato-Medium.woff2\";\nexport const assetFontLatoWoffMediumItalic = \"Lato-MediumItalic.woff\";\nexport const assetFontLatoWoff2MediumItalic = \"Lato-MediumItalic.woff2\";\nexport const assetFontLatoWoffRegular = \"Lato-Regular.woff\";\nexport const assetFontLatoWoff2Regular = \"Lato-Regular.woff2\";\nexport const assetFontLatoWoffSemibold = \"Lato-Semibold.woff\";\nexport const assetFontLatoWoff2Semibold = \"Lato-Semibold.woff2\";\nexport const assetFontLatoWoffSemiboldItalic = \"Lato-SemiboldItalic.woff\";\nexport const assetFontLatoWoff2SemiboldItalic = \"Lato-SemiboldItalic.woff2\";\nexport const assetFontLatoWoffThin = \"Lato-Thin.woff\";\nexport const assetFontLatoWoff2Thin = \"Lato-Thin.woff2\";\nexport const assetFontLatoWoffThinItalic = \"Lato-ThinItalic.woff\";\nexport const assetFontLatoWoff2ThinItalic = \"Lato-ThinItalic.woff2\";\nexport const assetFontAzeretMonoName = \"Azeret Mono\";\nexport const assetFontAzeretMonoWoff2Regular = \"AzeretMono-Regular.woff2\";\nexport const colorBaseWhite = \"#ffffff\";\nexport const colorBaseBlack = \"#000000\";\nexport const colorBaseNeutral100 = \"#f2f4f7\";\nexport const colorBaseNeutral200 = \"#ebecf0\";\nexport const colorBaseNeutral300 = \"#d7dbe0\";\nexport const colorBaseNeutral400 = \"#697687\";\nexport const colorBaseNeutral500 = \"#515c6c\";\nexport const colorBaseNeutral600 = \"#394251\";\nexport const colorBaseNeutral700 = \"#1b1f26\";\nexport const colorBaseNeutralInverted400 = \"#697687\";\nexport const colorBaseBrand100 = \"#c9e5e8\";\nexport const colorBaseBrand200 = \"#2db3c3\";\nexport const colorBaseBrand300 = \"#29a3b1\";\nexport const colorBaseBrand400 = \"#008194\";\nexport const colorBaseBrand500 = \"#017384\";\nexport const colorBaseBrand600 = \"#026371\";\nexport const colorBaseBrand700 = \"#175b63\";\nexport const colorBaseBrandInverted400 = \"#93b4f2\";\nexport const colorBaseBrandInverted500 = \"#93b4f2\";\nexport const colorBaseBrandInverted600 = \"#93b4f2\";\nexport const colorBaseGreen100 = \"#d4ede4\";\nexport const colorBaseGreen200 = \"#00bb7d\";\nexport const colorBaseGreen300 = \"#00aa71\";\nexport const colorBaseGreen400 = \"#008458\";\nexport const colorBaseGreen500 = \"#00754e\";\nexport const colorBaseGreen600 = \"#006946\";\nexport const colorBaseGreen700 = \"#005f40\";\nexport const colorBaseOrange100 = \"#ffdea8\";\nexport const colorBaseOrange200 = \"#ffd694\";\nexport const colorBaseOrange300 = \"#ffce80\";\nexport const colorBaseOrange400 = \"#ebb663\";\nexport const colorBaseOrange500 = \"#d6a75a\";\nexport const colorBaseOrange600 = \"#b0853e\";\nexport const colorBaseOrange700 = \"#9f6100\";\nexport const colorBaseRed100 = \"#fbc7bb\";\nexport const colorBaseRed200 = \"#f68368\";\nexport const colorBaseRed300 = \"#f46a49\";\nexport const colorBaseRed400 = \"#d9340d\";\nexport const colorBaseRed500 = \"#c22e0b\";\nexport const colorBaseRed600 = \"#ae2a0a\";\nexport const colorBaseRed700 = \"#9e2609\";\nexport const colorThemePrimaryBg = \"#008194\";\nexport const colorThemePrimaryBgHover = \"#017384\";\nexport const colorThemePrimaryBgActive = \"#026371\";\nexport const colorThemePrimaryFill = \"#ffffff\";\nexport const colorThemePrimaryFillHover = \"#ffffff\";\nexport const colorThemePrimaryFillActive = \"#ffffff\";\nexport const colorThemePrimaryText = \"#008194\";\nexport const colorThemePrimaryTextHover = \"#017384\";\nexport const colorThemePrimaryTextActive = \"#026371\";\nexport const colorThemePrimaryInvertedBg = \"#93b4f2\";\nexport const colorThemePrimaryInvertedBgHover = \"#93b4f2\";\nexport const colorThemePrimaryInvertedBgActive = \"#93b4f2\";\nexport const colorThemePrimaryInvertedFill = \"#000000\";\nexport const colorThemePrimaryInvertedFillHover = \"#000000\";\nexport const colorThemePrimaryInvertedFillActive = \"#000000\";\nexport const colorThemePrimaryInvertedText = \"#93b4f2\";\nexport const colorThemePrimaryInvertedTextHover = \"#93b4f2\";\nexport const colorThemePrimaryInvertedTextActive = \"#93b4f2\";\nexport const colorThemeSecondaryBg = \"#697687\";\nexport const colorThemeSecondaryBgHover = \"#697687\";\nexport const colorThemeSecondaryBgActive = \"#697687\";\nexport const colorThemeSecondaryFill = \"#ffffff\";\nexport const colorThemeSecondaryFillHover = \"#ffffff\";\nexport const colorThemeSecondaryFillActive = \"#ffffff\";\nexport const colorThemeSecondaryText = \"#000000\";\nexport const colorThemeSecondaryTextHover = \"#000000\";\nexport const colorThemeSecondaryTextActive = \"#000000\";\nexport const colorThemeSecondaryInvertedBg = \"#697687\";\nexport const colorThemeSecondaryInvertedBgHover = \"#697687\";\nexport const colorThemeSecondaryInvertedBgActive = \"#697687\";\nexport const colorThemeSecondaryInvertedFill = \"#000000\";\nexport const colorThemeSecondaryInvertedFillHover = \"#000000\";\nexport const colorThemeSecondaryInvertedFillActive = \"#000000\";\nexport const colorThemeSecondaryInvertedText = \"#ffffff\";\nexport const colorThemeSecondaryInvertedTextHover = \"#ffffff\";\nexport const colorThemeSecondaryInvertedTextActive = \"#ffffff\";\nexport const colorThemeSuccessBg = \"#008458\";\nexport const colorThemeSuccessBgHover = \"#00754e\";\nexport const colorThemeSuccessBgActive = \"#006946\";\nexport const colorThemeSuccessFill = \"#ffffff\";\nexport const colorThemeSuccessFillHover = \"#ffffff\";\nexport const colorThemeSuccessFillActive = \"#ffffff\";\nexport const colorThemeSuccessText = \"#008458\";\nexport const colorThemeSuccessTextHover = \"#00754e\";\nexport const colorThemeSuccessTextActive = \"#006946\";\nexport const colorThemeWarningBg = \"#ffce80\";\nexport const colorThemeWarningBgHover = \"#ffd694\";\nexport const colorThemeWarningBgActive = \"#ffdea8\";\nexport const colorThemeWarningFill = \"#000000\";\nexport const colorThemeWarningFillHover = \"#000000\";\nexport const colorThemeWarningFillActive = \"#000000\";\nexport const colorThemeWarningText = \"#9f6100\";\nexport const colorThemeWarningTextHover = \"#9f6100\";\nexport const colorThemeWarningTextActive = \"#9f6100\";\nexport const colorThemeDangerBg = \"#d9340d\";\nexport const colorThemeDangerBgHover = \"#c22e0b\";\nexport const colorThemeDangerBgActive = \"#ae2a0a\";\nexport const colorThemeDangerFill = \"#ffffff\";\nexport const colorThemeDangerFillHover = \"#ffffff\";\nexport const colorThemeDangerFillActive = \"#ffffff\";\nexport const colorThemeDangerText = \"#d9340d\";\nexport const colorThemeDangerTextHover = \"#c22e0b\";\nexport const colorThemeDangerTextActive = \"#ae2a0a\";\nexport const colorUiBackgroundCanvas = \"#f2f4f7\";\nexport const colorUiBackgroundSurface = \"#ffffff\";\nexport const colorUiBackgroundSurfaceInverted = \"#1b1f26\";\nexport const colorUiBackgroundMuted = \"#f2f4f7\";\nexport const colorUiBackgroundInput = \"#ffffff\";\nexport const colorUiBackgroundInputAutofill = \"#e8f0fe\";\nexport const colorUiBackgroundSkeleton = \"#ebecf0\";\nexport const colorUiBackgroundSkeletonHighlight = \"#d7dbe0\";\nexport const colorUiBackgroundTooltip = \"#000000\";\nexport const colorUiBackgroundBackdrop = \"#1b1f26\";\nexport const colorUiBorderLight = \"#f2f4f7\";\nexport const colorUiBorderDefault = \"#ebecf0\";\nexport const colorUiBorderDark = \"#d7dbe0\";\nexport const colorUiBorderFocus = \"#0071ff\";\nexport const colorUiBorderQuote = \"#697687\";\nexport const colorUiFontHead = \"#000000\";\nexport const colorUiFontHeadInverted = \"#ffffff\";\nexport const colorUiFontBody = \"#000000\";\nexport const colorUiFontBodyInverted = \"#ffffff\";\nexport const colorUiFontMono = \"#000000\";\nexport const colorUiFontMonoInverted = \"#ffffff\";\nexport const colorUiFontMuted = \"#515c6c\";\nexport const colorUiFontQuote = \"#697687\";\nexport const colorUiFontTooltip = \"#ffffff\";\nexport const fontFamilyHead = \"Lato\";\nexport const fontFamilyBody = \"Lato\";\nexport const fontFamilyMono = \"''\";\nexport const fontFamilyEmoji = \"''\";\nexport const fontWeightHead = 600;\nexport const fontWeightBody = 400;\nexport const fontWeightMono = 400;\nexport const fontDecorationLink = \"none\";\nexport const fontDecorationLinkHover = \"underline\";\nexport const fontDecorationLinkButton = \"none\";\nexport const fontDecorationLinkButtonHover = \"none\";\nexport const opacityDisabled = 0.65;\nexport const opacityBackdrop = 0.4;\nexport const opacityTooltip = 1;\nexport const sizeBorderRadiusL = \"0.5rem\";\nexport const sizeBorderRadiusM = \"0.25rem\";\nexport const sizeBorderRadiusS = \"0.125rem\";\nexport const sizeFontHead1 = \"1.75rem\";\nexport const sizeFontHead2 = \"1.5rem\";\nexport const sizeFontHead3 = \"1.25rem\";\nexport const sizeFontHead4 = \"1.125rem\";\nexport const sizeFontHead5 = \"0.9375rem\";\nexport const sizeFontHead6 = \"0.875rem\";\nexport const sizeFontBodyXl = \"1.25rem\";\nexport const sizeFontBodyL = \"1.125rem\";\nexport const sizeFontBodyM = \"0.9375rem\";\nexport const sizeFontBodyS = \"0.875rem\";\nexport const sizeFontBodyXs = \"0.75rem\";\nexport const sizeFontMonoXl = \"1.125rem\";\nexport const sizeFontMonoL = \"0.9375rem\";\nexport const sizeFontMonoM = \"0.875rem\";\nexport const sizeFontMonoS = \"0.75rem\";\nexport const sizeFontMonoXs = \"0.625rem\";\nexport const sizeLineHead1 = \"2rem\";\nexport const sizeLineHead2 = \"1.75rem\";\nexport const sizeLineHead3 = \"1.5rem\";\nexport const sizeLineHead4 = \"1.5rem\";\nexport const sizeLineHead5 = \"1.25rem\";\nexport const sizeLineHead6 = \"1rem\";\nexport const sizeLineBodyXl = \"1.5rem\";\nexport const sizeLineBodyL = \"1.5rem\";\nexport const sizeLineBodyM = \"1.25rem\";\nexport const sizeLineBodyS = \"1.125rem\";\nexport const sizeLineBodyXs = \"1rem\";\nexport const sizeLineMonoXl = \"1.5rem\";\nexport const sizeLineMonoL = \"1.25rem\";\nexport const sizeLineMonoM = \"1.125rem\";\nexport const sizeLineMonoS = \"1rem\";\nexport const sizeLineMonoXs = \"0.875rem\";\nexport const sizeModalS = \"400rem\";\nexport const sizeModalM = \"600rem\";\nexport const sizeModalL = \"800rem\";\nexport const sizeScreenXs = \"540rem\";\nexport const sizeScreenS = \"768rem\";\nexport const sizeScreenM = \"992rem\";\nexport const sizeScreenL = \"1200rem\";\nexport const sizeScreenXl = \"1400rem\";\nexport const sizeSpacingXl = \"2rem\";\nexport const sizeSpacingL = \"1.5rem\";\nexport const sizeSpacingM = \"1rem\";\nexport const sizeSpacingS = \"0.5rem\";\nexport const sizeSpacingXs = \"0.25rem\";\nexport const timeTransitionL = 500;\nexport const timeTransitionM = 250;\nexport const timeTransitionS = 125;\nexport const timeDelayL = 500;\nexport const timeDelayM = 250;\nexport const timeDelayS = 125;\nexport const timeDurationL = 1000;\nexport const timeDurationM = 500;\nexport const timeDurationS = 250;\n","/*!\n* tabbable 6.1.2\n* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE\n*/\n// NOTE: separate `:not()` selectors has broader browser support than the newer\n//  `:not([inert], [inert] *)` (Feb 2023)\n// CAREFUL: JSDom does not support `:not([inert] *)` as a selector; using it causes\n//  the entire query to fail, resulting in no nodes found, which will break a lot\n//  of things... so we have to rely on JS to identify nodes inside an inert container\nvar candidateSelectors = ['input:not([inert])', 'select:not([inert])', 'textarea:not([inert])', 'a[href]:not([inert])', 'button:not([inert])', '[tabindex]:not(slot):not([inert])', 'audio[controls]:not([inert])', 'video[controls]:not([inert])', '[contenteditable]:not([contenteditable=\"false\"]):not([inert])', 'details>summary:first-of-type:not([inert])', 'details:not([inert])'];\nvar candidateSelector = /* #__PURE__ */candidateSelectors.join(',');\nvar NoElement = typeof Element === 'undefined';\nvar matches = NoElement ? function () {} : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\nvar getRootNode = !NoElement && Element.prototype.getRootNode ? function (element) {\n  var _element$getRootNode;\n  return element === null || element === void 0 ? void 0 : (_element$getRootNode = element.getRootNode) === null || _element$getRootNode === void 0 ? void 0 : _element$getRootNode.call(element);\n} : function (element) {\n  return element === null || element === void 0 ? void 0 : element.ownerDocument;\n};\n\n/**\n * Determines if a node is inert or in an inert ancestor.\n * @param {Element} [node]\n * @param {boolean} [lookUp] If true and `node` is not inert, looks up at ancestors to\n *  see if any of them are inert. If false, only `node` itself is considered.\n * @returns {boolean} True if inert itself or by way of being in an inert ancestor.\n *  False if `node` is falsy.\n */\nvar isInert = function isInert(node, lookUp) {\n  var _node$getAttribute;\n  if (lookUp === void 0) {\n    lookUp = true;\n  }\n  // CAREFUL: JSDom does not support inert at all, so we can't use the `HTMLElement.inert`\n  //  JS API property; we have to check the attribute, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's an active element\n  var inertAtt = node === null || node === void 0 ? void 0 : (_node$getAttribute = node.getAttribute) === null || _node$getAttribute === void 0 ? void 0 : _node$getAttribute.call(node, 'inert');\n  var inert = inertAtt === '' || inertAtt === 'true';\n\n  // NOTE: this could also be handled with `node.matches('[inert], :is([inert] *)')`\n  //  if it weren't for `matches()` not being a function on shadow roots; the following\n  //  code works for any kind of node\n  // CAREFUL: JSDom does not appear to support certain selectors like `:not([inert] *)`\n  //  so it likely would not support `:is([inert] *)` either...\n  var result = inert || lookUp && node && isInert(node.parentNode); // recursive\n\n  return result;\n};\n\n/**\n * Determines if a node's content is editable.\n * @param {Element} [node]\n * @returns True if it's content-editable; false if it's not or `node` is falsy.\n */\nvar isContentEditable = function isContentEditable(node) {\n  var _node$getAttribute2;\n  // CAREFUL: JSDom does not support the `HTMLElement.isContentEditable` API so we have\n  //  to use the attribute directly to check for this, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's a non-editable element\n  var attValue = node === null || node === void 0 ? void 0 : (_node$getAttribute2 = node.getAttribute) === null || _node$getAttribute2 === void 0 ? void 0 : _node$getAttribute2.call(node, 'contenteditable');\n  return attValue === '' || attValue === 'true';\n};\n\n/**\n * @param {Element} el container to check in\n * @param {boolean} includeContainer add container to check\n * @param {(node: Element) => boolean} filter filter candidates\n * @returns {Element[]}\n */\nvar getCandidates = function getCandidates(el, includeContainer, filter) {\n  // even if `includeContainer=false`, we still have to check it for inertness because\n  //  if it's inert, all its children are inert\n  if (isInert(el)) {\n    return [];\n  }\n  var candidates = Array.prototype.slice.apply(el.querySelectorAll(candidateSelector));\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\n/**\n * @callback GetShadowRoot\n * @param {Element} element to check for shadow root\n * @returns {ShadowRoot|boolean} ShadowRoot if available or boolean indicating if a shadowRoot is attached but not available.\n */\n\n/**\n * @callback ShadowRootFilter\n * @param {Element} shadowHostNode the element which contains shadow content\n * @returns {boolean} true if a shadow root could potentially contain valid candidates.\n */\n\n/**\n * @typedef {Object} CandidateScope\n * @property {Element} scopeParent contains inner candidates\n * @property {Element[]} candidates list of candidates found in the scope parent\n */\n\n/**\n * @typedef {Object} IterativeOptions\n * @property {GetShadowRoot|boolean} getShadowRoot true if shadow support is enabled; falsy if not;\n *  if a function, implies shadow support is enabled and either returns the shadow root of an element\n *  or a boolean stating if it has an undisclosed shadow root\n * @property {(node: Element) => boolean} filter filter candidates\n * @property {boolean} flatten if true then result will flatten any CandidateScope into the returned list\n * @property {ShadowRootFilter} shadowRootFilter filter shadow roots;\n */\n\n/**\n * @param {Element[]} elements list of element containers to match candidates from\n * @param {boolean} includeContainer add container list to check\n * @param {IterativeOptions} options\n * @returns {Array.<Element|CandidateScope>}\n */\nvar getCandidatesIteratively = function getCandidatesIteratively(elements, includeContainer, options) {\n  var candidates = [];\n  var elementsToCheck = Array.from(elements);\n  while (elementsToCheck.length) {\n    var element = elementsToCheck.shift();\n    if (isInert(element, false)) {\n      // no need to look up since we're drilling down\n      // anything inside this container will also be inert\n      continue;\n    }\n    if (element.tagName === 'SLOT') {\n      // add shadow dom slot scope (slot itself cannot be focusable)\n      var assigned = element.assignedElements();\n      var content = assigned.length ? assigned : element.children;\n      var nestedCandidates = getCandidatesIteratively(content, true, options);\n      if (options.flatten) {\n        candidates.push.apply(candidates, nestedCandidates);\n      } else {\n        candidates.push({\n          scopeParent: element,\n          candidates: nestedCandidates\n        });\n      }\n    } else {\n      // check candidate element\n      var validCandidate = matches.call(element, candidateSelector);\n      if (validCandidate && options.filter(element) && (includeContainer || !elements.includes(element))) {\n        candidates.push(element);\n      }\n\n      // iterate over shadow content if possible\n      var shadowRoot = element.shadowRoot ||\n      // check for an undisclosed shadow\n      typeof options.getShadowRoot === 'function' && options.getShadowRoot(element);\n\n      // no inert look up because we're already drilling down and checking for inertness\n      //  on the way down, so all containers to this root node should have already been\n      //  vetted as non-inert\n      var validShadowRoot = !isInert(shadowRoot, false) && (!options.shadowRootFilter || options.shadowRootFilter(element));\n      if (shadowRoot && validShadowRoot) {\n        // add shadow dom scope IIF a shadow root node was given; otherwise, an undisclosed\n        //  shadow exists, so look at light dom children as fallback BUT create a scope for any\n        //  child candidates found because they're likely slotted elements (elements that are\n        //  children of the web component element (which has the shadow), in the light dom, but\n        //  slotted somewhere _inside_ the undisclosed shadow) -- the scope is created below,\n        //  _after_ we return from this recursive call\n        var _nestedCandidates = getCandidatesIteratively(shadowRoot === true ? element.children : shadowRoot.children, true, options);\n        if (options.flatten) {\n          candidates.push.apply(candidates, _nestedCandidates);\n        } else {\n          candidates.push({\n            scopeParent: element,\n            candidates: _nestedCandidates\n          });\n        }\n      } else {\n        // there's not shadow so just dig into the element's (light dom) children\n        //  __without__ giving the element special scope treatment\n        elementsToCheck.unshift.apply(elementsToCheck, element.children);\n      }\n    }\n  }\n  return candidates;\n};\nvar getTabindex = function getTabindex(node, isScope) {\n  if (node.tabIndex < 0) {\n    // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n    // `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n    // yet they are still part of the regular tab order; in FF, they get a default\n    // `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n    // order, consider their tab index to be 0.\n    // Also browsers do not return `tabIndex` correctly for contentEditable nodes;\n    // so if they don't have a tabindex attribute specifically set, assume it's 0.\n    //\n    // isScope is positive for custom element with shadow root or slot that by default\n    // have tabIndex -1, but need to be sorted by document order in order for their\n    // content to be inserted in the correct position\n    if ((isScope || /^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName) || isContentEditable(node)) && isNaN(parseInt(node.getAttribute('tabindex'), 10))) {\n      return 0;\n    }\n  }\n  return node.tabIndex;\n};\nvar sortOrderedTabbables = function sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n};\nvar isInput = function isInput(node) {\n  return node.tagName === 'INPUT';\n};\nvar isHiddenInput = function isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n};\nvar isDetailsWithSummary = function isDetailsWithSummary(node) {\n  var r = node.tagName === 'DETAILS' && Array.prototype.slice.apply(node.children).some(function (child) {\n    return child.tagName === 'SUMMARY';\n  });\n  return r;\n};\nvar getCheckedRadio = function getCheckedRadio(nodes, form) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\nvar isTabbableRadio = function isTabbableRadio(node) {\n  if (!node.name) {\n    return true;\n  }\n  var radioScope = node.form || getRootNode(node);\n  var queryRadios = function queryRadios(name) {\n    return radioScope.querySelectorAll('input[type=\"radio\"][name=\"' + name + '\"]');\n  };\n  var radioSet;\n  if (typeof window !== 'undefined' && typeof window.CSS !== 'undefined' && typeof window.CSS.escape === 'function') {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error('Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s', err.message);\n      return false;\n    }\n  }\n  var checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\nvar isRadio = function isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n};\nvar isNonTabbableRadio = function isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\n// determines if a node is ultimately attached to the window's document\nvar isNodeAttached = function isNodeAttached(node) {\n  var _nodeRoot;\n  // The root node is the shadow root if the node is in a shadow DOM; some document otherwise\n  //  (but NOT _the_ document; see second 'If' comment below for more).\n  // If rootNode is shadow root, it'll have a host, which is the element to which the shadow\n  //  is attached, and the one we need to check if it's in the document or not (because the\n  //  shadow, and all nodes it contains, is never considered in the document since shadows\n  //  behave like self-contained DOMs; but if the shadow's HOST, which is part of the document,\n  //  is hidden, or is not in the document itself but is detached, it will affect the shadow's\n  //  visibility, including all the nodes it contains). The host could be any normal node,\n  //  or a custom element (i.e. web component). Either way, that's the one that is considered\n  //  part of the document, not the shadow root, nor any of its children (i.e. the node being\n  //  tested).\n  // To further complicate things, we have to look all the way up until we find a shadow HOST\n  //  that is attached (or find none) because the node might be in nested shadows...\n  // If rootNode is not a shadow root, it won't have a host, and so rootNode should be the\n  //  document (per the docs) and while it's a Document-type object, that document does not\n  //  appear to be the same as the node's `ownerDocument` for some reason, so it's safer\n  //  to ignore the rootNode at this point, and use `node.ownerDocument`. Otherwise,\n  //  using `rootNode.contains(node)` will _always_ be true we'll get false-positives when\n  //  node is actually detached.\n  // NOTE: If `nodeRootHost` or `node` happens to be the `document` itself (which is possible\n  //  if a tabbable/focusable node was quickly added to the DOM, focused, and then removed\n  //  from the DOM as in https://github.com/focus-trap/focus-trap-react/issues/905), then\n  //  `ownerDocument` will be `null`, hence the optional chaining on it.\n  var nodeRoot = node && getRootNode(node);\n  var nodeRootHost = (_nodeRoot = nodeRoot) === null || _nodeRoot === void 0 ? void 0 : _nodeRoot.host;\n\n  // in some cases, a detached node will return itself as the root instead of a document or\n  //  shadow root object, in which case, we shouldn't try to look further up the host chain\n  var attached = false;\n  if (nodeRoot && nodeRoot !== node) {\n    var _nodeRootHost, _nodeRootHost$ownerDo, _node$ownerDocument;\n    attached = !!((_nodeRootHost = nodeRootHost) !== null && _nodeRootHost !== void 0 && (_nodeRootHost$ownerDo = _nodeRootHost.ownerDocument) !== null && _nodeRootHost$ownerDo !== void 0 && _nodeRootHost$ownerDo.contains(nodeRootHost) || node !== null && node !== void 0 && (_node$ownerDocument = node.ownerDocument) !== null && _node$ownerDocument !== void 0 && _node$ownerDocument.contains(node));\n    while (!attached && nodeRootHost) {\n      var _nodeRoot2, _nodeRootHost2, _nodeRootHost2$ownerD;\n      // since it's not attached and we have a root host, the node MUST be in a nested shadow DOM,\n      //  which means we need to get the host's host and check if that parent host is contained\n      //  in (i.e. attached to) the document\n      nodeRoot = getRootNode(nodeRootHost);\n      nodeRootHost = (_nodeRoot2 = nodeRoot) === null || _nodeRoot2 === void 0 ? void 0 : _nodeRoot2.host;\n      attached = !!((_nodeRootHost2 = nodeRootHost) !== null && _nodeRootHost2 !== void 0 && (_nodeRootHost2$ownerD = _nodeRootHost2.ownerDocument) !== null && _nodeRootHost2$ownerD !== void 0 && _nodeRootHost2$ownerD.contains(nodeRootHost));\n    }\n  }\n  return attached;\n};\nvar isZeroArea = function isZeroArea(node) {\n  var _node$getBoundingClie = node.getBoundingClientRect(),\n    width = _node$getBoundingClie.width,\n    height = _node$getBoundingClie.height;\n  return width === 0 && height === 0;\n};\nvar isHidden = function isHidden(node, _ref) {\n  var displayCheck = _ref.displayCheck,\n    getShadowRoot = _ref.getShadowRoot;\n  // NOTE: visibility will be `undefined` if node is detached from the document\n  //  (see notes about this further down), which means we will consider it visible\n  //  (this is legacy behavior from a very long way back)\n  // NOTE: we check this regardless of `displayCheck=\"none\"` because this is a\n  //  _visibility_ check, not a _display_ check\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n  var isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  var nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n  if (!displayCheck || displayCheck === 'full' || displayCheck === 'legacy-full') {\n    if (typeof getShadowRoot === 'function') {\n      // figure out if we should consider the node to be in an undisclosed shadow and use the\n      //  'non-zero-area' fallback\n      var originalNode = node;\n      while (node) {\n        var parentElement = node.parentElement;\n        var rootNode = getRootNode(node);\n        if (parentElement && !parentElement.shadowRoot && getShadowRoot(parentElement) === true // check if there's an undisclosed shadow\n        ) {\n          // node has an undisclosed shadow which means we can only treat it as a black box, so we\n          //  fall back to a non-zero-area test\n          return isZeroArea(node);\n        } else if (node.assignedSlot) {\n          // iterate up slot\n          node = node.assignedSlot;\n        } else if (!parentElement && rootNode !== node.ownerDocument) {\n          // cross shadow boundary\n          node = rootNode.host;\n        } else {\n          // iterate up normal dom\n          node = parentElement;\n        }\n      }\n      node = originalNode;\n    }\n    // else, `getShadowRoot` might be true, but all that does is enable shadow DOM support\n    //  (i.e. it does not also presume that all nodes might have undisclosed shadows); or\n    //  it might be a falsy value, which means shadow DOM support is disabled\n\n    // Since we didn't find it sitting in an undisclosed shadow (or shadows are disabled)\n    //  now we can just test to see if it would normally be visible or not, provided it's\n    //  attached to the main document.\n    // NOTE: We must consider case where node is inside a shadow DOM and given directly to\n    //  `isTabbable()` or `isFocusable()` -- regardless of `getShadowRoot` option setting.\n\n    if (isNodeAttached(node)) {\n      // this works wherever the node is: if there's at least one client rect, it's\n      //  somehow displayed; it also covers the CSS 'display: contents' case where the\n      //  node itself is hidden in place of its contents; and there's no need to search\n      //  up the hierarchy either\n      return !node.getClientRects().length;\n    }\n\n    // Else, the node isn't attached to the document, which means the `getClientRects()`\n    //  API will __always__ return zero rects (this can happen, for example, if React\n    //  is used to render nodes onto a detached tree, as confirmed in this thread:\n    //  https://github.com/facebook/react/issues/9117#issuecomment-284228870)\n    //\n    // It also means that even window.getComputedStyle(node).display will return `undefined`\n    //  because styles are only computed for nodes that are in the document.\n    //\n    // NOTE: THIS HAS BEEN THE CASE FOR YEARS. It is not new, nor is it caused by tabbable\n    //  somehow. Though it was never stated officially, anyone who has ever used tabbable\n    //  APIs on nodes in detached containers has actually implicitly used tabbable in what\n    //  was later (as of v5.2.0 on Apr 9, 2021) called `displayCheck=\"none\"` mode -- essentially\n    //  considering __everything__ to be visible because of the innability to determine styles.\n    //\n    // v6.0.0: As of this major release, the default 'full' option __no longer treats detached\n    //  nodes as visible with the 'none' fallback.__\n    if (displayCheck !== 'legacy-full') {\n      return true; // hidden\n    }\n    // else, fallback to 'none' mode and consider the node visible\n  } else if (displayCheck === 'non-zero-area') {\n    // NOTE: Even though this tests that the node's client rect is non-zero to determine\n    //  whether it's displayed, and that a detached node will __always__ have a zero-area\n    //  client rect, we don't special-case for whether the node is attached or not. In\n    //  this mode, we do want to consider nodes that have a zero area to be hidden at all\n    //  times, and that includes attached or not.\n    return isZeroArea(node);\n  }\n\n  // visible, as far as we can tell, or per current `displayCheck=none` mode, we assume\n  //  it's visible\n  return false;\n};\n\n// form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\nvar isDisabledFromFieldset = function isDisabledFromFieldset(node) {\n  if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {\n    var parentNode = node.parentElement;\n    // check if `node` is contained in a disabled <fieldset>\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> among the children of the disabled <fieldset>\n        for (var i = 0; i < parentNode.children.length; i++) {\n          var child = parentNode.children.item(i);\n          // when the first <legend> (in document order) is found\n          if (child.tagName === 'LEGEND') {\n            // if its parent <fieldset> is not nested in another disabled <fieldset>,\n            // return whether `node` is a descendant of its first <legend>\n            return matches.call(parentNode, 'fieldset[disabled] *') ? true : !child.contains(node);\n          }\n        }\n        // the disabled <fieldset> containing `node` has no <legend>\n        return true;\n      }\n      parentNode = parentNode.parentElement;\n    }\n  }\n\n  // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n  return false;\n};\nvar isNodeMatchingSelectorFocusable = function isNodeMatchingSelectorFocusable(options, node) {\n  if (node.disabled ||\n  // we must do an inert look up to filter out any elements inside an inert ancestor\n  //  because we're limited in the type of selectors we can use in JSDom (see related\n  //  note related to `candidateSelectors`)\n  isInert(node) || isHiddenInput(node) || isHidden(node, options) ||\n  // For a details element with a summary, the summary element gets the focus\n  isDetailsWithSummary(node) || isDisabledFromFieldset(node)) {\n    return false;\n  }\n  return true;\n};\nvar isNodeMatchingSelectorTabbable = function isNodeMatchingSelectorTabbable(options, node) {\n  if (isNonTabbableRadio(node) || getTabindex(node) < 0 || !isNodeMatchingSelectorFocusable(options, node)) {\n    return false;\n  }\n  return true;\n};\nvar isValidShadowRootTabbable = function isValidShadowRootTabbable(shadowHostNode) {\n  var tabIndex = parseInt(shadowHostNode.getAttribute('tabindex'), 10);\n  if (isNaN(tabIndex) || tabIndex >= 0) {\n    return true;\n  }\n  // If a custom element has an explicit negative tabindex,\n  // browsers will not allow tab targeting said element's children.\n  return false;\n};\n\n/**\n * @param {Array.<Element|CandidateScope>} candidates\n * @returns Element[]\n */\nvar sortByOrder = function sortByOrder(candidates) {\n  var regularTabbables = [];\n  var orderedTabbables = [];\n  candidates.forEach(function (item, i) {\n    var isScope = !!item.scopeParent;\n    var element = isScope ? item.scopeParent : item;\n    var candidateTabindex = getTabindex(element, isScope);\n    var elements = isScope ? sortByOrder(item.candidates) : element;\n    if (candidateTabindex === 0) {\n      isScope ? regularTabbables.push.apply(regularTabbables, elements) : regularTabbables.push(element);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        item: item,\n        isScope: isScope,\n        content: elements\n      });\n    }\n  });\n  return orderedTabbables.sort(sortOrderedTabbables).reduce(function (acc, sortable) {\n    sortable.isScope ? acc.push.apply(acc, sortable.content) : acc.push(sortable.content);\n    return acc;\n  }, []).concat(regularTabbables);\n};\nvar tabbable = function tabbable(el, options) {\n  options = options || {};\n  var candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([el], options.includeContainer, {\n      filter: isNodeMatchingSelectorTabbable.bind(null, options),\n      flatten: false,\n      getShadowRoot: options.getShadowRoot,\n      shadowRootFilter: isValidShadowRootTabbable\n    });\n  } else {\n    candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorTabbable.bind(null, options));\n  }\n  return sortByOrder(candidates);\n};\nvar focusable = function focusable(el, options) {\n  options = options || {};\n  var candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([el], options.includeContainer, {\n      filter: isNodeMatchingSelectorFocusable.bind(null, options),\n      flatten: true,\n      getShadowRoot: options.getShadowRoot\n    });\n  } else {\n    candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorFocusable.bind(null, options));\n  }\n  return candidates;\n};\nvar isTabbable = function isTabbable(node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(options, node);\n};\nvar focusableCandidateSelector = /* #__PURE__ */candidateSelectors.concat('iframe').join(',');\nvar isFocusable = function isFocusable(node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { focusable, isFocusable, isTabbable, tabbable };\n//# sourceMappingURL=index.esm.js.map\n","/*!\n* focus-trap 7.4.3\n* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE\n*/\nimport { isFocusable, tabbable, focusable, isTabbable } from 'tabbable';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nvar activeFocusTraps = {\n  activateTrap: function activateTrap(trapStack, trap) {\n    if (trapStack.length > 0) {\n      var activeTrap = trapStack[trapStack.length - 1];\n      if (activeTrap !== trap) {\n        activeTrap.pause();\n      }\n    }\n    var trapIndex = trapStack.indexOf(trap);\n    if (trapIndex === -1) {\n      trapStack.push(trap);\n    } else {\n      // move this existing trap to the front of the queue\n      trapStack.splice(trapIndex, 1);\n      trapStack.push(trap);\n    }\n  },\n  deactivateTrap: function deactivateTrap(trapStack, trap) {\n    var trapIndex = trapStack.indexOf(trap);\n    if (trapIndex !== -1) {\n      trapStack.splice(trapIndex, 1);\n    }\n    if (trapStack.length > 0) {\n      trapStack[trapStack.length - 1].unpause();\n    }\n  }\n};\nvar isSelectableInput = function isSelectableInput(node) {\n  return node.tagName && node.tagName.toLowerCase() === 'input' && typeof node.select === 'function';\n};\nvar isEscapeEvent = function isEscapeEvent(e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n};\nvar isTabEvent = function isTabEvent(e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n};\n\n// checks for TAB by default\nvar isKeyForward = function isKeyForward(e) {\n  return isTabEvent(e) && !e.shiftKey;\n};\n\n// checks for SHIFT+TAB by default\nvar isKeyBackward = function isKeyBackward(e) {\n  return isTabEvent(e) && e.shiftKey;\n};\nvar delay = function delay(fn) {\n  return setTimeout(fn, 0);\n};\n\n// Array.find/findIndex() are not supported on IE; this replicates enough\n//  of Array.findIndex() for our needs\nvar findIndex = function findIndex(arr, fn) {\n  var idx = -1;\n  arr.every(function (value, i) {\n    if (fn(value)) {\n      idx = i;\n      return false; // break\n    }\n\n    return true; // next\n  });\n\n  return idx;\n};\n\n/**\n * Get an option's value when it could be a plain value, or a handler that provides\n *  the value.\n * @param {*} value Option's value to check.\n * @param {...*} [params] Any parameters to pass to the handler, if `value` is a function.\n * @returns {*} The `value`, or the handler's returned value.\n */\nvar valueOrHandler = function valueOrHandler(value) {\n  for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    params[_key - 1] = arguments[_key];\n  }\n  return typeof value === 'function' ? value.apply(void 0, params) : value;\n};\nvar getActualTarget = function getActualTarget(event) {\n  // NOTE: If the trap is _inside_ a shadow DOM, event.target will always be the\n  //  shadow host. However, event.target.composedPath() will be an array of\n  //  nodes \"clicked\" from inner-most (the actual element inside the shadow) to\n  //  outer-most (the host HTML document). If we have access to composedPath(),\n  //  then use its first element; otherwise, fall back to event.target (and\n  //  this only works for an _open_ shadow DOM; otherwise,\n  //  composedPath()[0] === event.target always).\n  return event.target.shadowRoot && typeof event.composedPath === 'function' ? event.composedPath()[0] : event.target;\n};\n\n// NOTE: this must be _outside_ `createFocusTrap()` to make sure all traps in this\n//  current instance use the same stack if `userOptions.trapStack` isn't specified\nvar internalTrapStack = [];\nvar createFocusTrap = function createFocusTrap(elements, userOptions) {\n  // SSR: a live trap shouldn't be created in this type of environment so this\n  //  should be safe code to execute if the `document` option isn't specified\n  var doc = (userOptions === null || userOptions === void 0 ? void 0 : userOptions.document) || document;\n  var trapStack = (userOptions === null || userOptions === void 0 ? void 0 : userOptions.trapStack) || internalTrapStack;\n  var config = _objectSpread2({\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true,\n    isKeyForward: isKeyForward,\n    isKeyBackward: isKeyBackward\n  }, userOptions);\n  var state = {\n    // containers given to createFocusTrap()\n    // @type {Array<HTMLElement>}\n    containers: [],\n    // list of objects identifying tabbable nodes in `containers` in the trap\n    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap\n    //  is active, but the trap should never get to a state where there isn't at least one group\n    //  with at least one tabbable node in it (that would lead to an error condition that would\n    //  result in an error being thrown)\n    // @type {Array<{\n    //   container: HTMLElement,\n    //   tabbableNodes: Array<HTMLElement>, // empty if none\n    //   focusableNodes: Array<HTMLElement>, // empty if none\n    //   firstTabbableNode: HTMLElement|null,\n    //   lastTabbableNode: HTMLElement|null,\n    //   nextTabbableNode: (node: HTMLElement, forward: boolean) => HTMLElement|undefined\n    // }>}\n    containerGroups: [],\n    // same order/length as `containers` list\n\n    // references to objects in `containerGroups`, but only those that actually have\n    //  tabbable nodes in them\n    // NOTE: same order as `containers` and `containerGroups`, but __not necessarily__\n    //  the same length\n    tabbableGroups: [],\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false,\n    // timer ID for when delayInitialFocus is true and initial focus in this trap\n    //  has been delayed during activation\n    delayInitialFocusTimer: undefined\n  };\n  var trap; // eslint-disable-line prefer-const -- some private functions reference it, and its methods reference private functions, so we must declare here and define later\n\n  /**\n   * Gets a configuration option value.\n   * @param {Object|undefined} configOverrideOptions If true, and option is defined in this set,\n   *  value will be taken from this object. Otherwise, value will be taken from base configuration.\n   * @param {string} optionName Name of the option whose value is sought.\n   * @param {string|undefined} [configOptionName] Name of option to use __instead of__ `optionName`\n   *  IIF `configOverrideOptions` is not defined. Otherwise, `optionName` is used.\n   */\n  var getOption = function getOption(configOverrideOptions, optionName, configOptionName) {\n    return configOverrideOptions && configOverrideOptions[optionName] !== undefined ? configOverrideOptions[optionName] : config[configOptionName || optionName];\n  };\n\n  /**\n   * Finds the index of the container that contains the element.\n   * @param {HTMLElement} element\n   * @param {Event} [event]\n   * @returns {number} Index of the container in either `state.containers` or\n   *  `state.containerGroups` (the order/length of these lists are the same); -1\n   *  if the element isn't found.\n   */\n  var findContainerIndex = function findContainerIndex(element, event) {\n    var composedPath = typeof (event === null || event === void 0 ? void 0 : event.composedPath) === 'function' ? event.composedPath() : undefined;\n    // NOTE: search `containerGroups` because it's possible a group contains no tabbable\n    //  nodes, but still contains focusable nodes (e.g. if they all have `tabindex=-1`)\n    //  and we still need to find the element in there\n    return state.containerGroups.findIndex(function (_ref) {\n      var container = _ref.container,\n        tabbableNodes = _ref.tabbableNodes;\n      return container.contains(element) || ( // fall back to explicit tabbable search which will take into consideration any\n      //  web components if the `tabbableOptions.getShadowRoot` option was used for\n      //  the trap, enabling shadow DOM support in tabbable (`Node.contains()` doesn't\n      //  look inside web components even if open)\n      composedPath === null || composedPath === void 0 ? void 0 : composedPath.includes(container)) || tabbableNodes.find(function (node) {\n        return node === element;\n      });\n    });\n  };\n\n  /**\n   * Gets the node for the given option, which is expected to be an option that\n   *  can be either a DOM node, a string that is a selector to get a node, `false`\n   *  (if a node is explicitly NOT given), or a function that returns any of these\n   *  values.\n   * @param {string} optionName\n   * @returns {undefined | false | HTMLElement | SVGElement} Returns\n   *  `undefined` if the option is not specified; `false` if the option\n   *  resolved to `false` (node explicitly not given); otherwise, the resolved\n   *  DOM node.\n   * @throws {Error} If the option is set, not `false`, and is not, or does not\n   *  resolve to a node.\n   */\n  var getNodeForOption = function getNodeForOption(optionName) {\n    var optionValue = config[optionName];\n    if (typeof optionValue === 'function') {\n      for (var _len2 = arguments.length, params = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        params[_key2 - 1] = arguments[_key2];\n      }\n      optionValue = optionValue.apply(void 0, params);\n    }\n    if (optionValue === true) {\n      optionValue = undefined; // use default value\n    }\n\n    if (!optionValue) {\n      if (optionValue === undefined || optionValue === false) {\n        return optionValue;\n      }\n      // else, empty string (invalid), null (invalid), 0 (invalid)\n\n      throw new Error(\"`\".concat(optionName, \"` was specified but was not a node, or did not return a node\"));\n    }\n    var node = optionValue; // could be HTMLElement, SVGElement, or non-empty string at this point\n\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue); // resolve to node, or null if fails\n      if (!node) {\n        throw new Error(\"`\".concat(optionName, \"` as selector refers to no known node\"));\n      }\n    }\n    return node;\n  };\n  var getInitialFocusNode = function getInitialFocusNode() {\n    var node = getNodeForOption('initialFocus');\n\n    // false explicitly indicates we want no initialFocus at all\n    if (node === false) {\n      return false;\n    }\n    if (node === undefined || !isFocusable(node, config.tabbableOptions)) {\n      // option not specified nor focusable: use fallback options\n      if (findContainerIndex(doc.activeElement) >= 0) {\n        node = doc.activeElement;\n      } else {\n        var firstTabbableGroup = state.tabbableGroups[0];\n        var firstTabbableNode = firstTabbableGroup && firstTabbableGroup.firstTabbableNode;\n\n        // NOTE: `fallbackFocus` option function cannot return `false` (not supported)\n        node = firstTabbableNode || getNodeForOption('fallbackFocus');\n      }\n    }\n    if (!node) {\n      throw new Error('Your focus-trap needs to have at least one focusable element');\n    }\n    return node;\n  };\n  var updateTabbableNodes = function updateTabbableNodes() {\n    state.containerGroups = state.containers.map(function (container) {\n      var tabbableNodes = tabbable(container, config.tabbableOptions);\n\n      // NOTE: if we have tabbable nodes, we must have focusable nodes; focusable nodes\n      //  are a superset of tabbable nodes\n      var focusableNodes = focusable(container, config.tabbableOptions);\n      return {\n        container: container,\n        tabbableNodes: tabbableNodes,\n        focusableNodes: focusableNodes,\n        firstTabbableNode: tabbableNodes.length > 0 ? tabbableNodes[0] : null,\n        lastTabbableNode: tabbableNodes.length > 0 ? tabbableNodes[tabbableNodes.length - 1] : null,\n        /**\n         * Finds the __tabbable__ node that follows the given node in the specified direction,\n         *  in this container, if any.\n         * @param {HTMLElement} node\n         * @param {boolean} [forward] True if going in forward tab order; false if going\n         *  in reverse.\n         * @returns {HTMLElement|undefined} The next tabbable node, if any.\n         */\n        nextTabbableNode: function nextTabbableNode(node) {\n          var forward = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n          // NOTE: If tabindex is positive (in order to manipulate the tab order separate\n          //  from the DOM order), this __will not work__ because the list of focusableNodes,\n          //  while it contains tabbable nodes, does not sort its nodes in any order other\n          //  than DOM order, because it can't: Where would you place focusable (but not\n          //  tabbable) nodes in that order? They have no order, because they aren't tabbale...\n          // Support for positive tabindex is already broken and hard to manage (possibly\n          //  not supportable, TBD), so this isn't going to make things worse than they\n          //  already are, and at least makes things better for the majority of cases where\n          //  tabindex is either 0/unset or negative.\n          // FYI, positive tabindex issue: https://github.com/focus-trap/focus-trap/issues/375\n          var nodeIdx = focusableNodes.findIndex(function (n) {\n            return n === node;\n          });\n          if (nodeIdx < 0) {\n            return undefined;\n          }\n          if (forward) {\n            return focusableNodes.slice(nodeIdx + 1).find(function (n) {\n              return isTabbable(n, config.tabbableOptions);\n            });\n          }\n          return focusableNodes.slice(0, nodeIdx).reverse().find(function (n) {\n            return isTabbable(n, config.tabbableOptions);\n          });\n        }\n      };\n    });\n    state.tabbableGroups = state.containerGroups.filter(function (group) {\n      return group.tabbableNodes.length > 0;\n    });\n\n    // throw if no groups have tabbable nodes and we don't have a fallback focus node either\n    if (state.tabbableGroups.length <= 0 && !getNodeForOption('fallbackFocus') // returning false not supported for this option\n    ) {\n      throw new Error('Your focus-trap must have at least one container with at least one tabbable node in it at all times');\n    }\n  };\n  var tryFocus = function tryFocus(node) {\n    if (node === false) {\n      return;\n    }\n    if (node === doc.activeElement) {\n      return;\n    }\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n    node.focus({\n      preventScroll: !!config.preventScroll\n    });\n    state.mostRecentlyFocusedNode = node;\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  };\n  var getReturnFocusNode = function getReturnFocusNode(previousActiveElement) {\n    var node = getNodeForOption('setReturnFocus', previousActiveElement);\n    return node ? node : node === false ? false : previousActiveElement;\n  };\n\n  // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n  var checkPointerDown = function checkPointerDown(e) {\n    var target = getActualTarget(e);\n    if (findContainerIndex(target, e) >= 0) {\n      // allow the click since it ocurred inside the trap\n      return;\n    }\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      // immediately deactivate the trap\n      trap.deactivate({\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked (and if not focusable, to \"nothing\"); by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node), whether the\n        //  outside click was on a focusable node or not\n        returnFocus: config.returnFocusOnDeactivate\n      });\n      return;\n    }\n\n    // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      // allow the click outside the trap to take place\n      return;\n    }\n\n    // otherwise, prevent the click\n    e.preventDefault();\n  };\n\n  // In case focus escapes the trap for some strange reason, pull it back in.\n  var checkFocusIn = function checkFocusIn(e) {\n    var target = getActualTarget(e);\n    var targetContained = findContainerIndex(target, e) >= 0;\n\n    // In Firefox when you Tab out of an iframe the Document is briefly focused.\n    if (targetContained || target instanceof Document) {\n      if (targetContained) {\n        state.mostRecentlyFocusedNode = target;\n      }\n    } else {\n      // escaped! pull it back in to where it just left\n      e.stopImmediatePropagation();\n      tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n    }\n  };\n\n  // Hijack key nav events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n  var checkKeyNav = function checkKeyNav(event) {\n    var isBackward = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var target = getActualTarget(event);\n    updateTabbableNodes();\n    var destinationNode = null;\n    if (state.tabbableGroups.length > 0) {\n      // make sure the target is actually contained in a group\n      // NOTE: the target may also be the container itself if it's focusable\n      //  with tabIndex='-1' and was given initial focus\n      var containerIndex = findContainerIndex(target, event);\n      var containerGroup = containerIndex >= 0 ? state.containerGroups[containerIndex] : undefined;\n      if (containerIndex < 0) {\n        // target not found in any group: quite possible focus has escaped the trap,\n        //  so bring it back into...\n        if (isBackward) {\n          // ...the last node in the last group\n          destinationNode = state.tabbableGroups[state.tabbableGroups.length - 1].lastTabbableNode;\n        } else {\n          // ...the first node in the first group\n          destinationNode = state.tabbableGroups[0].firstTabbableNode;\n        }\n      } else if (isBackward) {\n        // REVERSE\n\n        // is the target the first tabbable node in a group?\n        var startOfGroupIndex = findIndex(state.tabbableGroups, function (_ref2) {\n          var firstTabbableNode = _ref2.firstTabbableNode;\n          return target === firstTabbableNode;\n        });\n        if (startOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target, config.tabbableOptions) && !isTabbable(target, config.tabbableOptions) && !containerGroup.nextTabbableNode(target, false))) {\n          // an exception case where the target is either the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle shift+tab as if focus were on the container's\n          //  first tabbable node, and go to the last tabbable node of the LAST group\n          startOfGroupIndex = containerIndex;\n        }\n        if (startOfGroupIndex >= 0) {\n          // YES: then shift+tab should go to the last tabbable node in the\n          //  previous group (and wrap around to the last tabbable node of\n          //  the LAST group if it's the first tabbable node of the FIRST group)\n          var destinationGroupIndex = startOfGroupIndex === 0 ? state.tabbableGroups.length - 1 : startOfGroupIndex - 1;\n          var destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.lastTabbableNode;\n        } else if (!isTabEvent(event)) {\n          // user must have customized the nav keys so we have to move focus manually _within_\n          //  the active group: do this based on the order determined by tabbable()\n          destinationNode = containerGroup.nextTabbableNode(target, false);\n        }\n      } else {\n        // FORWARD\n\n        // is the target the last tabbable node in a group?\n        var lastOfGroupIndex = findIndex(state.tabbableGroups, function (_ref3) {\n          var lastTabbableNode = _ref3.lastTabbableNode;\n          return target === lastTabbableNode;\n        });\n        if (lastOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target, config.tabbableOptions) && !isTabbable(target, config.tabbableOptions) && !containerGroup.nextTabbableNode(target))) {\n          // an exception case where the target is the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle tab as if focus were on the container's\n          //  last tabbable node, and go to the first tabbable node of the FIRST group\n          lastOfGroupIndex = containerIndex;\n        }\n        if (lastOfGroupIndex >= 0) {\n          // YES: then tab should go to the first tabbable node in the next\n          //  group (and wrap around to the first tabbable node of the FIRST\n          //  group if it's the last tabbable node of the LAST group)\n          var _destinationGroupIndex = lastOfGroupIndex === state.tabbableGroups.length - 1 ? 0 : lastOfGroupIndex + 1;\n          var _destinationGroup = state.tabbableGroups[_destinationGroupIndex];\n          destinationNode = _destinationGroup.firstTabbableNode;\n        } else if (!isTabEvent(event)) {\n          // user must have customized the nav keys so we have to move focus manually _within_\n          //  the active group: do this based on the order determined by tabbable()\n          destinationNode = containerGroup.nextTabbableNode(target);\n        }\n      }\n    } else {\n      // no groups available\n      // NOTE: the fallbackFocus option does not support returning false to opt-out\n      destinationNode = getNodeForOption('fallbackFocus');\n    }\n    if (destinationNode) {\n      if (isTabEvent(event)) {\n        // since tab natively moves focus, we wouldn't have a destination node unless we\n        //  were on the edge of a container and had to move to the next/previous edge, in\n        //  which case we want to prevent default to keep the browser from moving focus\n        //  to where it normally would\n        event.preventDefault();\n      }\n      tryFocus(destinationNode);\n    }\n    // else, let the browser take care of [shift+]tab and move the focus\n  };\n\n  var checkKey = function checkKey(event) {\n    if (isEscapeEvent(event) && valueOrHandler(config.escapeDeactivates, event) !== false) {\n      event.preventDefault();\n      trap.deactivate();\n      return;\n    }\n    if (config.isKeyForward(event) || config.isKeyBackward(event)) {\n      checkKeyNav(event, config.isKeyBackward(event));\n    }\n  };\n  var checkClick = function checkClick(e) {\n    var target = getActualTarget(e);\n    if (findContainerIndex(target, e) >= 0) {\n      return;\n    }\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      return;\n    }\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  };\n\n  //\n  // EVENT LISTENERS\n  //\n\n  var addListeners = function addListeners() {\n    if (!state.active) {\n      return;\n    }\n\n    // There can be only one listening focus trap at a time\n    activeFocusTraps.activateTrap(trapStack, trap);\n\n    // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n    state.delayInitialFocusTimer = config.delayInitialFocus ? delay(function () {\n      tryFocus(getInitialFocusNode());\n    }) : tryFocus(getInitialFocusNode());\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('keydown', checkKey, {\n      capture: true,\n      passive: false\n    });\n    return trap;\n  };\n  var removeListeners = function removeListeners() {\n    if (!state.active) {\n      return;\n    }\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n    return trap;\n  };\n\n  //\n  // MUTATION OBSERVER\n  //\n\n  var checkDomRemoval = function checkDomRemoval(mutations) {\n    var isFocusedNodeRemoved = mutations.some(function (mutation) {\n      var removedNodes = Array.from(mutation.removedNodes);\n      return removedNodes.some(function (node) {\n        return node === state.mostRecentlyFocusedNode;\n      });\n    });\n\n    // If the currently focused is removed then browsers will move focus to the\n    // <body> element. If this happens, try to move focus back into the trap.\n    if (isFocusedNodeRemoved) {\n      tryFocus(getInitialFocusNode());\n    }\n  };\n\n  // Use MutationObserver - if supported - to detect if focused node is removed\n  // from the DOM.\n  var mutationObserver = typeof window !== 'undefined' && 'MutationObserver' in window ? new MutationObserver(checkDomRemoval) : undefined;\n  var updateObservedNodes = function updateObservedNodes() {\n    if (!mutationObserver) {\n      return;\n    }\n    mutationObserver.disconnect();\n    if (state.active && !state.paused) {\n      state.containers.map(function (container) {\n        mutationObserver.observe(container, {\n          subtree: true,\n          childList: true\n        });\n      });\n    }\n  };\n\n  //\n  // TRAP DEFINITION\n  //\n\n  trap = {\n    get active() {\n      return state.active;\n    },\n    get paused() {\n      return state.paused;\n    },\n    activate: function activate(activateOptions) {\n      if (state.active) {\n        return this;\n      }\n      var onActivate = getOption(activateOptions, 'onActivate');\n      var onPostActivate = getOption(activateOptions, 'onPostActivate');\n      var checkCanFocusTrap = getOption(activateOptions, 'checkCanFocusTrap');\n      if (!checkCanFocusTrap) {\n        updateTabbableNodes();\n      }\n      state.active = true;\n      state.paused = false;\n      state.nodeFocusedBeforeActivation = doc.activeElement;\n      onActivate === null || onActivate === void 0 ? void 0 : onActivate();\n      var finishActivation = function finishActivation() {\n        if (checkCanFocusTrap) {\n          updateTabbableNodes();\n        }\n        addListeners();\n        updateObservedNodes();\n        onPostActivate === null || onPostActivate === void 0 ? void 0 : onPostActivate();\n      };\n      if (checkCanFocusTrap) {\n        checkCanFocusTrap(state.containers.concat()).then(finishActivation, finishActivation);\n        return this;\n      }\n      finishActivation();\n      return this;\n    },\n    deactivate: function deactivate(deactivateOptions) {\n      if (!state.active) {\n        return this;\n      }\n      var options = _objectSpread2({\n        onDeactivate: config.onDeactivate,\n        onPostDeactivate: config.onPostDeactivate,\n        checkCanReturnFocus: config.checkCanReturnFocus\n      }, deactivateOptions);\n      clearTimeout(state.delayInitialFocusTimer); // noop if undefined\n      state.delayInitialFocusTimer = undefined;\n      removeListeners();\n      state.active = false;\n      state.paused = false;\n      updateObservedNodes();\n      activeFocusTraps.deactivateTrap(trapStack, trap);\n      var onDeactivate = getOption(options, 'onDeactivate');\n      var onPostDeactivate = getOption(options, 'onPostDeactivate');\n      var checkCanReturnFocus = getOption(options, 'checkCanReturnFocus');\n      var returnFocus = getOption(options, 'returnFocus', 'returnFocusOnDeactivate');\n      onDeactivate === null || onDeactivate === void 0 ? void 0 : onDeactivate();\n      var finishDeactivation = function finishDeactivation() {\n        delay(function () {\n          if (returnFocus) {\n            tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n          }\n          onPostDeactivate === null || onPostDeactivate === void 0 ? void 0 : onPostDeactivate();\n        });\n      };\n      if (returnFocus && checkCanReturnFocus) {\n        checkCanReturnFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation)).then(finishDeactivation, finishDeactivation);\n        return this;\n      }\n      finishDeactivation();\n      return this;\n    },\n    pause: function pause(pauseOptions) {\n      if (state.paused || !state.active) {\n        return this;\n      }\n      var onPause = getOption(pauseOptions, 'onPause');\n      var onPostPause = getOption(pauseOptions, 'onPostPause');\n      state.paused = true;\n      onPause === null || onPause === void 0 ? void 0 : onPause();\n      removeListeners();\n      updateObservedNodes();\n      onPostPause === null || onPostPause === void 0 ? void 0 : onPostPause();\n      return this;\n    },\n    unpause: function unpause(unpauseOptions) {\n      if (!state.paused || !state.active) {\n        return this;\n      }\n      var onUnpause = getOption(unpauseOptions, 'onUnpause');\n      var onPostUnpause = getOption(unpauseOptions, 'onPostUnpause');\n      state.paused = false;\n      onUnpause === null || onUnpause === void 0 ? void 0 : onUnpause();\n      updateTabbableNodes();\n      addListeners();\n      updateObservedNodes();\n      onPostUnpause === null || onPostUnpause === void 0 ? void 0 : onPostUnpause();\n      return this;\n    },\n    updateContainerElements: function updateContainerElements(containerElements) {\n      var elementsAsArray = [].concat(containerElements).filter(Boolean);\n      state.containers = elementsAsArray.map(function (element) {\n        return typeof element === 'string' ? doc.querySelector(element) : element;\n      });\n      if (state.active) {\n        updateTabbableNodes();\n      }\n      updateObservedNodes();\n      return this;\n    }\n  };\n\n  // initialize container elements\n  trap.updateContainerElements(elements);\n  return trap;\n};\n\nexport { createFocusTrap };\n//# sourceMappingURL=focus-trap.esm.js.map\n","import { FocusableElement, tabbable } from 'tabbable';\n\ntype Container = Element | FocusableElement | null;\n\nconst firstTabbable = (container?: Container): FocusableElement | undefined => {\n  return (container ? tabbable(container, { includeContainer: true, getShadowRoot: true }) : []).shift();\n};\n\nexport default firstTabbable;\n","@import 'variables';\n@import 'mixins';\n\n$-min-width: 8rem;\n$-max-width: 16rem;\n$-min-height: 2rem;\n$-max-height: calc(100vh - 48px);\n\n:host {\n  display: contents;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n::slotted(nav) {\n  padding-top: $cat-body-margin-bottom * 0.5;\n  padding-bottom: $cat-body-margin-bottom * 0.5;\n  min-width: $-min-width;\n  max-width: $-max-width;\n}\n\n.content {\n  position: fixed;\n  background: cat-token('color.ui.background.surface');\n  display: none;\n  -webkit-overflow-scrolling: touch;\n  min-height: $-min-height;\n  max-height: $-max-height;\n  @include cat-elevation(4);\n  border-radius: cat-border-radius('m');\n  border: 1px solid cat-token('color.ui.border.default');\n  z-index: $cat-dropdown-z-index;\n  opacity: 0;\n  transition: transform cat-token('time.transition.s') cubic-bezier(0.3, 0, 0.8, 0.15),\n    opacity cat-token('time.transition.s') cubic-bezier(0.3, 0, 0.8, 0.15);\n\n  &[data-placement^='top'] {\n    transform: translateY(1rem);\n  }\n\n  &[data-placement^='left'] {\n    transform: translateX(1rem);\n  }\n\n  &[data-placement^='right'] {\n    transform: translateX(-1rem);\n  }\n\n  &[data-placement^='bottom'] {\n    transform: translateY(-1rem);\n  }\n\n  &.show {\n    opacity: 1;\n    transform: translateX(0);\n    transform: translateY(0);\n    transition: transform cat-token('time.transition.l') cubic-bezier(0.05, 0.7, 0.1, 1),\n      opacity cat-token('time.transition.l') cubic-bezier(0.05, 0.7, 0.1, 1);\n  }\n\n  &.overflow-auto {\n    overflow: auto;\n  }\n}\n","import { autoUpdate, computePosition, flip, offset, Placement, size } from '@floating-ui/dom';\nimport { timeTransitionS } from '@haiilo/catalyst-tokens';\nimport { Component, Event, EventEmitter, h, Host, Listen, Method, Prop } from '@stencil/core';\nimport * as focusTrap from 'focus-trap';\nimport { FocusableElement, tabbable } from 'tabbable';\nimport firstTabbable from '../../utils/first-tabbable';\n\nlet nextUniqueId = 0;\n\n@Component({\n  tag: 'cat-dropdown',\n  styleUrl: 'cat-dropdown.scss',\n  shadow: true\n})\nexport class CatDropdown {\n  private static readonly OFFSET = 4;\n  private readonly id = nextUniqueId++;\n  private triggerSlot!: HTMLSlotElement;\n  private trigger?: FocusableElement;\n  private content!: HTMLElement;\n  private trap?: focusTrap.FocusTrap;\n  private keyListener?: (event: KeyboardEvent) => void;\n  private isOpen: boolean | null = false;\n\n  /**\n   * The placement of the dropdown.\n   */\n  @Prop() placement: Placement = 'bottom-start';\n\n  /**\n   * Do not close the dropdown on outside clicks.\n   */\n  @Prop() noAutoClose = false;\n\n  /**\n   * Allow overflow when dropdown is open.\n   */\n  @Prop() overflow = false;\n\n  /**\n   * Emitted when the dropdown is opened.\n   */\n  @Event() catOpen!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the dropdown is closed.\n   */\n  @Event() catClose!: EventEmitter<FocusEvent>;\n\n  @Listen('catClick')\n  clickHandler(event: CustomEvent<MouseEvent>) {\n    // we need to delay the initialization of the trigger until first,\n    // interaction because the element might still be hidden (and thus not\n    // tabbable) if contained in another Stencil web component\n    if (!this.trigger) {\n      this.initTrigger();\n      this.toggle();\n    }\n\n    const button = event.target as HTMLButtonElement;\n\n    // hide dropdown on button click\n    if (!this.noAutoClose && event.composedPath().includes(this.content) && button.slot !== 'trigger') {\n      this.close();\n    }\n  }\n\n  /**\n   * Toggles the dropdown.\n   */\n  async toggle(): Promise<void> {\n    this.isOpen ? this.close() : this.open();\n  }\n\n  /**\n   * Opens the dropdown.\n   */\n  async open(): Promise<void> {\n    if (this.isOpen === null) {\n      return; // busy\n    }\n\n    this.isOpen = null;\n    this.content.style.display = 'block';\n    // give CSS transition time to apply\n    setTimeout(() => {\n      this.isOpen = true;\n      this.content.classList.add('show');\n      this.trigger?.setAttribute('aria-expanded', 'true');\n      this.catOpen.emit();\n      this.trap = this.trap\n        ? this.trap.updateContainerElements(this.content)\n        : focusTrap.createFocusTrap(this.content, {\n            tabbableOptions: {\n              getShadowRoot: true\n            },\n            allowOutsideClick: true,\n            clickOutsideDeactivates: event => {\n              const shouldClose =\n                !this.noAutoClose &&\n                !event.composedPath().includes(this.content) &&\n                (!this.trigger || !event.composedPath().includes(this.trigger));\n              if (shouldClose) {\n                this.close();\n              }\n              return shouldClose;\n            },\n            onPostDeactivate: () => this.close()\n          });\n      this.trap.activate();\n    });\n  }\n\n  /**\n   * Closes the dropdown.\n   */\n  @Method()\n  async close(): Promise<void> {\n    if (this.isOpen === null || !this.isOpen) {\n      return; // busy\n    }\n\n    this.isOpen = null;\n    this.content.classList.remove('show');\n    // give CSS transition time to apply\n    setTimeout(() => {\n      this.isOpen = false;\n      this.content.classList.remove('show');\n      this.content.style.display = '';\n      this.trigger?.setAttribute('aria-expanded', 'false');\n      this.trap?.deactivate();\n      this.catClose.emit();\n    }, timeTransitionS);\n  }\n\n  componentDidLoad(): void {\n    this.keyListener = event => {\n      if (this.isOpen && ['ArrowDown', 'ArrowUp'].includes(event.key)) {\n        const targetElements = tabbable(this.content, { includeContainer: false, getShadowRoot: true });\n        const activeElement = firstTabbable(document.activeElement);\n        const activeIdx = activeElement ? targetElements.indexOf(activeElement) : -1;\n        const activeOff = event.key === 'ArrowDown' ? 1 : -1;\n        const targetIdx = activeIdx < 0 ? 0 : (activeIdx + activeOff + targetElements.length) % targetElements.length;\n        targetElements[targetIdx].focus();\n        event.preventDefault();\n      }\n    };\n    document.addEventListener('keydown', this.keyListener);\n  }\n\n  disconnectedCallback(): void {\n    if (this.keyListener) {\n      document.removeEventListener('keydown', this.keyListener);\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <slot name=\"trigger\" ref={el => (this.triggerSlot = el as HTMLSlotElement)}></slot>\n        <div\n          id={this.contentId}\n          class={{ content: true, 'overflow-auto': !this.overflow }}\n          ref={el => (this.content = el as HTMLElement)}\n        >\n          <slot name=\"content\"></slot>\n        </div>\n      </Host>\n    );\n  }\n\n  private get contentId() {\n    return `cat-dropdown-${this.id}`;\n  }\n\n  private initTrigger() {\n    this.trigger = this.findTrigger();\n    this.trigger.setAttribute('aria-haspopup', 'true');\n    this.trigger.setAttribute('aria-expanded', 'false');\n    this.trigger.setAttribute('aria-controls', this.contentId);\n    this.trigger.addEventListener('click', () => this.toggle());\n    autoUpdate(this.trigger, this.content, () => this.update());\n  }\n\n  private findTrigger() {\n    let trigger: FocusableElement | undefined;\n    const elems = this.triggerSlot?.assignedElements?.() || [];\n    while (!trigger && elems.length) {\n      const elem = elems.shift();\n      trigger = elem?.hasAttribute('data-trigger')\n        ? (elem as HTMLElement)\n        : elem?.querySelector('[data-trigger]') ?? undefined;\n    }\n    if (!trigger) {\n      trigger = firstTabbable(this.triggerSlot);\n    }\n    if (!trigger) {\n      throw new Error('Cannot find tabbable element. Use [data-trigger] to set the trigger.');\n    }\n    return trigger;\n  }\n\n  private update() {\n    if (this.trigger) {\n      computePosition(this.trigger, this.content, {\n        strategy: 'fixed',\n        placement: this.placement,\n        middleware: [\n          offset(CatDropdown.OFFSET),\n          flip(),\n          size({\n            padding: CatDropdown.OFFSET,\n            apply({ availableWidth, availableHeight, elements }) {\n              Object.assign(elements.floating.style, {\n                maxWidth: `${availableWidth}px`,\n                maxHeight: `${availableHeight}px`\n              });\n            }\n          })\n        ]\n      }).then(({ x, y, placement }) => {\n        this.content.dataset.placement = placement;\n        Object.assign(this.content.style, {\n          left: `${x}px`,\n          top: `${y}px`\n        });\n      });\n    }\n  }\n}\n",":host {\n  display: block;\n}\n","import { Component, Element, h, Host, Prop, Watch } from '@stencil/core';\n\ntype HTMLCatFormFieldElement =\n  | HTMLCatInputElement\n  | HTMLCatTextareaElement\n  | HTMLCatSelectElement\n  | HTMLCatDatepickerElement\n  | HTMLCatLabelElement;\n\n@Component({\n  tag: 'cat-form-group',\n  styleUrl: 'cat-form-group.scss',\n  shadow: true\n})\nexport class CatFormGroup {\n  private formElements: HTMLCatFormFieldElement[] = [];\n\n  @Element() hostElement!: HTMLElement;\n\n  /**\n   * Whether the labels need a marker to shown if the forms fields are required or optional.<br /><br />\n   * By default, it is set to auto, it will display the mark depending on the number of required and optional fields: <br />\n   * - If there are more required, the optional will be marked.<br />\n   * - If there are less required, it will mark the required.<br /><br />\n   * If a form field had \"!\", the requiredMarked of the field would not change.\n   */\n  @Prop() requiredMarker: 'none' | 'required' | 'optional' | 'auto' = 'auto';\n\n  /**\n   * Whether the label is on top or left.\n   */\n  @Prop() horizontal = false;\n\n  /**\n   * The space allocated to the input label\n   */\n  @Prop() labelSize?: string;\n\n  @Watch('requiredMarker')\n  onRequiredMarker(newRequiredMarker: 'none' | 'required' | 'optional' | 'auto') {\n    const updateMarker = newRequiredMarker === 'auto' ? this.calculate(this.formElements) : newRequiredMarker;\n    this.formElements.forEach(\n      element => !element.requiredMarker?.endsWith('!') && (element.requiredMarker = updateMarker)\n    );\n  }\n\n  @Watch('horizontal')\n  onHorizontal(newHorizontal: boolean) {\n    this.formElements.forEach(element => {\n      element.horizontal = newHorizontal;\n    });\n  }\n\n  render() {\n    return (\n      <Host style={{ '--label-size': this.labelSize }}>\n        <slot onSlotchange={this.onSlotChange.bind(this)}></slot>\n      </Host>\n    );\n  }\n\n  private onSlotChange(): void {\n    this.formElements = Array.from(\n      this.hostElement.querySelectorAll('cat-textarea, cat-input, cat-select, cat-label, cat-datepicker')\n    ) as HTMLCatFormFieldElement[];\n    this.onRequiredMarker(this.requiredMarker);\n    this.onHorizontal(this.horizontal);\n  }\n\n  private calculate(elements: HTMLCatFormFieldElement[]): 'optional' | 'required' {\n    const formFields = elements.filter(value => value.tagName !== 'CAT-LABEL');\n    const optionalFields = formFields.filter(value => !value.required).length;\n    const requiredFields = formFields.length - optionalFields;\n    return requiredFields >= optionalFields ? 'optional' : 'required';\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n$icon-sizes: (\n  'xl': 1.75rem,\n  'l': 1.5rem,\n  'm': 1.25rem,\n  's': 1rem,\n  'xs': 0.75rem\n);\n\n:host {\n  /**\n   * @prop --cat-icon-ratio: The aspect ratio of the avatar.\n   */\n  display: inline-flex;\n  vertical-align: middle;\n  @include cat-select(none);\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nspan {\n  display: inline-flex;\n}\n\nsvg {\n  fill: currentColor;\n  stroke: none;\n  transform-origin: center center;\n  height: 1em;\n  width: calc(var(--cat-icon-ratio, 1) * 1em);\n}\n\n// ----- size\n\n@mixin size($size) {\n  .icon-#{$size} svg {\n    font-size: map.get($icon-sizes, $size);\n  }\n}\n\n@include size('xs');\n@include size('s');\n@include size('m');\n@include size('l');\n@include size('xl');\n","import { Component, h, Prop } from '@stencil/core';\nimport { catIconRegistry as icons } from './cat-icon-registry';\n\n/**\n * Icons are used to provide additional meaning or in places where text label\n * doesn't fit.\n *\n * @part icon - The span element wrapping the SVG icon.\n */\n@Component({\n  tag: 'cat-icon',\n  styleUrl: 'cat-icon.scss',\n  shadow: true\n})\nexport class CatIcon {\n  /**\n   * The name of the icon.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * The SVG source of the icon. This takes precenedence over the `icon` name.\n   */\n  @Prop() iconSrc?: string;\n\n  /**\n   * The size of the icon.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' | 'inline' = 'm';\n\n  /**\n   * Adds accessible label for the icon that is only shown for screen\n   * readers. The `aria-hidden` attribute will be set if no label is present.\n   */\n  @Prop({ attribute: 'a11y-label' }) a11yLabel?: string;\n\n  render() {\n    return (\n      <span\n        innerHTML={this.iconSrc || (this.icon ? icons.getIcon(this.icon) : '')}\n        aria-label={this.a11yLabel}\n        aria-hidden={this.a11yLabel ? null : 'true'}\n        part=\"icon\"\n        class={{\n          icon: true,\n          [`icon-${this.size}`]: this.size !== 'inline'\n        }}\n      ></span>\n    );\n  }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n\nexport function coerceBoolean(value: any): boolean {\n  return value != null && `${value}` !== 'false';\n}\n\nexport function coerceNumber(value: any): number;\nexport function coerceNumber<D>(value: any, fallback: D): number | D;\nexport function coerceNumber(value: any, fallbackValue = 0) {\n  return isNumberValue(value) ? Number(value) : fallbackValue;\n}\n\nfunction isNumberValue(value: any): boolean {\n  return !isNaN(parseFloat(value as any)) && !isNaN(Number(value));\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n@use 'utils/color';\n@use '_snippets/form-label';\n@use '../cat-datepicker/vanillajs-datepicker.scss';\n\n:host {\n  display: flex;\n  @include cat-body('m');\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.input-field,\n.input-container {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  flex: 1 1 auto;\n}\n\n.input-field.input-horizontal {\n  flex-direction: row;\n  gap: 1rem;\n}\n\n.input-wrapper {\n  display: flex;\n  align-items: stretch;\n  gap: 0.75rem;\n  padding: 0 0.75rem;\n  height: form-label.$cat-input-height;\n  overflow: hidden;\n  background: cat-token('color.ui.background.input');\n  border-radius: cat-border-radius('m');\n  box-shadow: inset 0 0 0 1px rgb(var(--border-color));\n  transition: box-shadow cat-token('time.transition.s') linear;\n  --border-color: #{cat-token('color.ui.border.dark', $wrap: false)};\n\n  &.input-round {\n    border-radius: 10rem;\n  }\n\n  &.input-disabled {\n    background: cat-token('color.ui.background.muted');\n    cursor: not-allowed;\n    color: cat-token('color.ui.font.muted');\n  }\n\n  &:not(.input-disabled):hover {\n    box-shadow: inset 0 0 0 1px rgb(var(--border-color)), 0 0 0 1px rgb(var(--border-color));\n  }\n\n  &:focus-within {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: -1px;\n  }\n\n  &.input-invalid {\n    --border-color: #{cat-token('color.theme.danger.bg', 0.2, $wrap: false)};\n  }\n\n  /* stylelint-disable property-no-vendor-prefix */\n  &:has(input:-webkit-autofill) {\n    &,\n    &:hover,\n    &:focus {\n      background-color: cat-token('color.ui.background.inputAutofill');\n    }\n  }\n  /* stylelint-enable property-no-vendor-prefix */\n}\n\n.text-prefix,\n.text-suffix {\n  display: inline-flex;\n  align-items: center;\n  @include cat-select(none);\n}\n\n.text-prefix {\n  border-right: 1px solid cat-token('color.ui.border.dark');\n  padding-right: 0.75rem;\n}\n\n.text-suffix {\n  border-left: 1px solid cat-token('color.ui.border.dark');\n  padding-left: 0.75rem;\n}\n\n.icon-prefix,\n.icon-suffix {\n  align-self: center;\n}\n\n.input-inner-wrapper {\n  display: flex;\n  align-items: center;\n  position: relative;\n  flex: 1 1 auto;\n}\n\ninput {\n  font: inherit;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  min-width: 0;\n  border: none;\n  outline: none;\n  background: none;\n\n  .input-disabled & {\n    cursor: not-allowed;\n    color: cat-token('color.ui.font.muted');\n  }\n\n  &.has-clearable {\n    padding-right: 1.5rem;\n  }\n\n  &::placeholder {\n    color: cat-token('color.ui.font.muted');\n  }\n\n  /* stylelint-disable property-no-vendor-prefix */\n  &:-webkit-autofill {\n    &,\n    &:hover,\n    &:focus {\n      -webkit-box-shadow: 0 0 0 9999px cat-token('color.ui.background.inputAutofill') inset;\n    }\n  }\n  /* stylelint-enable property-no-vendor-prefix */\n}\n\n.clearable {\n  position: absolute;\n  top: calc(50% - 1rem);\n  right: -0.5rem;\n}\n","import { Component, Element, Event, EventEmitter, h, Method, Prop, State, Watch } from '@stencil/core';\nimport log from 'loglevel';\nimport { coerceBoolean, coerceNumber } from '../../utils/coerce';\nimport { CatFormHint, ErrorMap } from '../cat-form-hint/cat-form-hint';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\nimport { InputType } from './input-type';\n\nlet nextUniqueId = 0;\n\n/**\n * Inputs are used to allow users to provide text input when the expected input\n * is short. As well as plain text, Input supports various types of text,\n * including passwords and numbers.\n *\n * @slot hint - Optional hint element to be displayed with the input.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part label - The label content.\n * @part prefix - The text prefix.\n * @part suffix - The text suffix.\n */\n@Component({\n  tag: 'cat-input',\n  styleUrl: 'cat-input.scss',\n  shadow: true\n})\nexport class CatInput {\n  private readonly _id = `cat-input-${nextUniqueId++}`;\n  private get id() {\n    return this.identifier || this._id;\n  }\n\n  private input!: HTMLInputElement;\n  private errorMapSrc?: ErrorMap;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  @State() hasSlottedHint = false;\n\n  @State() errorMap?: ErrorMap;\n\n  /**\n   * Whether the label need a marker to shown if the input is required or optional.\n   */\n  @Prop() requiredMarker: 'none' | 'required' | 'optional' | 'none!' | 'optional!' | 'required!' = 'optional';\n\n  /**\n   * Whether the label is on top or left.\n   */\n  @Prop() horizontal = false;\n\n  /**\n   * Hint for form autofill feature.\n   */\n  @Prop() autoComplete?: string;\n\n  /**\n   * Whether the input should show a clear button.\n   */\n  @Prop() clearable = false;\n\n  /**\n   * Whether the input is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Optional hint text(s) to be displayed with the input.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * The name of an icon to be displayed in the input.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * Display the icon on the right.\n   */\n  @Prop() iconRight = false;\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label for the input.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A maximum value for date, time and numeric values.\n   */\n  @Prop() max?: number | string;\n\n  /**\n   * A maximum length (number of characters) for textual values.\n   */\n  @Prop() maxLength?: number;\n\n  /**\n   * A minimum value for date, time and numeric values.\n   */\n  @Prop() min?: number | string;\n\n  /**\n   * A minimum length (number of characters) for textual values.\n   */\n  @Prop() minLength?: number;\n\n  /**\n   * The name of the form control. Submitted with the form as part of a name/value pair.\n   */\n  @Prop() name?: string;\n\n  /**\n   * The placeholder text to display within the input.\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * A textual prefix to be displayed in the input.\n   */\n  @Prop() textPrefix?: string;\n\n  /**\n   * A textual suffix to be displayed in the input.\n   */\n  @Prop() textSuffix?: string;\n\n  /**\n   * The value is not editable.\n   */\n  @Prop() readonly = false;\n\n  /**\n   * A value is required or must be check for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * Use round input edges.\n   */\n  @Prop() round = false;\n\n  /**\n   * Type of form control.\n   */\n  @Prop() type: InputType = 'text';\n\n  /**\n   * The value of the control.\n   */\n  @Prop({ mutable: true }) value?: string | number;\n\n  /**\n   * The validation errors for this input. Will render a hint under the input\n   * with the translated error message(s) `error.${key}`. If an object is\n   * passed, the keys will be used as error keys and the values translation\n   * parameters.\n   * If the value is `true`, the input will be marked as invalid without any\n   * hints under the input.\n   */\n  @Prop() errors?: boolean | string[] | ErrorMap;\n\n  /**\n   * Fine-grained control over when the errors are shown. Can be `false` to\n   * never show errors, `true` to show errors on blur, or a number to show\n   * errors on change with the given delay in milliseconds.\n   */\n  @Prop() errorUpdate: boolean | number = 0;\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter<InputEvent>;\n\n  /**\n   * Emitted when the input received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the input loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillRender(): void {\n    this.watchErrorsHandler(this.errors);\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n    if (!this.label && !this.hasSlottedLabel) {\n      log.warn('[A11y] Missing ARIA label on input', this);\n    }\n  }\n\n  /**\n   * Programmatically move focus to the input. Use this method instead of\n   * `input.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this.input.focus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the input. Use this method instead of\n   * `input.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.input.blur();\n  }\n\n  /**\n   * Programmatically simulate a click on the input.\n   */\n  @Method()\n  async doClick(): Promise<void> {\n    this.input.click();\n  }\n\n  /**\n   * Clear the input.\n   */\n  @Method()\n  async clear(): Promise<void> {\n    this.value = '';\n  }\n\n  @Watch('errors')\n  watchErrorsHandler(value?: boolean | string[] | ErrorMap) {\n    if (!coerceBoolean(this.errorUpdate)) {\n      this.errorMap = undefined;\n    } else {\n      this.errorMapSrc = Array.isArray(value)\n        ? (value as string[]).reduce((acc, err) => ({ ...acc, [err]: undefined }), {})\n        : value === true\n        ? {}\n        : value || undefined;\n      this.showErrorsIfTimeout() || this.showErrorsIfNoFocus();\n    }\n  }\n\n  render() {\n    return (\n      <div\n        class={{\n          'input-field': true,\n          'input-horizontal': this.horizontal\n        }}\n      >\n        <div\n          class={{\n            hidden: this.labelHidden,\n            'label-container': true\n          }}\n        >\n          {(this.hasSlottedLabel || this.label) && (\n            <label htmlFor={this.id}>\n              <span class=\"label-wrapper\" part=\"label\">\n                {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n                <div class=\"label-metadata\">\n                  {!this.required && this.requiredMarker.startsWith('optional') && (\n                    <span class=\"label-optional\" aria-hidden=\"true\">\n                      ({i18n.t('input.optional')})\n                    </span>\n                  )}\n                  {this.required && this.requiredMarker.startsWith('required') && (\n                    <span class=\"label-optional\" aria-hidden=\"true\">\n                      ({i18n.t('input.required')})\n                    </span>\n                  )}\n                  {this.maxLength && (\n                    <div class=\"label-character-count\" aria-hidden=\"true\">\n                      {this.value?.toString().length ?? 0}/{this.maxLength}\n                    </div>\n                  )}\n                </div>\n              </span>\n            </label>\n          )}\n        </div>\n        <div class=\"input-container\">\n          <div\n            class={{\n              'input-wrapper': true,\n              'input-round': this.round,\n              'input-disabled': this.disabled,\n              'input-invalid': this.invalid\n            }}\n            onClick={() => this.input.focus()}\n          >\n            {this.textPrefix && (\n              <span class=\"text-prefix\" part=\"prefix\">\n                {this.textPrefix}\n              </span>\n            )}\n            {this.icon && !this.iconRight && <cat-icon icon={this.icon} class=\"icon-prefix\" size=\"l\"></cat-icon>}\n            <div class=\"input-inner-wrapper\">\n              <input\n                {...this.nativeAttributes}\n                ref={el => (this.input = el as HTMLInputElement)}\n                id={this.id}\n                class={{\n                  'has-clearable': this.clearable && !this.disabled\n                }}\n                autocomplete={this.autoComplete}\n                disabled={this.disabled}\n                max={this.max}\n                maxlength={this.maxLength}\n                min={this.min}\n                minlength={this.minLength}\n                name={this.name}\n                placeholder={this.placeholder}\n                readonly={this.readonly}\n                required={this.required}\n                type={this.type}\n                value={this.value}\n                onInput={this.onInput.bind(this)}\n                onFocus={this.onFocus.bind(this)}\n                onBlur={this.onBlur.bind(this)}\n                aria-invalid={this.invalid ? 'true' : undefined}\n                aria-describedby={this.hint?.length ? this.id + '-hint' : undefined}\n              ></input>\n              {this.clearable && !this.disabled && this.value && (\n                <cat-button\n                  class=\"clearable\"\n                  icon=\"$cat:input-close\"\n                  icon-only=\"true\"\n                  size=\"s\"\n                  variant=\"text\"\n                  a11y-label={i18n.t('input.clear')}\n                  onClick={this.clear.bind(this)}\n                ></cat-button>\n              )}\n            </div>\n            {!this.invalid && this.icon && this.iconRight && (\n              <cat-icon icon={this.icon} class=\"icon-suffix\" size=\"l\"></cat-icon>\n            )}\n            {this.invalid && <cat-icon icon=\"$cat:input-error\" class=\"icon-suffix cat-text-danger\" size=\"l\"></cat-icon>}\n            {this.textSuffix && (\n              <span class=\"text-suffix\" part=\"suffix\">\n                {this.textSuffix}\n              </span>\n            )}\n          </div>\n          {(this.hint || this.hasSlottedHint || !!Object.keys(this.errorMap || {}).length) && (\n            <CatFormHint\n              id={this.id}\n              hint={this.hint}\n              slottedHint={this.hasSlottedHint && <slot name=\"hint\"></slot>}\n              errorMap={this.errorMap}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  private get invalid() {\n    return !!this.errorMap;\n  }\n\n  private onInput(event: InputEvent) {\n    this.value = this.input.value;\n    this.catChange.emit(event);\n    this.showErrorsIfTimeout();\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n    if (coerceBoolean(this.errorUpdate)) {\n      this.showErrors();\n    }\n  }\n\n  private showErrors() {\n    this.errorMap = this.errorMapSrc;\n  }\n\n  private errorUpdateTimeoutId?: number;\n  private showErrorsIfTimeout() {\n    const errorUpdate = coerceNumber(this.errorUpdate, null);\n    if (errorUpdate !== null) {\n      typeof this.errorUpdateTimeoutId === 'number' && window.clearTimeout(this.errorUpdateTimeoutId);\n      this.errorUpdateTimeoutId = window.setTimeout(() => this.showErrors(), errorUpdate);\n      return true;\n    }\n    return false;\n  }\n\n  private showErrorsIfNoFocus() {\n    const hasFocus = document.activeElement === this.hostElement || document.activeElement === this.input;\n    if (!hasFocus) {\n      this.showErrors();\n    }\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n:host {\n  display: inline-flex;\n  align-items: center;\n  min-height: 2.5rem;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.input-optional {\n  margin-left: 0.25rem;\n  @include cat-body('xs');\n  color: cat-token('color.ui.font.muted');\n}\n","import { Component, h, Host, Prop } from '@stencil/core';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\n/**\n * Labels are used to provide a short description of an input or form element.\n *\n * @deprecated Use label attribute of form elements instead.\n */\n@Component({\n  tag: 'cat-label',\n  styleUrl: 'cat-label.scss',\n  shadow: true\n})\nexport class CatLabel {\n  private static readonly SHADOW_TARGETS = [\n    'CAT-INPUT',\n    'CAT-TEXTAREA',\n    'CAT-CHECKBOX',\n    'CAT-TOGGLE',\n    'CAT-RADIO',\n    'CAT-SELECT'\n  ];\n\n  /**\n   * Whether the label need a marker to shown if the input is required or optional.\n   */\n  @Prop() requiredMarker: 'none' | 'required' | 'optional' | 'none!' | 'optional!' | 'required!' = 'optional';\n\n  /**\n   * Whether the label is on top or left.\n   */\n  @Prop() horizontal = false;\n\n  /**\n   * The unique identifier for a referenced input.\n   */\n  @Prop() for?: string;\n\n  /**\n   * A value is required or must be check for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  onClick() {\n    if (this.for) {\n      // focus target that is possibly hidden inside a shadow root\n      (document.getElementById(this.for) || this.findShadowTarget(this.for))?.focus();\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <label htmlFor={this.for} onClick={this.onClick.bind(this)}>\n          <slot></slot>\n          {!this.required && this.requiredMarker.startsWith('optional') && (\n            <span class=\"input-optional\" aria-hidden=\"true\">\n              ({i18n.t('input.optional')})\n            </span>\n          )}\n          {this.required && this.requiredMarker.startsWith('required') && (\n            <span class=\"input-optional\" aria-hidden=\"true\">\n              ({i18n.t('input.required')})\n            </span>\n          )}\n        </label>\n      </Host>\n    );\n  }\n\n  private findShadowTarget(id: string): HTMLElement | null {\n    for (let i = 0; i < CatLabel.SHADOW_TARGETS.length; i++) {\n      const elems = document.getElementsByTagName(CatLabel.SHADOW_TARGETS[i]);\n      for (let i = 0; i < elems.length; i++) {\n        const target = elems[i].shadowRoot?.getElementById(id);\n        if (target) {\n          return target;\n        }\n      }\n    }\n    return null;\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n$button-sizes: (\n  'xl': 3.5rem,\n  'l': 3rem,\n  'm': 2.5rem,\n  's': 2rem,\n  'xs': 1.5rem\n);\n\n:host {\n  display: inline-block;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nol {\n  display: flex;\n  flex-wrap: wrap;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\nli {\n  display: inline-flex;\n  justify-content: center;\n\n  &.dots {\n    @include cat-select(none);\n  }\n}\n\n// ----- variant\n\n:host([variant='outlined']) {\n  ol {\n    gap: 0.75rem;\n  }\n}\n\n// ----- size\n\n@mixin size($size, $fontSize) {\n  .cat-pagination-#{$size} {\n    li.dots,\n    li.text {\n      height: map.get($button-sizes, $size);\n      line-height: map.get($button-sizes, $size);\n      font-size: cat-body-font-size($fontSize);\n    }\n\n    li.dots {\n      width: map.get($button-sizes, $size);\n    }\n  }\n\n  :host([variant='outlined']) {\n    .cat-pagination-#{$size} {\n      gap: map.get($button-sizes, $size) * 0.25;\n    }\n  }\n}\n\n@include size('xs', 's');\n@include size('s', 'm');\n@include size('m', 'm');\n@include size('l', 'm');\n@include size('xl', 'l');\n","import { Component, Event, EventEmitter, h, Prop } from '@stencil/core';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\n/**\n * A navigation component to switch between different pages of paged chunks of\n * data such as a table. Pagination is built with list HTML elements and a\n * wrapping `<nav>` element to identify it as a navigation section to screen\n * readers and other assistive technologies. Furthermore, the current page is\n * correctly highlighted using `aria-current`.\n */\n@Component({\n  tag: 'cat-pagination',\n  styleUrl: 'cat-pagination.scss',\n  shadow: true\n})\nexport class CatPagination {\n  /**\n   * The current page.\n   */\n  @Prop({ mutable: true }) page = 0;\n\n  /**\n   * The total number of pages.\n   */\n  @Prop() pageCount = 1;\n\n  /**\n   * The number of pages to be shown around the current page.\n   */\n  @Prop() activePadding = 1;\n\n  /**\n   * The number of pages to be shown at the edges.\n   */\n  @Prop() sidePadding = 1;\n\n  /**\n   * The size of the buttons.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' = 'm';\n\n  /**\n   * The rendering style of the buttons.\n   */\n  @Prop() variant: 'filled' | 'outlined' | 'text' = 'text';\n\n  /**\n   * Use round button edges.\n   */\n  @Prop() round = false;\n\n  /**\n   * Use compact pagination mode.\n   */\n  @Prop() compact = false;\n\n  /**\n   * The icon of the \"previous\" button.\n   */\n  @Prop() iconPrev = '$cat:pagination-left';\n\n  /**\n   * The icon of the \"next\" button.\n   */\n  @Prop() iconNext = '$cat:pagination-right';\n\n  /**\n   * Emitted when the page of the pagination has changed.\n   */\n  @Event() catChange!: EventEmitter;\n\n  render() {\n    return (\n      <nav role=\"navigation\">\n        <ol\n          class={{\n            [`cat-pagination-${this.size}`]: Boolean(this.size)\n          }}\n        >\n          <li>\n            <cat-button\n              variant={this.variant}\n              size={this.size}\n              round={this.round}\n              disabled={this.isFirst}\n              a11yLabel={i18n.t('pagination.prev')}\n              icon={this.iconPrev}\n              iconOnly\n              onClick={() => this.setPage(this.page - 1)}\n            ></cat-button>\n          </li>\n          {this.content}\n          <li>\n            <cat-button\n              variant={this.variant}\n              size={this.size}\n              round={this.round}\n              disabled={this.isLast}\n              a11yLabel={i18n.t('pagination.next')}\n              icon={this.iconNext}\n              iconOnly\n              onClick={() => this.setPage(this.page + 1)}\n            ></cat-button>\n          </li>\n        </ol>\n      </nav>\n    );\n  }\n\n  get isFirst() {\n    return this.page === 0;\n  }\n\n  get isLast() {\n    return this.page === this.pageCount - 1;\n  }\n\n  private setPage(value: number) {\n    this.page = value;\n    this.catChange.emit(this.page);\n  }\n\n  get pages() {\n    if (!this.sidePadding && !this.activePadding) {\n      return [this.page];\n    }\n\n    const result = new Set<number>();\n    const minPage = this.page <= this.sidePadding + this.activePadding + 1;\n    const minActivepage = minPage ? this.sidePadding + 2 * this.activePadding + 2 : this.sidePadding;\n    const maxPage = this.page >= this.pageCount - this.sidePadding - this.activePadding - 2;\n    const maxActivepage = maxPage\n      ? this.pageCount - this.sidePadding - 2 * this.activePadding - 2\n      : this.pageCount - this.sidePadding;\n\n    this.addSeq(result, 0, minActivepage);\n    if (!minPage && !maxPage) {\n      this.addSeq(result, this.page - this.activePadding, this.page + this.activePadding + 1);\n    }\n    this.addSeq(result, maxActivepage, this.pageCount);\n\n    return [...result];\n  }\n\n  private addSeq(set: Set<number>, start: number, end: number) {\n    const _start = this.clamp(start, 0, this.pageCount);\n    const _end = this.clamp(end, 0, this.pageCount);\n    Array(_end - _start)\n      .fill(0)\n      .forEach((_, i) => set.add(_start + i));\n  }\n\n  private clamp(num: number, min: number, max: number) {\n    return Math.min(Math.max(num, min), max);\n  }\n\n  private get content() {\n    if (this.compact) {\n      return (\n        <li class=\"text\">\n          {this.page + 1}/{this.pageCount}\n        </li>\n      );\n    }\n\n    return this.pages.map((page, i) => [\n      i > 0 && this.pages[i - 1] !== page - 1 ? <li class=\"dots\">â€¦</li> : null,\n      <li>\n        <cat-button\n          variant={this.variant}\n          size={this.size}\n          round={this.round}\n          color={this.page === page ? 'primary' : undefined}\n          active={this.page === page}\n          a11yLabel={i18n.t('pagination.page', { page: page + 1 })}\n          a11yCurrent={this.page === page ? 'step' : undefined}\n          onClick={() => this.setPage(page)}\n        >\n          {page + 1}\n        </cat-button>\n      </li>\n    ]);\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n@use '_snippets/checkbox-hint';\n\n$radio-width: 1.25rem;\n$radio-height: 1.25rem;\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nlabel {\n  display: flex;\n  gap: 0.5rem;\n  @include cat-body('m');\n  cursor: pointer;\n}\n\n.label-left {\n  flex-direction: row-reverse;\n}\n\n.radio {\n  display: flex;\n  position: relative;\n  align-self: flex-start;\n}\n\n.circle-placeholder {\n  width: calc($radio-width + 1px);\n}\n\n.circle {\n  position: absolute;\n  width: 0.75rem;\n  height: 0.75rem;\n  background-color: cat-token('color.theme.primary.bg');\n  border-radius: 10rem;\n  top: calc(50% - 0.375rem);\n  left: calc(50% - 0.375rem);\n  visibility: hidden;\n  pointer-events: none;\n}\n\ninput {\n  margin: 0;\n  width: $radio-width;\n  height: $radio-height;\n  appearance: none;\n  background-color: cat-token('color.ui.background.input');\n  border: 1px solid cat-token('color.ui.border.dark');\n  border-radius: 10rem;\n  cursor: inherit;\n\n  &:checked {\n    border-color: cat-token('color.theme.primary.bg');\n\n    + .circle {\n      visibility: visible;\n    }\n  }\n\n  &:focus-visible {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: 1px;\n  }\n}\n\n:host(.cat-error) {\n  input {\n    border-color: cat-token('color.theme.danger.bg');\n  }\n\n  .circle {\n    background-color: cat-token('color.theme.danger.bg');\n  }\n}\n\n.label {\n  flex: 1 1 auto;\n\n  .is-hidden & {\n    @include cat-visually-hidden;\n  }\n}\n\n.is-disabled {\n  cursor: not-allowed;\n  color: cat-token('color.ui.font.muted');\n\n  input {\n    background-color: cat-token('color.ui.background.muted');\n\n    &:checked {\n      border-color: cat-token('color.ui.border.dark');\n    }\n  }\n\n  .circle {\n    background-color: cat-token('color.ui.border.dark');\n  }\n}\n","import { Component, Element, Event, EventEmitter, h, Host, Method, Prop, State } from '@stencil/core';\nimport log from 'loglevel';\nimport { CatFormHint } from '../cat-form-hint/cat-form-hint';\n\nlet nextUniqueId = 0;\n\n/**\n * Radio Buttons are graphical interface elements that allow user to choose\n * only one of a predefined set of mutually exclusive options.\n *\n * @slot hint - Optional hint element to be displayed with the radio.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part label - The label content.\n */\n@Component({\n  tag: 'cat-radio',\n  styleUrl: 'cat-radio.scss',\n  shadow: true\n})\nexport class CatRadio {\n  private readonly _id = `cat-radio-${++nextUniqueId}`;\n  private get id() {\n    return this.identifier || this._id;\n  }\n\n  private input!: HTMLInputElement;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  @State() hasSlottedHint = false;\n\n  /**\n   * Whether this radio is checked.\n   */\n  @Prop({ mutable: true }) checked = false;\n\n  /**\n   * Whether this radio is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label of the radio that is visible.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * The name of the radio component.\n   */\n  @Prop() name?: string;\n\n  /**\n   * Whether the radio is required.\n   */\n  @Prop() required = false;\n\n  /**\n   * The value of the radio component.\n   */\n  @Prop() value?: string;\n\n  /**\n   * Optional hint text(s) to be displayed with the radio.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * Whether the label should appear to the left of the radio component.\n   */\n  @Prop() labelLeft = false;\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * Emitted when the radio is changed.\n   */\n  @Event() catChange!: EventEmitter<InputEvent>;\n\n  /**\n   * Emitted when the radio received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the radio loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillRender(): void {\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n    if (!this.label && !this.hasSlottedLabel) {\n      log.warn('[A11y] Missing ARIA label on radio', this);\n    }\n  }\n\n  /**\n   * Programmatically move focus to the radio button. Use this method instead of\n   * `input.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this.input.focus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the radio button. Use this method\n   * instead of `input.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.input.blur();\n  }\n\n  /**\n   * Programmatically simulate a click on the radio button.\n   */\n  @Method()\n  async doClick(): Promise<void> {\n    this.input.click();\n  }\n\n  render() {\n    return (\n      <Host>\n        <label\n          htmlFor={this.id}\n          class={{ 'is-hidden': this.labelHidden, 'is-disabled': this.disabled, 'label-left': this.labelLeft }}\n          role=\"radio\"\n          aria-checked={this.checked ? 'true' : 'false'}\n        >\n          <span class=\"radio\">\n            <input\n              {...this.nativeAttributes}\n              ref={el => (this.input = el as HTMLInputElement)}\n              id={this.identifier || this.id}\n              type=\"radio\"\n              name={this.name}\n              value={this.value}\n              checked={this.checked}\n              required={this.required}\n              disabled={this.disabled}\n              onInput={this.onChange.bind(this)}\n              onFocus={this.onFocus.bind(this)}\n              onBlur={this.onBlur.bind(this)}\n            />\n            <span class=\"circle\"></span>\n          </span>\n          <span class=\"label\" part=\"label\">\n            {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n          </span>\n        </label>\n        {(this.hint || this.hasSlottedHint) && (\n          <div class={{ 'hint-wrapper': true, 'label-left': this.labelLeft }}>\n            <div class=\"circle-placeholder\"></div>\n            <CatFormHint id={this.id} hint={this.hint} slottedHint={this.hasSlottedHint && <slot name=\"hint\"></slot>} />\n          </div>\n        )}\n      </Host>\n    );\n  }\n\n  private onChange(event: InputEvent) {\n    this.checked = true;\n    this.catChange.emit(event);\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n:host {\n  display: block;\n}\n\n:host([hidden]) {\n  display: none;\n}\n","import { Component, Element, Event, EventEmitter, h, Listen, Prop, Watch } from '@stencil/core';\n\n/**\n * A group of radio buttons.\n */\n@Component({\n  tag: 'cat-radio-group',\n  styleUrl: 'cat-radio-group.scss',\n  shadow: true\n})\nexport class CatRadioGroup {\n  private catRadioGroup: HTMLCatRadioElement[] = [];\n\n  @Element() hostElement!: HTMLElement;\n\n  /**\n   * The name of the radio group component.\n   */\n  @Prop() name?: string;\n\n  /**\n   * The value of the radio group.\n   */\n  @Prop({ mutable: true }) value?: string;\n\n  /**\n   * Whether this radio group is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Adds an accessible label for the radio group that\n   * it is only shown in assistive technologies, like screen readers.\n   */\n  @Prop({ attribute: 'a11y-label' }) a11yLabel?: string;\n\n  /**\n   * Whether the label of the radios should appear to the left of them.\n   */\n  @Prop() labelLeft = false;\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter<InputEvent>;\n\n  /**\n   * Emitted when the radio group loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  @Watch('name')\n  onNameChanged(newName?: string) {\n    this.catRadioGroup.forEach(catRadio => (catRadio.name = newName));\n  }\n\n  @Watch('value')\n  onValueChanged(newValue?: string) {\n    this.catRadioGroup.forEach(catRadio => (catRadio.checked = catRadio.value === newValue));\n    this.updateTabIndex();\n  }\n\n  @Watch('disabled')\n  onDisabledChanged(disabled: boolean) {\n    this.catRadioGroup.forEach(catRadio => (catRadio.disabled = disabled));\n  }\n\n  @Watch('labelLeft')\n  onLabelLeftChanged(labelLeft: boolean) {\n    this.catRadioGroup.forEach(catRadio => {\n      if (labelLeft) {\n        catRadio.labelLeft = labelLeft;\n      }\n    });\n  }\n\n  componentDidLoad(): void {\n    this.catRadioGroup = Array.from(this.hostElement.querySelectorAll(`cat-radio`));\n    this.onNameChanged(this.name);\n    this.onValueChanged(this.value);\n    this.onDisabledChanged(this.disabled);\n    this.onLabelLeftChanged(this.labelLeft);\n  }\n\n  @Listen('keydown')\n  onKeydown(event: KeyboardEvent): void {\n    if (['ArrowDown', 'ArrowUp', 'ArrowRight', 'ArrowLeft'].includes(event.key) && this.catRadioGroup.length) {\n      const targetElements = this.catRadioGroup.filter(catRadio => !catRadio.disabled);\n      const activeElement = document.activeElement as HTMLCatRadioElement;\n      const activeIdx = this.catRadioGroup.findIndex(catRadio => catRadio === activeElement);\n      const activeOff = ['ArrowDown', 'ArrowRight'].includes(event.key) ? 1 : -1;\n      const targetIdx = activeIdx < 0 ? 0 : (activeIdx + activeOff + targetElements.length) % targetElements.length;\n      targetElements[targetIdx].doFocus();\n      targetElements[targetIdx].shadowRoot?.querySelector('input')?.click();\n      this.updateTabIndex();\n      event.preventDefault();\n    }\n  }\n\n  @Listen('input')\n  onInput(event: MouseEvent): void {\n    const catRadioElement = this.catRadioGroup.find(value => value === event.target);\n    this.value = catRadioElement?.value;\n    this.catChange.emit();\n  }\n\n  @Listen('blur', { capture: true })\n  onBlur(event: FocusEvent): void {\n    if (!event.relatedTarget) {\n      this.catBlur.emit(event);\n    }\n  }\n\n  render() {\n    return (\n      <div role=\"radiogroup\" aria-label={this.a11yLabel}>\n        <slot></slot>\n      </div>\n    );\n  }\n\n  private updateTabIndex() {\n    if (this.catRadioGroup.length) {\n      this.catRadioGroup.forEach(value => value.shadowRoot?.querySelector('input')?.setAttribute('tabindex', '-1'));\n      const checkedRadioIndex = this.catRadioGroup.findIndex(value => value.checked);\n      this.catRadioGroup[checkedRadioIndex >= 0 ? checkedRadioIndex : 0].shadowRoot\n        ?.querySelector('input')\n        ?.setAttribute('tabindex', '0');\n    }\n  }\n}\n","export function isFunction(value) {\n    return typeof value === 'function';\n}\n//# sourceMappingURL=isFunction.js.map","export function createErrorClass(createImpl) {\n    const _super = (instance) => {\n        Error.call(instance);\n        instance.stack = new Error().stack;\n    };\n    const ctorFunc = createImpl(_super);\n    ctorFunc.prototype = Object.create(Error.prototype);\n    ctorFunc.prototype.constructor = ctorFunc;\n    return ctorFunc;\n}\n//# sourceMappingURL=createErrorClass.js.map","import { createErrorClass } from './createErrorClass';\nexport const UnsubscriptionError = createErrorClass((_super) => function UnsubscriptionErrorImpl(errors) {\n    _super(this);\n    this.message = errors\n        ? `${errors.length} errors occurred during unsubscription:\n${errors.map((err, i) => `${i + 1}) ${err.toString()}`).join('\\n  ')}`\n        : '';\n    this.name = 'UnsubscriptionError';\n    this.errors = errors;\n});\n//# sourceMappingURL=UnsubscriptionError.js.map","export function arrRemove(arr, item) {\n    if (arr) {\n        const index = arr.indexOf(item);\n        0 <= index && arr.splice(index, 1);\n    }\n}\n//# sourceMappingURL=arrRemove.js.map","import { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { arrRemove } from './util/arrRemove';\nexport class Subscription {\n    constructor(initialTeardown) {\n        this.initialTeardown = initialTeardown;\n        this.closed = false;\n        this._parentage = null;\n        this._finalizers = null;\n    }\n    unsubscribe() {\n        let errors;\n        if (!this.closed) {\n            this.closed = true;\n            const { _parentage } = this;\n            if (_parentage) {\n                this._parentage = null;\n                if (Array.isArray(_parentage)) {\n                    for (const parent of _parentage) {\n                        parent.remove(this);\n                    }\n                }\n                else {\n                    _parentage.remove(this);\n                }\n            }\n            const { initialTeardown: initialFinalizer } = this;\n            if (isFunction(initialFinalizer)) {\n                try {\n                    initialFinalizer();\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? e.errors : [e];\n                }\n            }\n            const { _finalizers } = this;\n            if (_finalizers) {\n                this._finalizers = null;\n                for (const finalizer of _finalizers) {\n                    try {\n                        execFinalizer(finalizer);\n                    }\n                    catch (err) {\n                        errors = errors !== null && errors !== void 0 ? errors : [];\n                        if (err instanceof UnsubscriptionError) {\n                            errors = [...errors, ...err.errors];\n                        }\n                        else {\n                            errors.push(err);\n                        }\n                    }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        }\n    }\n    add(teardown) {\n        var _a;\n        if (teardown && teardown !== this) {\n            if (this.closed) {\n                execFinalizer(teardown);\n            }\n            else {\n                if (teardown instanceof Subscription) {\n                    if (teardown.closed || teardown._hasParent(this)) {\n                        return;\n                    }\n                    teardown._addParent(this);\n                }\n                (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);\n            }\n        }\n    }\n    _hasParent(parent) {\n        const { _parentage } = this;\n        return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n    }\n    _addParent(parent) {\n        const { _parentage } = this;\n        this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    }\n    _removeParent(parent) {\n        const { _parentage } = this;\n        if (_parentage === parent) {\n            this._parentage = null;\n        }\n        else if (Array.isArray(_parentage)) {\n            arrRemove(_parentage, parent);\n        }\n    }\n    remove(teardown) {\n        const { _finalizers } = this;\n        _finalizers && arrRemove(_finalizers, teardown);\n        if (teardown instanceof Subscription) {\n            teardown._removeParent(this);\n        }\n    }\n}\nSubscription.EMPTY = (() => {\n    const empty = new Subscription();\n    empty.closed = true;\n    return empty;\n})();\nexport const EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nexport function isSubscription(value) {\n    return (value instanceof Subscription ||\n        (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe)));\n}\nfunction execFinalizer(finalizer) {\n    if (isFunction(finalizer)) {\n        finalizer();\n    }\n    else {\n        finalizer.unsubscribe();\n    }\n}\n//# sourceMappingURL=Subscription.js.map","export const config = {\n    onUnhandledError: null,\n    onStoppedNotification: null,\n    Promise: undefined,\n    useDeprecatedSynchronousErrorHandling: false,\n    useDeprecatedNextContext: false,\n};\n//# sourceMappingURL=config.js.map","export const timeoutProvider = {\n    setTimeout(handler, timeout, ...args) {\n        const { delegate } = timeoutProvider;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) {\n            return delegate.setTimeout(handler, timeout, ...args);\n        }\n        return setTimeout(handler, timeout, ...args);\n    },\n    clearTimeout(handle) {\n        const { delegate } = timeoutProvider;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=timeoutProvider.js.map","import { config } from '../config';\nimport { timeoutProvider } from '../scheduler/timeoutProvider';\nexport function reportUnhandledError(err) {\n    timeoutProvider.setTimeout(() => {\n        const { onUnhandledError } = config;\n        if (onUnhandledError) {\n            onUnhandledError(err);\n        }\n        else {\n            throw err;\n        }\n    });\n}\n//# sourceMappingURL=reportUnhandledError.js.map","export function noop() { }\n//# sourceMappingURL=noop.js.map","export const COMPLETE_NOTIFICATION = (() => createNotification('C', undefined, undefined))();\nexport function errorNotification(error) {\n    return createNotification('E', undefined, error);\n}\nexport function nextNotification(value) {\n    return createNotification('N', value, undefined);\n}\nexport function createNotification(kind, value, error) {\n    return {\n        kind,\n        value,\n        error,\n    };\n}\n//# sourceMappingURL=NotificationFactories.js.map","import { config } from '../config';\nlet context = null;\nexport function errorContext(cb) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        const isRoot = !context;\n        if (isRoot) {\n            context = { errorThrown: false, error: null };\n        }\n        cb();\n        if (isRoot) {\n            const { errorThrown, error } = context;\n            context = null;\n            if (errorThrown) {\n                throw error;\n            }\n        }\n    }\n    else {\n        cb();\n    }\n}\nexport function captureError(err) {\n    if (config.useDeprecatedSynchronousErrorHandling && context) {\n        context.errorThrown = true;\n        context.error = err;\n    }\n}\n//# sourceMappingURL=errorContext.js.map","import { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nimport { captureError } from './util/errorContext';\nexport class Subscriber extends Subscription {\n    constructor(destination) {\n        super();\n        this.isStopped = false;\n        if (destination) {\n            this.destination = destination;\n            if (isSubscription(destination)) {\n                destination.add(this);\n            }\n        }\n        else {\n            this.destination = EMPTY_OBSERVER;\n        }\n    }\n    static create(next, error, complete) {\n        return new SafeSubscriber(next, error, complete);\n    }\n    next(value) {\n        if (this.isStopped) {\n            handleStoppedNotification(nextNotification(value), this);\n        }\n        else {\n            this._next(value);\n        }\n    }\n    error(err) {\n        if (this.isStopped) {\n            handleStoppedNotification(errorNotification(err), this);\n        }\n        else {\n            this.isStopped = true;\n            this._error(err);\n        }\n    }\n    complete() {\n        if (this.isStopped) {\n            handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n        }\n        else {\n            this.isStopped = true;\n            this._complete();\n        }\n    }\n    unsubscribe() {\n        if (!this.closed) {\n            this.isStopped = true;\n            super.unsubscribe();\n            this.destination = null;\n        }\n    }\n    _next(value) {\n        this.destination.next(value);\n    }\n    _error(err) {\n        try {\n            this.destination.error(err);\n        }\n        finally {\n            this.unsubscribe();\n        }\n    }\n    _complete() {\n        try {\n            this.destination.complete();\n        }\n        finally {\n            this.unsubscribe();\n        }\n    }\n}\nconst _bind = Function.prototype.bind;\nfunction bind(fn, thisArg) {\n    return _bind.call(fn, thisArg);\n}\nclass ConsumerObserver {\n    constructor(partialObserver) {\n        this.partialObserver = partialObserver;\n    }\n    next(value) {\n        const { partialObserver } = this;\n        if (partialObserver.next) {\n            try {\n                partialObserver.next(value);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    }\n    error(err) {\n        const { partialObserver } = this;\n        if (partialObserver.error) {\n            try {\n                partialObserver.error(err);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n        else {\n            handleUnhandledError(err);\n        }\n    }\n    complete() {\n        const { partialObserver } = this;\n        if (partialObserver.complete) {\n            try {\n                partialObserver.complete();\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    }\n}\nexport class SafeSubscriber extends Subscriber {\n    constructor(observerOrNext, error, complete) {\n        super();\n        let partialObserver;\n        if (isFunction(observerOrNext) || !observerOrNext) {\n            partialObserver = {\n                next: (observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : undefined),\n                error: error !== null && error !== void 0 ? error : undefined,\n                complete: complete !== null && complete !== void 0 ? complete : undefined,\n            };\n        }\n        else {\n            let context;\n            if (this && config.useDeprecatedNextContext) {\n                context = Object.create(observerOrNext);\n                context.unsubscribe = () => this.unsubscribe();\n                partialObserver = {\n                    next: observerOrNext.next && bind(observerOrNext.next, context),\n                    error: observerOrNext.error && bind(observerOrNext.error, context),\n                    complete: observerOrNext.complete && bind(observerOrNext.complete, context),\n                };\n            }\n            else {\n                partialObserver = observerOrNext;\n            }\n        }\n        this.destination = new ConsumerObserver(partialObserver);\n    }\n}\nfunction handleUnhandledError(error) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        captureError(error);\n    }\n    else {\n        reportUnhandledError(error);\n    }\n}\nfunction defaultErrorHandler(err) {\n    throw err;\n}\nfunction handleStoppedNotification(notification, subscriber) {\n    const { onStoppedNotification } = config;\n    onStoppedNotification && timeoutProvider.setTimeout(() => onStoppedNotification(notification, subscriber));\n}\nexport const EMPTY_OBSERVER = {\n    closed: true,\n    next: noop,\n    error: defaultErrorHandler,\n    complete: noop,\n};\n//# sourceMappingURL=Subscriber.js.map","export const observable = (() => (typeof Symbol === 'function' && Symbol.observable) || '@@observable')();\n//# sourceMappingURL=observable.js.map","export function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map","import { identity } from './identity';\nexport function pipe(...fns) {\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce((prev, fn) => fn(prev), input);\n    };\n}\n//# sourceMappingURL=pipe.js.map","import { SafeSubscriber, Subscriber } from './Subscriber';\nimport { isSubscription } from './Subscription';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nimport { isFunction } from './util/isFunction';\nimport { errorContext } from './util/errorContext';\nexport class Observable {\n    constructor(subscribe) {\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    lift(operator) {\n        const observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    }\n    subscribe(observerOrNext, error, complete) {\n        const subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n        errorContext(() => {\n            const { operator, source } = this;\n            subscriber.add(operator\n                ?\n                    operator.call(subscriber, source)\n                : source\n                    ?\n                        this._subscribe(subscriber)\n                    :\n                        this._trySubscribe(subscriber));\n        });\n        return subscriber;\n    }\n    _trySubscribe(sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.error(err);\n        }\n    }\n    forEach(next, promiseCtor) {\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor((resolve, reject) => {\n            const subscriber = new SafeSubscriber({\n                next: (value) => {\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscriber.unsubscribe();\n                    }\n                },\n                error: reject,\n                complete: resolve,\n            });\n            this.subscribe(subscriber);\n        });\n    }\n    _subscribe(subscriber) {\n        var _a;\n        return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);\n    }\n    [Symbol_observable]() {\n        return this;\n    }\n    pipe(...operations) {\n        return pipeFromArray(operations)(this);\n    }\n    toPromise(promiseCtor) {\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor((resolve, reject) => {\n            let value;\n            this.subscribe((x) => (value = x), (err) => reject(err), () => resolve(value));\n        });\n    }\n}\nObservable.create = (subscribe) => {\n    return new Observable(subscribe);\n};\nfunction getPromiseCtor(promiseCtor) {\n    var _a;\n    return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;\n}\nfunction isObserver(value) {\n    return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\nfunction isSubscriber(value) {\n    return (value && value instanceof Subscriber) || (isObserver(value) && isSubscription(value));\n}\n//# sourceMappingURL=Observable.js.map","import { isFunction } from './isFunction';\nexport function hasLift(source) {\n    return isFunction(source === null || source === void 0 ? void 0 : source.lift);\n}\nexport function operate(init) {\n    return (source) => {\n        if (hasLift(source)) {\n            return source.lift(function (liftedSource) {\n                try {\n                    return init(liftedSource, this);\n                }\n                catch (err) {\n                    this.error(err);\n                }\n            });\n        }\n        throw new TypeError('Unable to lift unknown Observable type');\n    };\n}\n//# sourceMappingURL=lift.js.map","import { Subscriber } from '../Subscriber';\nexport function createOperatorSubscriber(destination, onNext, onComplete, onError, onFinalize) {\n    return new OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize);\n}\nexport class OperatorSubscriber extends Subscriber {\n    constructor(destination, onNext, onComplete, onError, onFinalize, shouldUnsubscribe) {\n        super(destination);\n        this.onFinalize = onFinalize;\n        this.shouldUnsubscribe = shouldUnsubscribe;\n        this._next = onNext\n            ? function (value) {\n                try {\n                    onNext(value);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n            }\n            : super._next;\n        this._error = onError\n            ? function (err) {\n                try {\n                    onError(err);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : super._error;\n        this._complete = onComplete\n            ? function () {\n                try {\n                    onComplete();\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : super._complete;\n    }\n    unsubscribe() {\n        var _a;\n        if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {\n            const { closed } = this;\n            super.unsubscribe();\n            !closed && ((_a = this.onFinalize) === null || _a === void 0 ? void 0 : _a.call(this));\n        }\n    }\n}\n//# sourceMappingURL=OperatorSubscriber.js.map","import { createErrorClass } from './createErrorClass';\nexport const ObjectUnsubscribedError = createErrorClass((_super) => function ObjectUnsubscribedErrorImpl() {\n    _super(this);\n    this.name = 'ObjectUnsubscribedError';\n    this.message = 'object unsubscribed';\n});\n//# sourceMappingURL=ObjectUnsubscribedError.js.map","import { Observable } from './Observable';\nimport { Subscription, EMPTY_SUBSCRIPTION } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { arrRemove } from './util/arrRemove';\nimport { errorContext } from './util/errorContext';\nexport class Subject extends Observable {\n    constructor() {\n        super();\n        this.closed = false;\n        this.currentObservers = null;\n        this.observers = [];\n        this.isStopped = false;\n        this.hasError = false;\n        this.thrownError = null;\n    }\n    lift(operator) {\n        const subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    }\n    _throwIfClosed() {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n    }\n    next(value) {\n        errorContext(() => {\n            this._throwIfClosed();\n            if (!this.isStopped) {\n                if (!this.currentObservers) {\n                    this.currentObservers = Array.from(this.observers);\n                }\n                for (const observer of this.currentObservers) {\n                    observer.next(value);\n                }\n            }\n        });\n    }\n    error(err) {\n        errorContext(() => {\n            this._throwIfClosed();\n            if (!this.isStopped) {\n                this.hasError = this.isStopped = true;\n                this.thrownError = err;\n                const { observers } = this;\n                while (observers.length) {\n                    observers.shift().error(err);\n                }\n            }\n        });\n    }\n    complete() {\n        errorContext(() => {\n            this._throwIfClosed();\n            if (!this.isStopped) {\n                this.isStopped = true;\n                const { observers } = this;\n                while (observers.length) {\n                    observers.shift().complete();\n                }\n            }\n        });\n    }\n    unsubscribe() {\n        this.isStopped = this.closed = true;\n        this.observers = this.currentObservers = null;\n    }\n    get observed() {\n        var _a;\n        return ((_a = this.observers) === null || _a === void 0 ? void 0 : _a.length) > 0;\n    }\n    _trySubscribe(subscriber) {\n        this._throwIfClosed();\n        return super._trySubscribe(subscriber);\n    }\n    _subscribe(subscriber) {\n        this._throwIfClosed();\n        this._checkFinalizedStatuses(subscriber);\n        return this._innerSubscribe(subscriber);\n    }\n    _innerSubscribe(subscriber) {\n        const { hasError, isStopped, observers } = this;\n        if (hasError || isStopped) {\n            return EMPTY_SUBSCRIPTION;\n        }\n        this.currentObservers = null;\n        observers.push(subscriber);\n        return new Subscription(() => {\n            this.currentObservers = null;\n            arrRemove(observers, subscriber);\n        });\n    }\n    _checkFinalizedStatuses(subscriber) {\n        const { hasError, thrownError, isStopped } = this;\n        if (hasError) {\n            subscriber.error(thrownError);\n        }\n        else if (isStopped) {\n            subscriber.complete();\n        }\n    }\n    asObservable() {\n        const observable = new Observable();\n        observable.source = this;\n        return observable;\n    }\n}\nSubject.create = (destination, source) => {\n    return new AnonymousSubject(destination, source);\n};\nexport class AnonymousSubject extends Subject {\n    constructor(destination, source) {\n        super();\n        this.destination = destination;\n        this.source = source;\n    }\n    next(value) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.next) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n    }\n    error(err) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n    }\n    complete() {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.complete) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    _subscribe(subscriber) {\n        var _a, _b;\n        return (_b = (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber)) !== null && _b !== void 0 ? _b : EMPTY_SUBSCRIPTION;\n    }\n}\n//# sourceMappingURL=Subject.js.map","export const dateTimestampProvider = {\n    now() {\n        return (dateTimestampProvider.delegate || Date).now();\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=dateTimestampProvider.js.map","import { Subscription } from '../Subscription';\nexport class Action extends Subscription {\n    constructor(scheduler, work) {\n        super();\n    }\n    schedule(state, delay = 0) {\n        return this;\n    }\n}\n//# sourceMappingURL=Action.js.map","export const intervalProvider = {\n    setInterval(handler, timeout, ...args) {\n        const { delegate } = intervalProvider;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setInterval) {\n            return delegate.setInterval(handler, timeout, ...args);\n        }\n        return setInterval(handler, timeout, ...args);\n    },\n    clearInterval(handle) {\n        const { delegate } = intervalProvider;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearInterval) || clearInterval)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=intervalProvider.js.map","import { Action } from './Action';\nimport { intervalProvider } from './intervalProvider';\nimport { arrRemove } from '../util/arrRemove';\nexport class AsyncAction extends Action {\n    constructor(scheduler, work) {\n        super(scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n        this.pending = false;\n    }\n    schedule(state, delay = 0) {\n        var _a;\n        if (this.closed) {\n            return this;\n        }\n        this.state = state;\n        const id = this.id;\n        const scheduler = this.scheduler;\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.pending = true;\n        this.delay = delay;\n        this.id = (_a = this.id) !== null && _a !== void 0 ? _a : this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    }\n    requestAsyncId(scheduler, _id, delay = 0) {\n        return intervalProvider.setInterval(scheduler.flush.bind(scheduler, this), delay);\n    }\n    recycleAsyncId(_scheduler, id, delay = 0) {\n        if (delay != null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        if (id != null) {\n            intervalProvider.clearInterval(id);\n        }\n        return undefined;\n    }\n    execute(state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        const error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    }\n    _execute(state, _delay) {\n        let errored = false;\n        let errorValue;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = e ? e : new Error('Scheduled action threw falsy error');\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    }\n    unsubscribe() {\n        if (!this.closed) {\n            const { id, scheduler } = this;\n            const { actions } = scheduler;\n            this.work = this.state = this.scheduler = null;\n            this.pending = false;\n            arrRemove(actions, this);\n            if (id != null) {\n                this.id = this.recycleAsyncId(scheduler, id, null);\n            }\n            this.delay = null;\n            super.unsubscribe();\n        }\n    }\n}\n//# sourceMappingURL=AsyncAction.js.map","import { dateTimestampProvider } from './scheduler/dateTimestampProvider';\nexport class Scheduler {\n    constructor(schedulerActionCtor, now = Scheduler.now) {\n        this.schedulerActionCtor = schedulerActionCtor;\n        this.now = now;\n    }\n    schedule(work, delay = 0, state) {\n        return new this.schedulerActionCtor(this, work).schedule(state, delay);\n    }\n}\nScheduler.now = dateTimestampProvider.now;\n//# sourceMappingURL=Scheduler.js.map","import { Scheduler } from '../Scheduler';\nexport class AsyncScheduler extends Scheduler {\n    constructor(SchedulerAction, now = Scheduler.now) {\n        super(SchedulerAction, now);\n        this.actions = [];\n        this._active = false;\n    }\n    flush(action) {\n        const { actions } = this;\n        if (this._active) {\n            actions.push(action);\n            return;\n        }\n        let error;\n        this._active = true;\n        do {\n            if ((error = action.execute(action.state, action.delay))) {\n                break;\n            }\n        } while ((action = actions.shift()));\n        this._active = false;\n        if (error) {\n            while ((action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    }\n}\n//# sourceMappingURL=AsyncScheduler.js.map","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\nexport const asyncScheduler = new AsyncScheduler(AsyncAction);\nexport const async = asyncScheduler;\n//# sourceMappingURL=async.js.map","import { Observable } from '../Observable';\nexport const EMPTY = new Observable((subscriber) => subscriber.complete());\nexport function empty(scheduler) {\n    return scheduler ? emptyScheduled(scheduler) : EMPTY;\n}\nfunction emptyScheduled(scheduler) {\n    return new Observable((subscriber) => scheduler.schedule(() => subscriber.complete()));\n}\n//# sourceMappingURL=empty.js.map","import { isFunction } from './isFunction';\nexport function isScheduler(value) {\n    return value && isFunction(value.schedule);\n}\n//# sourceMappingURL=isScheduler.js.map","import { isFunction } from './isFunction';\nimport { isScheduler } from './isScheduler';\nfunction last(arr) {\n    return arr[arr.length - 1];\n}\nexport function popResultSelector(args) {\n    return isFunction(last(args)) ? args.pop() : undefined;\n}\nexport function popScheduler(args) {\n    return isScheduler(last(args)) ? args.pop() : undefined;\n}\nexport function popNumber(args, defaultValue) {\n    return typeof last(args) === 'number' ? args.pop() : defaultValue;\n}\n//# sourceMappingURL=args.js.map","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport default {\r\n    __extends,\r\n    __assign,\r\n    __rest,\r\n    __decorate,\r\n    __param,\r\n    __metadata,\r\n    __awaiter,\r\n    __generator,\r\n    __createBinding,\r\n    __exportStar,\r\n    __values,\r\n    __read,\r\n    __spread,\r\n    __spreadArrays,\r\n    __spreadArray,\r\n    __await,\r\n    __asyncGenerator,\r\n    __asyncDelegator,\r\n    __asyncValues,\r\n    __makeTemplateObject,\r\n    __importStar,\r\n    __importDefault,\r\n    __classPrivateFieldGet,\r\n    __classPrivateFieldSet,\r\n    __classPrivateFieldIn,\r\n};\r\n","export const isArrayLike = ((x) => x && typeof x.length === 'number' && typeof x !== 'function');\n//# sourceMappingURL=isArrayLike.js.map","import { isFunction } from \"./isFunction\";\nexport function isPromise(value) {\n    return isFunction(value === null || value === void 0 ? void 0 : value.then);\n}\n//# sourceMappingURL=isPromise.js.map","import { observable as Symbol_observable } from '../symbol/observable';\nimport { isFunction } from './isFunction';\nexport function isInteropObservable(input) {\n    return isFunction(input[Symbol_observable]);\n}\n//# sourceMappingURL=isInteropObservable.js.map","import { isFunction } from './isFunction';\nexport function isAsyncIterable(obj) {\n    return Symbol.asyncIterator && isFunction(obj === null || obj === void 0 ? void 0 : obj[Symbol.asyncIterator]);\n}\n//# sourceMappingURL=isAsyncIterable.js.map","export function createInvalidObservableTypeError(input) {\n    return new TypeError(`You provided ${input !== null && typeof input === 'object' ? 'an invalid object' : `'${input}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`);\n}\n//# sourceMappingURL=throwUnobservableError.js.map","export function getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nexport const iterator = getSymbolIterator();\n//# sourceMappingURL=iterator.js.map","import { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from './isFunction';\nexport function isIterable(input) {\n    return isFunction(input === null || input === void 0 ? void 0 : input[Symbol_iterator]);\n}\n//# sourceMappingURL=isIterable.js.map","import { __asyncGenerator, __await } from \"tslib\";\nimport { isFunction } from './isFunction';\nexport function readableStreamLikeToAsyncGenerator(readableStream) {\n    return __asyncGenerator(this, arguments, function* readableStreamLikeToAsyncGenerator_1() {\n        const reader = readableStream.getReader();\n        try {\n            while (true) {\n                const { value, done } = yield __await(reader.read());\n                if (done) {\n                    return yield __await(void 0);\n                }\n                yield yield __await(value);\n            }\n        }\n        finally {\n            reader.releaseLock();\n        }\n    });\n}\nexport function isReadableStreamLike(obj) {\n    return isFunction(obj === null || obj === void 0 ? void 0 : obj.getReader);\n}\n//# sourceMappingURL=isReadableStreamLike.js.map","import { __asyncValues, __awaiter } from \"tslib\";\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isPromise } from '../util/isPromise';\nimport { Observable } from '../Observable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nimport { isIterable } from '../util/isIterable';\nimport { isReadableStreamLike, readableStreamLikeToAsyncGenerator } from '../util/isReadableStreamLike';\nimport { isFunction } from '../util/isFunction';\nimport { reportUnhandledError } from '../util/reportUnhandledError';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function innerFrom(input) {\n    if (input instanceof Observable) {\n        return input;\n    }\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return fromInteropObservable(input);\n        }\n        if (isArrayLike(input)) {\n            return fromArrayLike(input);\n        }\n        if (isPromise(input)) {\n            return fromPromise(input);\n        }\n        if (isAsyncIterable(input)) {\n            return fromAsyncIterable(input);\n        }\n        if (isIterable(input)) {\n            return fromIterable(input);\n        }\n        if (isReadableStreamLike(input)) {\n            return fromReadableStreamLike(input);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\nexport function fromInteropObservable(obj) {\n    return new Observable((subscriber) => {\n        const obs = obj[Symbol_observable]();\n        if (isFunction(obs.subscribe)) {\n            return obs.subscribe(subscriber);\n        }\n        throw new TypeError('Provided object does not correctly implement Symbol.observable');\n    });\n}\nexport function fromArrayLike(array) {\n    return new Observable((subscriber) => {\n        for (let i = 0; i < array.length && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        subscriber.complete();\n    });\n}\nexport function fromPromise(promise) {\n    return new Observable((subscriber) => {\n        promise\n            .then((value) => {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, (err) => subscriber.error(err))\n            .then(null, reportUnhandledError);\n    });\n}\nexport function fromIterable(iterable) {\n    return new Observable((subscriber) => {\n        for (const value of iterable) {\n            subscriber.next(value);\n            if (subscriber.closed) {\n                return;\n            }\n        }\n        subscriber.complete();\n    });\n}\nexport function fromAsyncIterable(asyncIterable) {\n    return new Observable((subscriber) => {\n        process(asyncIterable, subscriber).catch((err) => subscriber.error(err));\n    });\n}\nexport function fromReadableStreamLike(readableStream) {\n    return fromAsyncIterable(readableStreamLikeToAsyncGenerator(readableStream));\n}\nfunction process(asyncIterable, subscriber) {\n    var asyncIterable_1, asyncIterable_1_1;\n    var e_1, _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            for (asyncIterable_1 = __asyncValues(asyncIterable); asyncIterable_1_1 = yield asyncIterable_1.next(), !asyncIterable_1_1.done;) {\n                const value = asyncIterable_1_1.value;\n                subscriber.next(value);\n                if (subscriber.closed) {\n                    return;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (asyncIterable_1_1 && !asyncIterable_1_1.done && (_a = asyncIterable_1.return)) yield _a.call(asyncIterable_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        subscriber.complete();\n    });\n}\n//# sourceMappingURL=innerFrom.js.map","export function executeSchedule(parentSubscription, scheduler, work, delay = 0, repeat = false) {\n    const scheduleSubscription = scheduler.schedule(function () {\n        work();\n        if (repeat) {\n            parentSubscription.add(this.schedule(null, delay));\n        }\n        else {\n            this.unsubscribe();\n        }\n    }, delay);\n    parentSubscription.add(scheduleSubscription);\n    if (!repeat) {\n        return scheduleSubscription;\n    }\n}\n//# sourceMappingURL=executeSchedule.js.map","import { executeSchedule } from '../util/executeSchedule';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function observeOn(scheduler, delay = 0) {\n    return operate((source, subscriber) => {\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => executeSchedule(subscriber, scheduler, () => subscriber.next(value), delay), () => executeSchedule(subscriber, scheduler, () => subscriber.complete(), delay), (err) => executeSchedule(subscriber, scheduler, () => subscriber.error(err), delay)));\n    });\n}\n//# sourceMappingURL=observeOn.js.map","import { operate } from '../util/lift';\nexport function subscribeOn(scheduler, delay = 0) {\n    return operate((source, subscriber) => {\n        subscriber.add(scheduler.schedule(() => source.subscribe(subscriber), delay));\n    });\n}\n//# sourceMappingURL=subscribeOn.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { observeOn } from '../operators/observeOn';\nimport { subscribeOn } from '../operators/subscribeOn';\nexport function scheduleObservable(input, scheduler) {\n    return innerFrom(input).pipe(subscribeOn(scheduler), observeOn(scheduler));\n}\n//# sourceMappingURL=scheduleObservable.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { observeOn } from '../operators/observeOn';\nimport { subscribeOn } from '../operators/subscribeOn';\nexport function schedulePromise(input, scheduler) {\n    return innerFrom(input).pipe(subscribeOn(scheduler), observeOn(scheduler));\n}\n//# sourceMappingURL=schedulePromise.js.map","import { Observable } from '../Observable';\nexport function scheduleArray(input, scheduler) {\n    return new Observable((subscriber) => {\n        let i = 0;\n        return scheduler.schedule(function () {\n            if (i === input.length) {\n                subscriber.complete();\n            }\n            else {\n                subscriber.next(input[i++]);\n                if (!subscriber.closed) {\n                    this.schedule();\n                }\n            }\n        });\n    });\n}\n//# sourceMappingURL=scheduleArray.js.map","import { Observable } from '../Observable';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from '../util/isFunction';\nimport { executeSchedule } from '../util/executeSchedule';\nexport function scheduleIterable(input, scheduler) {\n    return new Observable((subscriber) => {\n        let iterator;\n        executeSchedule(subscriber, scheduler, () => {\n            iterator = input[Symbol_iterator]();\n            executeSchedule(subscriber, scheduler, () => {\n                let value;\n                let done;\n                try {\n                    ({ value, done } = iterator.next());\n                }\n                catch (err) {\n                    subscriber.error(err);\n                    return;\n                }\n                if (done) {\n                    subscriber.complete();\n                }\n                else {\n                    subscriber.next(value);\n                }\n            }, 0, true);\n        });\n        return () => isFunction(iterator === null || iterator === void 0 ? void 0 : iterator.return) && iterator.return();\n    });\n}\n//# sourceMappingURL=scheduleIterable.js.map","import { Observable } from '../Observable';\nimport { executeSchedule } from '../util/executeSchedule';\nexport function scheduleAsyncIterable(input, scheduler) {\n    if (!input) {\n        throw new Error('Iterable cannot be null');\n    }\n    return new Observable((subscriber) => {\n        executeSchedule(subscriber, scheduler, () => {\n            const iterator = input[Symbol.asyncIterator]();\n            executeSchedule(subscriber, scheduler, () => {\n                iterator.next().then((result) => {\n                    if (result.done) {\n                        subscriber.complete();\n                    }\n                    else {\n                        subscriber.next(result.value);\n                    }\n                });\n            }, 0, true);\n        });\n    });\n}\n//# sourceMappingURL=scheduleAsyncIterable.js.map","import { scheduleAsyncIterable } from './scheduleAsyncIterable';\nimport { readableStreamLikeToAsyncGenerator } from '../util/isReadableStreamLike';\nexport function scheduleReadableStreamLike(input, scheduler) {\n    return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(input), scheduler);\n}\n//# sourceMappingURL=scheduleReadableStreamLike.js.map","import { scheduleObservable } from './scheduleObservable';\nimport { schedulePromise } from './schedulePromise';\nimport { scheduleArray } from './scheduleArray';\nimport { scheduleIterable } from './scheduleIterable';\nimport { scheduleAsyncIterable } from './scheduleAsyncIterable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isPromise } from '../util/isPromise';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isIterable } from '../util/isIterable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nimport { isReadableStreamLike } from '../util/isReadableStreamLike';\nimport { scheduleReadableStreamLike } from './scheduleReadableStreamLike';\nexport function scheduled(input, scheduler) {\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return scheduleObservable(input, scheduler);\n        }\n        if (isArrayLike(input)) {\n            return scheduleArray(input, scheduler);\n        }\n        if (isPromise(input)) {\n            return schedulePromise(input, scheduler);\n        }\n        if (isAsyncIterable(input)) {\n            return scheduleAsyncIterable(input, scheduler);\n        }\n        if (isIterable(input)) {\n            return scheduleIterable(input, scheduler);\n        }\n        if (isReadableStreamLike(input)) {\n            return scheduleReadableStreamLike(input, scheduler);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\n//# sourceMappingURL=scheduled.js.map","import { scheduled } from '../scheduled/scheduled';\nimport { innerFrom } from './innerFrom';\nexport function from(input, scheduler) {\n    return scheduler ? scheduled(input, scheduler) : innerFrom(input);\n}\n//# sourceMappingURL=from.js.map","import { popScheduler } from '../util/args';\nimport { from } from './from';\nexport function of(...args) {\n    const scheduler = popScheduler(args);\n    return from(args, scheduler);\n}\n//# sourceMappingURL=of.js.map","import { createErrorClass } from './createErrorClass';\nexport const EmptyError = createErrorClass((_super) => function EmptyErrorImpl() {\n    _super(this);\n    this.name = 'EmptyError';\n    this.message = 'no elements in sequence';\n});\n//# sourceMappingURL=EmptyError.js.map","export function isValidDate(value) {\n    return value instanceof Date && !isNaN(value);\n}\n//# sourceMappingURL=isDate.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function map(project, thisArg) {\n    return operate((source, subscriber) => {\n        let index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            subscriber.next(project.call(thisArg, value, index++));\n        }));\n    });\n}\n//# sourceMappingURL=map.js.map","import { map } from \"../operators/map\";\nconst { isArray } = Array;\nfunction callOrApply(fn, args) {\n    return isArray(args) ? fn(...args) : fn(args);\n}\nexport function mapOneOrManyArgs(fn) {\n    return map(args => callOrApply(fn, args));\n}\n//# sourceMappingURL=mapOneOrManyArgs.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { executeSchedule } from '../util/executeSchedule';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function mergeInternals(source, subscriber, project, concurrent, onBeforeNext, expand, innerSubScheduler, additionalFinalizer) {\n    const buffer = [];\n    let active = 0;\n    let index = 0;\n    let isComplete = false;\n    const checkComplete = () => {\n        if (isComplete && !buffer.length && !active) {\n            subscriber.complete();\n        }\n    };\n    const outerNext = (value) => (active < concurrent ? doInnerSub(value) : buffer.push(value));\n    const doInnerSub = (value) => {\n        expand && subscriber.next(value);\n        active++;\n        let innerComplete = false;\n        innerFrom(project(value, index++)).subscribe(createOperatorSubscriber(subscriber, (innerValue) => {\n            onBeforeNext === null || onBeforeNext === void 0 ? void 0 : onBeforeNext(innerValue);\n            if (expand) {\n                outerNext(innerValue);\n            }\n            else {\n                subscriber.next(innerValue);\n            }\n        }, () => {\n            innerComplete = true;\n        }, undefined, () => {\n            if (innerComplete) {\n                try {\n                    active--;\n                    while (buffer.length && active < concurrent) {\n                        const bufferedValue = buffer.shift();\n                        if (innerSubScheduler) {\n                            executeSchedule(subscriber, innerSubScheduler, () => doInnerSub(bufferedValue));\n                        }\n                        else {\n                            doInnerSub(bufferedValue);\n                        }\n                    }\n                    checkComplete();\n                }\n                catch (err) {\n                    subscriber.error(err);\n                }\n            }\n        }));\n    };\n    source.subscribe(createOperatorSubscriber(subscriber, outerNext, () => {\n        isComplete = true;\n        checkComplete();\n    }));\n    return () => {\n        additionalFinalizer === null || additionalFinalizer === void 0 ? void 0 : additionalFinalizer();\n    };\n}\n//# sourceMappingURL=mergeInternals.js.map","import { map } from './map';\nimport { innerFrom } from '../observable/innerFrom';\nimport { operate } from '../util/lift';\nimport { mergeInternals } from './mergeInternals';\nimport { isFunction } from '../util/isFunction';\nexport function mergeMap(project, resultSelector, concurrent = Infinity) {\n    if (isFunction(resultSelector)) {\n        return mergeMap((a, i) => map((b, ii) => resultSelector(a, b, i, ii))(innerFrom(project(a, i))), concurrent);\n    }\n    else if (typeof resultSelector === 'number') {\n        concurrent = resultSelector;\n    }\n    return operate((source, subscriber) => mergeInternals(source, subscriber, project, concurrent));\n}\n//# sourceMappingURL=mergeMap.js.map","import { mergeMap } from './mergeMap';\nimport { identity } from '../util/identity';\nexport function mergeAll(concurrent = Infinity) {\n    return mergeMap(identity, concurrent);\n}\n//# sourceMappingURL=mergeAll.js.map","import { mergeAll } from './mergeAll';\nexport function concatAll() {\n    return mergeAll(1);\n}\n//# sourceMappingURL=concatAll.js.map","import { concatAll } from '../operators/concatAll';\nimport { popScheduler } from '../util/args';\nimport { from } from './from';\nexport function concat(...args) {\n    return concatAll()(from(args, popScheduler(args)));\n}\n//# sourceMappingURL=concat.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { Observable } from '../Observable';\nimport { mergeMap } from '../operators/mergeMap';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isFunction } from '../util/isFunction';\nimport { mapOneOrManyArgs } from '../util/mapOneOrManyArgs';\nconst nodeEventEmitterMethods = ['addListener', 'removeListener'];\nconst eventTargetMethods = ['addEventListener', 'removeEventListener'];\nconst jqueryMethods = ['on', 'off'];\nexport function fromEvent(target, eventName, options, resultSelector) {\n    if (isFunction(options)) {\n        resultSelector = options;\n        options = undefined;\n    }\n    if (resultSelector) {\n        return fromEvent(target, eventName, options).pipe(mapOneOrManyArgs(resultSelector));\n    }\n    const [add, remove] = isEventTarget(target)\n        ? eventTargetMethods.map((methodName) => (handler) => target[methodName](eventName, handler, options))\n        :\n            isNodeStyleEventEmitter(target)\n                ? nodeEventEmitterMethods.map(toCommonHandlerRegistry(target, eventName))\n                : isJQueryStyleEventEmitter(target)\n                    ? jqueryMethods.map(toCommonHandlerRegistry(target, eventName))\n                    : [];\n    if (!add) {\n        if (isArrayLike(target)) {\n            return mergeMap((subTarget) => fromEvent(subTarget, eventName, options))(innerFrom(target));\n        }\n    }\n    if (!add) {\n        throw new TypeError('Invalid event target');\n    }\n    return new Observable((subscriber) => {\n        const handler = (...args) => subscriber.next(1 < args.length ? args : args[0]);\n        add(handler);\n        return () => remove(handler);\n    });\n}\nfunction toCommonHandlerRegistry(target, eventName) {\n    return (methodName) => (handler) => target[methodName](eventName, handler);\n}\nfunction isNodeStyleEventEmitter(target) {\n    return isFunction(target.addListener) && isFunction(target.removeListener);\n}\nfunction isJQueryStyleEventEmitter(target) {\n    return isFunction(target.on) && isFunction(target.off);\n}\nfunction isEventTarget(target) {\n    return isFunction(target.addEventListener) && isFunction(target.removeEventListener);\n}\n//# sourceMappingURL=fromEvent.js.map","import { Observable } from '../Observable';\nimport { async as asyncScheduler } from '../scheduler/async';\nimport { isScheduler } from '../util/isScheduler';\nimport { isValidDate } from '../util/isDate';\nexport function timer(dueTime = 0, intervalOrScheduler, scheduler = asyncScheduler) {\n    let intervalDuration = -1;\n    if (intervalOrScheduler != null) {\n        if (isScheduler(intervalOrScheduler)) {\n            scheduler = intervalOrScheduler;\n        }\n        else {\n            intervalDuration = intervalOrScheduler;\n        }\n    }\n    return new Observable((subscriber) => {\n        let due = isValidDate(dueTime) ? +dueTime - scheduler.now() : dueTime;\n        if (due < 0) {\n            due = 0;\n        }\n        let n = 0;\n        return scheduler.schedule(function () {\n            if (!subscriber.closed) {\n                subscriber.next(n++);\n                if (0 <= intervalDuration) {\n                    this.schedule(undefined, intervalDuration);\n                }\n                else {\n                    subscriber.complete();\n                }\n            }\n        }, due);\n    });\n}\n//# sourceMappingURL=timer.js.map","import { mergeAll } from '../operators/mergeAll';\nimport { innerFrom } from './innerFrom';\nimport { EMPTY } from './empty';\nimport { popNumber, popScheduler } from '../util/args';\nimport { from } from './from';\nexport function merge(...args) {\n    const scheduler = popScheduler(args);\n    const concurrent = popNumber(args, Infinity);\n    const sources = args;\n    return !sources.length\n        ?\n            EMPTY\n        : sources.length === 1\n            ?\n                innerFrom(sources[0])\n            :\n                mergeAll(concurrent)(from(sources, scheduler));\n}\n//# sourceMappingURL=merge.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function filter(predicate, thisArg) {\n    return operate((source, subscriber) => {\n        let index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => predicate.call(thisArg, value, index++) && subscriber.next(value)));\n    });\n}\n//# sourceMappingURL=filter.js.map","import { operate } from '../util/lift';\nimport { innerFrom } from '../observable/innerFrom';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function audit(durationSelector) {\n    return operate((source, subscriber) => {\n        let hasValue = false;\n        let lastValue = null;\n        let durationSubscriber = null;\n        let isComplete = false;\n        const endDuration = () => {\n            durationSubscriber === null || durationSubscriber === void 0 ? void 0 : durationSubscriber.unsubscribe();\n            durationSubscriber = null;\n            if (hasValue) {\n                hasValue = false;\n                const value = lastValue;\n                lastValue = null;\n                subscriber.next(value);\n            }\n            isComplete && subscriber.complete();\n        };\n        const cleanupDuration = () => {\n            durationSubscriber = null;\n            isComplete && subscriber.complete();\n        };\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            hasValue = true;\n            lastValue = value;\n            if (!durationSubscriber) {\n                innerFrom(durationSelector(value)).subscribe((durationSubscriber = createOperatorSubscriber(subscriber, endDuration, cleanupDuration)));\n            }\n        }, () => {\n            isComplete = true;\n            (!hasValue || !durationSubscriber || durationSubscriber.closed) && subscriber.complete();\n        }));\n    });\n}\n//# sourceMappingURL=audit.js.map","import { asyncScheduler } from '../scheduler/async';\nimport { audit } from './audit';\nimport { timer } from '../observable/timer';\nexport function auditTime(duration, scheduler = asyncScheduler) {\n    return audit(() => timer(duration, scheduler));\n}\n//# sourceMappingURL=auditTime.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { operate } from '../util/lift';\nexport function catchError(selector) {\n    return operate((source, subscriber) => {\n        let innerSub = null;\n        let syncUnsub = false;\n        let handledResult;\n        innerSub = source.subscribe(createOperatorSubscriber(subscriber, undefined, undefined, (err) => {\n            handledResult = innerFrom(selector(err, catchError(selector)(source)));\n            if (innerSub) {\n                innerSub.unsubscribe();\n                innerSub = null;\n                handledResult.subscribe(subscriber);\n            }\n            else {\n                syncUnsub = true;\n            }\n        }));\n        if (syncUnsub) {\n            innerSub.unsubscribe();\n            innerSub = null;\n            handledResult.subscribe(subscriber);\n        }\n    });\n}\n//# sourceMappingURL=catchError.js.map","import { createOperatorSubscriber } from './OperatorSubscriber';\nexport function scanInternals(accumulator, seed, hasSeed, emitOnNext, emitBeforeComplete) {\n    return (source, subscriber) => {\n        let hasState = hasSeed;\n        let state = seed;\n        let index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            const i = index++;\n            state = hasState\n                ?\n                    accumulator(state, value, i)\n                :\n                    ((hasState = true), value);\n            emitOnNext && subscriber.next(state);\n        }, emitBeforeComplete &&\n            (() => {\n                hasState && subscriber.next(state);\n                subscriber.complete();\n            })));\n    };\n}\n//# sourceMappingURL=scanInternals.js.map","import { operate } from '../util/lift';\nimport { noop } from '../util/noop';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { innerFrom } from '../observable/innerFrom';\nexport function debounce(durationSelector) {\n    return operate((source, subscriber) => {\n        let hasValue = false;\n        let lastValue = null;\n        let durationSubscriber = null;\n        const emit = () => {\n            durationSubscriber === null || durationSubscriber === void 0 ? void 0 : durationSubscriber.unsubscribe();\n            durationSubscriber = null;\n            if (hasValue) {\n                hasValue = false;\n                const value = lastValue;\n                lastValue = null;\n                subscriber.next(value);\n            }\n        };\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            durationSubscriber === null || durationSubscriber === void 0 ? void 0 : durationSubscriber.unsubscribe();\n            hasValue = true;\n            lastValue = value;\n            durationSubscriber = createOperatorSubscriber(subscriber, emit, noop);\n            innerFrom(durationSelector(value)).subscribe(durationSubscriber);\n        }, () => {\n            emit();\n            subscriber.complete();\n        }, undefined, () => {\n            lastValue = durationSubscriber = null;\n        }));\n    });\n}\n//# sourceMappingURL=debounce.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function defaultIfEmpty(defaultValue) {\n    return operate((source, subscriber) => {\n        let hasValue = false;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            hasValue = true;\n            subscriber.next(value);\n        }, () => {\n            if (!hasValue) {\n                subscriber.next(defaultValue);\n            }\n            subscriber.complete();\n        }));\n    });\n}\n//# sourceMappingURL=defaultIfEmpty.js.map","import { EMPTY } from '../observable/empty';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function take(count) {\n    return count <= 0\n        ?\n            () => EMPTY\n        : operate((source, subscriber) => {\n            let seen = 0;\n            source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n                if (++seen <= count) {\n                    subscriber.next(value);\n                    if (count <= seen) {\n                        subscriber.complete();\n                    }\n                }\n            }));\n        });\n}\n//# sourceMappingURL=take.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { noop } from '../util/noop';\nexport function ignoreElements() {\n    return operate((source, subscriber) => {\n        source.subscribe(createOperatorSubscriber(subscriber, noop));\n    });\n}\n//# sourceMappingURL=ignoreElements.js.map","import { map } from './map';\nexport function mapTo(value) {\n    return map(() => value);\n}\n//# sourceMappingURL=mapTo.js.map","import { concat } from '../observable/concat';\nimport { take } from './take';\nimport { ignoreElements } from './ignoreElements';\nimport { mapTo } from './mapTo';\nimport { mergeMap } from './mergeMap';\nimport { innerFrom } from '../observable/innerFrom';\nexport function delayWhen(delayDurationSelector, subscriptionDelay) {\n    if (subscriptionDelay) {\n        return (source) => concat(subscriptionDelay.pipe(take(1), ignoreElements()), source.pipe(delayWhen(delayDurationSelector)));\n    }\n    return mergeMap((value, index) => innerFrom(delayDurationSelector(value, index)).pipe(take(1), mapTo(value)));\n}\n//# sourceMappingURL=delayWhen.js.map","import { asyncScheduler } from '../scheduler/async';\nimport { delayWhen } from './delayWhen';\nimport { timer } from '../observable/timer';\nexport function delay(due, scheduler = asyncScheduler) {\n    const duration = timer(due, scheduler);\n    return delayWhen(() => duration);\n}\n//# sourceMappingURL=delay.js.map","import { identity } from '../util/identity';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function distinctUntilChanged(comparator, keySelector = identity) {\n    comparator = comparator !== null && comparator !== void 0 ? comparator : defaultCompare;\n    return operate((source, subscriber) => {\n        let previousKey;\n        let first = true;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            const currentKey = keySelector(value);\n            if (first || !comparator(previousKey, currentKey)) {\n                first = false;\n                previousKey = currentKey;\n                subscriber.next(value);\n            }\n        }));\n    });\n}\nfunction defaultCompare(a, b) {\n    return a === b;\n}\n//# sourceMappingURL=distinctUntilChanged.js.map","import { EmptyError } from '../util/EmptyError';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function throwIfEmpty(errorFactory = defaultErrorFactory) {\n    return operate((source, subscriber) => {\n        let hasValue = false;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            hasValue = true;\n            subscriber.next(value);\n        }, () => (hasValue ? subscriber.complete() : subscriber.error(errorFactory()))));\n    });\n}\nfunction defaultErrorFactory() {\n    return new EmptyError();\n}\n//# sourceMappingURL=throwIfEmpty.js.map","import { EmptyError } from '../util/EmptyError';\nimport { filter } from './filter';\nimport { take } from './take';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { throwIfEmpty } from './throwIfEmpty';\nimport { identity } from '../util/identity';\nexport function first(predicate, defaultValue) {\n    const hasDefaultValue = arguments.length >= 2;\n    return (source) => source.pipe(predicate ? filter((v, i) => predicate(v, i, source)) : identity, take(1), hasDefaultValue ? defaultIfEmpty(defaultValue) : throwIfEmpty(() => new EmptyError()));\n}\n//# sourceMappingURL=first.js.map","import { operate } from '../util/lift';\nimport { scanInternals } from './scanInternals';\nexport function scan(accumulator, seed) {\n    return operate(scanInternals(accumulator, seed, arguments.length >= 2, true));\n}\n//# sourceMappingURL=scan.js.map","import { concat } from '../observable/concat';\nimport { popScheduler } from '../util/args';\nimport { operate } from '../util/lift';\nexport function startWith(...values) {\n    const scheduler = popScheduler(values);\n    return operate((source, subscriber) => {\n        (scheduler ? concat(values, source, scheduler) : concat(values, source)).subscribe(subscriber);\n    });\n}\n//# sourceMappingURL=startWith.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function switchMap(project, resultSelector) {\n    return operate((source, subscriber) => {\n        let innerSubscriber = null;\n        let index = 0;\n        let isComplete = false;\n        const checkComplete = () => isComplete && !innerSubscriber && subscriber.complete();\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            innerSubscriber === null || innerSubscriber === void 0 ? void 0 : innerSubscriber.unsubscribe();\n            let innerIndex = 0;\n            const outerIndex = index++;\n            innerFrom(project(value, outerIndex)).subscribe((innerSubscriber = createOperatorSubscriber(subscriber, (innerValue) => subscriber.next(resultSelector ? resultSelector(value, innerValue, outerIndex, innerIndex++) : innerValue), () => {\n                innerSubscriber = null;\n                checkComplete();\n            })));\n        }, () => {\n            isComplete = true;\n            checkComplete();\n        }));\n    });\n}\n//# sourceMappingURL=switchMap.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { innerFrom } from '../observable/innerFrom';\nimport { noop } from '../util/noop';\nexport function takeUntil(notifier) {\n    return operate((source, subscriber) => {\n        innerFrom(notifier).subscribe(createOperatorSubscriber(subscriber, () => subscriber.complete(), noop));\n        !subscriber.closed && source.subscribe(subscriber);\n    });\n}\n//# sourceMappingURL=takeUntil.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function takeWhile(predicate, inclusive = false) {\n    return operate((source, subscriber) => {\n        let index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            const result = predicate(value, index++);\n            (result || inclusive) && subscriber.next(value);\n            !result && subscriber.complete();\n        }));\n    });\n}\n//# sourceMappingURL=takeWhile.js.map","import { isFunction } from '../util/isFunction';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { identity } from '../util/identity';\nexport function tap(observerOrNext, error, complete) {\n    const tapObserver = isFunction(observerOrNext) || error || complete\n        ?\n            { next: observerOrNext, error, complete }\n        : observerOrNext;\n    return tapObserver\n        ? operate((source, subscriber) => {\n            var _a;\n            (_a = tapObserver.subscribe) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n            let isUnsub = true;\n            source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n                var _a;\n                (_a = tapObserver.next) === null || _a === void 0 ? void 0 : _a.call(tapObserver, value);\n                subscriber.next(value);\n            }, () => {\n                var _a;\n                isUnsub = false;\n                (_a = tapObserver.complete) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n                subscriber.complete();\n            }, (err) => {\n                var _a;\n                isUnsub = false;\n                (_a = tapObserver.error) === null || _a === void 0 ? void 0 : _a.call(tapObserver, err);\n                subscriber.error(err);\n            }, () => {\n                var _a, _b;\n                if (isUnsub) {\n                    (_a = tapObserver.unsubscribe) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n                }\n                (_b = tapObserver.finalize) === null || _b === void 0 ? void 0 : _b.call(tapObserver);\n            }));\n        })\n        :\n            identity;\n}\n//# sourceMappingURL=tap.js.map","@import 'variables';\n\n// -----\n\n$-shadow: 0 0 4px 1px rgba(16, 29, 48, 20%);\n$-shadow-transition: box-shadow 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n\n// -----\n\n:host {\n  overflow: hidden;\n  position: relative;\n  display: flex;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n// ----- Scroll shadows\n\n%shadow {\n  position: absolute;\n  transition: $-shadow-transition;\n}\n\n.shadow-top {\n  @extend %shadow;\n  z-index: 2;\n  width: 100%;\n  top: 0;\n}\n\n.shadow-left {\n  @extend %shadow;\n  z-index: 4;\n  height: 100%;\n  left: 0;\n}\n\n.shadow-right {\n  @extend %shadow;\n  z-index: 4;\n  height: 100%;\n  right: 0;\n}\n\n.shadow-bottom {\n  @extend %shadow;\n  z-index: 2;\n  width: 100%;\n  bottom: 0;\n}\n\n// ----- Component\n\n.scrollable-wrapper {\n  position: absolute;\n  inset: 0;\n  pointer-events: none;\n\n  &.cat-scrollable-top .shadow-top,\n  &.cat-scrollable-bottom .shadow-bottom,\n  &.cat-scrollable-left .shadow-left,\n  &.cat-scrollable-right .shadow-right {\n    box-shadow: $-shadow;\n  }\n}\n\n.scrollable-content {\n  width: 100%;\n  overflow: hidden;\n  // white-space: nowrap;\n\n  &.scroll-x {\n    overflow-x: auto;\n  }\n\n  &.scroll-y {\n    overflow-y: auto;\n  }\n\n  &.no-overscroll {\n    overscroll-behavior: contain;\n  }\n}\n","import { Component, Event, EventEmitter, h, Prop } from '@stencil/core';\nimport { fromEvent, merge, Observable, Subject } from 'rxjs';\nimport { auditTime, distinctUntilChanged, filter, map, takeUntil } from 'rxjs/operators';\n\n/**\n * An element to display scrollable content.\n */\n@Component({\n  tag: 'cat-scrollable',\n  styleUrl: 'cat-scrollable.scss',\n  shadow: true\n})\nexport class CatScrollable {\n  private static readonly THROTTLE = 50;\n  scrollElement?: HTMLElement;\n  scrollWrapperElement?: HTMLElement;\n  private readonly init = new Subject<void>();\n  private readonly destroyed = new Subject<void>();\n  private readonly resizedEntries = new Subject<ResizeObserverEntry[]>();\n  private readonly resizedObserver = new ResizeObserver(entries => this.resizedEntries.next(entries));\n  private scrolled!: Observable<Event>;\n\n  /** Flags to disable/enable scroll shadowX. */\n  @Prop()\n  noShadowX = false;\n\n  /** Flags to disable/enable scroll shadowY. */\n  @Prop()\n  noShadowY = false;\n\n  /** Flags to disable/enable overflowX. */\n  @Prop()\n  noOverflowX = false;\n\n  /** Flags to disable/enable overflowY. */\n  @Prop()\n  noOverflowY = false;\n\n  /** Flag to disable/enable overscroll behavior. */\n  @Prop()\n  noOverscroll = false;\n\n  /**\n   * Flag to not fire an initial event after content initialization.\n   */\n  @Prop() noScrolledInit = false;\n\n  /**\n   * Buffer to be used to calculate the scroll distance.\n   */\n  @Prop() scrolledBuffer = 0;\n\n  /**\n   * Emitted when the content is fully scrolled to the top.\n   */\n  @Event() scrolledTop!: EventEmitter<void>;\n\n  /**\n   * Emitted when the content is fully scrolled to the left.\n   */\n  @Event() scrolledLeft!: EventEmitter<void>;\n\n  /**\n   * Emitted when the content is fully scrolled to the right.\n   */\n  @Event() scrolledRight!: EventEmitter<void>;\n\n  /**\n   * Emitted when the content is fully scrolled to the bottom.\n   */\n  @Event() scrolledBottom!: EventEmitter<void>;\n\n  componentDidRender() {\n    if (this.scrollElement) {\n      this.scrolled = fromEvent(this.scrollElement, 'scroll').pipe(takeUntil(this.destroyed));\n      this.resizedObserver.observe(this.scrollElement);\n    }\n    if (this.scrollWrapperElement) {\n      this.resizedObserver.observe(this.scrollWrapperElement);\n    }\n    this.attachEmitter('left', this.scrolledLeft);\n    this.attachEmitter('right', this.scrolledRight);\n    this.attachEmitter('bottom', this.scrolledBottom);\n    this.attachEmitter('top', this.scrolledTop);\n    merge(this.init, this.scrolled, this.resizedEntries)\n      .pipe(\n        auditTime(CatScrollable.THROTTLE),\n        map(() => ({\n          top: this.getScrollOffset('top') > 0,\n          left: this.getScrollOffset('left') > 0,\n          right: this.getScrollOffset('right') > 0,\n          bottom: this.getScrollOffset('bottom') > 0\n        })),\n        distinctUntilChanged(),\n        takeUntil(this.destroyed)\n      )\n      .subscribe(({ top, left, right, bottom }) => {\n        this.toggleClass('cat-scrollable-top', top);\n        this.toggleClass('cat-scrollable-left', left);\n        this.toggleClass('cat-scrollable-right', right);\n        this.toggleClass('cat-scrollable-bottom', bottom);\n      });\n  }\n\n  componentDidLoad() {\n    if (!this.noScrolledInit) {\n      this.init.next();\n    }\n  }\n\n  disconnectedCallback() {\n    this.init.complete();\n    this.destroyed.next();\n    this.destroyed.complete();\n    this.resizedObserver.disconnect();\n  }\n\n  render() {\n    return [\n      <div class=\"scrollable-wrapper\" ref={el => (this.scrollWrapperElement = el)}>\n        {!this.noShadowY && <div class=\"shadow-top\"></div>}\n        {!this.noShadowX && <div class=\"shadow-left\"></div>}\n        {!this.noShadowX && <div class=\"shadow-right\"></div>}\n        {!this.noShadowY && <div class=\"shadow-bottom\"></div>}\n      </div>,\n      <div\n        ref={el => (this.scrollElement = el)}\n        class={{\n          'scrollable-content': true,\n          'scroll-x': !this.noOverflowX,\n          'scroll-y': !this.noOverflowY,\n          'no-overscroll': this.noOverscroll\n        }}\n      >\n        <slot></slot>\n      </div>\n    ];\n  }\n\n  private attachEmitter(from: 'top' | 'left' | 'right' | 'bottom', emitter: EventEmitter<void>) {\n    merge(this.init, this.scrolled, this.resizedEntries)\n      .pipe(\n        auditTime(CatScrollable.THROTTLE),\n        map(() => this.getScrollOffset(from)),\n        map(offset => offset <= this.scrolledBuffer),\n        distinctUntilChanged(),\n        filter(isLower => isLower),\n        takeUntil(this.destroyed)\n      )\n      .subscribe(() => emitter.emit());\n  }\n\n  private getScrollOffset(from: 'top' | 'left' | 'right' | 'bottom') {\n    if (this.scrollElement) {\n      switch (from) {\n        case 'top':\n          return this.scrollElement.scrollTop;\n        case 'left':\n          return this.scrollElement.scrollLeft;\n        case 'right':\n          return this.scrollElement.scrollWidth - this.scrollElement.clientWidth - this.scrollElement.scrollLeft;\n        case 'bottom':\n          return this.scrollElement.scrollHeight - this.scrollElement.clientHeight - this.scrollElement.scrollTop;\n        default:\n          return 0;\n      }\n    }\n    return 0;\n  }\n\n  private toggleClass(name: string, value: boolean) {\n    if (value) {\n      this.scrollWrapperElement?.classList.add(name);\n    } else {\n      this.scrollWrapperElement?.classList.remove(name);\n    }\n  }\n}\n","var GHOST_ELEMENT_ID = '__autosizeInputGhost'\n\nvar characterEntities = {\n  ' ': 'nbsp',\n  '<': 'lt',\n  '>': 'gt'\n}\nfunction mapSpecialCharacterToCharacterEntity (specialCharacter) {\n  return '&' + characterEntities[specialCharacter] + ';'\n}\nfunction escapeSpecialCharacters (string) {\n  return string.replace(/\\s|<|>/g, mapSpecialCharacterToCharacterEntity)\n}\n\n// Create `ghostElement`, with inline styles to hide it and ensure that the text is all\n// on a single line.\nfunction createGhostElement () {\n  var ghostElement = document.createElement('div')\n  ghostElement.id = GHOST_ELEMENT_ID\n  ghostElement.style.cssText =\n    'display:inline-block;height:0;overflow:hidden;position:absolute;top:0;visibility:hidden;white-space:nowrap;'\n  document.body.appendChild(ghostElement)\n  return ghostElement\n}\n\nmodule.exports = function (element, options) {\n  var elementStyle = window.getComputedStyle(element)\n  // prettier-ignore\n  var elementCssText = 'box-sizing:' + elementStyle.boxSizing +\n                      ';border-left:' + elementStyle.borderLeftWidth + ' solid red' +\n                      ';border-right:' + elementStyle.borderRightWidth + ' solid red' +\n                      ';font-family:' + elementStyle.fontFamily +\n                      ';font-feature-settings:' + elementStyle.fontFeatureSettings +\n                      ';font-kerning:' + elementStyle.fontKerning +\n                      ';font-size:' + elementStyle.fontSize +\n                      ';font-stretch:' + elementStyle.fontStretch +\n                      ';font-style:' + elementStyle.fontStyle +\n                      ';font-variant:' + elementStyle.fontVariant +\n                      ';font-variant-caps:' + elementStyle.fontVariantCaps +\n                      ';font-variant-ligatures:' + elementStyle.fontVariantLigatures +\n                      ';font-variant-numeric:' + elementStyle.fontVariantNumeric +\n                      ';font-weight:' + elementStyle.fontWeight +\n                      ';letter-spacing:' + elementStyle.letterSpacing +\n                      ';margin-left:' + elementStyle.marginLeft +\n                      ';margin-right:' + elementStyle.marginRight +\n                      ';padding-left:' + elementStyle.paddingLeft +\n                      ';padding-right:' + elementStyle.paddingRight +\n                      ';text-indent:' + elementStyle.textIndent +\n                      ';text-transform:' + elementStyle.textTransform\n\n  // Assigns an appropriate width to the given `element` based on its contents.\n  function setWidth () {\n    var string = element.value || element.getAttribute('placeholder') || ''\n    // Check if the `ghostElement` exists. If no, create it.\n    var ghostElement =\n      document.getElementById(GHOST_ELEMENT_ID) || createGhostElement()\n    // Copy all width-affecting styles to the `ghostElement`.\n    ghostElement.style.cssText += elementCssText\n    ghostElement.innerHTML = escapeSpecialCharacters(string)\n    // Copy the width of `ghostElement` to `element`.\n    var width = window.getComputedStyle(ghostElement).width\n    element.style.width = width\n    return width\n  }\n\n  element.addEventListener('input', setWidth)\n\n  var width = setWidth()\n\n  // Set `min-width` only if `options.minWidth` was set, and only if the initial\n  // width is non-zero.\n  if (options && options.minWidth && width !== '0px') {\n    element.style.minWidth = width\n  }\n\n  // Return a function for unbinding the event listener and removing the `ghostElement`.\n  return function () {\n    element.removeEventListener('input', setWidth)\n    var ghostElement = document.getElementById(GHOST_ELEMENT_ID)\n    if (ghostElement) {\n      ghostElement.parentNode.removeChild(ghostElement)\n    }\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n@use 'utils/color';\n@use '_snippets/form-label';\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  line-height: 1.25rem;\n  position: relative;\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nlabel {\n  align-self: flex-start;\n\n  &.hidden {\n    @include cat-visually-hidden;\n  }\n}\n\n.select-field,\n.select-container {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  flex: 1 1 auto;\n}\n\n.select-field.select-horizontal {\n  flex-direction: row;\n  gap: 1rem;\n}\n\n.input-optional {\n  margin-left: 0.25rem;\n  @include cat-body('xs');\n  color: cat-token('color.ui.font.muted');\n}\n\n.select-wrapper {\n  display: flex;\n  align-items: flex-start;\n  background: cat-token('color.ui.background.input');\n  border-radius: cat-border-radius('m');\n  box-shadow: inset 0 0 0 1px rgb(var(--border-color));\n  transition: box-shadow cat-token('time.transition.s') linear;\n  padding: 0.25rem;\n  --border-color: #{cat-token('color.ui.border.dark', $wrap: false)};\n\n  &:not(.select-disabled):hover {\n    box-shadow: inset 0 0 0 1px rgb(var(--border-color)), 0 0 0 1px rgb(var(--border-color));\n  }\n\n  &:focus-within {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: -1px;\n  }\n\n  &.select-invalid {\n    --border-color: #{cat-token('color.theme.danger.bg', 0.2, $wrap: false)};\n  }\n\n  /* stylelint-disable property-no-vendor-prefix */\n  &:has(input:-webkit-autofill) {\n    &,\n    &:hover,\n    &:focus {\n      background-color: cat-token('color.ui.background.inputAutofill');\n    }\n  }\n  /* stylelint-enable property-no-vendor-prefix */\n}\n\n:host(.cat-error) {\n  .select-wrapper {\n    box-shadow: 0 0 0 1px cat-token('color.theme.danger.bg');\n\n    &:not(.input-disabled):hover {\n      box-shadow: 0 0 0 2px cat-token('color.theme.danger.bg');\n    }\n  }\n}\n\n.select-disabled {\n  background: cat-token('color.ui.background.muted');\n  cursor: not-allowed;\n  color: cat-token('color.ui.font.muted');\n  pointer-events: none;\n}\n\n.select-wrapper-inner {\n  display: flex;\n  flex: 1 1 auto;\n  flex-wrap: wrap;\n  align-items: center;\n  gap: 0.25rem;\n  min-width: 0;\n\n  > cat-avatar {\n    display: inline-block;\n    padding-left: 0.5rem;\n\n    & + .select-input {\n      padding-left: 0.25rem;\n    }\n  }\n\n  cat-avatar {\n    --cat-avatar-size: 1.25rem;\n    --cat-avatar-font-size: 0.5rem;\n  }\n}\n\n.select-input {\n  font: inherit;\n  background: none;\n  border: none;\n  outline: none;\n  padding: 0.375rem 0.5rem;\n  flex: 1 1 auto;\n  @include cat-ellipsis;\n\n  .select-disabled & {\n    cursor: inherit;\n  }\n}\n\n.select-pills {\n  display: contents;\n}\n\n.pill {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.25rem 0.5rem;\n  background: cat-token('color.ui.background.muted');\n  border-radius: cat-border-radius('s');\n  white-space: nowrap;\n  min-width: 0;\n\n  > span {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    flex: 1 1 0%;\n  }\n\n  > cat-button {\n    margin-right: -0.25rem;\n    margin-left: -0.25rem;\n  }\n}\n\n.select-btn {\n  transition: transform cat-token('time.transition.s') linear;\n\n  &::part(button) {\n    outline: none;\n  }\n}\n\ncat-spinner {\n  padding: 0.375rem;\n}\n\n.icon-suffix {\n  padding: 0.25rem;\n}\n\n.select-btn-open {\n  transform: rotate(180deg);\n}\n\n.select-dropdown {\n  position: absolute;\n  right: 0;\n  background: cat-token('color.ui.background.surface');\n  display: none;\n  overflow: auto;\n  // -webkit-overflow-scrolling: touch;\n  @include cat-elevation(4);\n  border-radius: cat-border-radius('m');\n  border: 1px solid cat-token('color.ui.border.default');\n  z-index: $cat-dropdown-z-index;\n}\n\n.select-options-wrapper {\n  max-height: 16rem;\n  width: 100%;\n}\n\n.select-empty {\n  margin: $cat-body-margin-bottom 0;\n  padding: 0 1.25rem;\n}\n\n.select-options {\n  list-style-type: none;\n  margin: 0;\n  padding: $cat-body-margin-bottom * 0.5 0;\n\n  cat-checkbox,\n  .select-option-single {\n    margin: 0;\n    padding: 0.5rem 1rem;\n  }\n}\n\n.select-option-inner {\n  display: flex;\n  gap: 0.5rem;\n\n  cat-avatar {\n    --cat-avatar-size: 1.25rem;\n    --cat-avatar-font-size: 0.5rem;\n  }\n}\n\n.select-option-text {\n  flex: 1 1 0%;\n  min-width: 0;\n}\n\n.select-option-single {\n  cursor: pointer;\n}\n\n.select-input-transparent-caret {\n  caret-color: transparent;\n}\n\n.select-option-empty,\n.select-option-loading {\n  padding: 0.5rem 1rem;\n}\n\n.select-option:hover {\n  background-color: cat-token('color.theme.secondary.bg', 0.05);\n}\n\n.select-option-active {\n  outline: 2px solid cat-token('color.ui.border.focus');\n  outline-offset: -2px;\n}\n\n.select-option-label {\n  @include cat-ellipsis(2);\n  @include cat-break-word;\n}\n\n.select-option-description {\n  @include cat-ellipsis(2);\n  color: cat-token('color.ui.font.muted');\n}\n","import { autoUpdate, computePosition, offset, Placement } from '@floating-ui/dom';\nimport { Component, Element, Event, EventEmitter, h, Host, Listen, Method, Prop, State, Watch } from '@stencil/core';\nimport autosizeInput from 'autosize-input';\nimport log from 'loglevel';\nimport {\n  catchError,\n  debounce,\n  distinctUntilChanged,\n  filter,\n  first,\n  Observable,\n  of,\n  scan,\n  startWith,\n  Subject,\n  Subscription,\n  switchMap,\n  takeWhile,\n  tap,\n  timer\n} from 'rxjs';\nimport { coerceBoolean, coerceNumber } from '../../utils/coerce';\nimport { CatFormHint, ErrorMap } from '../cat-form-hint/cat-form-hint';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\nexport interface Item {\n  id: string;\n}\n\nexport interface Page<T> {\n  content: T[];\n  last: boolean;\n  totalElements?: number;\n}\n\nexport interface RenderInfo {\n  label: string;\n  description?: string;\n  avatar?: {\n    src?: string;\n    round?: boolean;\n    initials?: string;\n    icon?: string;\n  };\n}\n\n/**\n * @property customId - Change the ID of item for the given one.\n * @property resolve - Resolves the value of the select.\n * @property retrieve - Retrieves the options of the select.\n * @property render - Renders the items of the select.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport interface CatSelectConnector<T extends Item = any> {\n  customId?: (item: T) => string;\n  resolve: (ids: string[]) => Observable<T[]>;\n  retrieve: (term: string, page: number) => Observable<Page<T>>;\n  render: (item: T) => RenderInfo;\n}\n\nexport interface CatSelectState {\n  term: string;\n  isOpen: boolean;\n  isLoading: boolean;\n  isResolving: boolean;\n  options: { item: Item; render: RenderInfo }[];\n  tempSelection: { item: Item; render: RenderInfo }[];\n  selection: { item: Item; render: RenderInfo }[];\n  activeOptionIndex: number;\n  activeSelectionIndex: number;\n  totalElements?: number;\n}\n\nexport interface CatSelectMultipleTaggingValue {\n  ids: string[];\n  tags: string[];\n}\n\nexport interface CatSelectTaggingValue {\n  id: string;\n  tag: string;\n}\n\nconst INIT_STATE: CatSelectState = {\n  term: '',\n  isOpen: false,\n  isLoading: false,\n  isResolving: false,\n  options: [],\n  selection: [],\n  tempSelection: [],\n  activeOptionIndex: -1,\n  activeSelectionIndex: -1\n};\n\nlet nextUniqueId = 0;\n\n/**\n * Select lets user choose one option from an options' menu. Consider using\n * select when you have 6 or more options. Select component supports any content\n * type.\n *\n * @slot hint - Optional hint element to be displayed with the select.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part label - The label content.\n */\n@Component({\n  tag: 'cat-select',\n  styleUrl: 'cat-select.scss',\n  shadow: true\n})\nexport class CatSelect {\n  private static readonly SKELETON_COUNT = 4;\n  private static readonly DROPDOWN_OFFSET = 4;\n  private readonly _id = `cat-input-${nextUniqueId++}`;\n  private get id() {\n    return this.identifier || this._id;\n  }\n\n  private dropdown?: HTMLElement;\n  private trigger?: HTMLElement;\n  private input?: HTMLInputElement;\n  private errorMapSrc?: ErrorMap;\n\n  private subscription?: Subscription;\n  private term$: Subject<string> = new Subject();\n  private more$: Subject<void> = new Subject();\n  private valueChangedBySelection = false;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() connector?: CatSelectConnector;\n\n  @State() state: CatSelectState = INIT_STATE;\n\n  @State() hasSlottedLabel = false;\n\n  @State() hasSlottedHint = false;\n\n  @State() errorMap?: ErrorMap;\n\n  /**\n   * Whether the label need a marker to shown if the select is required or optional.\n   */\n  @Prop() requiredMarker: 'none' | 'required' | 'optional' | 'none!' | 'optional!' | 'required!' = 'optional';\n\n  /**\n   * Whether the label is on top or left.\n   */\n  @Prop() horizontal = false;\n\n  /**\n   * Enable multiple selection.\n   */\n  @Prop() multiple = false;\n\n  /**\n   * The debounce time for the search.\n   */\n  @Prop() debounce = 250;\n\n  /**\n   * The placement of the select.\n   */\n  @Prop() placement: Placement = 'bottom-start';\n\n  /**\n   * The value of the select. <br />\n   * <br />\n   * The value of the select depends on whether it is allowed to choose a single item or several items. <br />\n   * When only one item can be selected, the value is the id of the item, in case several items can be selected, the value is an array of ids of the selected items. <br />\n   * <br />\n   * In case the user can add new items to the select (tags activated), the value in the single select is an object (CatSelectTaggingValue) with the id of the item or the name of the created item,\n   * in the case of multiple select, it is an object (CatSelectMultipleTaggingValue) with the array of the ids of the items selected and the array of the names of the items created\n   */\n  @Prop({ mutable: true }) value?: string | string[] | CatSelectTaggingValue | CatSelectMultipleTaggingValue;\n\n  /**\n   * Whether the select is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * The placeholder text to display within the select.\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * Optional hint text(s) to be displayed with the select.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label for the select.\n   */\n  @Prop() label = '';\n\n  /**\n   * The name of the form control. Submitted with the form as part of a name/value pair.\n   */\n  @Prop() name?: string;\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A value is required or must be checked for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * Whether the select should show a clear button.\n   */\n  @Prop() clearable = false;\n\n  /**\n   * Whether the select should add new items.\n   */\n  @Prop() tags = false;\n\n  /**\n   * Optional hint text to be displayed on the new item to be added.\n   */\n  @Prop() tagHint?: string;\n\n  /**\n   * The text to display in the dropdown if no results are found.\n   */\n  @Prop() noItems?: string;\n\n  /**\n   * The validation errors for this input. Will render a hint under the input\n   * with the translated error message(s) `error.${key}`. If an object is\n   * passed, the keys will be used as error keys and the values translation\n   * parameters.\n   * If the value is `true`, the input will be marked as invalid without any\n   * hints under the input.\n   */\n  @Prop() errors?: boolean | string[] | ErrorMap;\n\n  /**\n   * Fine-grained control over when the errors are shown. Can be `false` to\n   * never show errors, `true` to show errors on blur, or a number to show\n   * errors on change with the given delay in milliseconds.\n   */\n  @Prop() errorUpdate: boolean | number = 0;\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  @Watch('connector')\n  onConnectorChange(connector: CatSelectConnector) {\n    this.reset(connector);\n    this.resolve();\n  }\n\n  @Watch('value')\n  onValueChange() {\n    !this.valueChangedBySelection ? this.resolve() : (this.valueChangedBySelection = false);\n  }\n\n  @Watch('errors')\n  watchErrorsHandler(value?: boolean | string[] | ErrorMap) {\n    if (!coerceBoolean(this.errorUpdate)) {\n      this.errorMap = undefined;\n    } else {\n      this.errorMapSrc = Array.isArray(value)\n        ? (value as string[]).reduce((acc, err) => ({ ...acc, [err]: undefined }), {})\n        : value === true\n        ? {}\n        : value || undefined;\n      this.showErrorsIfTimeout() || this.showErrorsIfNoFocus();\n    }\n  }\n\n  @Watch('state')\n  onStateChange(newState: CatSelectState, oldState: CatSelectState) {\n    const changed = (key: keyof CatSelectState) => newState[key] !== oldState[key];\n    if (changed('isOpen')) {\n      this.update();\n    }\n    if (changed('activeOptionIndex') && this.state.activeOptionIndex >= 0) {\n      this.dropdown\n        ?.querySelector(`#select-${this.id}-option-${this.state.activeOptionIndex}`)\n        ?.scrollIntoView({ block: 'nearest' });\n    }\n\n    if (changed('selection')) {\n      let newValue;\n      if (!this.multiple && this.state.selection.length) {\n        this.hide();\n      }\n      const idsSelected = this.state.selection.map(item => item.item.id);\n      if (!this.tags) {\n        if (this.multiple) {\n          newValue = idsSelected;\n        } else {\n          newValue = idsSelected.length ? idsSelected[0] : '';\n        }\n      } else {\n        const ids = idsSelected.filter(id => !id.startsWith(`select-${this.id}-tag`));\n        const tags = this.state.selection\n          .filter(item => item.item.id.startsWith(`select-${this.id}-tag`))\n          .map(item => item.render.label);\n        if (this.multiple) {\n          newValue = { ids, tags };\n        } else {\n          newValue = { id: ids.length ? ids[0] : '', tag: tags.length ? tags[0] : '' };\n        }\n      }\n\n      if (!oldState.isResolving) {\n        this.valueChangedBySelection = true;\n        this.value = newValue;\n      }\n      this.catChange.emit();\n      this.showErrorsIfTimeout();\n    }\n  }\n\n  /**\n   * Emitted when the select dropdown is opened.\n   */\n  @Event() catOpen!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the select dropdown is closed.\n   */\n  @Event() catClose!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter<InputEvent>;\n\n  /**\n   * Emitted when the select loses the focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentDidLoad(): void {\n    if (this.input) {\n      autosizeInput(this.input);\n    }\n    if (this.trigger && this.dropdown) {\n      autoUpdate(this.trigger, this.dropdown, () => this.update());\n    }\n  }\n\n  componentWillRender(): void {\n    this.watchErrorsHandler(this.errors);\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n    if (!this.label && !this.hasSlottedLabel) {\n      log.warn('[A11y] Missing ARIA label on select', this);\n    }\n  }\n\n  @Listen('blur')\n  onBlur(event: FocusEvent): void {\n    if (!this.multiple && this.state.activeOptionIndex >= 0) {\n      if (this.tags && this.state.options[this.state.activeOptionIndex].item.id === `select-${this.id}-option-tag`) {\n        this.createTag(this.state.term);\n      } else {\n        this.select(this.state.options[this.state.activeOptionIndex]);\n      }\n    }\n    this.hide();\n    if (!this.multiple && this.state.tempSelection?.length) {\n      this.patchState({\n        activeSelectionIndex: -1,\n        selection: this.state.tempSelection,\n        tempSelection: [],\n        options: [],\n        term: this.state.tempSelection[0].render.label\n      });\n    } else {\n      this.patchState({ activeSelectionIndex: -1 });\n    }\n\n    this.catBlur.emit(event);\n    if (coerceBoolean(this.errorUpdate)) {\n      this.showErrors();\n    }\n  }\n\n  @Listen('keydown')\n  onKeyDown(event: KeyboardEvent): void {\n    const isInputFocused = this.hostElement.shadowRoot?.activeElement === this.input;\n\n    if (['ArrowDown', 'ArrowUp', 'ArrowLeft', 'ArrowRight'].includes(event.key)) {\n      this.onArrowKeyDown(event);\n    } else if (['Enter', ' '].includes(event.key) && isInputFocused) {\n      if (\n        this.tags &&\n        this.state.activeOptionIndex === 0 &&\n        this.state.options[0].item.id === `select-${this.id}-option-tag`\n      ) {\n        event.preventDefault();\n        if (this.multiple) {\n          this.toggleTag(this.state.options[0]);\n        } else {\n          this.createTag(this.state.options[0].render.label);\n        }\n      } else if (this.state.activeOptionIndex >= 0) {\n        event.preventDefault();\n        if (this.multiple) {\n          this.toggle(this.state.options[this.state.activeOptionIndex]);\n        } else {\n          this.select(this.state.options[this.state.activeOptionIndex]);\n        }\n      } else if (this.tags && event.key === 'Enter' && this.state.activeOptionIndex < 0) {\n        this.createTag(this.state.term);\n      }\n    } else if (event.key === 'Escape') {\n      this.hide();\n    } else if (event.key === 'Backspace' || event.key === 'Delete') {\n      this.input?.focus();\n      if (!this.multiple || !this.state.term || (this.input?.selectionStart === 0 && event.key === 'Backspace')) {\n        if (this.state.activeSelectionIndex >= 0) {\n          this.deselect(this.state.selection[this.state.activeSelectionIndex].item.id);\n        } else if (this.state.selection.length) {\n          const selectionClone = [...this.state.selection];\n          selectionClone.pop();\n          this.patchState({\n            selection: selectionClone,\n            tempSelection: this.state.term ? [...this.state.selection] : []\n          });\n        }\n      }\n    } else if (event.key === 'Tab') {\n      this.trigger?.setAttribute('tabindex', '-1');\n      if (this.multiple) {\n        this.patchState({ activeSelectionIndex: -1, activeOptionIndex: -1 });\n      } else if (this.state.activeOptionIndex >= 0) {\n        if (this.tags && this.state.options[this.state.activeOptionIndex].item.id === `select-${this.id}-option-tag`) {\n          this.createTag(this.state.term);\n        } else {\n          this.select(this.state.options[this.state.activeOptionIndex]);\n        }\n      }\n    } else if (event.key.length === 1) {\n      this.input?.focus();\n    }\n  }\n\n  @Listen('keyup')\n  onKeyUp(event: KeyboardEvent): void {\n    if (event.key === 'Tab' && !event.shiftKey) {\n      this.hostElement.shadowRoot?.activeElement === this.trigger && this.input?.focus();\n      if (this.hostElement.shadowRoot?.activeElement === this.input) {\n        this.show();\n      }\n    } else if (event.key === 'Tab' && event.shiftKey) {\n      const clearButton = this.trigger?.querySelector(`#select-clear-btn-${this.id}`);\n\n      if (clearButton) {\n        this.hostElement.shadowRoot?.activeElement === clearButton && this.show();\n      } else {\n        this.show();\n      }\n    }\n  }\n\n  /**\n   * Connect the functions of the select\n   *\n   * @param connector - The {@link CatSelectConnector} of the select.\n   */\n  @Method()\n  async connect(connector: CatSelectConnector): Promise<void> {\n    this.connector = connector;\n    let number$: Observable<number>;\n    this.subscription?.unsubscribe();\n    this.subscription = this.term$\n      .asObservable()\n      .pipe(\n        debounce(term => (term ? timer(this.debounce) : of(0))),\n        distinctUntilChanged(),\n        tap(\n          () =>\n            (number$ = this.more$.pipe(\n              filter(() => !this.state.isLoading),\n              scan(n => n + 1, 0),\n              startWith(0)\n            ))\n        ),\n        tap(() => this.patchState({ options: [] })),\n        switchMap(term =>\n          number$.pipe(\n            tap(() => this.patchState({ isLoading: true })),\n            switchMap(number => connector.retrieve(term, number)),\n            tap(page => this.patchState({ isLoading: false, totalElements: page.totalElements })),\n            takeWhile(page => !page.last, true),\n            scan((items, page) => [...items, ...page.content], [] as Item[])\n          )\n        )\n      )\n      .subscribe(items => {\n        const options = this.toSelectItems(connector, items);\n\n        if (\n          this.tags &&\n          this.state.term.trim().length &&\n          !options.find(value1 => value1.render.label.toLowerCase() === this.state.term.toLowerCase())\n        ) {\n          let label;\n          if (this.isTagSelected(this.state.term)) {\n            label = this.state.selection.find(item => item.render.label.toLowerCase() === this.state.term.toLowerCase())\n              ?.render.label;\n          }\n          options.unshift({\n            item: { id: `select-${this.id}-option-tag` },\n            render: { label: label ? label : this.state.term }\n          });\n        }\n        this.patchState({\n          options\n        });\n      });\n  }\n\n  render() {\n    return (\n      <Host>\n        <div\n          class={{\n            'select-field': true,\n            'select-horizontal': this.horizontal\n          }}\n        >\n          <div\n            class={{\n              hidden: this.labelHidden,\n              'label-container': true\n            }}\n          >\n            {(this.hasSlottedLabel || this.label) && (\n              <label htmlFor={this.id}>\n                <span class=\"label-wrapper\" part=\"label\">\n                  {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n                  <div class=\"label-metadata\">\n                    {!this.required && this.requiredMarker.startsWith('optional') && (\n                      <span class=\"label-optional\" aria-hidden=\"true\">\n                        ({i18n.t('input.optional')})\n                      </span>\n                    )}\n                    {this.required && this.requiredMarker.startsWith('required') && (\n                      <span class=\"label-optional\" aria-hidden=\"true\">\n                        ({i18n.t('input.required')})\n                      </span>\n                    )}\n                  </div>\n                </span>\n              </label>\n            )}\n          </div>\n\n          <div class=\"select-container\">\n            <div\n              class={{ 'select-wrapper': true, 'select-disabled': this.disabled, 'select-invalid': this.invalid }}\n              ref={el => (this.trigger = el)}\n              id={this.id}\n              role=\"combobox\"\n              aria-expanded={this.state.isOpen || this.isPillboxActive()}\n              aria-controls={this.isPillboxActive() ? `select-pillbox-${this.id}` : `select-listbox-${this.id}`}\n              aria-required={this.required ? 'true' : false}\n              aria-activedescendant={this.activeDescendant}\n              onClick={e => this.onClick(e)}\n            >\n              <div class=\"select-wrapper-inner\">\n                {this.multiple && this.state.selection.length ? (\n                  <div\n                    id={`select-pillbox-${this.id}`}\n                    role=\"listbox\"\n                    aria-orientation=\"horizontal\"\n                    class=\"select-pills\"\n                  >\n                    {this.state.selection.map((item, i) => (\n                      <span\n                        class={{\n                          pill: true,\n                          'select-no-open': true,\n                          'select-option-active': this.state.activeSelectionIndex === i\n                        }}\n                        role=\"option\"\n                        aria-selected=\"true\"\n                        id={`select-${this.id}-selection-${i}`}\n                      >\n                        {item.render.avatar ? (\n                          <cat-avatar\n                            label={item.render.label}\n                            round={item.render.avatar.round}\n                            src={item.render.avatar.src}\n                            icon={item.render.avatar.icon}\n                            initials={item.render.avatar.initials ?? ''}\n                          ></cat-avatar>\n                        ) : null}\n                        <span>{item.render.label}</span>\n                        {!this.disabled && (\n                          <cat-button\n                            size=\"xs\"\n                            variant=\"text\"\n                            icon=\"$cat:select-clear\"\n                            iconOnly\n                            a11yLabel={i18n.t('select.deselect')}\n                            onClick={() => this.deselect(item.item.id)}\n                            tabIndex={-1}\n                            onCatClick={event => event.stopPropagation()}\n                          ></cat-button>\n                        )}\n                      </span>\n                    ))}\n                  </div>\n                ) : this.state.selection.length && this.state.selection[0].render.avatar ? (\n                  <cat-avatar\n                    label={this.state.selection[0].render.label}\n                    round={this.state.selection[0].render.avatar.round}\n                    src={this.state.selection[0].render.avatar.src}\n                    icon={this.state.selection[0].render.avatar.icon}\n                    initials={this.state.selection[0].render.avatar.initials ?? ''}\n                  ></cat-avatar>\n                ) : null}\n                <input\n                  {...this.nativeAttributes}\n                  class=\"select-input\"\n                  ref={el => (this.input = el)}\n                  aria-controls={this.isPillboxActive() ? `select-pillbox-${this.id}` : `select-listbox-${this.id}`}\n                  aria-activedescendant={this.activeDescendant}\n                  aria-invalid={this.invalid ? 'true' : undefined}\n                  aria-describedby={this.hint?.length ? this.id + '-hint' : undefined}\n                  onInput={this.onInput.bind(this)}\n                  value={!this.multiple ? this.state.term : undefined}\n                  placeholder={this.placeholder}\n                  disabled={this.disabled || this.state.isResolving}\n                ></input>\n              </div>\n              {this.state.isResolving && <cat-spinner></cat-spinner>}\n              {this.invalid && (\n                <cat-icon icon=\"$cat:input-error\" class=\"icon-suffix cat-text-danger\" size=\"l\"></cat-icon>\n              )}\n              {(this.state.selection.length || this.state.term.length) &&\n              !this.disabled &&\n              !this.state.isResolving &&\n              this.clearable ? (\n                <cat-button\n                  id={`select-clear-btn-${this.id}`}\n                  iconOnly\n                  icon=\"$cat:input-close\"\n                  variant=\"text\"\n                  size=\"s\"\n                  a11yLabel={i18n.t('input.clear')}\n                  onCatClick={event => {\n                    event.stopPropagation();\n                    this.clear();\n                  }}\n                ></cat-button>\n              ) : null}\n              {!this.state.isResolving && (\n                <cat-button\n                  iconOnly\n                  icon=\"$cat:select-open\"\n                  class={{ 'select-btn': true, 'select-btn-open': this.state.isOpen }}\n                  variant=\"text\"\n                  size=\"s\"\n                  a11yLabel={this.state.isOpen ? i18n.t('select.close') : i18n.t('select.open')}\n                  aria-controls={`select-listbox-${this.id}`}\n                  aria-expanded={this.state.isOpen}\n                  tabIndex={-1}\n                  disabled={this.disabled || this.state.isResolving}\n                  onCatClick={event => event.stopPropagation()}\n                ></cat-button>\n              )}\n            </div>\n            {(this.hint || this.hasSlottedHint || !!Object.keys(this.errorMap || {}).length) && (\n              <CatFormHint\n                id={this.id}\n                hint={this.hint}\n                slottedHint={this.hasSlottedHint && <slot name=\"hint\"></slot>}\n                errorMap={this.errorMap}\n              />\n            )}\n          </div>\n        </div>\n\n        <div\n          class=\"select-dropdown\"\n          ref={el => (this.dropdown = el)}\n          style={{ display: this.state.isOpen ? 'block' : undefined }}\n        >\n          {this.state.isOpen && (\n            <cat-scrollable\n              class=\"select-options-wrapper\"\n              scrolledBuffer={56}\n              noOverflowX\n              noOverscroll\n              noScrolledInit\n              onScrolledBottom={() => this.more$.next()}\n            >\n              <ul\n                class=\"select-options\"\n                role=\"listbox\"\n                aria-multiselectable={this.multiple}\n                aria-setsize={this.state.totalElements}\n                id={`select-listbox-${this.id}`}\n              >\n                {this.optionsList}\n                {this.state.isLoading\n                  ? Array.from(Array(CatSelect.SKELETON_COUNT)).map(() => (\n                      <li class=\"select-option-loading\">\n                        <cat-skeleton variant=\"body\" lines={1}></cat-skeleton>\n                        <cat-skeleton variant=\"body\" lines={1}></cat-skeleton>\n                      </li>\n                    ))\n                  : !this.state.options.length &&\n                    !this.tags && (\n                      <li class=\"select-option-empty\">{this.noItems ? this.noItems : i18n.t('select.empty')}</li>\n                    )}\n              </ul>\n            </cat-scrollable>\n          )}\n        </div>\n      </Host>\n    );\n  }\n\n  private get invalid() {\n    return !!this.errorMap;\n  }\n\n  private get optionsList() {\n    return this.state.options.map((item, i) => {\n      const isTagOption = this.tags && item.item.id === `select-${this.id}-option-tag`;\n\n      const isOptionSelected = this.isSelected(item.item.id) || (this.tags && this.isTagSelected(item.render.label));\n\n      const getLabel = () => {\n        if (isTagOption) {\n          return item.render.label + this.tagTextHelp;\n        }\n        return item.render.label;\n      };\n\n      return (\n        <li\n          role=\"option\"\n          class=\"select-option\"\n          id={`select-${this.id}-option-${i}`}\n          aria-selected={isOptionSelected ? 'true' : 'false'}\n        >\n          {this.multiple ? (\n            <cat-checkbox\n              class={{ 'select-option-active': this.state.activeOptionIndex === i }}\n              checked={isOptionSelected}\n              tabIndex={-1}\n              labelLeft\n              onFocus={() => this.input?.focus()}\n              onCatChange={e => {\n                !isTagOption ? this.toggle(item) : this.toggleTag(item);\n                e.stopPropagation();\n              }}\n            >\n              <span slot=\"label\" class=\"select-option-inner\">\n                {item.render.avatar ? (\n                  <cat-avatar\n                    label={item.render.label}\n                    round={item.render.avatar.round}\n                    src={item.render.avatar.src}\n                    icon={item.render.avatar.icon}\n                    initials={item.render.avatar.initials ?? ''}\n                  ></cat-avatar>\n                ) : null}\n                <span class=\"select-option-text\">\n                  <span class=\"select-option-label\">{getLabel()}</span>\n                  <span class=\"select-option-description\">{item.render.description}</span>\n                </span>\n              </span>\n            </cat-checkbox>\n          ) : (\n            <div\n              class={{\n                'select-option-inner': true,\n                'select-option-single': true,\n                'select-option-active': this.state.activeOptionIndex === i\n              }}\n              onFocus={() => this.input?.focus()}\n              onClick={() => (isTagOption ? this.createTag(item.render.label) : this.select(item))}\n              tabIndex={-1}\n            >\n              {item.render.avatar ? (\n                <cat-avatar\n                  label={item.render.label}\n                  round={item.render.avatar.round}\n                  src={item.render.avatar.src}\n                  icon={item.render.avatar.icon}\n                  initials={item.render.avatar.initials ?? ''}\n                ></cat-avatar>\n              ) : null}\n              <span class=\"select-option-text\">\n                <span class=\"select-option-label\">{getLabel()}</span>\n                <span class=\"select-option-description\">{item.render.description}</span>\n              </span>\n            </div>\n          )}\n        </li>\n      );\n    });\n  }\n\n  private resolve() {\n    const connector = this.connector;\n    if (!connector) {\n      return;\n    }\n    this.patchState({ isResolving: true });\n\n    const ids = this.initIds();\n    let tags: string[];\n\n    if (this.tags) {\n      tags = this.initTags();\n    }\n\n    const data$ = ids.length ? connector.resolve(ids).pipe(first()) : of([]);\n    data$.pipe(catchError(() => of([]))).subscribe(items => {\n      const selection = this.toSelectItems(connector, items);\n      if (this.tags) {\n        tags\n          .filter(tag => !this.isTagSelected(tag, selection))\n          .forEach((tag, index) => {\n            const item = { id: `select-${this.id}-tag-${index}`, name: tag };\n            selection.push({ item, render: { label: item.name } });\n          });\n      }\n      this.patchState({\n        isResolving: false,\n        selection,\n        term: !this.multiple && selection.length ? selection[0].render.label : ''\n      });\n    });\n  }\n\n  private toSelectItems(connector: CatSelectConnector, items: Item[]) {\n    return items.map(item => ({\n      item: { ...item, id: connector.customId ? connector.customId(item) : item.id },\n      render: connector.render(item)\n    }));\n  }\n\n  private show() {\n    if (!this.state.isOpen) {\n      this.patchState({ isOpen: true });\n      this.catOpen.emit();\n      this.term$.next('');\n      this.input?.classList.remove('select-input-transparent-caret');\n    }\n  }\n\n  private hide() {\n    if (this.state.isOpen) {\n      this.patchState({ isOpen: false, activeOptionIndex: -1 });\n      this.catClose.emit();\n    }\n  }\n\n  private search(term: string) {\n    this.patchState({ term, activeOptionIndex: -1, activeSelectionIndex: -1 });\n    this.term$.next(term);\n  }\n\n  private isSelected(id: string) {\n    return this.state.selection.findIndex(s => s.item.id === id) >= 0;\n  }\n\n  private select(item: { item: Item; render: RenderInfo }) {\n    if (!this.isSelected(item.item.id)) {\n      let newSelection;\n      if (this.multiple) {\n        newSelection = [...this.state.selection, item];\n      } else {\n        newSelection = [item];\n        this.search(item.render.label);\n      }\n      this.patchState({ selection: newSelection });\n\n      if (this.multiple && this.state.term.trim() && this.input) {\n        this.patchState({ term: '', activeOptionIndex: -1 });\n        this.term$.next('');\n        this.input.value = '';\n      }\n    }\n    this.setTransparentCaret();\n  }\n\n  private deselect(id: string) {\n    if (this.isSelected(id)) {\n      this.patchState({\n        selection: this.state.selection.filter(item => item.item.id !== id),\n        activeSelectionIndex: -1\n      });\n    }\n  }\n\n  private toggle(item: { item: Item; render: RenderInfo }) {\n    this.isSelected(item.item.id)\n      ? this.deselect(item.item.id)\n      : this.tags && this.isTagSelected(item.render.label)\n      ? this.removeTag(item.render.label)\n      : this.select(item);\n  }\n\n  private clear() {\n    if (this.input && this.state.term) {\n      this.patchState({ selection: [], options: [], term: '', activeOptionIndex: -1, tempSelection: [] });\n      this.term$.next('');\n      this.input.value = '';\n    } else {\n      this.patchState({ selection: [], tempSelection: [] });\n    }\n  }\n\n  private reset(connector?: CatSelectConnector) {\n    this.connector = connector ?? this.connector;\n    this.subscription?.unsubscribe();\n    this.subscription = undefined;\n    this.state = INIT_STATE;\n  }\n\n  private onClick(event: MouseEvent) {\n    if (this.disabled) {\n      return;\n    }\n    const elem = event.target as Element;\n    this.trigger?.setAttribute('tabindex', '0');\n    this.input?.focus();\n    if (\n      elem === this.trigger ||\n      elem === this.input ||\n      elem.classList.contains('select-btn') ||\n      elem.nodeName === 'SPAN'\n    ) {\n      this.state.isOpen ? this.hide() : this.show();\n    }\n  }\n\n  private onInput() {\n    this.search(this.input?.value.trim() || '');\n    if (!this.multiple) {\n      if (this.state.selection.length) {\n        const selectionClone = [...this.state.selection];\n        selectionClone.pop();\n        this.patchState({ selection: selectionClone, tempSelection: [...this.state.selection] });\n      }\n\n      if (!this.input?.value.trim()) {\n        this.patchState({ tempSelection: [] });\n      }\n    }\n    this.show();\n  }\n\n  private update() {\n    if (this.trigger && this.dropdown) {\n      computePosition(this.trigger, this.dropdown, {\n        placement: this.placement,\n        middleware: [offset(CatSelect.DROPDOWN_OFFSET)]\n      }).then(({ x, y }) => {\n        if (this.dropdown) {\n          Object.assign(this.dropdown.style, {\n            left: `${x}px`,\n            top: `${y}px`\n          });\n        }\n      });\n    }\n  }\n\n  private patchState(update: Partial<CatSelectState>) {\n    this.state = { ...this.state, ...update };\n  }\n\n  private isPillboxActive() {\n    return this.state.activeSelectionIndex >= 0;\n  }\n\n  private get activeDescendant() {\n    let activeDescendant = undefined;\n    if (this.state.activeOptionIndex >= 0) {\n      activeDescendant = `select-${this.id}-option-${this.state.activeOptionIndex}`;\n    } else if (this.state.activeSelectionIndex >= 0) {\n      activeDescendant = `select-${this.id}-selection-${this.state.activeSelectionIndex}`;\n    }\n    return activeDescendant;\n  }\n\n  private onArrowKeyDown(event: KeyboardEvent) {\n    let preventDefault = false;\n    this.input?.focus();\n\n    switch (event.key) {\n      case 'ArrowDown':\n        preventDefault = true;\n        this.state.isOpen\n          ? this.patchState({\n              activeOptionIndex: Math.min(this.state.activeOptionIndex + 1, this.state.options.length - 1),\n              activeSelectionIndex: -1\n            })\n          : this.show();\n        break;\n      case 'ArrowUp':\n        preventDefault = true;\n        this.state.activeOptionIndex >= 0\n          ? this.patchState({\n              activeOptionIndex: Math.max(this.state.activeOptionIndex - 1, -1),\n              activeSelectionIndex: -1\n            })\n          : this.hide();\n        break;\n      case 'ArrowLeft':\n        if (this.input?.selectionStart === 0) {\n          preventDefault = true;\n          let index;\n          this.state.activeSelectionIndex > 0\n            ? (index = Math.max(this.state.activeSelectionIndex - 1, -1))\n            : (index = this.state.selection.length - 1);\n          this.patchState({ activeSelectionIndex: index, activeOptionIndex: -1 });\n        }\n        break;\n      case 'ArrowRight':\n        if (this.state.activeSelectionIndex >= 0) {\n          preventDefault = true;\n          let index = -1;\n          if (this.state.activeSelectionIndex < this.state.selection.length - 1) {\n            index = Math.min(this.state.activeSelectionIndex + 1, this.state.selection.length - 1);\n          } else if (!this.state.term) {\n            index = 0;\n          }\n          this.patchState({ activeSelectionIndex: index, activeOptionIndex: -1 });\n        }\n    }\n\n    if (preventDefault) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n\n  private get tagTextHelp() {\n    return this.tagHint && !this.isTagSelected(this.state.term) ? ' (' + this.tagHint + ')' : '';\n  }\n\n  private isTagSelected(term: string, selection: { item: Item; render: RenderInfo }[] = this.state.selection) {\n    return selection.findIndex(item => item.render.label.toLowerCase() === term.toLowerCase()) >= 0;\n  }\n\n  private createTag(term: string) {\n    if (term.trim().length && !this.isTagSelected(term)) {\n      const value = this.value as CatSelectMultipleTaggingValue;\n      const tags = value?.tags;\n      const tag = { id: `select-${this.id}-tag-${tags ? tags.length : 0}`, name: term };\n      this.select({ item: tag, render: { label: tag.name } });\n    }\n    this.setTransparentCaret();\n  }\n\n  private removeTag(label: string) {\n    if (this.isTagSelected(label)) {\n      const item = this.state.selection.find(item => item.render.label.toLowerCase() === label.toLowerCase());\n      item && this.deselect(item.item.id);\n    }\n  }\n\n  private toggleTag(item: { item: Item; render: RenderInfo }) {\n    this.isTagSelected(item.render.label) ? this.removeTag(item.render.label) : this.createTag(item.render.label);\n  }\n\n  private initIds() {\n    let ids: string[] = [];\n    if (this.value) {\n      if (!this.tags) {\n        if (this.multiple) {\n          ids = this.value as string[];\n        } else {\n          ids = [this.value as string];\n        }\n      } else {\n        if (this.multiple) {\n          const value = this.value as CatSelectMultipleTaggingValue;\n          ids = value.ids ? value.ids : [];\n        } else {\n          const value = this.value as CatSelectTaggingValue;\n          ids = value.id ? [value.id] : [];\n        }\n      }\n    }\n    return ids;\n  }\n\n  private initTags() {\n    let tags: string[] = [];\n    if (this.value) {\n      if (this.multiple) {\n        const value = this.value as CatSelectMultipleTaggingValue;\n        tags = value.tags ? value.tags : [];\n      } else {\n        const value = this.value as CatSelectTaggingValue;\n        tags = value.tag ? [value.tag] : [];\n      }\n    }\n    return tags;\n  }\n\n  private setTransparentCaret() {\n    if (!this.multiple) {\n      this.hide();\n      this.input?.classList.add('select-input-transparent-caret');\n    }\n  }\n\n  private showErrors() {\n    this.errorMap = this.errorMapSrc;\n  }\n\n  private errorUpdateTimeoutId?: number;\n  private showErrorsIfTimeout() {\n    const errorUpdate = coerceNumber(this.errorUpdate, null);\n    if (errorUpdate !== null) {\n      typeof this.errorUpdateTimeoutId === 'number' && window.clearTimeout(this.errorUpdateTimeoutId);\n      this.errorUpdateTimeoutId = window.setTimeout(() => this.showErrors(), errorUpdate);\n      return true;\n    }\n    return false;\n  }\n\n  private showErrorsIfNoFocus() {\n    const hasFocus = document.activeElement === this.hostElement || document.activeElement === this.input;\n    if (!hasFocus) {\n      this.showErrors();\n    }\n  }\n}\n","import { Component, h, Host } from '@stencil/core';\nimport { of, delay } from 'rxjs';\n\ninterface User {\n  id: string;\n  firstName: string;\n  lastName: string;\n  desc: string;\n}\n\ninterface Country {\n  id: string;\n  country: string;\n  capital?: string;\n}\n\n@Component({\n  tag: 'cat-select-demo',\n  shadow: true\n})\nexport class CatSelectTest {\n  private multipleSelect?: HTMLCatSelectElement;\n  private multipleSelectAvatar?: HTMLCatSelectElement;\n  private multipleSelectAvatarInitials?: HTMLCatSelectElement;\n  private multipleSelectTagging?: HTMLCatSelectElement;\n  private singleSelect?: HTMLCatSelectElement;\n  private singleSelectAvatar?: HTMLCatSelectElement;\n  private singleSelectAvatarInitials?: HTMLCatSelectElement;\n  private singleSelectTagging?: HTMLCatSelectElement;\n\n  componentDidLoad(): void {\n    this.multipleSelect?.connect({\n      resolve: (ids: string[]) => {\n        return of(\n          ids.map(id => ({\n            id,\n            firstName: 'John',\n            lastName: `Doe (${id})`,\n            desc: 'resolved'\n          }))\n        ).pipe(delay(500));\n      },\n      retrieve: (term: string, page: number) => {\n        return term === 'no'\n          ? of({ last: true, content: [], totalElements: 0 })\n          : of({\n              last: false,\n              totalElements: 10000,\n              content: Array.from({ length: 10 }, (_, i) => ({\n                id: '' + (i + page * 10),\n                firstName: 'John',\n                lastName: `Doe (${i + page * 10})`,\n                desc: `\"${term}\": page ${page}`\n              }))\n            }).pipe(delay(500));\n      },\n      render: (user: User) => ({\n        label: `${user.firstName} ${user.lastName}`,\n        description: user.desc\n      })\n    });\n    this.multipleSelectAvatar?.connect({\n      resolve: (ids: string[]) => {\n        return of(\n          ids.map(id => ({\n            id,\n            firstName: 'John',\n            lastName: `Doe (${id})`,\n            desc: 'resolved'\n          }))\n        ).pipe(delay(500));\n      },\n      retrieve: (term: string, page: number) => {\n        return term === 'no'\n          ? of({ last: true, content: [], totalElements: 0 })\n          : of({\n              last: false,\n              totalElements: 10000,\n              content: Array.from({ length: 10 }, (_, i) => ({\n                id: '' + (i + page * 10),\n                firstName: 'John',\n                lastName: `Doe (${i + page * 10})`,\n                desc: `\"${term}\": page ${page}`\n              }))\n            }).pipe(delay(500));\n      },\n      render: (user: User) => ({\n        label: `${user.firstName} ${user.lastName}`,\n        description: user.desc,\n        avatar: {\n          src: `https://picsum.photos/id/${Math.floor(Math.random() * 100)}/200`,\n          round: true\n        }\n      })\n    });\n    this.multipleSelectAvatarInitials?.connect({\n      resolve: (ids: string[]) => {\n        return of(\n          ids.map(id => ({\n            id,\n            firstName: 'John',\n            lastName: `Doe (${id})`,\n            desc: 'resolved'\n          }))\n        ).pipe(delay(500));\n      },\n      retrieve: (term: string, page: number) => {\n        return term === 'no'\n          ? of({ last: true, content: [], totalElements: 0 })\n          : of({\n              last: false,\n              totalElements: 10000,\n              content: Array.from({ length: 10 }, (_, i) => ({\n                id: '' + (i + page * 10),\n                firstName: 'John',\n                lastName: `Doe (${i + page * 10})`,\n                desc: `\"${term}\": page ${page}`\n              }))\n            }).pipe(delay(500));\n      },\n      render: (user: User) => ({\n        label: `${user.firstName} ${user.lastName}`,\n        description: user.desc,\n        avatar: {\n          round: true,\n          initials: `JD`\n        }\n      })\n    });\n    this.multipleSelectTagging?.connect(this.countryConnector);\n    this.singleSelect?.connect({\n      resolve: (ids: string[]) => {\n        return of(\n          ids.map(id => ({\n            id,\n            firstName: 'John',\n            lastName: `Doe (${id})`,\n            desc: 'resolved'\n          }))\n        ).pipe(delay(500));\n      },\n      retrieve: (term: string, page: number) => {\n        return term === 'no'\n          ? of({ last: true, content: [], totalElements: 0 })\n          : of({\n              last: false,\n              totalElements: 10000,\n              content: Array.from({ length: 10 }, (_, i) => ({\n                id: '' + (i + page * 10),\n                firstName: 'John',\n                lastName: `Doe (${i + page * 10})`,\n                desc: `\"${term}\": page ${page}`\n              }))\n            }).pipe(delay(500));\n      },\n      render: (user: User) => ({\n        label: `${user.firstName} ${user.lastName}`,\n        description: user.desc\n      })\n    });\n    this.singleSelectAvatar?.connect(this.countryConnector);\n    this.singleSelectAvatarInitials?.connect({\n      ...this.countryConnector,\n      render: (country: Country) => ({\n        label: country.country,\n        description: country.capital || 'No capital',\n        avatar: {\n          round: true,\n          initials: `${country.country.charAt(0)?.toUpperCase() ?? 'J'}${\n            country.capital?.charAt(0)?.toUpperCase() ?? 'D'\n          }`\n        }\n      })\n    });\n    this.singleSelectTagging?.connect(this.countryConnector);\n    setTimeout(() => this.multipleSelect && (this.multipleSelect.value = []), 5000);\n  }\n\n  render() {\n    return (\n      <Host style={{ display: 'flex', flexDirection: 'column' }}>\n        <cat-select\n          label=\"Multiple Select\"\n          hint=\"This is a hint!\"\n          ref={el => (this.multipleSelect = el)}\n          value={['1']}\n          placeholder=\"Hello World\"\n          onCatChange={() => console.log('Multiple change', this.multipleSelect?.value)}\n          onCatBlur={e => console.log('Multiple blur', e)}\n          multiple\n          noItems=\"No results\"\n          clearable\n          errorUpdate={false}\n        >\n          <span slot=\"hint\">Searching for \"no\" -{'>'} no options are returned!</span>\n        </cat-select>\n        <cat-select\n          label=\"Multiple with img\"\n          ref={el => (this.multipleSelectAvatar = el)}\n          value={['1']}\n          placeholder=\"Hello World\"\n          multiple\n          clearable\n          errorUpdate={false}\n        ></cat-select>\n        <cat-select\n          label=\"Multiple with initials\"\n          ref={el => (this.multipleSelectAvatarInitials = el)}\n          value={['1']}\n          placeholder=\"Hello World\"\n          multiple\n          clearable\n          errorUpdate={false}\n        ></cat-select>\n        <cat-select\n          label=\"Multiple with tagging support\"\n          hint=\"This is a hint!\"\n          ref={el => (this.multipleSelectTagging = el)}\n          value={{ ids: ['1'], tags: ['Test', 'Albania', 'Algeria'] }}\n          placeholder=\"Select country\"\n          onCatChange={() => console.log('Multiple tagging change', this.multipleSelectTagging?.value)}\n          multiple\n          tags\n          clearable\n          errorUpdate={false}\n        ></cat-select>\n        <cat-select\n          label=\"Single Select\"\n          hint=\"This is a hint!\"\n          ref={el => (this.singleSelect = el)}\n          placeholder=\"Search for a country or capital\"\n          onCatBlur={e => console.log('Single blur', e)}\n          clearable\n          errorUpdate={false}\n        ></cat-select>\n        <cat-select\n          label=\"Single with img\"\n          ref={el => (this.singleSelectAvatar = el)}\n          value={'1'}\n          placeholder=\"Search for a country or capital\"\n          clearable\n          errorUpdate={false}\n        ></cat-select>\n        <cat-select\n          label=\"Single with initials\"\n          ref={el => (this.singleSelectAvatarInitials = el)}\n          placeholder=\"Hello World\"\n          clearable\n          errorUpdate={false}\n        ></cat-select>\n        <cat-dropdown overflow noAutoClose>\n          <cat-button slot=\"trigger\" style={{ width: '50%' }}>\n            Open select\n          </cat-button>\n          <div slot=\"content\" style={{ width: '400px' }}>\n            <cat-select\n              label=\"Single with tagging support\"\n              ref={el => (this.singleSelectTagging = el)}\n              value={{ id: '', tag: 'Albania' }}\n              placeholder=\"Search for a country or capital\"\n              onCatChange={() => console.log('Single change', this.singleSelectTagging?.value)}\n              tagHint=\"new country\"\n              tags\n              clearable\n              errorUpdate={false}\n              style={{ width: '90%' }}\n            ></cat-select>\n          </div>\n        </cat-dropdown>\n      </Host>\n    );\n  }\n\n  private get countryConnector() {\n    return {\n      resolve: (ids: string[]) => {\n        return of(ids.map(id => countries.find(value => value.id === id))).pipe(delay(500));\n      },\n      retrieve: (term: string, page: number) => {\n        const filter = countries.filter(\n          value =>\n            value.country.toLowerCase().indexOf(term.toLowerCase()) === 0 ||\n            value.capital?.toLowerCase().indexOf(term.toLowerCase()) === 0\n        );\n        const slice = filter.slice(page * 10, page * 10 + 10);\n        return of({\n          last: slice.length < 10,\n          totalElements: filter.length,\n          content: slice\n        }).pipe(delay(500));\n      },\n      render: (country: Country) => ({\n        label: country.country,\n        description: country.capital || 'No capital',\n        avatar: {\n          src: `https://picsum.photos/id/${Math.floor(Math.random() * 100)}/200`,\n          round: true\n        }\n      })\n    };\n  }\n}\n\nconst countries: Country[] = [\n  {\n    id: '0',\n    country:\n      'Afghanistan Extra extra large extra large extra large extra large extra large extra large extra large extra large extra large extra large extra large extra large extra large extra large ',\n    capital: 'Kabul'\n  },\n  {\n    id: '1',\n    country: 'Albania',\n    capital: 'Tirana'\n  },\n  {\n    id: '2',\n    country: 'Algeria',\n    capital: 'Alger'\n  },\n  {\n    id: '3',\n    country: 'American Samoa',\n    capital: 'Fagatogo'\n  },\n  {\n    id: '4',\n    country: 'Andorra',\n    capital: 'Andorra la Vella'\n  },\n  {\n    id: '5',\n    country: 'Angola',\n    capital: 'Luanda'\n  },\n  {\n    id: '6',\n    country: 'Anguilla',\n    capital: 'The Valley'\n  },\n  {\n    id: '7',\n    country: 'Antarctica'\n  },\n  {\n    id: '8',\n    country: 'Antigua and Barbuda',\n    capital: \"Saint John's\"\n  },\n  {\n    id: '9',\n    country: 'Argentina',\n    capital: 'Buenos Aires'\n  },\n  {\n    id: '10',\n    country: 'Armenia',\n    capital: 'Yerevan'\n  },\n  {\n    id: '11',\n    country: 'Aruba',\n    capital: 'Oranjestad'\n  },\n  {\n    id: '12',\n    country: 'Australia',\n    capital: 'Canberra'\n  },\n  {\n    id: '13',\n    country: 'Austria',\n    capital: 'Wien'\n  },\n  {\n    id: '14',\n    country: 'Azerbaijan',\n    capital: 'Baku'\n  },\n  {\n    id: '15',\n    country: 'Bahamas',\n    capital: 'Nassau'\n  },\n  {\n    id: '16',\n    country: 'Bahrain',\n    capital: 'al-Manama'\n  },\n  {\n    id: '17',\n    country: 'Bangladesh',\n    capital: 'Dhaka'\n  },\n  {\n    id: '18',\n    country: 'Barbados',\n    capital: 'Bridgetown'\n  },\n  {\n    id: '19',\n    country: 'Belarus',\n    capital: 'Minsk'\n  },\n  {\n    id: '20',\n    country: 'Belgium',\n    capital: 'Bruxelles [Brussel]'\n  },\n  {\n    id: '21',\n    country: 'Belize',\n    capital: 'Belmopan'\n  },\n  {\n    id: '22',\n    country: 'Benin',\n    capital: 'Porto-Novo'\n  },\n  {\n    id: '23',\n    country: 'Bermuda',\n    capital: 'Hamilton'\n  },\n  {\n    id: '24',\n    country: 'Bhutan',\n    capital: 'Thimphu'\n  },\n  {\n    id: '25',\n    country: 'Bolivia',\n    capital: 'La Paz'\n  },\n  {\n    id: '26',\n    country: 'Bosnia and Herzegovina',\n    capital: 'Sarajevo'\n  },\n  {\n    id: '27',\n    country: 'Botswana',\n    capital: 'Gaborone'\n  },\n  {\n    id: '28',\n    country: 'Bouvet Island'\n  },\n  {\n    id: '29',\n    country: 'Brazil',\n    capital: 'BrasÃ­lia'\n  },\n  {\n    id: '30',\n    country: 'British Indian Ocean Territory'\n  },\n  {\n    id: '31',\n    country: 'Brunei',\n    capital: 'Bandar Seri Begawan'\n  },\n  {\n    id: '32',\n    country: 'Bulgaria',\n    capital: 'Sofia'\n  },\n  {\n    id: '33',\n    country: 'Burkina Faso',\n    capital: 'Ouagadougou'\n  },\n  {\n    id: '34',\n    country: 'Burundi',\n    capital: 'Bujumbura'\n  },\n  {\n    id: '35',\n    country: 'Cambodia',\n    capital: 'Phnom Penh'\n  },\n  {\n    id: '36',\n    country: 'Cameroon',\n    capital: 'Yaound'\n  },\n  {\n    id: '37',\n    country: 'Canada',\n    capital: 'Ottawa'\n  },\n  {\n    id: '38',\n    country: 'Cape Verde',\n    capital: 'Praia'\n  },\n  {\n    id: '39',\n    country: 'Cayman Islands',\n    capital: 'George Town'\n  },\n  {\n    id: '40',\n    country: 'Central African Republic',\n    capital: 'Bangui'\n  },\n  {\n    id: '41',\n    country: 'Chad',\n    capital: \"N'Djam\"\n  },\n  {\n    id: '42',\n    country: 'Chile',\n    capital: 'Santiago de Chile'\n  },\n  {\n    id: '43',\n    country: 'China',\n    capital: 'Peking'\n  },\n  {\n    id: '44',\n    country: 'Christmas Island',\n    capital: 'Flying Fish Cove'\n  },\n  {\n    id: '45',\n    country: 'Cocos (Keeling) Islands',\n    capital: 'West Island'\n  },\n  {\n    id: '46',\n    country: 'Colombia',\n    capital: 'Santaf'\n  },\n  {\n    id: '47',\n    country: 'Comoros',\n    capital: 'Moroni'\n  },\n  {\n    id: '48',\n    country: 'Congo',\n    capital: 'Brazzaville'\n  },\n  {\n    id: '49',\n    country: 'Cook Islands',\n    capital: 'Avarua'\n  },\n  {\n    id: '50',\n    country: 'Costa Rica',\n    capital: 'San JosÃ©'\n  },\n  {\n    id: '51',\n    country: 'Croatia',\n    capital: 'Zagreb'\n  },\n  {\n    id: '52',\n    country: 'Cuba',\n    capital: 'La Habana'\n  },\n  {\n    id: '53',\n    country: 'Cyprus',\n    capital: 'Nicosia'\n  },\n  {\n    id: '54',\n    country: 'Czech Republic',\n    capital: 'Praha'\n  },\n  {\n    id: '55',\n    country: 'Denmark',\n    capital: 'Copenhagen'\n  },\n  {\n    id: '56',\n    country: 'Djibouti',\n    capital: 'Djibouti'\n  },\n  {\n    id: '57',\n    country: 'Dominica',\n    capital: 'Roseau'\n  },\n  {\n    id: '58',\n    country: 'Dominican Republic',\n    capital: 'Santo Domingo de Guzm'\n  },\n  {\n    id: '59',\n    country: 'East Timor',\n    capital: 'Dili'\n  },\n  {\n    id: '60',\n    country: 'Ecuador',\n    capital: 'Quito'\n  },\n  {\n    id: '61',\n    country: 'Egypt',\n    capital: 'Cairo'\n  },\n  {\n    id: '62',\n    country: 'El Salvador',\n    capital: 'San Salvador'\n  },\n  {\n    id: '63',\n    country: 'England',\n    capital: 'London'\n  },\n  {\n    id: '64',\n    country: 'Equatorial Guinea',\n    capital: 'Malabo'\n  },\n  {\n    id: '65',\n    country: 'Eritrea',\n    capital: 'Asmara'\n  },\n  {\n    id: '66',\n    country: 'Estonia',\n    capital: 'Tallinn'\n  },\n  {\n    id: '67',\n    country: 'Ethiopia',\n    capital: 'Addis Abeba'\n  },\n  {\n    id: '68',\n    country: 'Falkland Islands',\n    capital: 'Stanley'\n  },\n  {\n    id: '69',\n    country: 'Faroe Islands',\n    capital: 'TÃ³rshavn'\n  },\n  {\n    id: '70',\n    country: 'Fiji Islands',\n    capital: 'Suva'\n  },\n  {\n    id: '71',\n    country: 'Finland',\n    capital: 'Helsinki [Helsingfors]'\n  },\n  {\n    id: '72',\n    country: 'France',\n    capital: 'Paris'\n  },\n  {\n    id: '73',\n    country: 'French Guiana',\n    capital: 'Cayenne'\n  },\n  {\n    id: '74',\n    country: 'French Polynesia',\n    capital: 'Papeete'\n  },\n  {\n    id: '75',\n    country: 'French Southern territories'\n  },\n  {\n    id: '76',\n    country: 'Gabon',\n    capital: 'Libreville'\n  },\n  {\n    id: '77',\n    country: 'Gambia',\n    capital: 'Banjul'\n  },\n  {\n    id: '78',\n    country: 'Georgia',\n    capital: 'Tbilisi'\n  },\n  {\n    id: '79',\n    country: 'Germany',\n    capital: 'Berlin'\n  },\n  {\n    id: '80',\n    country: 'Ghana',\n    capital: 'Accra'\n  },\n  {\n    id: '81',\n    country: 'Gibraltar',\n    capital: 'Gibraltar'\n  },\n  {\n    id: '82',\n    country: 'Greece',\n    capital: 'Athenai'\n  },\n  {\n    id: '83',\n    country: 'Greenland',\n    capital: 'Nuuk'\n  },\n  {\n    id: '84',\n    country: 'Grenada',\n    capital: \"Saint George's\"\n  },\n  {\n    id: '85',\n    country: 'Guadeloupe',\n    capital: 'Basse-Terre'\n  },\n  {\n    id: '86',\n    country: 'Guam',\n    capital: 'Aga'\n  },\n  {\n    id: '87',\n    country: 'Guatemala',\n    capital: 'Ciudad de Guatemala'\n  },\n  {\n    id: '88',\n    country: 'Guinea',\n    capital: 'Conakry'\n  },\n  {\n    id: '89',\n    country: 'Guinea-Bissau',\n    capital: 'Bissau'\n  },\n  {\n    id: '90',\n    country: 'Guyana',\n    capital: 'Georgetown'\n  },\n  {\n    id: '91',\n    country: 'Haiti',\n    capital: 'Port-au-Prince'\n  },\n  {\n    id: '92',\n    country: 'Heard Island and McDonald Islands'\n  },\n  {\n    id: '93',\n    country: 'Holy See (Vatican City State)',\n    capital: 'Citt'\n  },\n  {\n    id: '94',\n    country: 'Honduras',\n    capital: 'Tegucigalpa'\n  },\n  {\n    id: '95',\n    country: 'Hong Kong',\n    capital: 'Victoria'\n  },\n  {\n    id: '96',\n    country: 'Hungary',\n    capital: 'Budapest'\n  },\n  {\n    id: '97',\n    country: 'Iceland',\n    capital: 'ReykjavÃ­k'\n  },\n  {\n    id: '98',\n    country: 'India',\n    capital: 'New Delhi'\n  },\n  {\n    id: '99',\n    country: 'Indonesia',\n    capital: 'Jakarta'\n  },\n  {\n    id: '100',\n    country: 'Iran',\n    capital: 'Tehran'\n  },\n  {\n    id: '101',\n    country: 'Iraq',\n    capital: 'Baghdad'\n  },\n  {\n    id: '102',\n    country: 'Ireland',\n    capital: 'Dublin'\n  },\n  {\n    id: '103',\n    country: 'Israel',\n    capital: 'Jerusalem'\n  },\n  {\n    id: '104',\n    country: 'Italy',\n    capital: 'Roma'\n  },\n  {\n    id: '105',\n    country: 'Ivory Coast',\n    capital: 'Yamoussoukro'\n  },\n  {\n    id: '106',\n    country: 'Jamaica',\n    capital: 'Kingston'\n  },\n  {\n    id: '107',\n    country: 'Japan',\n    capital: 'Tokyo'\n  },\n  {\n    id: '108',\n    country: 'Jordan',\n    capital: 'Amman'\n  },\n  {\n    id: '109',\n    country: 'Kazakhstan',\n    capital: 'Astana'\n  },\n  {\n    id: '110',\n    country: 'Kenya',\n    capital: 'Nairobi'\n  },\n  {\n    id: '111',\n    country: 'Kiribati',\n    capital: 'Bairiki'\n  },\n  {\n    id: '112',\n    country: 'Kuwait',\n    capital: 'Kuwait'\n  },\n  {\n    id: '113',\n    country: 'Kyrgyzstan',\n    capital: 'Bishkek'\n  },\n  {\n    id: '114',\n    country: 'Laos',\n    capital: 'Vientiane'\n  },\n  {\n    id: '115',\n    country: 'Latvia',\n    capital: 'Riga'\n  },\n  {\n    id: '116',\n    country: 'Lebanon',\n    capital: 'Beirut'\n  },\n  {\n    id: '117',\n    country: 'Lesotho',\n    capital: 'Maseru'\n  },\n  {\n    id: '118',\n    country: 'Liberia',\n    capital: 'Monrovia'\n  },\n  {\n    id: '119',\n    country: 'Libyan Arab Jamahiriya',\n    capital: 'Tripoli'\n  },\n  {\n    id: '120',\n    country: 'Liechtenstein',\n    capital: 'Vaduz'\n  },\n  {\n    id: '121',\n    country: 'Lithuania',\n    capital: 'Vilnius'\n  },\n  {\n    id: '122',\n    country: 'Luxembourg',\n    capital: 'Luxembourg [Luxemburg/L'\n  },\n  {\n    id: '123',\n    country: 'Macao',\n    capital: 'Macao'\n  },\n  {\n    id: '124',\n    country: 'North Macedonia',\n    capital: 'Skopje'\n  },\n  {\n    id: '125',\n    country: 'Madagascar',\n    capital: 'Antananarivo'\n  },\n  {\n    id: '126',\n    country: 'Malawi',\n    capital: 'Lilongwe'\n  },\n  {\n    id: '127',\n    country: 'Malaysia',\n    capital: 'Kuala Lumpur'\n  },\n  {\n    id: '128',\n    country: 'Maldives',\n    capital: 'Male'\n  },\n  {\n    id: '129',\n    country: 'Mali',\n    capital: 'Bamako'\n  },\n  {\n    id: '130',\n    country: 'Malta',\n    capital: 'Valletta'\n  },\n  {\n    id: '131',\n    country: 'Marshall Islands',\n    capital: 'Dalap-Uliga-Darrit'\n  },\n  {\n    id: '132',\n    country: 'Martinique',\n    capital: 'Fort-de-France'\n  },\n  {\n    id: '133',\n    country: 'Mauritania',\n    capital: 'Nouakchott'\n  },\n  {\n    id: '134',\n    country: 'Mauritius',\n    capital: 'Port-Louis'\n  },\n  {\n    id: '135',\n    country: 'Mayotte',\n    capital: 'Mamoutzou'\n  },\n  {\n    id: '136',\n    country: 'Mexico',\n    capital: 'Ciudad de M'\n  },\n  {\n    id: '137',\n    country: 'Micronesia, Federated States of',\n    capital: 'Palikir'\n  },\n  {\n    id: '138',\n    country: 'Moldova',\n    capital: 'Chisinau'\n  },\n  {\n    id: '139',\n    country: 'Monaco',\n    capital: 'Monaco-Ville'\n  },\n  {\n    id: '140',\n    country: 'Mongolia',\n    capital: 'Ulan Bator'\n  },\n  {\n    id: '141',\n    country: 'Montenegro',\n    capital: 'Podgorica'\n  },\n  {\n    id: '142',\n    country: 'Montserrat',\n    capital: 'Plymouth'\n  },\n  {\n    id: '143',\n    country: 'Morocco',\n    capital: 'Rabat'\n  },\n  {\n    id: '144',\n    country: 'Mozambique',\n    capital: 'Maputo'\n  },\n  {\n    id: '145',\n    country: 'Myanmar',\n    capital: 'Rangoon (Yangon)'\n  },\n  {\n    id: '146',\n    country: 'Namibia',\n    capital: 'Windhoek'\n  },\n  {\n    id: '147',\n    country: 'Nauru',\n    capital: 'Yaren'\n  },\n  {\n    id: '148',\n    country: 'Nepal',\n    capital: 'Kathmandu'\n  },\n  {\n    id: '149',\n    country: 'Netherlands',\n    capital: 'Amsterdam'\n  },\n  {\n    id: '150',\n    country: 'Netherlands Antilles',\n    capital: 'Willemstad'\n  },\n  {\n    id: '151',\n    country: 'New Caledonia',\n    capital: 'Noum'\n  },\n  {\n    id: '152',\n    country: 'New Zealand',\n    capital: 'Wellington'\n  },\n  {\n    id: '153',\n    country: 'Nicaragua',\n    capital: 'Managua'\n  },\n  {\n    id: '154',\n    country: 'Niger',\n    capital: 'Niamey'\n  },\n  {\n    id: '155',\n    country: 'Nigeria',\n    capital: 'Abuja'\n  },\n  {\n    id: '156',\n    country: 'Niue',\n    capital: 'Alofi'\n  },\n  {\n    id: '157',\n    country: 'Norfolk Island',\n    capital: 'Kingston'\n  },\n  {\n    id: '158',\n    country: 'North Korea',\n    capital: 'Pyongyang'\n  },\n  {\n    id: '159',\n    country: 'Northern Ireland',\n    capital: 'Belfast'\n  },\n  {\n    id: '160',\n    country: 'Northern Mariana Islands',\n    capital: 'Garapan'\n  },\n  {\n    id: '161',\n    country: 'Norway',\n    capital: 'Oslo'\n  },\n  {\n    id: '162',\n    country: 'Oman',\n    capital: 'Masqat'\n  },\n  {\n    id: '163',\n    country: 'Pakistan',\n    capital: 'Islamabad'\n  },\n  {\n    id: '164',\n    country: 'Palau',\n    capital: 'Koror'\n  },\n  {\n    id: '165',\n    country: 'Palestine',\n    capital: 'Gaza'\n  },\n  {\n    id: '166',\n    country: 'Panama',\n    capital: 'Ciudad de PanamÃ¡'\n  },\n  {\n    id: '167',\n    country: 'Papua New Guinea',\n    capital: 'Port Moresby'\n  },\n  {\n    id: '168',\n    country: 'Paraguay',\n    capital: 'AsunciÃ³n'\n  },\n  {\n    id: '169',\n    country: 'Peru',\n    capital: 'Lima'\n  },\n  {\n    id: '170',\n    country: 'Philippines',\n    capital: 'Manila'\n  },\n  {\n    id: '171',\n    country: 'Pitcairn',\n    capital: 'Adamstown'\n  },\n  {\n    id: '172',\n    country: 'Poland',\n    capital: 'Warszawa'\n  },\n  {\n    id: '173',\n    country: 'Portugal',\n    capital: 'Lisboa'\n  },\n  {\n    id: '174',\n    country: 'Puerto Rico',\n    capital: 'San Juan'\n  },\n  {\n    id: '175',\n    country: 'Qatar',\n    capital: 'Doha'\n  },\n  {\n    id: '176',\n    country: 'Reunion',\n    capital: 'Saint-Denis'\n  },\n  {\n    id: '177',\n    country: 'Romania',\n    capital: 'Bucuresti'\n  },\n  {\n    id: '178',\n    country: 'Russian Federation',\n    capital: 'Moscow'\n  },\n  {\n    id: '179',\n    country: 'Rwanda',\n    capital: 'Kigali'\n  },\n  {\n    id: '180',\n    country: 'Saint Helena',\n    capital: 'Jamestown'\n  },\n  {\n    id: '181',\n    country: 'Saint Kitts and Nevis',\n    capital: 'Basseterre'\n  },\n  {\n    id: '182',\n    country: 'Saint Lucia',\n    capital: 'Castries'\n  },\n  {\n    id: '183',\n    country: 'Saint Pierre and Miquelon',\n    capital: 'Saint-Pierre'\n  },\n  {\n    id: '184',\n    country: 'Saint Vincent and the Grenadines',\n    capital: 'Kingstown'\n  },\n  {\n    id: '185',\n    country: 'Samoa',\n    capital: 'Apia'\n  },\n  {\n    id: '186',\n    country: 'San Marino',\n    capital: 'San Marino'\n  },\n  {\n    id: '187',\n    country: 'Sao Tome and Principe',\n    capital: 'SÃ£o TomÃ©'\n  },\n  {\n    id: '188',\n    country: 'Saudi Arabia',\n    capital: 'Riyadh'\n  },\n  {\n    id: '189',\n    country: 'Scotland',\n    capital: 'Edinburgh'\n  },\n  {\n    id: '190',\n    country: 'Senegal',\n    capital: 'Dakar'\n  },\n  {\n    id: '191',\n    country: 'Serbia',\n    capital: 'Belgrade'\n  },\n  {\n    id: '192',\n    country: 'Seychelles',\n    capital: 'Victoria'\n  },\n  {\n    id: '193',\n    country: 'Sierra Leone',\n    capital: 'Freetown'\n  },\n  {\n    id: '194',\n    country: 'Singapore',\n    capital: 'Singapore'\n  },\n  {\n    id: '195',\n    country: 'Slovakia',\n    capital: 'Bratislava'\n  },\n  {\n    id: '196',\n    country: 'Slovenia',\n    capital: 'Ljubljana'\n  },\n  {\n    id: '197',\n    country: 'Solomon Islands',\n    capital: 'Honiara'\n  },\n  {\n    id: '198',\n    country: 'Somalia',\n    capital: 'Mogadishu'\n  },\n  {\n    id: '199',\n    country: 'South Africa',\n    capital: 'Pretoria'\n  },\n  {\n    id: '200',\n    country: 'South Georgia and the South Sandwich Islands'\n  },\n  {\n    id: '201',\n    country: 'South Korea',\n    capital: 'Seoul'\n  },\n  {\n    id: '202',\n    country: 'South Sudan',\n    capital: 'Juba'\n  },\n  {\n    id: '203',\n    country: 'Spain',\n    capital: 'Madrid'\n  },\n  {\n    id: '204',\n    country: 'Sri Lanka',\n    capital: 'Colombo, Sri Jayawardenepura Kotte'\n  },\n  {\n    id: '205',\n    country: 'Sudan',\n    capital: 'Khartum'\n  },\n  {\n    id: '206',\n    country: 'Suriname',\n    capital: 'Paramaribo'\n  },\n  {\n    id: '207',\n    country: 'Svalbard and Jan Mayen',\n    capital: 'Longyearbyen'\n  },\n  {\n    id: '208',\n    country: 'Swaziland',\n    capital: 'Mbabane'\n  },\n  {\n    id: '209',\n    country: 'Sweden',\n    capital: 'Stockholm'\n  },\n  {\n    id: '210',\n    country: 'Switzerland',\n    capital: 'Bern'\n  },\n  {\n    id: '211',\n    country: 'Syria',\n    capital: 'Damascus'\n  },\n  {\n    id: '212',\n    country: 'Tajikistan',\n    capital: 'Dushanbe'\n  },\n  {\n    id: '213',\n    country: 'Tanzania',\n    capital: 'Dodoma'\n  },\n  {\n    id: '214',\n    country: 'Thailand',\n    capital: 'Bangkok'\n  },\n  {\n    id: '215',\n    country: 'The Democratic Republic of Congo',\n    capital: 'Kinshasa'\n  },\n  {\n    id: '216',\n    country: 'Togo',\n    capital: 'LomÃ©'\n  },\n  {\n    id: '217',\n    country: 'Tokelau',\n    capital: 'Fakaofo'\n  },\n  {\n    id: '218',\n    country: 'Tonga',\n    capital: \"Nuku'alofa\"\n  },\n  {\n    id: '219',\n    country: 'Trinidad and Tobago',\n    capital: 'Port-of-Spain'\n  },\n  {\n    id: '220',\n    country: 'Tunisia',\n    capital: 'Tunis'\n  },\n  {\n    id: '221',\n    country: 'Turkey',\n    capital: 'Ankara'\n  },\n  {\n    id: '222',\n    country: 'Turkmenistan',\n    capital: 'Ashgabat'\n  },\n  {\n    id: '223',\n    country: 'Turks and Caicos Islands',\n    capital: 'Cockburn Town'\n  },\n  {\n    id: '224',\n    country: 'Tuvalu',\n    capital: 'Funafuti'\n  },\n  {\n    id: '225',\n    country: 'Uganda',\n    capital: 'Kampala'\n  },\n  {\n    id: '226',\n    country: 'Ukraine',\n    capital: 'Kyiv'\n  },\n  {\n    id: '227',\n    country: 'United Arab Emirates',\n    capital: 'Abu Dhabi'\n  },\n  {\n    id: '228',\n    country: 'United Kingdom',\n    capital: 'London'\n  },\n  {\n    id: '229',\n    country: 'United States',\n    capital: 'Washington'\n  },\n  {\n    id: '230',\n    country: 'United States Minor Outlying Islands'\n  },\n  {\n    id: '231',\n    country: 'Uruguay',\n    capital: 'Montevideo'\n  },\n  {\n    id: '232',\n    country: 'Uzbekistan',\n    capital: 'Toskent'\n  },\n  {\n    id: '233',\n    country: 'Vanuatu',\n    capital: 'Port-Vila'\n  },\n  {\n    id: '234',\n    country: 'Venezuela',\n    capital: 'Caracas'\n  },\n  {\n    id: '235',\n    country: 'Vietnam',\n    capital: 'Hanoi'\n  },\n  {\n    id: '236',\n    country: 'Virgin Islands, British',\n    capital: 'Road Town'\n  },\n  {\n    id: '237',\n    country: 'Virgin Islands, U.S.',\n    capital: 'Charlotte Amalie'\n  },\n  {\n    id: '238',\n    country: 'Wales',\n    capital: 'Cardiff'\n  },\n  {\n    id: '239',\n    country: 'Wallis and Futuna',\n    capital: 'Mata-Utu'\n  },\n  {\n    id: '240',\n    country: 'Western Sahara',\n    capital: 'El-Aai'\n  },\n  {\n    id: '241',\n    country: 'Yemen',\n    capital: 'Sanaa'\n  },\n  {\n    id: '242',\n    country: 'Zambia',\n    capital: 'Lusaka'\n  },\n  {\n    id: '243',\n    country: 'Zimbabwe',\n    capital: 'Harare'\n  }\n];\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n$skeleton-sizes: (\n  'xl': 3.5rem,\n  'l': 3rem,\n  'm': 2.5rem,\n  's': 2rem,\n  'xs': 1.5rem\n);\n\n:host {\n  /**\n   * @prop --background: The background color of the skeleton.\n   * @prop --highlight: The highlight color of the skeleton.\n   * @prop --speed: The animation speed.\n   */\n  display: flex;\n  flex-direction: column;\n  position: relative;\n\n  --background: #{cat-token('color.ui.background.skeleton')};\n  --highlight: #{cat-token('color.ui.background.skeletonHighlight')};\n  --speed: 2s;\n}\n\n:host([variant='square']),\n:host([variant='circle']) {\n  display: inline-flex;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n:host([variant='head']) {\n  margin-bottom: $cat-head-margin-bottom;\n}\n\n:host([variant='body']) {\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n.skeleton {\n  display: block;\n  border-radius: cat-border-radius('m');\n  background: var(--background);\n}\n\n.skeleton-circle {\n  border-radius: 10rem;\n}\n\n// ----- size\n\n@mixin size($size, $lvl) {\n  $-text-offset: 4px;\n  .skeleton-#{$size} {\n    &.skeleton-rectangle {\n      width: var(--width, 100%);\n      height: var(--height, map.get($skeleton-sizes, $size));\n    }\n\n    &.skeleton-square,\n    &.skeleton-circle {\n      width: var(--width, map.get($skeleton-sizes, $size));\n      height: var(--height, map.get($skeleton-sizes, $size));\n    }\n\n    &.skeleton-head,\n    &.skeleton-body {\n      width: var(--width, var(--line-width, 100%));\n    }\n\n    &.skeleton-head {\n      height: calc(#{cat-head-font-size($lvl)} - #{$-text-offset});\n      margin: calc((#{cat-head-line-height($lvl)} - #{cat-head-font-size($lvl)} + #{$-text-offset}) * 0.5) 0;\n    }\n\n    &.skeleton-body {\n      height: calc(#{cat-body-font-size($size)} - #{$-text-offset});\n      margin: calc((#{cat-body-line-height($size)} - #{cat-body-font-size($size)} + #{$-text-offset}) * 0.5) 0;\n    }\n  }\n}\n\n@include size('xs', 5);\n@include size('s', 4);\n@include size('m', 3);\n@include size('l', 2);\n@include size('xl', 1);\n\n// ----- animation\n\n.skeleton-sheen {\n  background: linear-gradient(90deg, var(--background) 33%, var(--highlight) 50%, var(--background) 66%)\n    var(--background);\n  background-size: 300% 100%;\n  animation: sheen var(--speed) ease-in-out infinite;\n}\n\n.skeleton-pulse {\n  position: relative;\n  overflow: hidden;\n\n  &::before {\n    content: '';\n    display: block;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-color: var(--highlight);\n    animation: var(--speed) ease-in-out 0.5s infinite normal none running pulse;\n    opacity: 0;\n  }\n}\n\n@keyframes sheen {\n  0% {\n    background-position: right;\n  }\n}\n\n@keyframes pulse {\n  50% {\n    opacity: 1;\n  }\n}\n","import { Component, Host, h, Prop } from '@stencil/core';\n\n/**\n * Skeletons are used to show where content will eventually be drawn.\n */\n@Component({\n  tag: 'cat-skeleton',\n  styleUrl: 'cat-skeleton.scss',\n  shadow: true\n})\nexport class CatSkeleton {\n  /**\n   * The animation style of the skeleton.\n   */\n  @Prop() effect: 'plain' | 'sheen' | 'pulse' = 'sheen';\n\n  /**\n   * The rendering style of the skeleton.\n   */\n  @Prop() variant: 'rectangle' | 'square' | 'circle' | 'head' | 'body' = 'rectangle';\n\n  /**\n   * The size of the skeleton. If the variant is set to \"head\", the size values\n   * \"xs\" to \"xl\" translate to the head levels `h1` to `h5`.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' = 'm';\n\n  /**\n   * The number of text lines to be rendered for \"head\" and \"body\" variants.\n   * Defaults to 1 for \"head\" and 3 for \"body\". Will be ignored for other\n   * variants.\n   */\n  @Prop() lines?: number;\n\n  render() {\n    return (\n      <Host>\n        {Array.from(Array(this.count)).map(() => (\n          <div\n            style={this.style}\n            class={{\n              skeleton: true,\n              [`skeleton-${this.effect}`]: Boolean(this.effect),\n              [`skeleton-${this.variant}`]: Boolean(this.variant),\n              [`skeleton-${this.size}`]: Boolean(this.size)\n            }}\n          ></div>\n        ))}\n      </Host>\n    );\n  }\n\n  private get count() {\n    switch (this.variant) {\n      case 'head':\n        return Math.max(1, this.lines || 1);\n      case 'body':\n        return Math.max(1, this.lines || 3);\n      default:\n        return 1;\n    }\n  }\n\n  private get style() {\n    return this.variant === 'head' || this.variant === 'body'\n      ? {\n          '--line-width': `${this.random(50, 100)}%`\n        }\n      : undefined;\n  }\n\n  private random(min: number, max: number) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n$spinner-sizes: (\n  'xl': 1.75rem,\n  'l': 1.5rem,\n  'm': 1.25rem,\n  's': 1rem,\n  'xs': 0.75rem\n);\n\n:host {\n  display: inline-flex;\n  vertical-align: middle;\n  @include cat-select(none);\n\n  &[hidden] {\n    display: none;\n  }\n}\n\nspan {\n  display: inline-flex;\n}\n\nsvg {\n  fill: none;\n  stroke: currentColor;\n  stroke-dasharray: 135px;\n  stroke-dashoffset: 95px;\n  stroke-linecap: round;\n  stroke-width: 5px;\n  transform-origin: center center;\n  animation: spin 0.75s cubic-bezier(0.4, 0.15, 0.6, 0.85) infinite;\n  width: 1em;\n  height: 1em;\n}\n\n// ----- sizes\n\n@mixin size($size) {\n  .spinner-#{$size} svg {\n    font-size: map.get($spinner-sizes, $size);\n  }\n}\n\n@include size('xs');\n@include size('s');\n@include size('m');\n@include size('l');\n@include size('xl');\n\n// ----- animation\n\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n}\n","import { Component, h, Prop } from '@stencil/core';\n\n/**\n * Spinners are used to indicate users that their action is being processed.\n */\n@Component({\n  tag: 'cat-spinner',\n  styleUrl: 'cat-spinner.scss',\n  shadow: true\n})\nexport class CatSpinner {\n  /**\n   * The size of the spinner.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' | 'inline' = 'm';\n\n  /**\n   * Adds accessible label for the spinner that is only shown for screen\n   * readers. The `aria-hidden` attribute will be set if no label is present.\n   */\n  @Prop({ attribute: 'a11y-label' }) a11yLabel?: string;\n\n  render() {\n    return (\n      <span\n        aria-label={this.a11yLabel}\n        aria-hidden={this.a11yLabel ? null : 'true'}\n        class={{\n          [`spinner-${this.size}`]: this.size !== 'inline'\n        }}\n      >\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\">\n          <circle cx=\"24\" cy=\"24\" r=\"21.5\"></circle>\n        </svg>\n      </span>\n    );\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n:host {\n  display: block;\n}\n\n:host([hidden]) {\n  display: none;\n}\n","import { Component, h, Prop, Event, EventEmitter, Listen, Host, Element } from '@stencil/core';\nimport { Breakpoint } from '../../utils/breakpoints';\n\nlet nextUniqueId = 0;\n\n/**\n * A single tab inside a tabs component.\n */\n@Component({\n  tag: 'cat-tab',\n  styleUrl: 'cat-tab.scss',\n  shadow: true\n})\nexport class CatTab {\n  @Element() hostElement!: HTMLElement;\n\n  /**\n   * The label of the tab.\n   */\n  @Prop({ reflect: true }) label = '';\n\n  /**\n   * The name of an icon to be displayed in the tab.\n   */\n  @Prop({ reflect: true }) icon?: string;\n\n  /**\n   * Hide the actual button content and only display the tab.\n   */\n  @Prop({ reflect: true }) iconOnly: boolean | Breakpoint = false;\n\n  /**\n   * Display the icon on the right.\n   */\n  @Prop({ reflect: true }) iconRight = false;\n\n  /**\n   * A destination to link to, rendered in the href attribute of a link.\n   */\n  @Prop({ reflect: true }) url?: string;\n\n  /**\n   * Specifies where to open the linked document.\n   */\n  @Prop({ reflect: true }) urlTarget?: '_blank' | '_self';\n\n  /**\n   * Specifies that the tab should be deactivated.\n   */\n  @Prop({ reflect: true }) deactivated = false;\n\n  /**\n   * Emitted when tab is clicked.\n   */\n  @Event() tabClick!: EventEmitter<MouseEvent>;\n\n  connectedCallback() {\n    if (!this.hostElement.id) {\n      this.hostElement.id = `cat-tab-${nextUniqueId++}`;\n    }\n  }\n\n  @Listen('click')\n  onClick(event: MouseEvent) {\n    this.tabClick.emit(event);\n  }\n\n  render() {\n    return <Host></Host>;\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n:host {\n  display: flex;\n  flex-direction: row;\n  box-shadow: inset 0 -1px 0 0 cat-token('color.ui.border.dark');\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n:host([tabs-align='center']) {\n  justify-content: center;\n}\n\n:host([tabs-align='right']) {\n  justify-content: end;\n}\n\n:host([tabs-align='justify']) {\n  cat-button {\n    flex: 1 0 auto;\n  }\n}\n\n.cat-tab {\n  padding: 0.5rem 0;\n\n  &.cat-tab-active {\n    box-shadow: inset 0 -3px 0 0 cat-token('color.theme.primary.bg');\n  }\n}\n","import { Component, h, Element, State, Watch, Listen, Host, Prop } from '@stencil/core';\n\n/**\n * Tabs are used to display multiple panels to be contained within a single\n * window, using tabs as a navigational element.\n *\n * @part tab - The header of the tab.\n */\n@Component({\n  tag: 'cat-tabs',\n  styleUrl: 'cat-tabs.scss',\n  shadow: true\n})\nexport class CatTabs {\n  private buttons: HTMLCatButtonElement[] = [];\n  private mutationObserver?: MutationObserver;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() tabs: HTMLCatTabElement[] = [];\n\n  @State() activeTabId?: string;\n\n  /**\n   * The ID of the active tab.\n   */\n  @Prop() activeTab = '';\n\n  /**\n   * The alignment of the tabs.\n   */\n  @Prop() tabsAlign: 'left' | 'center' | 'right' | 'justify' = 'left';\n\n  @Watch('activeTabId')\n  onActiveTabChanged(newActiveTab: string): void {\n    const activeTab = this.tabs.find(value => value.id === newActiveTab);\n    activeTab?.click();\n  }\n\n  componentWillLoad(): void {\n    this.syncTabs();\n    if (this.tabs.length) {\n      this.activeTabId = this.activeTab;\n    }\n  }\n\n  componentDidLoad() {\n    this.mutationObserver = new MutationObserver(\n      mutations => mutations.some(value => value.target.nodeName === 'CAT-TAB') && this.syncTabs()\n    );\n\n    this.mutationObserver?.observe(this.hostElement, {\n      childList: true,\n      attributes: true,\n      subtree: true\n    });\n  }\n\n  disconnectedCallback() {\n    this.mutationObserver?.disconnect();\n  }\n\n  @Listen('keydown')\n  onKeydown(event: KeyboardEvent): void {\n    if (['ArrowDown', 'ArrowUp', 'ArrowRight', 'ArrowLeft'].includes(event.key)) {\n      const targetElements = this.buttons.filter(button => !button.disabled);\n      const activeElement = this.hostElement.shadowRoot?.activeElement as HTMLCatButtonElement;\n      const activeIdx = activeElement ? targetElements.indexOf(activeElement) : -1;\n      const activeOff = ['ArrowDown', 'ArrowRight'].includes(event.key) ? 1 : -1;\n      const targetIdx = activeIdx < 0 ? 0 : (activeIdx + activeOff + targetElements.length) % targetElements.length;\n      targetElements[targetIdx].doFocus();\n      event.preventDefault();\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        {this.tabs.map((tab: HTMLCatTabElement) => {\n          return (\n            <cat-button\n              ref={el => el && this.updateButtonsRef(el)}\n              buttonId={tab.id}\n              role=\"tab\"\n              part=\"tab\"\n              class={{\n                'cat-tab': true,\n                'cat-tab-active': Boolean(this.activeTabId && tab.id === this.activeTabId)\n              }}\n              active={Boolean(this.activeTabId && tab.id === this.activeTabId)}\n              color={this.activeTabId && tab.id === this.activeTabId ? 'primary' : 'secondary'}\n              variant=\"text\"\n              icon={tab.icon}\n              iconOnly={tab.iconOnly}\n              iconRight={tab.iconRight}\n              url={tab.url}\n              disabled={tab.deactivated}\n              urlTarget={tab.urlTarget}\n              onCatClick={() => (this.activeTabId = tab.id)}\n            >\n              {tab.label}\n            </cat-button>\n          );\n        })}\n      </Host>\n    );\n  }\n\n  private updateButtonsRef(button: HTMLCatButtonElement) {\n    const indexOf = this.buttons.indexOf(button);\n\n    if (indexOf >= 0) {\n      this.buttons[indexOf] = button;\n    } else {\n      this.buttons.push(button);\n    }\n  }\n\n  private syncTabs() {\n    this.tabs = Array.from(this.hostElement.querySelectorAll('cat-tab'));\n  }\n}\n","var e=new Map;function t(t){var o=e.get(t);o&&o.destroy()}function o(t){var o=e.get(t);o&&o.update()}var r=null;\"undefined\"==typeof window?((r=function(e){return e}).destroy=function(e){return e},r.update=function(e){return e}):((r=function(t,o){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return function(t){if(t&&t.nodeName&&\"TEXTAREA\"===t.nodeName&&!e.has(t)){var o,r=null,n=window.getComputedStyle(t),i=(o=t.value,function(){a({testForHeightReduction:\"\"===o||!t.value.startsWith(o),restoreTextAlign:null}),o=t.value}),l=function(o){t.removeEventListener(\"autosize:destroy\",l),t.removeEventListener(\"autosize:update\",s),t.removeEventListener(\"input\",i),window.removeEventListener(\"resize\",s),Object.keys(o).forEach(function(e){return t.style[e]=o[e]}),e.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,textAlign:t.style.textAlign,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener(\"autosize:destroy\",l),t.addEventListener(\"autosize:update\",s),t.addEventListener(\"input\",i),window.addEventListener(\"resize\",s),t.style.overflowX=\"hidden\",t.style.wordWrap=\"break-word\",e.set(t,{destroy:l,update:s}),s()}function a(e){var o,i,l=e.restoreTextAlign,s=void 0===l?null:l,d=e.testForHeightReduction,u=void 0===d||d,c=n.overflowY;if(0!==t.scrollHeight&&(\"vertical\"===n.resize?t.style.resize=\"none\":\"both\"===n.resize&&(t.style.resize=\"horizontal\"),u&&(o=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push([e.parentNode,e.parentNode.scrollTop]),e=e.parentNode;return function(){return t.forEach(function(e){var t=e[0],o=e[1];t.style.scrollBehavior=\"auto\",t.scrollTop=o,t.style.scrollBehavior=null})}}(t),t.style.height=\"\"),i=\"content-box\"===n.boxSizing?t.scrollHeight-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)):t.scrollHeight+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),\"none\"!==n.maxHeight&&i>parseFloat(n.maxHeight)?(\"hidden\"===n.overflowY&&(t.style.overflow=\"scroll\"),i=parseFloat(n.maxHeight)):\"hidden\"!==n.overflowY&&(t.style.overflow=\"hidden\"),t.style.height=i+\"px\",s&&(t.style.textAlign=s),o&&o(),r!==i&&(t.dispatchEvent(new Event(\"autosize:resized\",{bubbles:!0})),r=i),c!==n.overflow&&!s)){var v=n.textAlign;\"hidden\"===n.overflow&&(t.style.textAlign=\"start\"===v?\"end\":\"start\"),a({restoreTextAlign:v,testForHeightReduction:!0})}}function s(){a({testForHeightReduction:!0,restoreTextAlign:null})}}(t)}),t}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],t),e},r.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e});var n=r;export default n;\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n@use 'utils/color';\n@use '_snippets/form-label';\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  @include cat-body('m');\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.textarea-field,\n.textarea-container {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  flex: 1 1 auto;\n}\n\n.textarea-field.textarea-horizontal {\n  flex-direction: row;\n  gap: 1rem;\n}\n\n.textarea-wrapper {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}\n\n.icon-suffix {\n  position: absolute;\n  top: calc(0.625rem - 2px);\n  right: 0.75rem;\n  background: cat-token('color.ui.background.input', 0.75);\n  border-radius: 100rem;\n\n  .textarea-disabled & {\n    background: cat-token('color.ui.background.muted', 0.75);\n  }\n}\n\ntextarea {\n  margin: 0;\n  padding: 0.625rem 0.75rem;\n  box-sizing: border-box;\n  min-height: form-label.$cat-input-height;\n  font: inherit;\n  background: cat-token('color.ui.background.input');\n  border-radius: cat-border-radius('m');\n  border: none;\n  box-shadow: inset 0 0 0 1px rgb(var(--border-color));\n  transition: box-shadow cat-token('time.transition.s') linear;\n  resize: vertical;\n  --border-color: #{cat-token('color.ui.border.dark', $wrap: false)};\n\n  &:disabled {\n    background: cat-token('color.ui.background.muted');\n    cursor: not-allowed;\n    color: cat-token('color.ui.font.muted');\n    resize: none;\n  }\n\n  &:not(:disabled):hover {\n    box-shadow: inset 0 0 0 1px rgb(var(--border-color)), 0 0 0 1px rgb(var(--border-color));\n  }\n\n  &:focus {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: -1px;\n  }\n\n  .textarea-invalid & {\n    --border-color: #{cat-token('color.theme.danger.bg', 0.2, $wrap: false)};\n  }\n\n  &::placeholder {\n    color: cat-token('color.ui.font.muted');\n  }\n\n  /* stylelint-disable property-no-vendor-prefix */\n  &:-webkit-autofill {\n    &,\n    &:hover,\n    &:focus {\n      -webkit-box-shadow: 0 0 0 9999px cat-token('color.ui.background.inputAutofill') inset;\n    }\n  }\n  /* stylelint-enable property-no-vendor-prefix */\n}\n","import { Component, Element, Event, EventEmitter, h, Host, Method, Prop, State, Watch } from '@stencil/core';\nimport autosize from 'autosize';\nimport log from 'loglevel';\nimport { coerceBoolean, coerceNumber } from '../../utils/coerce';\nimport { CatFormHint, ErrorMap } from '../cat-form-hint/cat-form-hint';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\nlet nextUniqueId = 0;\n\n/**\n * Textarea specifies a control that allows user to write text over multiple\n * rows. Used when the expected user input is long. For shorter input, use the\n * input component.\n *\n * @slot hint - Optional hint element to be displayed with the textarea.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part label - The label content.\n */\n@Component({\n  tag: 'cat-textarea',\n  styleUrl: 'cat-textarea.scss',\n  shadow: true\n})\nexport class CatTextarea {\n  private readonly _id = `cat-textarea-${nextUniqueId++}`;\n  private get id() {\n    return this.identifier || this._id;\n  }\n\n  private textarea!: HTMLTextAreaElement;\n  private errorMapSrc?: ErrorMap;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  @State() hasSlottedHint = false;\n\n  @State() errorMap?: ErrorMap;\n\n  /**\n   * Whether the label need a marker to shown if the textarea is required or optional.\n   */\n  @Prop() requiredMarker: 'none' | 'required' | 'optional' | 'none!' | 'optional!' | 'required!' = 'optional';\n\n  /**\n   * Whether the label is on top or left.\n   */\n  @Prop() horizontal = false;\n\n  /**\n   * Whether the textarea is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Optional hint text(s) to be displayed with the textarea.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label for the textarea.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A maximum length (number of characters) for textual values.\n   */\n  @Prop() maxLength?: number;\n\n  /**\n   * A minimum length (number of characters) for textual values.\n   */\n  @Prop() minLength?: number;\n\n  /**\n   * The name of the form control. Submitted with the form as part of a name/value pair.\n   */\n  @Prop() name?: string;\n\n  /**\n   * The placeholder text to display within the input.\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * The value is not editable.\n   */\n  @Prop() readonly = false;\n\n  /**\n   * A value is required or must be check for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * Specifies the initial number of lines in the textarea.\n   */\n  @Prop() rows = 3;\n\n  /**\n   * The initial value of the control.\n   */\n  @Prop({ mutable: true }) value?: string | number;\n\n  /**\n   * The validation errors for this input. Will render a hint under the input\n   * with the translated error message(s) `error.${key}`. If an object is\n   * passed, the keys will be used as error keys and the values translation\n   * parameters.\n   * If the value is `true`, the input will be marked as invalid without any\n   * hints under the input.\n   */\n  @Prop() errors?: boolean | string[] | ErrorMap;\n\n  /**\n   * Fine-grained control over when the errors are shown. Can be `false` to\n   * never show errors, `true` to show errors on blur, or a number to show\n   * errors on change with the given delay in milliseconds.\n   */\n  @Prop() errorUpdate: boolean | number = 0;\n\n  /**\n   * Attributes that will be added to the native HTML textarea element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter<InputEvent>;\n\n  /**\n   * Emitted when the textarea received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the textarea loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillRender(): void {\n    this.watchErrorsHandler(this.errors);\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n    if (!this.label && !this.hasSlottedLabel) {\n      log.warn('[A11y] Missing ARIA label on textarea', this);\n    }\n  }\n\n  componentDidLoad(): void {\n    autosize(this.textarea);\n  }\n\n  /**\n   * Programmatically move focus to the textarea. Use this method instead of\n   * `textarea.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this.textarea.focus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the textarea. Use this method instead of\n   * `textarea.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.textarea.blur();\n  }\n\n  /**\n   * Programmatically simulate a click on the textarea.\n   */\n  @Method()\n  async doClick(): Promise<void> {\n    this.textarea.click();\n  }\n\n  @Watch('errors')\n  watchErrorsHandler(value?: boolean | string[] | ErrorMap) {\n    if (!coerceBoolean(this.errorUpdate)) {\n      this.errorMap = undefined;\n    } else {\n      this.errorMapSrc = Array.isArray(value)\n        ? (value as string[]).reduce((acc, err) => ({ ...acc, [err]: undefined }), {})\n        : value === true\n        ? {}\n        : value || undefined;\n      this.showErrorsIfTimeout() || this.showErrorsIfNoFocus();\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <div\n          class={{\n            'textarea-field': true,\n            'textarea-horizontal': this.horizontal\n          }}\n        >\n          <div\n            class={{\n              hidden: this.labelHidden,\n              'label-container': true\n            }}\n          >\n            {(this.hasSlottedLabel || this.label) && (\n              <label htmlFor={this.id} class={{ hidden: this.labelHidden }}>\n                <span class=\"label-wrapper\" part=\"label\">\n                  {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n                  <div class=\"label-metadata\">\n                    {!this.required && this.requiredMarker.startsWith('optional') && (\n                      <span class=\"label-optional\" aria-hidden=\"true\">\n                        ({i18n.t('input.optional')})\n                      </span>\n                    )}\n                    {this.required && this.requiredMarker.startsWith('required') && (\n                      <span class=\"label-optional\" aria-hidden=\"true\">\n                        ({i18n.t('input.required')})\n                      </span>\n                    )}\n                    {this.maxLength && (\n                      <div class=\"label-character-count\" aria-hidden=\"true\">\n                        {this.value?.toString().length ?? 0}/{this.maxLength}\n                      </div>\n                    )}\n                  </div>\n                </span>\n              </label>\n            )}\n          </div>\n          <div class=\"textarea-container\">\n            <div\n              class={{\n                'textarea-wrapper': true,\n                'textarea-disabled': this.disabled,\n                'textarea-invalid': this.invalid\n              }}\n            >\n              <textarea\n                {...this.nativeAttributes}\n                ref={el => (this.textarea = el as HTMLTextAreaElement)}\n                id={this.id}\n                disabled={this.disabled}\n                maxlength={this.maxLength}\n                minlength={this.minLength}\n                name={this.name}\n                placeholder={this.placeholder}\n                readonly={this.readonly}\n                required={this.required}\n                rows={this.rows}\n                value={this.value}\n                onInput={this.onInput.bind(this)}\n                onFocus={this.onFocus.bind(this)}\n                onBlur={this.onBlur.bind(this)}\n                aria-invalid={this.invalid ? 'true' : undefined}\n                aria-describedby={this.hint?.length ? this.id + '-hint' : undefined}\n              ></textarea>\n              {this.invalid && (\n                <cat-icon\n                  icon=\"$cat:input-error\"\n                  class=\"icon-suffix cat-text-danger\"\n                  size=\"l\"\n                  onClick={() => this.textarea.focus()}\n                ></cat-icon>\n              )}\n            </div>\n            {(this.hint || this.hasSlottedHint || !!Object.keys(this.errorMap || {}).length) && (\n              <CatFormHint\n                id={this.id}\n                hint={this.hint}\n                slottedHint={this.hasSlottedHint && <slot name=\"hint\"></slot>}\n                errorMap={this.errorMap}\n              />\n            )}\n          </div>\n        </div>\n      </Host>\n    );\n  }\n\n  private get invalid() {\n    return !!this.errorMap;\n  }\n\n  private onInput(event: InputEvent) {\n    this.value = this.textarea.value;\n    this.catChange.emit(event);\n    this.showErrorsIfTimeout();\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n    if (coerceBoolean(this.errorUpdate)) {\n      this.showErrors();\n    }\n  }\n\n  private showErrors() {\n    this.errorMap = this.errorMapSrc;\n  }\n\n  private errorUpdateTimeoutId?: number;\n  private showErrorsIfTimeout() {\n    const errorUpdate = coerceNumber(this.errorUpdate, null);\n    if (errorUpdate !== null) {\n      typeof this.errorUpdateTimeoutId === 'number' && window.clearTimeout(this.errorUpdateTimeoutId);\n      this.errorUpdateTimeoutId = window.setTimeout(() => this.showErrors(), errorUpdate);\n      return true;\n    }\n    return false;\n  }\n\n  private showErrorsIfNoFocus() {\n    const hasFocus = document.activeElement === this.hostElement || document.activeElement === this.textarea;\n    if (!hasFocus) {\n      this.showErrors();\n    }\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n","import { Component, Element, Event, EventEmitter, h, Host, Prop, State } from '@stencil/core';\n// import log from 'loglevel';\nimport { ErrorMap } from '../cat-form-hint/cat-form-hint';\n// import { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\nimport { of } from 'rxjs';\nimport { CatSelectMultipleTaggingValue, CatSelectState, CatSelectTaggingValue, Item } from '../cat-select/cat-select';\nimport { Placement } from '@floating-ui/dom';\n// import IMask from 'imask';\n\ninterface Time extends Item {\n  hour: number;\n  minutes: number;\n}\n\n/**\n * Inputs are used to allow users to provide text input when the expected input\n * is short. As well as plain text, Input supports various types of text,\n * including passwords and numbers.\n *\n * @slot hint - Optional hint element to be displayed with the input.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part label - The label content.\n * @part prefix - The text prefix.\n * @part suffix - The text suffix.\n */\n@Component({\n  tag: 'cat-timepicker',\n  styleUrl: 'cat-timepicker.scss',\n  shadow: true\n})\nexport class CatTimepicker {\n  private timeSelect?: HTMLCatSelectElement;\n  // private timeMask?: IMask.InputMask<IMask.AnyMaskedOptions>;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() state?: CatSelectState;\n\n  @State() hasSlottedLabel = false;\n\n  @State() hasSlottedHint = false;\n\n  @State() errorMap?: ErrorMap;\n\n  /**\n   * Whether the label need a marker to shown if the input is required or optional.\n   */\n  @Prop() requiredMarker: 'none' | 'required' | 'optional' | 'none!' | 'optional!' | 'required!' = 'optional';\n\n  /**\n   * Whether the label is on top or left.\n   */\n  @Prop() horizontal = false;\n\n  /**\n   * Enable multiple selection.\n   */\n  @Prop() multiple = false;\n\n  /**\n   * The placement of the select.\n   */\n  @Prop() placement: Placement = 'bottom-start';\n\n  /**\n   * The value of the select. <br />\n   * <br />\n   * The value of the select depends on whether it is allowed to choose a single item or several items. <br />\n   * When only one item can be selected, the value is the id of the item, in case several items can be selected, the value is an array of ids of the selected items. <br />\n   * <br />\n   * In case the user can add new items to the select (tags activated), the value in the single select is an object (CatSelectTaggingValue) with the id of the item or the name of the created item,\n   * in the case of multiple select, it is an object (CatSelectMultipleTaggingValue) with the array of the ids of the items selected and the array of the names of the items created\n   */\n  @Prop({ mutable: true }) value?: string | string[] | CatSelectTaggingValue | CatSelectMultipleTaggingValue;\n\n  /**\n   * Whether the input is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * The placeholder text to display within the select.\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * Optional hint text(s) to be displayed with the input.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label for the input.\n   */\n  @Prop() label = '';\n\n  /**\n   * The name of the form control. Submitted with the form as part of a name/value pair.\n   */\n  @Prop() name?: string;\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A value is required or must be checked for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * Whether the select should show a clear button.\n   */\n  @Prop() clearable = false;\n\n  /**\n   * A maximum value for date, time and numeric values.\n   */\n  @Prop() max?: string;\n\n  /**\n   * A minimum value for date, time and numeric values.\n   */\n  @Prop() min?: string;\n\n  /**\n   * The text to display in the dropdown if no results are found.\n   */\n  @Prop() noItems?: string;\n\n  /**\n   * The validation errors for this input. Will render a hint under the input\n   * with the translated error message(s) `error.${key}`. If an object is\n   * passed, the keys will be used as error keys and the values translation\n   * parameters.\n   * If the value is `true`, the input will be marked as invalid without any\n   * hints under the input.\n   */\n  @Prop() errors?: boolean | string[] | ErrorMap;\n\n  /**\n   * Fine-grained control over when the errors are shown. Can be `false` to\n   * never show errors, `true` to show errors on blur, or a number to show\n   * errors on change with the given delay in milliseconds.\n   */\n  @Prop() errorUpdate: boolean | number = 0;\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() minutesStep = 30;\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() hourShort = this.isBrowserHour12();\n\n  /**\n   * Emitted when the select dropdown is opened.\n   */\n  @Event() catOpen!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the select dropdown is closed.\n   */\n  @Event() catClose!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter;\n\n  /**\n   * Emitted when the select loses the focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillRender(): void {\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n  }\n\n  componentDidLoad(): void {\n    this.timeSelect?.connect(this.timeConnector);\n\n    // IMask spike\n    // const input = this.hostElement.shadowRoot?.querySelector('cat-select')?.shadowRoot?.querySelector('input');\n    // if (input) {\n    //   this.timeMask = this.getTimeMask(input);\n    // }\n  }\n\n  render() {\n    return (\n      <Host>\n        <cat-select\n          requiredMarker={this.requiredMarker}\n          horizontal={this.horizontal}\n          clearable={this.clearable}\n          disabled={this.disabled}\n          hint={this.hint}\n          identifier={this.identifier}\n          label={this.label}\n          labelHidden={this.labelHidden}\n          name={this.name}\n          multiple={this.multiple}\n          placeholder={this.placeholder}\n          placement={this.placement}\n          required={this.required}\n          noItems={this.noItems}\n          ref={el => (this.timeSelect = el)}\n          value={this.value}\n          errors={this.errors}\n          errorUpdate={this.errorUpdate}\n          nativeAttributes={this.nativeAttributes}\n          onCatChange={event => this.onCatChange(event)}\n          onCatOpen={this.onCatOpen.bind(this)}\n          onCatClose={this.onCatClose.bind(this)}\n          onCatBlur={this.onCatBlur.bind(this)}\n        >\n          {this.hasSlottedLabel && (\n            <span slot=\"label\">\n              <slot name=\"label\"></slot>\n            </span>\n          )}\n          {this.hasSlottedHint && (\n            <span slot=\"hint\">\n              <slot name=\"hint\"></slot>\n            </span>\n          )}\n        </cat-select>\n      </Host>\n    );\n  }\n\n  private get timeConnector() {\n    return {\n      resolve: (times: string[]) => {\n        return of(\n          times.map(t =>\n            this.timeArray.find(time => time.hour === this.getHour(t) && time.minutes === this.getMinutes(t))\n          )\n        );\n      },\n      retrieve: (term: string) => {\n        const filteredTimeArray = this.timeArray.filter(t => {\n          if (!term) return true;\n          const formatedTime = this.hourShort ? this.formatAMPM(t.hour, t.minutes) : this.formatTime(t.hour, t.minutes);\n          return formatedTime.toUpperCase().includes(term.toUpperCase());\n        });\n        return of({\n          last: true,\n          totalElements: filteredTimeArray.length,\n          content: filteredTimeArray\n        });\n      },\n      render: ({ hour, minutes }: Time) => ({\n        label: this.hourShort ? this.formatAMPM(hour, minutes) : this.formatTime(hour, minutes)\n      })\n    };\n  }\n\n  private get timeArray() {\n    const times: Time[] = [];\n    for (let hour = 0; hour < 24; hour++) {\n      for (let minutes = 0; minutes < 60; minutes += this.minutesStep) {\n        if (this.isHigherThanMinValue(hour, minutes) && this.isLowerThanMaxValue(hour, minutes)) {\n          times.push({\n            id: this.hourShort ? this.formatAMPM(hour, minutes) : this.formatTime(hour, minutes),\n            hour,\n            minutes\n          });\n        }\n      }\n    }\n    return times;\n  }\n\n  private isBrowserHour12() {\n    const browserLanguage = window?.navigator?.language ?? 'en';\n    const hour = new Intl.DateTimeFormat(browserLanguage, { hour: 'numeric' }).format(new Date().setHours(16));\n    return hour.toLowerCase().includes('pm' || 'am');\n  }\n\n  private getHour(time: string) {\n    let hour = Number(time.split(':')[0]);\n    if (time.toLowerCase().includes('pm') && hour < 12) hour = hour + 12;\n    if (time.toLowerCase().includes('am') && hour == 12) hour = hour - 12;\n\n    return hour;\n  }\n\n  private getMinutes(time: string) {\n    const minutes = time.match(/:(\\d+)/);\n    return Number(minutes ? minutes[1] : 0);\n  }\n\n  private isHigherThanMinValue(hour: number, minutes: number) {\n    if (this.min) {\n      const minHour = this.getHour(this.min);\n      const minMinutes = this.getMinutes(this.min);\n\n      return hour > minHour || (hour === minHour && minutes >= minMinutes);\n    }\n\n    return true;\n  }\n\n  private isLowerThanMaxValue(hour: number, minutes: number) {\n    if (this.max) {\n      const maxHour = this.getHour(this.max);\n      const maxMinutes = this.getMinutes(this.max);\n\n      return hour < maxHour || (hour === maxHour && minutes <= maxMinutes);\n    }\n\n    return true;\n  }\n\n  private formatAMPM(hour: number, minutes: number) {\n    if (hour === 0) {\n      return `12:${minutes < 10 ? `0${minutes}` : minutes} AM`;\n    } else if (hour < 12) {\n      return `${hour < 10 ? `0${hour}` : hour}:${minutes < 10 ? `0${minutes}` : minutes} AM`;\n    } else {\n      return `${hour % 12 < 10 ? `0${hour % 12}` : hour % 12}:${minutes < 10 ? `0${minutes}` : minutes} PM`;\n    }\n  }\n\n  private formatTime(hour: number, minutes: number) {\n    return `${hour < 10 ? `0${hour}` : hour}:${minutes < 10 ? `0${minutes}` : minutes}`;\n  }\n\n  private onCatChange(event: unknown) {\n    (event as CustomEvent).stopPropagation();\n    this.value = this.timeSelect?.value;\n    this.catChange.emit(event);\n  }\n\n  private onCatOpen(event: unknown) {\n    (event as CustomEvent).stopPropagation();\n    this.catOpen.emit(event as FocusEvent);\n  }\n\n  private onCatClose(event: unknown) {\n    (event as CustomEvent).stopPropagation();\n    this.catClose.emit(event as FocusEvent);\n  }\n\n  private onCatBlur(event: unknown) {\n    (event as CustomEvent).stopPropagation();\n    this.catBlur.emit(event as FocusEvent);\n  }\n\n  // IMask spike\n\n  // private getTimeMask(element: HTMLInputElement): IMask.InputMask<IMask.AnyMaskedOptions> {\n  //   return IMask(element, {\n  //     mask: 'HH:MM[ PM]',\n  //     lazy: true,\n  //     blocks: {\n  //       HH: {\n  //         mask: IMask.MaskedRange,\n  //         from: 0,\n  //         to: 23\n  //       },\n\n  //       MM: {\n  //         mask: IMask.MaskedRange,\n  //         from: 0,\n  //         to: 59\n  //       },\n\n  //       PM: {\n  //         mask: IMask.MaskedEnum,\n  //         enum: ['AM', 'PM', 'am', 'pm']\n  //       }\n  //     }\n  //   });\n  // }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n@use '_snippets/checkbox-hint';\n\n$toggle-width: 2rem;\n$toggle-height: 1.25rem;\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nlabel {\n  flex: 0 1 auto;\n  display: flex;\n  gap: 0.5rem;\n  @include cat-body('m');\n  @include cat-select(none);\n  cursor: pointer;\n}\n\n.label-left {\n  flex-direction: row-reverse;\n}\n\ninput {\n  position: absolute;\n  margin: 0;\n  width: $toggle-width;\n  height: $toggle-height;\n  opacity: 0;\n  cursor: inherit;\n}\n\n.toggle-placeholder {\n  width: calc($toggle-width + 1px);\n}\n\n.toggle {\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  width: $toggle-width;\n  height: $toggle-height;\n  border-radius: 10rem;\n  background-color: cat-token('color.ui.border.dark');\n  transition: background-color cat-token('time.transition.s') ease;\n  pointer-events: none;\n\n  :checked + & {\n    background-color: cat-token('color.theme.primary.bg');\n  }\n\n  :focus-visible + & {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: 1px;\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    width: 1rem;\n    height: 1rem;\n    background: #fff;\n    border-radius: 10rem;\n    transform: translateX(calc(2px - 0.5rem));\n    transition: transform cat-token('time.transition.s') linear;\n    @include cat-elevation(2);\n\n    :checked + & {\n      transform: translateX(calc(-2px + 0.5rem));\n      background: cat-token('color.theme.primary.fill');\n    }\n  }\n\n  .is-disabled & {\n    background-color: cat-token('color.ui.border.dark');\n  }\n}\n\n:host(.cat-error) {\n  .toggle {\n    background-color: cat-token('color.theme.danger.bg', 0.2);\n  }\n\n  :checked + .toggle {\n    background-color: cat-token('color.theme.danger.bg');\n\n    &::after {\n      background: cat-token('color.theme.danger.fill');\n    }\n  }\n}\n\n.label {\n  flex: 1 1 auto;\n\n  .is-hidden & {\n    @include cat-visually-hidden;\n  }\n}\n\n.is-disabled {\n  cursor: not-allowed;\n  color: cat-token('color.ui.font.muted');\n}\n","import { Component, Element, Event, EventEmitter, h, Host, Method, Prop, State } from '@stencil/core';\nimport log from 'loglevel';\nimport { CatFormHint } from '../cat-form-hint/cat-form-hint';\n\nlet nextUniqueId = 0;\n\n/**\n * Toggles are graphical interface switches that give user control over a\n * feature or option that can be turned on or off.\n *\n * @slot hint - Optional hint element to be displayed with the toggle.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part toggle - The toggle element.\n * @part label - The label content.\n */\n@Component({\n  tag: 'cat-toggle',\n  styleUrls: ['cat-toggle.scss'],\n  shadow: true\n})\nexport class CatToggle {\n  private readonly _id = `cat-toggle-${nextUniqueId++}`;\n  private get id() {\n    return this.identifier || this._id;\n  }\n\n  private input!: HTMLInputElement;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  @State() hasSlottedHint = false;\n\n  /**\n   * Checked state of the toggle.\n   */\n  @Prop({ mutable: true }) checked = false;\n\n  /**\n   * Disabled state of the toggle.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label of the toggle that is visible.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * The name of the input\n   */\n  @Prop() name?: string;\n\n  /**\n   * Required state of the toggle.\n   */\n  @Prop() required = false;\n\n  /**\n   * The value of the toggle\n   */\n  @Prop({ mutable: true }) value?: string | boolean;\n\n  /**\n   * Optional hint text(s) to be displayed with the toggle.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * Whether the label should appear to the left of the toggle.\n   */\n  @Prop() labelLeft = false;\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * Emitted when the checked status of the toggle is changed.\n   */\n  @Event() catChange!: EventEmitter<InputEvent>;\n\n  /**\n   * Emitted when the toggle received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the toggle loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillRender(): void {\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n    if (!this.label && !this.hasSlottedLabel) {\n      log.warn('[A11y] Missing ARIA label on toggle', this);\n    }\n  }\n\n  /**\n   * Programmatically move focus to the toggle. Use this method instead of\n   * `input.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this.input.focus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the toggle. Use this method instead of\n   * `input.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.input.blur();\n  }\n\n  /**\n   * Programmatically simulate a click on the toggle.\n   */\n  @Method()\n  async doClick(): Promise<void> {\n    this.input.click();\n  }\n\n  render() {\n    return (\n      <Host>\n        <label\n          htmlFor={this.id}\n          class={{ 'is-hidden': this.labelHidden, 'is-disabled': this.disabled, 'label-left': this.labelLeft }}\n        >\n          <input\n            {...this.nativeAttributes}\n            ref={el => (this.input = el as HTMLInputElement)}\n            id={this.id}\n            type=\"checkbox\"\n            name={this.name}\n            value={this.value !== undefined ? String(this.value) : this.value}\n            checked={this.checked}\n            required={this.required}\n            disabled={this.disabled}\n            class=\"form-check-input\"\n            role=\"switch\"\n            onInput={this.onInput.bind(this)}\n            onFocus={this.onFocus.bind(this)}\n            onBlur={this.onBlur.bind(this)}\n          />\n          <span class=\"toggle\" part=\"toggle\"></span>\n          <span class=\"label\" part=\"label\">\n            {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n          </span>\n        </label>\n        {(this.hint || this.hasSlottedHint) && (\n          <div class={{ 'hint-wrapper': true, 'label-left': this.labelLeft }}>\n            <div class=\"toggle-placeholder\"></div>\n            <CatFormHint id={this.id} hint={this.hint} slottedHint={this.hasSlottedHint && <slot name=\"hint\"></slot>} />\n          </div>\n        )}\n      </Host>\n    );\n  }\n\n  private onInput(event: InputEvent) {\n    this.checked = this.input.checked;\n\n    if (!this.value || typeof this.value === 'boolean') {\n      this.value = this.checked;\n    }\n    this.catChange.emit(event);\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n  }\n}\n","const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;\n\nexport default isTouchDevice;\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n$-max-width: 20rem;\n$-box-shadow: rgb(0 0 0 / 8%) 0 1px 8px 0;\n$-shift-padding: 0.25rem; // padding given to the shift() middleware\n\n:host {\n  display: contents;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.tooltip {\n  --cat-font-color-head: cat-token('color.ui.font.tooltip', $wrap: false);\n  --cat-font-color-body: cat-token('color.ui.font.tooltip', $wrap: false);\n  position: fixed;\n  width: max-content;\n  top: 0;\n  left: 0;\n  box-sizing: border-box;\n  @include cat-body('s', 500);\n  background-color: cat-token('color.ui.background.tooltip');\n  border-radius: cat-border-radius('m');\n  color: cat-token('color.ui.font.tooltip');\n  transition: opacity cat-token('time.transition.m') linear, visibility cat-token('time.transition.m') linear;\n  visibility: hidden;\n  opacity: 0;\n  box-shadow: $-box-shadow;\n  z-index: $cat-tooltip-z-index;\n  max-width: min(calc(100vw - 2 * $-shift-padding), $-max-width);\n\n  &-hidden {\n    @include cat-visually-hidden;\n  }\n\n  &-show {\n    opacity: 1;\n    visibility: visible;\n  }\n}\n\n// ----- round\n\n.tooltip-round {\n  border-radius: 10rem;\n}\n\n// ----- size\n\n.tooltip-s {\n  padding: 0.375rem 0.5rem;\n\n  &.tooltip-round {\n    padding: 0.375rem 0.75rem;\n  }\n}\n\n.tooltip-m {\n  padding: 0.75rem;\n\n  &.tooltip-round {\n    padding: 0.75rem 1rem;\n  }\n}\n\n.tooltip-l {\n  padding: 1rem;\n\n  &.tooltip-round {\n    padding: 1rem 1.5rem;\n  }\n}\n","import { autoUpdate, computePosition, flip, offset, Placement, shift } from '@floating-ui/dom';\nimport { Component, Element, h, Host, Listen, Prop, State } from '@stencil/core';\nimport isTouchScreen from '../../utils/is-touch-screen';\n\nlet nextUniqueId = 0;\n\n@Component({\n  tag: 'cat-tooltip',\n  styleUrl: 'cat-tooltip.scss',\n  shadow: true\n})\nexport class CatTooltip {\n  private static readonly OFFSET = 4;\n  private static readonly SHIFT_PADDING = 4;\n  private readonly id = `cat-tooltip-${nextUniqueId++}`;\n  private tooltip?: HTMLElement;\n  private trigger?: Element;\n  private showTimeout?: number;\n  private hideTimeout?: number;\n  private touchTimeout?: number;\n  private hidden = false;\n  private cleanupFloatingUi?: () => void;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedContent = false;\n\n  /**\n   * The content of the tooltip.\n   */\n  @Prop() content = '';\n\n  /**\n   * Specifies that the tooltip should be disabled. A disabled tooltip is unusable,\n   * and invisible. Corresponds with the native HTML disabled attribute.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * The placement of the tooltip.\n   */\n  @Prop() placement: Placement = 'top';\n\n  /**\n   * Use round tooltip edges.\n   */\n  @Prop() round = false;\n\n  /**\n   * The size of the tooltip.\n   */\n  @Prop() size: 's' | 'm' | 'l' = 'm';\n\n  /**\n   * The delay time for showing tooltip in ms.\n   */\n  @Prop() showDelay = 250;\n\n  /**\n   * The delay time for hiding tooltip in ms.\n   */\n  @Prop() hideDelay = 0;\n\n  /**\n   * The duration of tap to show the tooltip.\n   */\n  @Prop() longTouchDuration = 1000;\n\n  @Listen('keydown')\n  handleKeyDown({ key }: KeyboardEvent) {\n    key === 'Escape' && this.hideListener();\n  }\n\n  componentDidLoad(): void {\n    const slot = this.hostElement.shadowRoot?.querySelector('slot');\n    this.trigger = slot?.assignedElements?.()?.[0];\n    if (this.trigger && !this.trigger.hasAttribute('aria-describedby')) {\n      this.trigger.setAttribute('aria-describedby', this.id);\n    }\n\n    if (isTouchScreen) {\n      window.addEventListener('touchstart', this.windowTouchStartListener.bind(this));\n      this.trigger?.addEventListener('touchstart', this.touchStartListener.bind(this));\n      this.trigger?.addEventListener('touchend', this.touchEndListener.bind(this));\n    } else {\n      this.trigger?.addEventListener('focusin', this.showListener.bind(this));\n      this.trigger?.addEventListener('focusout', this.hideListener.bind(this));\n      this.trigger?.addEventListener('mouseenter', this.showListener.bind(this));\n      this.trigger?.addEventListener('mouseleave', this.hideListener.bind(this));\n    }\n  }\n\n  componentWillRender(): void {\n    this.hasSlottedContent = !!this.hostElement.querySelector('[slot=\"content\"]');\n    this.hidden = this.disabled || (!this.content && !this.hasSlottedContent);\n  }\n\n  disconnectedCallback(): void {\n    if (isTouchScreen) {\n      window.removeEventListener('touchstart', this.windowTouchStartListener.bind(this));\n      this.trigger?.removeEventListener('touchstart', this.touchStartListener.bind(this));\n      this.trigger?.removeEventListener('touchend', this.touchEndListener.bind(this));\n    } else {\n      this.trigger?.removeEventListener('mouseenter', this.showListener.bind(this));\n      this.trigger?.removeEventListener('mouseleave', this.hideListener.bind(this));\n      this.trigger?.removeEventListener('focusin', this.showListener.bind(this));\n      this.trigger?.removeEventListener('focusout', this.hideListener.bind(this));\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <slot />\n        <div\n          ref={el => (this.tooltip = el)}\n          id={this.id}\n          aria-hidden={this.hidden}\n          class={{\n            tooltip: true,\n            'tooltip-hidden': this.hidden,\n            'tooltip-round': this.round,\n            [`tooltip-${this.size}`]: Boolean(this.size)\n          }}\n        >\n          {this.hasSlottedContent ? <slot name=\"content\" /> : this.content}\n        </div>\n      </Host>\n    );\n  }\n\n  private async update() {\n    if (this.trigger && this.tooltip) {\n      await computePosition(this.trigger, this.tooltip, {\n        strategy: 'fixed',\n        placement: this.placement,\n        middleware: [offset(CatTooltip.OFFSET), flip(), shift({ padding: CatTooltip.SHIFT_PADDING })]\n      }).then(({ x, y }) => {\n        if (this.tooltip) {\n          Object.assign(this.tooltip.style, {\n            left: `${Math.max(0, x)}px`,\n            top: `${y}px`\n          });\n        }\n      });\n    }\n  }\n\n  private showListener() {\n    window.clearTimeout(this.hideTimeout);\n    this.showTimeout = window.setTimeout(() => {\n      this.showTooltip();\n    }, this.showDelay);\n  }\n\n  private hideListener() {\n    window.clearTimeout(this.showTimeout);\n    this.hideTimeout = window.setTimeout(() => {\n      this.tooltip?.classList.remove('tooltip-show');\n      this.hideTooltip();\n    }, this.hideDelay);\n  }\n\n  private touchStartListener(event: Event) {\n    event.stopPropagation();\n    this.touchTimeout = window.setTimeout(() => {\n      this.showTooltip();\n    }, this.longTouchDuration);\n  }\n\n  private touchEndListener() {\n    if (this.touchTimeout) {\n      window.clearTimeout(this.touchTimeout);\n      this.hideTooltip();\n    }\n  }\n\n  private windowTouchStartListener() {\n    this.tooltip?.classList.remove('tooltip-show');\n  }\n\n  private showTooltip() {\n    if (this.trigger && this.tooltip) {\n      this.cleanupFloatingUi = autoUpdate(this.trigger, this.tooltip, () => this.update());\n    }\n    !this.hidden && this.tooltip?.classList.add('tooltip-show');\n  }\n\n  private hideTooltip() {\n    if (this.cleanupFloatingUi) {\n      this.cleanupFloatingUi();\n    }\n  }\n}\n"],"mappings":"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"}