{"version":3,"names":["ObjectUnsubscribedError","createErrorClass","_super","ObjectUnsubscribedErrorImpl","this","name","message","Subject","Observable","constructor","super","closed","currentObservers","observers","isStopped","hasError","thrownError","lift","operator","subject","AnonymousSubject","_throwIfClosed","next","value","errorContext","Array","from","observer","error","err","length","shift","complete","unsubscribe","observed","_a","_trySubscribe","subscriber","_subscribe","_checkFinalizedStatuses","_innerSubscribe","EMPTY_SUBSCRIPTION","push","Subscription","arrRemove","asObservable","observable","source","create","destination","_b","call","subscribe","dateTimestampProvider","now","delegate","Date","undefined","Action","scheduler","work","schedule","state","delay","intervalProvider","setInterval","handler","timeout","args","clearInterval","handle","AsyncAction","pending","id","recycleAsyncId","requestAsyncId","_id","flush","bind","_scheduler","execute","Error","_execute","_delay","errored","errorValue","e","actions","Scheduler","schedulerActionCtor","AsyncScheduler","SchedulerAction","_active","action","asyncScheduler","async","EMPTY","EmptyError","EmptyErrorImpl","isValidDate","isNaN","map","project","thisArg","operate","index","createOperatorSubscriber","isArray","callOrApply","fn","mapOneOrManyArgs","mergeInternals","concurrent","onBeforeNext","expand","innerSubScheduler","additionalFinalizer","buffer","active","isComplete","checkComplete","outerNext","doInnerSub","innerComplete","innerFrom","innerValue","bufferedValue","executeSchedule","mergeMap","resultSelector","Infinity","isFunction","a","i","b","ii","mergeAll","identity","concatAll","concat","popScheduler","nodeEventEmitterMethods","eventTargetMethods","jqueryMethods","fromEvent","target","eventName","options","pipe","add","remove","isEventTarget","methodName","isNodeStyleEventEmitter","toCommonHandlerRegistry","isJQueryStyleEventEmitter","isArrayLike","subTarget","TypeError","addListener","removeListener","on","off","addEventListener","removeEventListener","timer","dueTime","intervalOrScheduler","intervalDuration","isScheduler","due","n","merge","popNumber","sources","filter","predicate","audit","durationSelector","hasValue","lastValue","durationSubscriber","endDuration","cleanupDuration","auditTime","duration","catchError","selector","innerSub","syncUnsub","handledResult","scanInternals","accumulator","seed","hasSeed","emitOnNext","emitBeforeComplete","hasState","debounce","emit","noop","defaultIfEmpty","defaultValue","take","count","seen","ignoreElements","mapTo","delayWhen","delayDurationSelector","subscriptionDelay","distinctUntilChanged","comparator","keySelector","defaultCompare","previousKey","first","currentKey","throwIfEmpty","errorFactory","defaultErrorFactory","hasDefaultValue","arguments","v","scan","startWith","values","switchMap","innerSubscriber","innerIndex","outerIndex","takeUntil","notifier","takeWhile","inclusive","result","tap","observerOrNext","tapObserver","isUnsub","finalize","setAttributeDefault","host","attr","hostElement","hasAttribute","setAttribute","String","catAlertCss","CatAlertStyle0","CatAlert","mapIcon","Map","mapRole","connectedCallback","get","color","render","h","Host","key","noIcon","size","icon","class","loadImg","src","Promise","resolve","reject","image","Image","catAvatarCss","CatAvatarStyle0","CatAvatar","onSrcChanged","then","backgroundImage","componentWillLoad","url","href","urlTarget","style","cssStyle","cssClass","label","content","getInitials","avatar","round","Boolean","initials","split","join","catBadgeCss","CatBadgeStyle0","CatBadge","_breakpoints","Breakpoints","xs","s","m","l","xl","isBreakpoint","includes","hasV8BreakIterator","Intl","v8BreakIterator","Platform","EDGE","test","navigator","userAgent","TRIDENT","BLINK","window","chrome","CSS","WEBKIT","IOS","FIREFOX","ANDROID","SAFARI","mediaQueriesForWebkitCompatibility","Set","mediaQueryStyleNode","MediaMatcher","_platform","_matchMedia","matchMedia","query","createEmptyStyleRule","has","document","createElement","head","appendChild","sheet","insertRule","log","findClosest","element","Element","matches","nextElement","ShadowRoot","parentElement","getRootNode","catButtonCss","CatButtonStyle0","CatButton","onIconOnlyChanged","mediaQueryList","mediaQueryListener","mediaMatcher","event","_iconOnly","iconOnly","componentWillRender","hasSlottedContent","hasChildNodes","haltDisabledEvents","disabled","loading","preventDefault","stopImmediatePropagation","submit","form","dispatchEvent","SubmitEvent","submitter","button","doFocus","focus","doBlur","blur","doClick","click","nativeAttributes","ref","el","a11yLabel","a11yCurrent","buttonId","part","isIconButton","noEllipsis","variant","onClick","onFocus","onBlur","type","buttonGroupPosition","iconSize","spinnerSize","hasPrefixIcon","iconRight","hasSuffixIcon","nativeContentAttributes","catClick","catFocus","catBlur","catButtonGroupCss","CatButtonGroupStyle0","CatButtonGroup","formElements","role","onSlotchange","onSlotChange","querySelectorAll","forEach","catCardCss","CatCardStyle0","CatCard","componentDidLoad","catLoad","CatFormHint","props","hint","slottedHint","errorMap","errors","Object","entries","params","i18n","t","item","catCheckboxCss","CatCheckboxStyle0","nextUniqueId","CatCheckbox","identifier","updateResolved","hasSlottedLabel","querySelector","hasSlottedHint","input","htmlFor","labelHidden","labelLeft","alignment","checked","required","indeterminate","onInput","hasHint","viewBox","points","requiredMarker","startsWith","catChange","resolvedValue","noValue","getDays","language","weekday","date","firstDayOfWeek","getUTCDate","getUTCDay","format","DateTimeFormat","keys","day","getTime","setUTCDate","getMonths","month","setUTCMonth","getWeekInfo","locale","Locale","weekInfo","firstDay","minDays","weekend","getFormat","year","replace","getLocale","prevYear","nextYear","prevMonth","nextMonth","arrowKeys","today","change","choose","clear","formatStr","days","short","long","months","getFullYear","getMonth","getDate","fromLocalISO","match","Number","toLocalISO","toString","padStart","toLocalStr","isLeapYear","addDays","addMonth","maxDays","newDate","setDate","setMonth","Math","min","isSameYear","date1","date2","isSameMonth","isSameDay","clampDate","max","catDateCss","CatDateStyle0","CatDate","onMinChanged","oldMin","reclamp","onMaxChanged","oldMax","inputValue","p1","d1","p2","p3","exec","mask","dateMin","dateMax","delimiter","datePattern","horizontal","autoComplete","clearable","placeholder","textPrefix","textSuffix","readonly","errorUpdate","onCatFocus","stopPropagation","detail","onCatBlur","onInputBlur","slot","placement","arrowNavigation","noResize","onCatOpen","dateInline","resetView","getTriggerA11yLabel","weeks","noClear","onCatChange","onDateChange","oldValue","dateParsed","parse","select","formatParts","parts","indexOf","isInteger","mode","limit","oldDate","limitDate","newValue","candidateSelectors","candidateSelector","NoElement","prototype","msMatchesSelector","webkitMatchesSelector","_element$getRootNode","ownerDocument","isInert","node","lookUp","_node$getAttribute","inertAtt","getAttribute","inert","parentNode","isContentEditable","_node$getAttribute2","attValue","getCandidates","includeContainer","candidates","slice","apply","unshift","getCandidatesIteratively","elements","elementsToCheck","tagName","assigned","assignedElements","children","nestedCandidates","flatten","scopeParent","validCandidate","shadowRoot","getShadowRoot","validShadowRoot","shadowRootFilter","_nestedCandidates","hasTabIndex","parseInt","getTabIndex","tabIndex","getSortOrderTabIndex","isScope","sortOrderedTabbables","documentOrder","isInput","isHiddenInput","isDetailsWithSummary","r","some","child","getCheckedRadio","nodes","isTabbableRadio","radioScope","queryRadios","radioSet","escape","console","isRadio","isNonTabbableRadio","isNodeAttached","_nodeRoot","nodeRoot","nodeRootHost","attached","_nodeRootHost","_nodeRootHost$ownerDo","_node$ownerDocument","contains","_nodeRoot2","_nodeRootHost2","_nodeRootHost2$ownerD","isZeroArea","_node$getBoundingClie","getBoundingClientRect","width","height","isHidden","_ref","displayCheck","getComputedStyle","visibility","isDirectSummary","nodeUnderDetails","originalNode","rootNode","assignedSlot","getClientRects","isDisabledFromFieldset","isNodeMatchingSelectorFocusable","isNodeMatchingSelectorTabbable","isValidShadowRootTabbable","shadowHostNode","sortByOrder","regularTabbables","orderedTabbables","candidateTabindex","sort","reduce","acc","sortable","tabbable","container","focusable","isTabbable","focusableCandidateSelector","isFocusable","firstTabbable","catDateInlineCss","CatDateInlineStyle0","CatDateInline","focusDate","focusedDate","all","dataset","startDate","endDate","getValue","setAriaLive","componentDidRender","onKeyDown","shiftKey","minDate","maxDate","getMinMaxDate","range","toRangeValue","dateStart","viewDate","dateGrid","dateEnd","picker","navigate","getHeadline","onFocusin","_","title","getWeekNumber","isStartDate","isEndDate","isRange","isToday","isWeekend","getDay","canFocus","canClick","tabindex","noToday","direction","period","setFullYear","text","innerHTML","daysOffset","daysInMonth","daysBefore","getLastDaysOfMonth","daysAfter","x","lastDayOfMonth","daysOfMonth","iso8601","currentDate","dayNum","yearStart","ceil","minDay","JSON","stringify","HOOKS","defaults","_disable","allowInput","allowInvalidPreload","altFormat","altInput","altInputClass","animate","ariaDateFormat","autoFillDefaultTime","clickOpens","closeOnSelect","conjunction","dateFormat","defaultHour","defaultMinute","defaultSeconds","disable","disableMobile","enableSeconds","enableTime","errorHandler","warn","getWeek","givenDate","setHours","week1","hourIncrement","ignoredFocusElements","inline","minuteIncrement","monthSelectorType","nextArrow","noCalendar","onChange","onClose","onDayCreate","onDestroy","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition","plugins","position","positionElement","prevArrow","shorthandCurrentMonth","showMonths","static","time_24hr","weekNumbers","wrap","english","weekdays","shorthand","longhand","ordinal","nth","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","monthAriaLabel","hourAriaLabel","minuteAriaLabel","pad","number","int","bool","wait","_this","clearTimeout","setTimeout","arrayify","obj","toggleClass","elem","className","classList","tag","textContent","clearNode","firstChild","removeChild","findParent","condition","createNumberInput","inputClassName","opts","wrapper","numInput","arrowUp","arrowDown","pattern","getEventTarget","composedPath","path","doNothing","monthToStr","monthNumber","revFormat","D","F","dateObj","monthName","G","hour","getHours","parseFloat","H","J","K","RegExp","M","shortMonth","S","seconds","setSeconds","U","unixSeconds","W","weekNum","weekNumber","Y","Z","ISODate","d","minutes","setMinutes","j","u","unixMillSeconds","w","y","tokenRegex","formats","toISOString","getSeconds","getMinutes","substring","createDateFormatter","config","_c","l10n","_d","isMobile","frmt","overrideLocale","formatDate","c","arr","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","toFixed","datestr","trim","parseDate","matched","ops","matchIndex","regexStr","token","isBackSlash","escaped","val","compareDates","isBetween","ts","ts1","ts2","calculateSecondsSinceMidnight","hours","parseSeconds","secondsSinceMidnight","floor","DAY","getDefaultHours","minHour","minMinutes","minSeconds","maxHr","maxMinutes","assign","_i","_loop_1","args_1","__assign","p","hasOwnProperty","__spreadArrays","il","k","jl","DEBOUNCED_CHANGE_MS","FlatpickrInstance","instanceConfig","self","defaultOptions","flatpickr","defaultConfig","English","_handlers","pluginElements","loadedPlugins","_bind","_setHoursFromDate","setHoursFromDate","_positionCalendar","positionCalendar","changeMonth","changeYear","close","onMouseOver","_createElement","createDay","destroy","isEnabled","jumpToDate","updateValue","open","redraw","set","toggle","setupHelperFunctions","utils","getDaysInMonth","yr","currentMonth","currentYear","init","isOpen","parseConfig","setupLocale","setupInputs","setupDates","build","bindEvents","selectedDates","latestSelectedDateObj","setCalendarWidth","isSafari","triggerEvent","getClosestActiveElement","calendarContainer","activeElement","bindToInstance","requestAnimationFrame","display","daysContainer","daysWidth","offsetWidth","weekWrapper","removeProperty","updateTime","defaultDate","getMilliseconds","timeWrapper","prevValue","_input","setHoursFromInputs","_debouncedChange","ampm2military","military2ampm","hourElement","minuteElement","secondElement","limitMinHours","minTime","minDateHasTime","limitMaxHours","maxTime","maxDateHasTime","minBound","maxBound","currentTime","onYearInput","eventTarget","delta","ev","triggerChange","evt","setupMobile","debouncedResize","onResize","ontouchstart","documentClick","capture","monthNav","onMonthNavClick","selectDate","timeContainer","selText","timeIncrement","jumpDate","jumpTo","oldYear","oldMonth","buildMonthSwitch","incrementNumInput","inputElem","createEvent","fragment","createDocumentFragment","buildMonthNav","innerContainer","buildWeeks","rContainer","buildWeekdays","buildDays","buildTime","customAppend","appendTo","nodeType","insertBefore","nextSibling","body","_dayNumber","dateIsEnabled","dayElement","$i","todayDateElem","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","focusOnDayElem","targetNode","getFirstAvailableDay","startMonth","endMonth","startIndex","endIndex","getNextAvailableDay","current","givenMonth","loopDelta","numMonthDays","abs","focusOnDay","offset","dayFocused","isInView","startElem","buildMonthDays","firstOfMonth","prevMonthDays","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayNumber","dayIndex","dayContainer","frag","shouldBuildMonth","monthsDropdownContainer","selected","buildMonth","monthNavFragment","monthElement","selectedMonth","yearInput","yearElement","getElementsByTagName","buildMonths","prevMonthNav","yearElements","monthElements","nextMonthNav","defineProperty","__hidePrevMonthArrow","__hideNextMonthArrow","currentYearElement","updateNavigationCurrentMonth","separator","hourInput","minuteInput","secondInput","weekdayContainer","updateWeekdays","splice","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","triggerChangeEvent","toInitial","mobileInput","_initialDate","lastChild","_type","removeAttribute","isCalendarElem","eventTarget_1","isCalendarElement","lostFocus","relatedTarget","isIgnored","newYear","newYearNum","isNewYear","dateToCheck","enable","array","parsed","to","valueChanged","trimEnd","getDateStr","allowKeydown","allowInlineKeydown","keyCode","isTimeObj","focusAndClose","delta_1","ctrlKey","elems","charAt","toLowerCase","cellClass","hoverDate","firstElementChild","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","hoverableCells","dayElem","timestamp","outOfRange","_positionElement","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","userConfig","_enable","dates","parseDateRules","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","hook","pluginConf","getInputElem","l10ns","default","customPositionElement","calendarHeight","offsetHeight","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","distanceFromBottom","innerHeight","bottom","showOnTop","top","pageYOffset","left","pageXOffset","isCenter","isRight","right","rightMost","centerMost","doc","getDocumentStyleSheet","bodyWidth","centerLeft","centerBefore","centerAfter","centerIndex","cssRules","centerStyle","editableSheet","styleSheets","createStyleSheet","msMaxTouchPoints","isSelectable","selectedDate","shouldChangeMonth","selectedIndex","single","CALLBACKS","updatePositionElement","option","setSelectedDate","inputDate","rule","preloadedDate","nodeName","inputType","mobileFormatStr","step","data","hooks","initEvent","specificFormat","dObj","isPrevMonth","isNextMonth","isKeyDown","curValue","which","isHourElem","isMinuteElem","_flatpickr","nodeList","HTMLElement","instances","HTMLCollection","NodeList","Node","en","localize","setDefaults","jQuery","fp_incr","global","factory","module","exports","weekSelectPlugin","fp","onDayHover","childNodes","dayIndSeven","weekStartDay","weekEndDay","day_1","highlightWeek","selDate","clearHover","getConfig","more","_dates","_dateStr","nativePickerAttributes","instance","dateStr","start","end","applyChange","formatTime","minute","time","datetime","daterange","getHour12","getFirstDayOfWeek","daysForLocale","monthsForLocale","toLocaleString","sides","alignments","placements","side","createCoords","oppositeSideMap","oppositeAlignmentMap","clamp","evaluate","param","getSide","getAlignment","getOppositeAxis","axis","getAxisLength","getSideAxis","getAlignmentAxis","getAlignmentSides","rects","rtl","alignmentAxis","mainAlignmentSide","reference","floating","getOppositePlacement","getExpandedPlacements","oppositePlacement","getOppositeAlignmentPlacement","getSideList","isStart","lr","rl","tb","bt","getOppositeAxisPlacements","flipAlignment","list","expandPaddingObject","padding","getPaddingObject","rectToClientRect","rect","computeCoordsFromPlacement","sideAxis","alignLength","isVertical","commonX","commonY","commonAlign","coords","computePosition","strategy","middleware","platform","validMiddleware","isRTL","getElementRects","statefulPlacement","middlewareData","resetCount","nextX","nextY","reset","initialPlacement","detectOverflow","_await$platform$isEle","boundary","rootBoundary","elementContext","altBoundary","paddingObject","altContext","clippingClientRect","getClippingRect","isElement","contextElement","getDocumentElement","offsetParent","getOffsetParent","offsetScale","getScale","elementClientRect","convertOffsetParentRelativeRectToViewportRelativeRect","arrow","arrowDimensions","getDimensions","isYAxis","minProp","maxProp","clientProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","largestPossiblePadding","minPadding","maxPadding","min$1","center","shouldAddOffset","alignmentOffset","centerOffset","getPlacementList","autoAlignment","allowedPlacements","allowedPlacementsSortedByAlignment","autoPlacement","_middlewareData$autoP","_middlewareData$autoP2","_placementsThatFitOnE","crossAxis","detectOverflowOptions","placements$1","overflow","currentIndex","currentPlacement","alignmentSides","currentOverflows","allOverflows","overflows","nextPlacement","placementsSortedByMostSpace","placementsThatFitOnEachSide","every","resetPlacement","flip","_middlewareData$arrow","_middlewareData$flip","mainAxis","checkMainAxis","checkCrossAxis","fallbackPlacements","specifiedFallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","isBasePlacement","overflowsData","_middlewareData$flip2","_overflowsData$filter","nextIndex","_overflowsData$map$so","getSideOffsets","isAnySideFullyClipped","hide","offsets","referenceHiddenOffsets","referenceHidden","escapedOffsets","getBoundingRect","minX","minY","maxX","maxY","getRectsByLine","sortedRects","groups","prevRect","nativeClientRects","clientRects","fallback","find","firstRect","lastRect","isTop","isLeftSide","maxRight","minLeft","measureRects","resetRects","convertValueToCoords","mainAxisMulti","crossAxisMulti","rawValue","_middlewareData$offse","diffCoords","limiter","mainAxisCoord","crossAxisCoord","minSide","maxSide","limitedCoords","limitShift","rawOffset","computedOffset","len","limitMin","limitMax","_middlewareData$offse2","isOriginSide","heightSide","widthSide","overflowAvailableHeight","overflowAvailableWidth","noShift","availableHeight","availableWidth","maximumClippingWidth","maximumClippingHeight","xMin","xMax","yMin","yMax","nextDimensions","getNodeName","isNode","getWindow","defaultView","documentElement","isHTMLElement","isShadowRoot","isOverflowElement","overflowX","overflowY","isTableElement","isContainingBlock","webkit","isWebKit","css","transform","perspective","containerType","backdropFilter","willChange","contain","getContainingBlock","currentNode","getParentNode","isLastTraversableNode","supports","getNodeScroll","scrollLeft","scrollTop","getNearestOverflowAncestor","getOverflowAncestors","traverseIframes","_node$ownerDocument2","scrollableAncestor","isBody","win","visualViewport","frameElement","getCssDimensions","hasOffset","shouldFallback","$","unwrapElement","domElement","isFinite","noOffsets","getVisualOffsets","offsetLeft","offsetTop","shouldAddVisualOffsets","isFixed","floatingOffsetParent","includeScale","isFixedStrategy","clientRect","scale","visualOffsets","offsetWin","currentWin","currentIFrame","iframeScale","iframeRect","clientLeft","paddingLeft","clientTop","paddingTop","topLayerSelectors","isTopLayer","topLayer","scroll","isOffsetParentAnElement","offsetRect","getWindowScrollBarX","getDocumentRect","html","scrollWidth","clientWidth","scrollHeight","clientHeight","getViewportRect","visualViewportBased","getInnerBoundingClientRect","getClientRectFromClippingAncestor","clippingAncestor","hasFixedPositionAncestor","stopNode","getClippingElementAncestors","cache","cachedResult","currentContainingBlockComputedStyle","elementIsFixed","computedStyle","currentNodeIsContaining","shouldDropCurrentNode","ancestor","elementClippingAncestors","clippingAncestors","firstClippingAncestor","clippingRect","accRect","getRectRelativeToOffsetParent","isStaticPositioned","getTrueOffsetParent","polyfill","svgOffsetParent","getOffsetParentFn","getDimensionsFn","floatingDimensions","observeMove","onMove","io","timeoutId","root","cleanup","_io","disconnect","refresh","skip","threshold","insetTop","insetRight","insetBottom","insetLeft","rootMargin","isFirstUpdate","handleObserve","ratio","intersectionRatio","IntersectionObserver","observe","autoUpdate","update","ancestorScroll","ancestorResize","elementResize","ResizeObserver","layoutShift","animationFrame","referenceEl","ancestors","passive","cleanupIo","reobserveFrame","resizeObserver","firstEntry","unobserve","cancelAnimationFrame","_resizeObserver","frameId","prevRefRect","frameLoop","nextRefRect","_resizeObserver2","offset$1","autoPlacement$1","shift$1","flip$1","size$1","hide$1","arrow$1","inline$1","limitShift$1","mergedOptions","platformWithCache","computePosition$1","catDatepickerCss","CatDatepickerStyle0","CatDatepickerFlat","onValueChanged","pickr","onDisabledChanged","initDatepicker","_calendarWrapper","withinDropdown","attachToElement","updatePosition","catDatepickerInlineCss","CatDatepickerInlineStyle0","CatDatepickerInline","timeTransitionS","ownKeys","getOwnPropertySymbols","o","getOwnPropertyDescriptor","enumerable","_objectSpread2","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","configurable","writable","_toPrimitive","prim","Symbol","toPrimitive","res","arg","activeFocusTraps","activateTrap","trapStack","trap","activeTrap","pause","trapIndex","deactivateTrap","unpause","isSelectableInput","isEscapeEvent","isTabEvent","isKeyForward","isKeyBackward","findIndex","idx","valueOrHandler","_len","_key","getActualTarget","internalTrapStack","createFocusTrap","userOptions","returnFocusOnDeactivate","escapeDeactivates","delayInitialFocus","containers","containerGroups","tabbableGroups","nodeFocusedBeforeActivation","mostRecentlyFocusedNode","paused","delayInitialFocusTimer","recentNavEvent","getOption","configOverrideOptions","optionName","configOptionName","findContainerIndex","tabbableNodes","getNodeForOption","optionValue","_len2","_key2","getInitialFocusNode","tabbableOptions","firstTabbableGroup","firstTabbableNode","updateTabbableNodes","focusableNodes","lastTabbableNode","firstDomTabbableNode","lastDomTabbableNode","reverse","posTabIndexesFound","nextTabbableNode","forward","nodeIdx","group","g","getActiveElement","tryFocus","preventScroll","getReturnFocusNode","previousActiveElement","findNextNavNode","_ref2","_ref2$isBackward","isBackward","destinationNode","containerIndex","containerGroup","startOfGroupIndex","_ref3","destinationGroupIndex","destinationGroup","lastOfGroupIndex","_ref4","_destinationGroupIndex","_destinationGroup","checkPointerDown","clickOutsideDeactivates","deactivate","returnFocus","allowOutsideClick","checkFocusIn","targetContained","Document","nextNode","navAcrossContainers","mruContainerIdx","mruTabIdx","checkKeyNav","checkKey","checkClick","addListeners","removeListeners","checkDomRemoval","mutations","isFocusedNodeRemoved","mutation","removedNodes","mutationObserver","MutationObserver","updateObservedNodes","subtree","childList","activate","activateOptions","onActivate","onPostActivate","checkCanFocusTrap","finishActivation","deactivateOptions","onDeactivate","onPostDeactivate","checkCanReturnFocus","finishDeactivation","pauseOptions","onPause","onPostPause","unpauseOptions","onUnpause","onPostUnpause","updateContainerElements","containerElements","elementsAsArray","catDropdownCss","CatDropdownStyle0","CatDropdown","clickHandler","trigger","initTrigger","noAutoClose","focusTrap.createFocusTrap","catOpen","setReturnFocus","noReturnFocus","initialFocus","noInitialFocus","catClose","anchorSlot","triggerSlot","contentId","initAnchor","findTrigger","anchor","anchorElement","resize","OFFSET","maxWidth","maxHeight","catFormGroupCss","CatFormGroupStyle0","CatFormGroup","onRequiredMarkerChanged","newRequiredMarker","updateMarker","calculate","endsWith","onHorizontalChanged","newHorizontal","labelSize","optionalFields","requiredFields","catIconCss","CatIconStyle0","CatIcon","iconSrc","icons","getIcon","commonjsGlobal","NumeralFormatter","numeralDecimalMark","numeralIntegerScale","numeralDecimalScale","numeralThousandsGroupStyle","numeralPositiveOnly","stripLeadingZeroes","prefix","signBeforePrefix","tailPrefix","owner","groupStyle","thousand","delimiterRE","lakh","wan","none","getRawValue","partSign","partSignAndPrefix","partInteger","partDecimal","NumeralFormatter_1","DateFormatter","blocks","initBlocks","getISOFormatDate","addLeadingZero","getBlocks","getValidatedDate","sub","sub0","rest","getFixedDateString","monthIndex","yearIndex","dayStartIndex","monthStartIndex","yearStartIndex","fullYearDone","getFixedDate","getRangeFixedDate","previous","addLeadingZeroForYear","fullYearMode","DateFormatter_1","TimeFormatter","timePattern","timeFormat","getISOFormatTime","getTimeFormatOptions","maxHourFirstDigit","maxHours","maxMinutesFirstDigit","getValidatedTime","timeFormatOptions","getFixedTimeString","secondIndex","minuteIndex","hourIndex","secondStartIndex","minuteStartIndex","hourStartIndex","second","getFixedTime","TimeFormatter_1","PhoneFormatter","formatter","setFormatter","phoneNumber","validated","iMax","inputDigit","PhoneFormatter_1","CreditCardDetector","uatp","amex","diners","discover","mastercard","dankort","instapayment","jcb15","jcb","maestro","visa","mir","unionPay","general","re","getStrictBlocks","block","total","prev","getInfo","strictMode","matchedBlocks","CreditCardDetector_1","Util","strip","getPostDelimiter","delimiters","matchedDelimiter","getDelimiterREByDelimiter","getNextCursorPosition","prevPos","getPositionOffset","oldRawValue","newRawValue","lengthOffset","stripDelimiters","letter","headStr","str","getMaxLength","getPrefixStrippedValue","prefixLength","prevResult","noImmediatePrefix","getFirstDiffIndex","getFormattedValue","blocksLength","delimiterLazyShow","multipleDelimiters","currentDelimiter","fixPrefixCursor","appendix","setSelectionRange","checkFullSelection","selection","getSelection","ex","setSelection","createTextRange","move","parent","isAndroid","isAndroidBackspaceKeydown","lastInputValue","currentInputValue","Util_1","DefaultProperties","creditCard","creditCardStrictMode","creditCardType","onCreditCardTypeChanged","phone","phoneRegionCode","phoneFormatter","timeFormatter","dateFormatter","numeral","swapHiddenInput","numericOnly","uppercase","lowercase","rawValueTrimPrefix","copyDelimiter","initValue","delimiterLength","maxLength","backspace","DefaultProperties_1","Cleave","hasMultipleElements","properties","pps","onChangeListener","onKeyDownListener","onFocusListener","onCutListener","onCut","onCopyListener","onCopy","initSwapHiddenInput","initPhoneFormatter","initDateFormatter","initTimeFormatter","initNumeralFormatter","inputFormatter","cloneNode","elementSwapHidden","numeralFormatter","AsYouTypeFormatter","charCode","postDelimiter","postDelimiterBackspace","copyClipboardData","textToCopy","clipboardData","setData","postDelimiterAfter","updateValueState","toUpperCase","updateCreditCardPropsByValue","creditCardInfo","endPos","selectionEnd","callOnValueChanged","setPhoneRegionCode","setRawValue","Cleave_1","coerceBoolean","coerceNumber","fallbackValue","isNumberValue","catInputCss","CatInputStyle0","CatInput","onErrorsChanged","findSiblingInput","errorMapSrc","showErrorsIfTimeout","showErrorsIfNoFocus","hidden","invalid","togglePassword","autocomplete","maxlength","minlength","minLength","isPasswordShown","doTogglePassword","showErrors","errorUpdateTimeoutId","hasFocus","HTMLInputElement","catPaginationCss","CatPaginationStyle0","CatPagination","isFirst","iconPrev","setPage","page","isLast","iconNext","pageCount","pages","sidePadding","activePadding","minPage","minActivepage","maxPage","maxActivepage","addSeq","_start","_end","fill","num","compact","catRadioCss","CatRadioStyle0","CatRadio","catRadioGroupCss","CatRadioGroupStyle0","CatRadioGroup","catRadioGroup","onNameChanged","newName","catRadio","updateTabIndex","onLabelLeftChanged","attributes","disconnectedCallback","onKeydown","targetElements","activeIdx","activeOff","targetIdx","radio","localName","checkedRadioIndex","catScrollableCss","CatScrollableStyle0","CatScrollable","destroyed","resizedEntries","resizedObserver","scrollElement","scrolled","scrollWrapperElement","attachEmitter","scrolledLeft","scrolledRight","scrolledBottom","scrolledTop","THROTTLE","getScrollOffset","noScrolledInit","noShadowY","noShadowX","noOverflowX","noOverflowY","noOverscroll","emitter","scrolledBuffer","isLower","GHOST_ELEMENT_ID","characterEntities","mapSpecialCharacterToCharacterEntity","specialCharacter","escapeSpecialCharacters","string","createGhostElement","ghostElement","cssText","autosizeInput","elementStyle","elementCssText","boxSizing","borderLeftWidth","borderRightWidth","fontFamily","fontFeatureSettings","fontKerning","fontSize","fontStretch","fontStyle","fontVariant","fontVariantCaps","fontVariantLigatures","fontVariantNumeric","fontWeight","letterSpacing","marginLeft","marginRight","paddingRight","textIndent","textTransform","setWidth","getElementById","minWidth","catSelectCss","CatSelectStyle0","INIT_STATE","term","isLoading","isFirstLoading","isResolving","tempSelection","activeOptionIndex","activeSelectionIndex","nextTagUniqueId","CatSelect","term$","more$","valueChangedBySelection","onConnectorChanged","connector","onStateChanged","newState","oldState","changed","dropdown","scrollIntoView","multiple","idsSelected","tags","ids","createTag","patchState","isInputFocused","onArrowKeyDown","toggleTag","selectionStart","deselect","selectionClone","pop","onKeyUp","show","clearButton","clearInput","connect","number$","subscription","of","retrieve","totalElements","last","items","toSelectItems","value1","isTagSelected","isPillboxActive","activeDescendant","pill","onCatClick","onScrolledBottom","optionsList","SKELETON_COUNT","lines","noItems","isTagOption","isOptionSelected","isSelected","getLabel","tagTextHelp","description","initIds","initTags","data$","customId","search","newSelection","setTransparentCaret","removeTag","DROPDOWN_OFFSET","tagHint","CatSelectTest","multipleSelect","firstName","lastName","desc","user","multipleSelectAvatar","random","multipleSelectAvatarInitials","multipleSelectTagging","countryConnector","singleSelect","singleSelectAvatar","singleSelectAvatarInitials","country","capital","singleSelectTagging","flexDirection","countries","catSkeletonCss","CatSkeletonStyle0","CatSkeleton","skeleton","effect","catSpinnerCss","CatSpinnerStyle0","CatSpinner","xmlns","cx","cy","catTabCss","CatTabStyle0","CatTab","catTabsCss","CatTabsStyle0","CatTabs","syncTabs","onActiveTabChange","tabs","tab","setActive","setActiveIndex","activeTab","deactivated","canActivate","catTagCss","CatTagStyle0","CatTag","tagCreationChars","currentValue","createSplitRegex","escapedDelimiters","regexPattern","testForHeightReduction","restoreTextAlign","delete","textAlign","wordWrap","scrollBehavior","paddingBottom","borderTopWidth","borderBottomWidth","Event","bubbles","catTextareaCss","CatTextareaStyle0","CatTextarea","autosize","textarea","rows","formatIso","clampTime","hhMin","mmMin","hhMax","mmMax","isBefore","hh","mm","isAfter","catTimeCss","CatTimeStyle0","CatTime","set12hFormat","syncValue","selectionTime","elem1","elem2","isAm","toggleAm","timeArray","isoTime","includeAmPm","catToggleCss","CatToggleStyle0","CatToggle","isTouchDevice","maxTouchPoints","catTooltipCss","CatTooltipStyle0","CatTooltip","hostRef","inactive","boundShowListener","showListener","boundHideListener","hideListener","boundWindowTouchStartListener","windowTouchStartListener","boundTouchStartListener","touchStartListener","boundTouchEndListener","touchEndListener","handleKeyDown","hideTooltip","isTouchScreen","tooltip","SHIFT_PADDING","hideTimeout","showTimeout","showTooltip","showDelay","hideDelay","touchTimeout","longTouchDuration","cleanupFloatingUi"],"sources":["../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/util/ObjectUnsubscribedError.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/Subject.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/scheduler/dateTimestampProvider.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/scheduler/Action.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/scheduler/intervalProvider.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/scheduler/AsyncAction.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/Scheduler.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/scheduler/AsyncScheduler.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/scheduler/async.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/observable/empty.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/util/EmptyError.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/util/isDate.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/map.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/util/mapOneOrManyArgs.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/mergeInternals.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/mergeMap.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/mergeAll.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/concatAll.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/observable/concat.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/observable/fromEvent.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/observable/timer.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/observable/merge.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/filter.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/audit.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/auditTime.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/catchError.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/scanInternals.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/debounce.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/defaultIfEmpty.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/take.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/ignoreElements.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/mapTo.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/delayWhen.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/delay.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/distinctUntilChanged.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/throwIfEmpty.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/first.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/scan.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/startWith.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/switchMap.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/takeUntil.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/takeWhile.js","../node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm/internal/operators/tap.js","src/utils/setDefault.ts","src/components/cat-alert/cat-alert.scss?tag=cat-alert&encapsulation=shadow","src/components/cat-alert/cat-alert.tsx","src/utils/load-img.ts","src/components/cat-avatar/cat-avatar.scss?tag=cat-avatar&encapsulation=shadow","src/components/cat-avatar/cat-avatar.tsx","src/components/cat-badge/cat-badge.scss?tag=cat-badge&encapsulation=shadow","src/components/cat-badge/cat-badge.tsx","src/utils/breakpoints.ts","src/utils/platform.ts","src/utils/media-matcher.ts","src/utils/find-closest.ts","src/components/cat-button/cat-button.scss?tag=cat-button&encapsulation=shadow","src/components/cat-button/cat-button.tsx","src/components/cat-button-group/cat-button-group.scss?tag=cat-button-group&encapsulation=shadow","src/components/cat-button-group/cat-button-group.tsx","src/components/cat-card/cat-card.scss?tag=cat-card&encapsulation=shadow","src/components/cat-card/cat-card.tsx","src/components/cat-form-hint/cat-form-hint.tsx","src/components/cat-checkbox/cat-checkbox.scss?tag=cat-checkbox&encapsulation=shadow","src/components/cat-checkbox/cat-checkbox.tsx","src/components/cat-date-inline/cat-date-locale.ts","src/components/cat-date-inline/cat-date-math.ts","src/components/cat-date/cat-date.scss?tag=cat-date&encapsulation=shadow","src/components/cat-date/cat-date.tsx","../node_modules/.pnpm/tabbable@6.2.0/node_modules/tabbable/dist/index.esm.js","src/utils/first-tabbable.ts","src/components/cat-date-inline/cat-date-inline.scss?tag=cat-date-inline&encapsulation=shadow","src/components/cat-date-inline/cat-date-inline.tsx","../node_modules/.pnpm/flatpickr@4.6.13/node_modules/flatpickr/dist/esm/types/options.js","../node_modules/.pnpm/flatpickr@4.6.13/node_modules/flatpickr/dist/esm/l10n/default.js","../node_modules/.pnpm/flatpickr@4.6.13/node_modules/flatpickr/dist/esm/utils/index.js","../node_modules/.pnpm/flatpickr@4.6.13/node_modules/flatpickr/dist/esm/utils/dom.js","../node_modules/.pnpm/flatpickr@4.6.13/node_modules/flatpickr/dist/esm/utils/formatting.js","../node_modules/.pnpm/flatpickr@4.6.13/node_modules/flatpickr/dist/esm/utils/dates.js","../node_modules/.pnpm/flatpickr@4.6.13/node_modules/flatpickr/dist/esm/utils/polyfills.js","../node_modules/.pnpm/flatpickr@4.6.13/node_modules/flatpickr/dist/esm/index.js","../node_modules/.pnpm/flatpickr@4.6.13/node_modules/flatpickr/dist/plugins/weekSelect/weekSelect.js","src/components/cat-datepicker/cat-datepicker.config.ts","src/components/cat-datepicker/cat-datepicker.format.ts","src/components/cat-datepicker/cat-datepicker.locale.ts","../node_modules/.pnpm/@floating-ui+utils@0.2.1/node_modules/@floating-ui/utils/dist/floating-ui.utils.esm.js","../node_modules/.pnpm/@floating-ui+core@1.6.0/node_modules/@floating-ui/core/dist/floating-ui.core.esm.js","../node_modules/.pnpm/@floating-ui+utils@0.2.1/node_modules/@floating-ui/utils/dom/floating-ui.utils.dom.esm.js","../node_modules/.pnpm/@floating-ui+dom@1.6.5/node_modules/@floating-ui/dom/dist/floating-ui.dom.esm.js","src/components/cat-datepicker/cat-datepicker.scss?tag=cat-datepicker&encapsulation=shadow","src/components/cat-datepicker/cat-datepicker.tsx","src/components/cat-datepicker-inline/cat-datepicker-inline.scss?tag=cat-datepicker-inline&encapsulation=shadow","src/components/cat-datepicker-inline/cat-datepicker-inline.tsx","../tokens/dist/js/variables.js","../node_modules/.pnpm/focus-trap@7.5.4/node_modules/focus-trap/dist/focus-trap.esm.js","src/components/cat-dropdown/cat-dropdown.scss?tag=cat-dropdown&encapsulation=shadow","src/components/cat-dropdown/cat-dropdown.tsx","src/components/cat-form-group/cat-form-group.scss?tag=cat-form-group&encapsulation=shadow","src/components/cat-form-group/cat-form-group.tsx","src/components/cat-icon/cat-icon.scss?tag=cat-icon&encapsulation=shadow","src/components/cat-icon/cat-icon.tsx","../node_modules/.pnpm/cleave.js@1.6.0/node_modules/cleave.js/dist/cleave-esm.js","src/utils/coerce.ts","src/components/cat-input/cat-input.scss?tag=cat-input&encapsulation=shadow","src/components/cat-input/cat-input.tsx","src/components/cat-pagination/cat-pagination.scss?tag=cat-pagination&encapsulation=shadow","src/components/cat-pagination/cat-pagination.tsx","src/components/cat-radio/cat-radio.scss?tag=cat-radio&encapsulation=shadow","src/components/cat-radio/cat-radio.tsx","src/components/cat-radio-group/cat-radio-group.scss?tag=cat-radio-group&encapsulation=shadow","src/components/cat-radio-group/cat-radio-group.tsx","src/components/cat-scrollable/cat-scrollable.scss?tag=cat-scrollable&encapsulation=shadow","src/components/cat-scrollable/cat-scrollable.tsx","../node_modules/.pnpm/autosize-input@1.0.2/node_modules/autosize-input/index.js","src/components/cat-select/cat-select.scss?tag=cat-select&encapsulation=shadow","src/components/cat-select/cat-select.tsx","src/components/cat-select-demo/cat-select-demo.tsx","src/components/cat-skeleton/cat-skeleton.scss?tag=cat-skeleton&encapsulation=shadow","src/components/cat-skeleton/cat-skeleton.tsx","src/components/cat-spinner/cat-spinner.scss?tag=cat-spinner&encapsulation=shadow","src/components/cat-spinner/cat-spinner.tsx","src/components/cat-tab/cat-tab.scss?tag=cat-tab&encapsulation=shadow","src/components/cat-tab/cat-tab.tsx","src/components/cat-tabs/cat-tabs.scss?tag=cat-tabs&encapsulation=shadow","src/components/cat-tabs/cat-tabs.tsx","src/components/cat-tag/cat-tag.scss?tag=cat-tag&encapsulation=shadow","src/components/cat-tag/cat-tag.tsx","../node_modules/.pnpm/autosize@6.0.1/node_modules/autosize/dist/autosize.esm.js","src/components/cat-textarea/cat-textarea.scss?tag=cat-textarea&encapsulation=shadow","src/components/cat-textarea/cat-textarea.tsx","src/components/cat-time/cat-time-locale.ts","src/components/cat-time/cat-time-math.ts","src/components/cat-time/cat-time.scss?tag=cat-time&encapsulation=shadow","src/components/cat-time/cat-time.tsx","src/components/cat-toggle/cat-toggle.scss?tag=cat-toggle&encapsulation=shadow","src/components/cat-toggle/cat-toggle.tsx","src/utils/is-touch-screen.ts","src/components/cat-tooltip/cat-tooltip.scss?tag=cat-tooltip&encapsulation=shadow","src/components/cat-tooltip/cat-tooltip.tsx"],"sourcesContent":["import { createErrorClass } from './createErrorClass';\nexport const ObjectUnsubscribedError = createErrorClass((_super) => function ObjectUnsubscribedErrorImpl() {\n    _super(this);\n    this.name = 'ObjectUnsubscribedError';\n    this.message = 'object unsubscribed';\n});\n//# sourceMappingURL=ObjectUnsubscribedError.js.map","import { Observable } from './Observable';\nimport { Subscription, EMPTY_SUBSCRIPTION } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { arrRemove } from './util/arrRemove';\nimport { errorContext } from './util/errorContext';\nexport class Subject extends Observable {\n    constructor() {\n        super();\n        this.closed = false;\n        this.currentObservers = null;\n        this.observers = [];\n        this.isStopped = false;\n        this.hasError = false;\n        this.thrownError = null;\n    }\n    lift(operator) {\n        const subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    }\n    _throwIfClosed() {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n    }\n    next(value) {\n        errorContext(() => {\n            this._throwIfClosed();\n            if (!this.isStopped) {\n                if (!this.currentObservers) {\n                    this.currentObservers = Array.from(this.observers);\n                }\n                for (const observer of this.currentObservers) {\n                    observer.next(value);\n                }\n            }\n        });\n    }\n    error(err) {\n        errorContext(() => {\n            this._throwIfClosed();\n            if (!this.isStopped) {\n                this.hasError = this.isStopped = true;\n                this.thrownError = err;\n                const { observers } = this;\n                while (observers.length) {\n                    observers.shift().error(err);\n                }\n            }\n        });\n    }\n    complete() {\n        errorContext(() => {\n            this._throwIfClosed();\n            if (!this.isStopped) {\n                this.isStopped = true;\n                const { observers } = this;\n                while (observers.length) {\n                    observers.shift().complete();\n                }\n            }\n        });\n    }\n    unsubscribe() {\n        this.isStopped = this.closed = true;\n        this.observers = this.currentObservers = null;\n    }\n    get observed() {\n        var _a;\n        return ((_a = this.observers) === null || _a === void 0 ? void 0 : _a.length) > 0;\n    }\n    _trySubscribe(subscriber) {\n        this._throwIfClosed();\n        return super._trySubscribe(subscriber);\n    }\n    _subscribe(subscriber) {\n        this._throwIfClosed();\n        this._checkFinalizedStatuses(subscriber);\n        return this._innerSubscribe(subscriber);\n    }\n    _innerSubscribe(subscriber) {\n        const { hasError, isStopped, observers } = this;\n        if (hasError || isStopped) {\n            return EMPTY_SUBSCRIPTION;\n        }\n        this.currentObservers = null;\n        observers.push(subscriber);\n        return new Subscription(() => {\n            this.currentObservers = null;\n            arrRemove(observers, subscriber);\n        });\n    }\n    _checkFinalizedStatuses(subscriber) {\n        const { hasError, thrownError, isStopped } = this;\n        if (hasError) {\n            subscriber.error(thrownError);\n        }\n        else if (isStopped) {\n            subscriber.complete();\n        }\n    }\n    asObservable() {\n        const observable = new Observable();\n        observable.source = this;\n        return observable;\n    }\n}\nSubject.create = (destination, source) => {\n    return new AnonymousSubject(destination, source);\n};\nexport class AnonymousSubject extends Subject {\n    constructor(destination, source) {\n        super();\n        this.destination = destination;\n        this.source = source;\n    }\n    next(value) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.next) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n    }\n    error(err) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n    }\n    complete() {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.complete) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    _subscribe(subscriber) {\n        var _a, _b;\n        return (_b = (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber)) !== null && _b !== void 0 ? _b : EMPTY_SUBSCRIPTION;\n    }\n}\n//# sourceMappingURL=Subject.js.map","export const dateTimestampProvider = {\n    now() {\n        return (dateTimestampProvider.delegate || Date).now();\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=dateTimestampProvider.js.map","import { Subscription } from '../Subscription';\nexport class Action extends Subscription {\n    constructor(scheduler, work) {\n        super();\n    }\n    schedule(state, delay = 0) {\n        return this;\n    }\n}\n//# sourceMappingURL=Action.js.map","export const intervalProvider = {\n    setInterval(handler, timeout, ...args) {\n        const { delegate } = intervalProvider;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setInterval) {\n            return delegate.setInterval(handler, timeout, ...args);\n        }\n        return setInterval(handler, timeout, ...args);\n    },\n    clearInterval(handle) {\n        const { delegate } = intervalProvider;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearInterval) || clearInterval)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=intervalProvider.js.map","import { Action } from './Action';\nimport { intervalProvider } from './intervalProvider';\nimport { arrRemove } from '../util/arrRemove';\nexport class AsyncAction extends Action {\n    constructor(scheduler, work) {\n        super(scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n        this.pending = false;\n    }\n    schedule(state, delay = 0) {\n        var _a;\n        if (this.closed) {\n            return this;\n        }\n        this.state = state;\n        const id = this.id;\n        const scheduler = this.scheduler;\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.pending = true;\n        this.delay = delay;\n        this.id = (_a = this.id) !== null && _a !== void 0 ? _a : this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    }\n    requestAsyncId(scheduler, _id, delay = 0) {\n        return intervalProvider.setInterval(scheduler.flush.bind(scheduler, this), delay);\n    }\n    recycleAsyncId(_scheduler, id, delay = 0) {\n        if (delay != null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        if (id != null) {\n            intervalProvider.clearInterval(id);\n        }\n        return undefined;\n    }\n    execute(state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        const error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    }\n    _execute(state, _delay) {\n        let errored = false;\n        let errorValue;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = e ? e : new Error('Scheduled action threw falsy error');\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    }\n    unsubscribe() {\n        if (!this.closed) {\n            const { id, scheduler } = this;\n            const { actions } = scheduler;\n            this.work = this.state = this.scheduler = null;\n            this.pending = false;\n            arrRemove(actions, this);\n            if (id != null) {\n                this.id = this.recycleAsyncId(scheduler, id, null);\n            }\n            this.delay = null;\n            super.unsubscribe();\n        }\n    }\n}\n//# sourceMappingURL=AsyncAction.js.map","import { dateTimestampProvider } from './scheduler/dateTimestampProvider';\nexport class Scheduler {\n    constructor(schedulerActionCtor, now = Scheduler.now) {\n        this.schedulerActionCtor = schedulerActionCtor;\n        this.now = now;\n    }\n    schedule(work, delay = 0, state) {\n        return new this.schedulerActionCtor(this, work).schedule(state, delay);\n    }\n}\nScheduler.now = dateTimestampProvider.now;\n//# sourceMappingURL=Scheduler.js.map","import { Scheduler } from '../Scheduler';\nexport class AsyncScheduler extends Scheduler {\n    constructor(SchedulerAction, now = Scheduler.now) {\n        super(SchedulerAction, now);\n        this.actions = [];\n        this._active = false;\n    }\n    flush(action) {\n        const { actions } = this;\n        if (this._active) {\n            actions.push(action);\n            return;\n        }\n        let error;\n        this._active = true;\n        do {\n            if ((error = action.execute(action.state, action.delay))) {\n                break;\n            }\n        } while ((action = actions.shift()));\n        this._active = false;\n        if (error) {\n            while ((action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    }\n}\n//# sourceMappingURL=AsyncScheduler.js.map","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\nexport const asyncScheduler = new AsyncScheduler(AsyncAction);\nexport const async = asyncScheduler;\n//# sourceMappingURL=async.js.map","import { Observable } from '../Observable';\nexport const EMPTY = new Observable((subscriber) => subscriber.complete());\nexport function empty(scheduler) {\n    return scheduler ? emptyScheduled(scheduler) : EMPTY;\n}\nfunction emptyScheduled(scheduler) {\n    return new Observable((subscriber) => scheduler.schedule(() => subscriber.complete()));\n}\n//# sourceMappingURL=empty.js.map","import { createErrorClass } from './createErrorClass';\nexport const EmptyError = createErrorClass((_super) => function EmptyErrorImpl() {\n    _super(this);\n    this.name = 'EmptyError';\n    this.message = 'no elements in sequence';\n});\n//# sourceMappingURL=EmptyError.js.map","export function isValidDate(value) {\n    return value instanceof Date && !isNaN(value);\n}\n//# sourceMappingURL=isDate.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function map(project, thisArg) {\n    return operate((source, subscriber) => {\n        let index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            subscriber.next(project.call(thisArg, value, index++));\n        }));\n    });\n}\n//# sourceMappingURL=map.js.map","import { map } from \"../operators/map\";\nconst { isArray } = Array;\nfunction callOrApply(fn, args) {\n    return isArray(args) ? fn(...args) : fn(args);\n}\nexport function mapOneOrManyArgs(fn) {\n    return map(args => callOrApply(fn, args));\n}\n//# sourceMappingURL=mapOneOrManyArgs.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { executeSchedule } from '../util/executeSchedule';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function mergeInternals(source, subscriber, project, concurrent, onBeforeNext, expand, innerSubScheduler, additionalFinalizer) {\n    const buffer = [];\n    let active = 0;\n    let index = 0;\n    let isComplete = false;\n    const checkComplete = () => {\n        if (isComplete && !buffer.length && !active) {\n            subscriber.complete();\n        }\n    };\n    const outerNext = (value) => (active < concurrent ? doInnerSub(value) : buffer.push(value));\n    const doInnerSub = (value) => {\n        expand && subscriber.next(value);\n        active++;\n        let innerComplete = false;\n        innerFrom(project(value, index++)).subscribe(createOperatorSubscriber(subscriber, (innerValue) => {\n            onBeforeNext === null || onBeforeNext === void 0 ? void 0 : onBeforeNext(innerValue);\n            if (expand) {\n                outerNext(innerValue);\n            }\n            else {\n                subscriber.next(innerValue);\n            }\n        }, () => {\n            innerComplete = true;\n        }, undefined, () => {\n            if (innerComplete) {\n                try {\n                    active--;\n                    while (buffer.length && active < concurrent) {\n                        const bufferedValue = buffer.shift();\n                        if (innerSubScheduler) {\n                            executeSchedule(subscriber, innerSubScheduler, () => doInnerSub(bufferedValue));\n                        }\n                        else {\n                            doInnerSub(bufferedValue);\n                        }\n                    }\n                    checkComplete();\n                }\n                catch (err) {\n                    subscriber.error(err);\n                }\n            }\n        }));\n    };\n    source.subscribe(createOperatorSubscriber(subscriber, outerNext, () => {\n        isComplete = true;\n        checkComplete();\n    }));\n    return () => {\n        additionalFinalizer === null || additionalFinalizer === void 0 ? void 0 : additionalFinalizer();\n    };\n}\n//# sourceMappingURL=mergeInternals.js.map","import { map } from './map';\nimport { innerFrom } from '../observable/innerFrom';\nimport { operate } from '../util/lift';\nimport { mergeInternals } from './mergeInternals';\nimport { isFunction } from '../util/isFunction';\nexport function mergeMap(project, resultSelector, concurrent = Infinity) {\n    if (isFunction(resultSelector)) {\n        return mergeMap((a, i) => map((b, ii) => resultSelector(a, b, i, ii))(innerFrom(project(a, i))), concurrent);\n    }\n    else if (typeof resultSelector === 'number') {\n        concurrent = resultSelector;\n    }\n    return operate((source, subscriber) => mergeInternals(source, subscriber, project, concurrent));\n}\n//# sourceMappingURL=mergeMap.js.map","import { mergeMap } from './mergeMap';\nimport { identity } from '../util/identity';\nexport function mergeAll(concurrent = Infinity) {\n    return mergeMap(identity, concurrent);\n}\n//# sourceMappingURL=mergeAll.js.map","import { mergeAll } from './mergeAll';\nexport function concatAll() {\n    return mergeAll(1);\n}\n//# sourceMappingURL=concatAll.js.map","import { concatAll } from '../operators/concatAll';\nimport { popScheduler } from '../util/args';\nimport { from } from './from';\nexport function concat(...args) {\n    return concatAll()(from(args, popScheduler(args)));\n}\n//# sourceMappingURL=concat.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { Observable } from '../Observable';\nimport { mergeMap } from '../operators/mergeMap';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isFunction } from '../util/isFunction';\nimport { mapOneOrManyArgs } from '../util/mapOneOrManyArgs';\nconst nodeEventEmitterMethods = ['addListener', 'removeListener'];\nconst eventTargetMethods = ['addEventListener', 'removeEventListener'];\nconst jqueryMethods = ['on', 'off'];\nexport function fromEvent(target, eventName, options, resultSelector) {\n    if (isFunction(options)) {\n        resultSelector = options;\n        options = undefined;\n    }\n    if (resultSelector) {\n        return fromEvent(target, eventName, options).pipe(mapOneOrManyArgs(resultSelector));\n    }\n    const [add, remove] = isEventTarget(target)\n        ? eventTargetMethods.map((methodName) => (handler) => target[methodName](eventName, handler, options))\n        :\n            isNodeStyleEventEmitter(target)\n                ? nodeEventEmitterMethods.map(toCommonHandlerRegistry(target, eventName))\n                : isJQueryStyleEventEmitter(target)\n                    ? jqueryMethods.map(toCommonHandlerRegistry(target, eventName))\n                    : [];\n    if (!add) {\n        if (isArrayLike(target)) {\n            return mergeMap((subTarget) => fromEvent(subTarget, eventName, options))(innerFrom(target));\n        }\n    }\n    if (!add) {\n        throw new TypeError('Invalid event target');\n    }\n    return new Observable((subscriber) => {\n        const handler = (...args) => subscriber.next(1 < args.length ? args : args[0]);\n        add(handler);\n        return () => remove(handler);\n    });\n}\nfunction toCommonHandlerRegistry(target, eventName) {\n    return (methodName) => (handler) => target[methodName](eventName, handler);\n}\nfunction isNodeStyleEventEmitter(target) {\n    return isFunction(target.addListener) && isFunction(target.removeListener);\n}\nfunction isJQueryStyleEventEmitter(target) {\n    return isFunction(target.on) && isFunction(target.off);\n}\nfunction isEventTarget(target) {\n    return isFunction(target.addEventListener) && isFunction(target.removeEventListener);\n}\n//# sourceMappingURL=fromEvent.js.map","import { Observable } from '../Observable';\nimport { async as asyncScheduler } from '../scheduler/async';\nimport { isScheduler } from '../util/isScheduler';\nimport { isValidDate } from '../util/isDate';\nexport function timer(dueTime = 0, intervalOrScheduler, scheduler = asyncScheduler) {\n    let intervalDuration = -1;\n    if (intervalOrScheduler != null) {\n        if (isScheduler(intervalOrScheduler)) {\n            scheduler = intervalOrScheduler;\n        }\n        else {\n            intervalDuration = intervalOrScheduler;\n        }\n    }\n    return new Observable((subscriber) => {\n        let due = isValidDate(dueTime) ? +dueTime - scheduler.now() : dueTime;\n        if (due < 0) {\n            due = 0;\n        }\n        let n = 0;\n        return scheduler.schedule(function () {\n            if (!subscriber.closed) {\n                subscriber.next(n++);\n                if (0 <= intervalDuration) {\n                    this.schedule(undefined, intervalDuration);\n                }\n                else {\n                    subscriber.complete();\n                }\n            }\n        }, due);\n    });\n}\n//# sourceMappingURL=timer.js.map","import { mergeAll } from '../operators/mergeAll';\nimport { innerFrom } from './innerFrom';\nimport { EMPTY } from './empty';\nimport { popNumber, popScheduler } from '../util/args';\nimport { from } from './from';\nexport function merge(...args) {\n    const scheduler = popScheduler(args);\n    const concurrent = popNumber(args, Infinity);\n    const sources = args;\n    return !sources.length\n        ?\n            EMPTY\n        : sources.length === 1\n            ?\n                innerFrom(sources[0])\n            :\n                mergeAll(concurrent)(from(sources, scheduler));\n}\n//# sourceMappingURL=merge.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function filter(predicate, thisArg) {\n    return operate((source, subscriber) => {\n        let index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => predicate.call(thisArg, value, index++) && subscriber.next(value)));\n    });\n}\n//# sourceMappingURL=filter.js.map","import { operate } from '../util/lift';\nimport { innerFrom } from '../observable/innerFrom';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function audit(durationSelector) {\n    return operate((source, subscriber) => {\n        let hasValue = false;\n        let lastValue = null;\n        let durationSubscriber = null;\n        let isComplete = false;\n        const endDuration = () => {\n            durationSubscriber === null || durationSubscriber === void 0 ? void 0 : durationSubscriber.unsubscribe();\n            durationSubscriber = null;\n            if (hasValue) {\n                hasValue = false;\n                const value = lastValue;\n                lastValue = null;\n                subscriber.next(value);\n            }\n            isComplete && subscriber.complete();\n        };\n        const cleanupDuration = () => {\n            durationSubscriber = null;\n            isComplete && subscriber.complete();\n        };\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            hasValue = true;\n            lastValue = value;\n            if (!durationSubscriber) {\n                innerFrom(durationSelector(value)).subscribe((durationSubscriber = createOperatorSubscriber(subscriber, endDuration, cleanupDuration)));\n            }\n        }, () => {\n            isComplete = true;\n            (!hasValue || !durationSubscriber || durationSubscriber.closed) && subscriber.complete();\n        }));\n    });\n}\n//# sourceMappingURL=audit.js.map","import { asyncScheduler } from '../scheduler/async';\nimport { audit } from './audit';\nimport { timer } from '../observable/timer';\nexport function auditTime(duration, scheduler = asyncScheduler) {\n    return audit(() => timer(duration, scheduler));\n}\n//# sourceMappingURL=auditTime.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { operate } from '../util/lift';\nexport function catchError(selector) {\n    return operate((source, subscriber) => {\n        let innerSub = null;\n        let syncUnsub = false;\n        let handledResult;\n        innerSub = source.subscribe(createOperatorSubscriber(subscriber, undefined, undefined, (err) => {\n            handledResult = innerFrom(selector(err, catchError(selector)(source)));\n            if (innerSub) {\n                innerSub.unsubscribe();\n                innerSub = null;\n                handledResult.subscribe(subscriber);\n            }\n            else {\n                syncUnsub = true;\n            }\n        }));\n        if (syncUnsub) {\n            innerSub.unsubscribe();\n            innerSub = null;\n            handledResult.subscribe(subscriber);\n        }\n    });\n}\n//# sourceMappingURL=catchError.js.map","import { createOperatorSubscriber } from './OperatorSubscriber';\nexport function scanInternals(accumulator, seed, hasSeed, emitOnNext, emitBeforeComplete) {\n    return (source, subscriber) => {\n        let hasState = hasSeed;\n        let state = seed;\n        let index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            const i = index++;\n            state = hasState\n                ?\n                    accumulator(state, value, i)\n                :\n                    ((hasState = true), value);\n            emitOnNext && subscriber.next(state);\n        }, emitBeforeComplete &&\n            (() => {\n                hasState && subscriber.next(state);\n                subscriber.complete();\n            })));\n    };\n}\n//# sourceMappingURL=scanInternals.js.map","import { operate } from '../util/lift';\nimport { noop } from '../util/noop';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { innerFrom } from '../observable/innerFrom';\nexport function debounce(durationSelector) {\n    return operate((source, subscriber) => {\n        let hasValue = false;\n        let lastValue = null;\n        let durationSubscriber = null;\n        const emit = () => {\n            durationSubscriber === null || durationSubscriber === void 0 ? void 0 : durationSubscriber.unsubscribe();\n            durationSubscriber = null;\n            if (hasValue) {\n                hasValue = false;\n                const value = lastValue;\n                lastValue = null;\n                subscriber.next(value);\n            }\n        };\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            durationSubscriber === null || durationSubscriber === void 0 ? void 0 : durationSubscriber.unsubscribe();\n            hasValue = true;\n            lastValue = value;\n            durationSubscriber = createOperatorSubscriber(subscriber, emit, noop);\n            innerFrom(durationSelector(value)).subscribe(durationSubscriber);\n        }, () => {\n            emit();\n            subscriber.complete();\n        }, undefined, () => {\n            lastValue = durationSubscriber = null;\n        }));\n    });\n}\n//# sourceMappingURL=debounce.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function defaultIfEmpty(defaultValue) {\n    return operate((source, subscriber) => {\n        let hasValue = false;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            hasValue = true;\n            subscriber.next(value);\n        }, () => {\n            if (!hasValue) {\n                subscriber.next(defaultValue);\n            }\n            subscriber.complete();\n        }));\n    });\n}\n//# sourceMappingURL=defaultIfEmpty.js.map","import { EMPTY } from '../observable/empty';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function take(count) {\n    return count <= 0\n        ?\n            () => EMPTY\n        : operate((source, subscriber) => {\n            let seen = 0;\n            source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n                if (++seen <= count) {\n                    subscriber.next(value);\n                    if (count <= seen) {\n                        subscriber.complete();\n                    }\n                }\n            }));\n        });\n}\n//# sourceMappingURL=take.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { noop } from '../util/noop';\nexport function ignoreElements() {\n    return operate((source, subscriber) => {\n        source.subscribe(createOperatorSubscriber(subscriber, noop));\n    });\n}\n//# sourceMappingURL=ignoreElements.js.map","import { map } from './map';\nexport function mapTo(value) {\n    return map(() => value);\n}\n//# sourceMappingURL=mapTo.js.map","import { concat } from '../observable/concat';\nimport { take } from './take';\nimport { ignoreElements } from './ignoreElements';\nimport { mapTo } from './mapTo';\nimport { mergeMap } from './mergeMap';\nimport { innerFrom } from '../observable/innerFrom';\nexport function delayWhen(delayDurationSelector, subscriptionDelay) {\n    if (subscriptionDelay) {\n        return (source) => concat(subscriptionDelay.pipe(take(1), ignoreElements()), source.pipe(delayWhen(delayDurationSelector)));\n    }\n    return mergeMap((value, index) => innerFrom(delayDurationSelector(value, index)).pipe(take(1), mapTo(value)));\n}\n//# sourceMappingURL=delayWhen.js.map","import { asyncScheduler } from '../scheduler/async';\nimport { delayWhen } from './delayWhen';\nimport { timer } from '../observable/timer';\nexport function delay(due, scheduler = asyncScheduler) {\n    const duration = timer(due, scheduler);\n    return delayWhen(() => duration);\n}\n//# sourceMappingURL=delay.js.map","import { identity } from '../util/identity';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function distinctUntilChanged(comparator, keySelector = identity) {\n    comparator = comparator !== null && comparator !== void 0 ? comparator : defaultCompare;\n    return operate((source, subscriber) => {\n        let previousKey;\n        let first = true;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            const currentKey = keySelector(value);\n            if (first || !comparator(previousKey, currentKey)) {\n                first = false;\n                previousKey = currentKey;\n                subscriber.next(value);\n            }\n        }));\n    });\n}\nfunction defaultCompare(a, b) {\n    return a === b;\n}\n//# sourceMappingURL=distinctUntilChanged.js.map","import { EmptyError } from '../util/EmptyError';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function throwIfEmpty(errorFactory = defaultErrorFactory) {\n    return operate((source, subscriber) => {\n        let hasValue = false;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            hasValue = true;\n            subscriber.next(value);\n        }, () => (hasValue ? subscriber.complete() : subscriber.error(errorFactory()))));\n    });\n}\nfunction defaultErrorFactory() {\n    return new EmptyError();\n}\n//# sourceMappingURL=throwIfEmpty.js.map","import { EmptyError } from '../util/EmptyError';\nimport { filter } from './filter';\nimport { take } from './take';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { throwIfEmpty } from './throwIfEmpty';\nimport { identity } from '../util/identity';\nexport function first(predicate, defaultValue) {\n    const hasDefaultValue = arguments.length >= 2;\n    return (source) => source.pipe(predicate ? filter((v, i) => predicate(v, i, source)) : identity, take(1), hasDefaultValue ? defaultIfEmpty(defaultValue) : throwIfEmpty(() => new EmptyError()));\n}\n//# sourceMappingURL=first.js.map","import { operate } from '../util/lift';\nimport { scanInternals } from './scanInternals';\nexport function scan(accumulator, seed) {\n    return operate(scanInternals(accumulator, seed, arguments.length >= 2, true));\n}\n//# sourceMappingURL=scan.js.map","import { concat } from '../observable/concat';\nimport { popScheduler } from '../util/args';\nimport { operate } from '../util/lift';\nexport function startWith(...values) {\n    const scheduler = popScheduler(values);\n    return operate((source, subscriber) => {\n        (scheduler ? concat(values, source, scheduler) : concat(values, source)).subscribe(subscriber);\n    });\n}\n//# sourceMappingURL=startWith.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function switchMap(project, resultSelector) {\n    return operate((source, subscriber) => {\n        let innerSubscriber = null;\n        let index = 0;\n        let isComplete = false;\n        const checkComplete = () => isComplete && !innerSubscriber && subscriber.complete();\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            innerSubscriber === null || innerSubscriber === void 0 ? void 0 : innerSubscriber.unsubscribe();\n            let innerIndex = 0;\n            const outerIndex = index++;\n            innerFrom(project(value, outerIndex)).subscribe((innerSubscriber = createOperatorSubscriber(subscriber, (innerValue) => subscriber.next(resultSelector ? resultSelector(value, innerValue, outerIndex, innerIndex++) : innerValue), () => {\n                innerSubscriber = null;\n                checkComplete();\n            })));\n        }, () => {\n            isComplete = true;\n            checkComplete();\n        }));\n    });\n}\n//# sourceMappingURL=switchMap.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { innerFrom } from '../observable/innerFrom';\nimport { noop } from '../util/noop';\nexport function takeUntil(notifier) {\n    return operate((source, subscriber) => {\n        innerFrom(notifier).subscribe(createOperatorSubscriber(subscriber, () => subscriber.complete(), noop));\n        !subscriber.closed && source.subscribe(subscriber);\n    });\n}\n//# sourceMappingURL=takeUntil.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function takeWhile(predicate, inclusive = false) {\n    return operate((source, subscriber) => {\n        let index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            const result = predicate(value, index++);\n            (result || inclusive) && subscriber.next(value);\n            !result && subscriber.complete();\n        }));\n    });\n}\n//# sourceMappingURL=takeWhile.js.map","import { isFunction } from '../util/isFunction';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { identity } from '../util/identity';\nexport function tap(observerOrNext, error, complete) {\n    const tapObserver = isFunction(observerOrNext) || error || complete\n        ?\n            { next: observerOrNext, error, complete }\n        : observerOrNext;\n    return tapObserver\n        ? operate((source, subscriber) => {\n            var _a;\n            (_a = tapObserver.subscribe) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n            let isUnsub = true;\n            source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n                var _a;\n                (_a = tapObserver.next) === null || _a === void 0 ? void 0 : _a.call(tapObserver, value);\n                subscriber.next(value);\n            }, () => {\n                var _a;\n                isUnsub = false;\n                (_a = tapObserver.complete) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n                subscriber.complete();\n            }, (err) => {\n                var _a;\n                isUnsub = false;\n                (_a = tapObserver.error) === null || _a === void 0 ? void 0 : _a.call(tapObserver, err);\n                subscriber.error(err);\n            }, () => {\n                var _a, _b;\n                if (isUnsub) {\n                    (_a = tapObserver.unsubscribe) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n                }\n                (_b = tapObserver.finalize) === null || _b === void 0 ? void 0 : _b.call(tapObserver);\n            }));\n        })\n        :\n            identity;\n}\n//# sourceMappingURL=tap.js.map","export function setAttributeDefault<T extends { hostElement: HTMLElement }>(\n  host: T,\n  attr: string,\n  value: unknown\n): void {\n  if (!host.hostElement.hasAttribute(attr) && value != null) {\n    host.hostElement.setAttribute(attr, String(value));\n  }\n}\n\nexport function setAttribute<T extends { hostElement: HTMLElement }>(host: T, attr: string, value: unknown): void {\n  host.hostElement.setAttribute(attr, String(value));\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n:host {\n  display: flex;\n  gap: 0.5rem;\n  padding: 1.25rem;\n  border-radius: cat-border-radius('l');\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n:host(:focus-visible) {\n  outline: 2px solid cat-token('color.ui.border.focus');\n  outline-offset: 1px;\n}\n\n.content {\n  align-self: center;\n  width: 100%;\n}\n\n::slotted(:last-child) {\n  margin-bottom: 0 !important;\n}\n\n// ----- theme\n\n@mixin theme($theme) {\n  :host([color='#{$theme}']) {\n    background-color: cat-token('color.theme.#{$theme}.bg');\n    color: cat-token('color.theme.#{$theme}.fill');\n    // adjust nested links\n    --cat-primary-text: #{cat-token('color.theme.#{$theme}.fill', $wrap: false)};\n    --cat-primary-text-hover: #{cat-token('color.theme.#{$theme}.fillHover', $wrap: false)};\n    --cat-primary-text-active: #{cat-token('color.theme.#{$theme}.fillActive', $wrap: false)};\n    --cat-link-decoration: underline;\n  }\n}\n\n@include theme('primary');\n@include theme('secondary');\n@include theme('info');\n@include theme('success');\n@include theme('warning');\n@include theme('danger');\n","import { Component, Element, h, Host, Prop } from '@stencil/core';\nimport { setAttributeDefault } from '../../utils/setDefault';\n\n/**\n * Informs user about important changes or conditions in the interface. Use this\n * component if you need to capture users attention in a prominent way.\n */\n@Component({\n  tag: 'cat-alert',\n  styleUrl: 'cat-alert.scss',\n  shadow: true\n})\nexport class CatAlert {\n  private readonly mapIcon: Map<string, string> = new Map([\n    ['primary', '$cat:alert-primary'],\n    ['secondary', '$cat:alert-secondary'],\n    ['info', '$cat:alert-info'],\n    ['success', '$cat:alert-success'],\n    ['warning', '$cat:alert-warning'],\n    ['danger', '$cat:alert-danger']\n  ]);\n  private readonly mapRole: Map<string, string> = new Map([\n    ['primary', 'status'],\n    ['secondary', 'status'],\n    ['info', 'status'],\n    ['success', 'status'],\n    ['warning', 'alert'],\n    ['danger', 'alert']\n  ]);\n\n  @Element() hostElement!: HTMLElement;\n\n  /**\n   * The color palette of the alert.\n   */\n  @Prop({ reflect: true }) color: 'primary' | 'secondary' | 'danger' | 'success' | 'warning' = 'primary';\n\n  /**\n   * The name of an icon to be displayed in the alert.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * Whether the icon of the alert is deactivated.\n   */\n  @Prop() noIcon = false;\n\n  connectedCallback() {\n    setAttributeDefault(this, 'tabindex', 0);\n    setAttributeDefault(this, 'role', this.mapRole.get(this.color));\n  }\n\n  render() {\n    return (\n      <Host>\n        {!this.noIcon && <cat-icon size=\"l\" icon={this.icon || this.mapIcon.get(this.color)}></cat-icon>}\n        <div class=\"content\">\n          <slot></slot>\n        </div>\n      </Host>\n    );\n  }\n}\n","/**\n * Loads an image and wraps the result in a promise.\n *\n * @param src the image URL\n * @returns a promise\n */\nconst loadImg = (src: string): Promise<Event> => {\n  return new Promise((resolve, reject) => {\n    const image = new Image();\n    image.addEventListener('load', resolve);\n    image.addEventListener('error', reject);\n    image.src = src;\n  });\n};\n\nexport default loadImg;\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n// -----\n\n$-background-color: cat-token('color.base.neutral.100');\n$-color: cat-token('color.base.neutral.500');\n$-sizes: (\n  'xl': 3.5rem,\n  'l': 3rem,\n  'm': 2.5rem,\n  's': 2rem,\n  'xs': 1.5rem\n);\n\n// -----\n\n:host {\n  /**\n   * @prop --cat-avatar-bg: The background color of the avatar.\n   * @prop --cat-avatar-fill: The text color of the avatar.\n   * @prop --cat-avatar-size: The size of the avatar.\n   * @prop --cat-avatar-font-size: The font size of the avatar.\n   */\n  display: contents;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.avatar {\n  flex: none;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: cat-border-radius('m');\n  text-decoration: inherit;\n  color: var(--cat-avatar-fill, $-color);\n  background-color: var(--cat-avatar-bg, $-background-color);\n  background-size: cover;\n  background-position: center;\n  white-space: nowrap;\n  overflow: hidden;\n  vertical-align: middle;\n  font-weight: 600;\n  @include cat-select(none);\n\n  &:focus-visible {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: 1px;\n  }\n}\n\n.avatar-round {\n  border-radius: 50%;\n}\n\n// ----- size\n\n@mixin size($size, $fontSize) {\n  .avatar-#{$size} {\n    width: var(--cat-avatar-size, map.get($-sizes, $size));\n    height: var(--cat-avatar-size, map.get($-sizes, $size));\n    line-height: var(--cat-avatar-size, map.get($-sizes, $size));\n    font-size: var(--cat-avatar-font-size, cat-body-font-size($fontSize));\n  }\n}\n\n@include size('xs', 'xs');\n@include size('s', 's');\n@include size('m', 'm');\n@include size('l', 'l');\n@include size('xl', 'xl');\n","import { Component, h, Prop, State, Watch } from '@stencil/core';\nimport loadImg from '../../utils/load-img';\n\n/**\n * Avatars are used to represent a person or object.\n */\n@Component({\n  tag: 'cat-avatar',\n  styleUrl: 'cat-avatar.scss',\n  shadow: true\n})\nexport class CatAvatar {\n  @State() backgroundImage?: string;\n\n  /**\n   * The size of the avatar.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' = 'm';\n\n  /**\n   * Use round avatar edges.\n   */\n  @Prop() round = false;\n\n  /**\n   * The label of the avatar.\n   */\n  @Prop() label = '';\n\n  /**\n   * Custom initials for the avatar.\n   */\n  @Prop() initials?: string;\n\n  /**\n   * An optional avatar image.\n   */\n  @Prop() src?: string;\n\n  /**\n   * An icon to be used instead of the initials.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * A destination to link to, rendered in the href attribute of a link.\n   */\n  @Prop() url?: string;\n\n  /**\n   * Specifies where to open the linked document.\n   */\n  @Prop() urlTarget?: '_blank' | '_self';\n\n  @Watch('src')\n  onSrcChanged(value?: string): void {\n    if (value) {\n      loadImg(value).then(\n        () => (this.backgroundImage = `url(${value})`),\n        () => (this.backgroundImage = undefined)\n      );\n    } else {\n      this.backgroundImage = undefined;\n    }\n  }\n\n  componentWillLoad(): void {\n    this.onSrcChanged(this.src);\n  }\n\n  render() {\n    if (this.url) {\n      return (\n        <a href={this.url} target={this.urlTarget} style={this.cssStyle} class={this.cssClass} aria-label={this.label}>\n          {this.content}\n        </a>\n      );\n    } else {\n      return (\n        <span style={this.cssStyle} class={this.cssClass} aria-label={this.label}>\n          {this.content}\n        </span>\n      );\n    }\n  }\n\n  private get content() {\n    return !this.backgroundImage\n      ? [this.icon ? <cat-icon icon={this.icon} size={this.size}></cat-icon> : this.getInitials()]\n      : [];\n  }\n\n  private get cssStyle() {\n    return { 'background-image': this.backgroundImage };\n  }\n\n  private get cssClass() {\n    return {\n      avatar: true,\n      'avatar-round': this.round,\n      [`avatar-${this.size}`]: Boolean(this.size)\n    };\n  }\n\n  private getInitials(): string {\n    return (\n      this.initials ??\n      (this.label ?? '')\n        .split(' ')\n        .map(n => n[0])\n        .join('')\n    );\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n// -----\n\n$-sizes: (\n  'xl': 3rem,\n  'l': 2.5rem,\n  'm': 2rem,\n  's': 1.5rem,\n  'xs': 1rem\n);\n$-paddings: (\n  'xl': 0 1rem,\n  'l': 0 1rem,\n  'm': 0 0.75rem,\n  's': 0 0.5rem,\n  'xs': 0 0.25rem\n);\n\n// -----\n\n:host([hidden]) {\n  display: none;\n}\n\n:host {\n  display: inline-flex;\n  max-width: 100%;\n  vertical-align: baseline;\n  align-items: center;\n  justify-content: center;\n  border-radius: cat-border-radius('m');\n  text-decoration: none;\n  line-height: 1.5;\n\n  slot {\n    display: inline-block;\n    @include cat-ellipsis;\n  }\n}\n\n// ----- round\n\n:host([round]) {\n  border-radius: 10rem;\n}\n\n// ----- theme\n\n$-outline: inset 0 0 0 1px cat-token-wrap(var(--text), $alpha: 0.2);\n\n:host([variant='filled']) {\n  background-color: cat-token-wrap(var(--bg));\n  color: cat-token-wrap(var(--fill));\n  font-weight: 600;\n  @include cat-font-smooth;\n}\n\n:host([variant='outlined']) {\n  background-color: cat-token('color.ui.background.surface');\n  color: cat-token-wrap(var(--text));\n  box-shadow: $-outline;\n}\n\n@mixin theme($theme) {\n  :host([color='#{$theme}']) {\n    --bg: #{cat-token('color.theme.#{$theme}.bg', $wrap: false)};\n    --fill: #{cat-token('color.theme.#{$theme}.fill', $wrap: false)};\n    --text: #{cat-token('color.theme.#{$theme}.text', $wrap: false)};\n  }\n}\n\n@include theme('primary');\n@include theme('secondary');\n@include theme('info');\n@include theme('success');\n@include theme('warning');\n@include theme('danger');\n\n// ----- size\n\n@mixin size($size, $fontSize) {\n  :host([size='#{$size}']) {\n    height: map.get($-sizes, $size);\n    min-width: map.get($-sizes, $size);\n    font-size: cat-body-font-size($fontSize);\n    padding: map.get($-paddings, $size);\n  }\n}\n\n@include size('xs', 'xs');\n@include size('s', 'xs');\n@include size('m', 's');\n@include size('l', 'm');\n@include size('xl', 'l');\n\n// ----- pulse\n\n$-pulse-0: 0 0 0 0 cat-token-wrap(var(--bg));\n$-pulse-70: transparent 0 0 0 0.5rem;\n$-pulse-100: transparent 0 0 0 0;\n\n:host([pulse][variant='filled']) {\n  animation: 1.5s ease 0s infinite normal none running pulse;\n}\n\n:host([pulse][variant='outlined']) {\n  animation: 1.5s ease 0s infinite normal none running pulse-outlined;\n}\n\n@keyframes pulse {\n  0% {\n    box-shadow: $-pulse-0;\n  }\n\n  70% {\n    box-shadow: $-pulse-70;\n  }\n\n  100% {\n    box-shadow: $-pulse-100;\n  }\n}\n\n@keyframes pulse-outlined {\n  0% {\n    box-shadow: $-pulse-0, $-outline;\n  }\n\n  70% {\n    box-shadow: $-pulse-70, $-outline;\n  }\n\n  100% {\n    box-shadow: $-pulse-100, $-outline;\n  }\n}\n","import { Component, Element, h, Prop } from '@stencil/core';\n\n/**\n * Badges are used to inform users of the status of an object or of an action\n * thats been taken.\n */\n@Component({\n  tag: 'cat-badge',\n  styleUrl: 'cat-badge.scss',\n  shadow: true\n})\nexport class CatBadge {\n  @Element() hostElement!: HTMLElement;\n\n  /**\n   * The rendering style of the badge.\n   */\n  @Prop({ reflect: true }) variant: 'filled' | 'outlined' = 'filled';\n\n  /**\n   * The color palette of the badge.\n   */\n  @Prop({ reflect: true }) color: 'primary' | 'secondary' | 'info' | 'success' | 'warning' | 'danger' = 'primary';\n\n  /**\n   * The size of the badge.\n   */\n  @Prop({ reflect: true }) size: 'xs' | 's' | 'm' | 'l' | 'xl' = 'm';\n\n  /**\n   * Use round badge edges.\n   */\n  @Prop({ reflect: true }) round = false;\n\n  /**\n   * Draw attention to the badge with a subtle animation.\n   */\n  @Prop({ reflect: true }) pulse = false;\n\n  render() {\n    return <slot></slot>;\n  }\n}\n","const _breakpoints = ['xs', 's', 'm', 'l', 'xl'] as const;\n\nexport type Breakpoint = (typeof _breakpoints)[number];\n\nexport const Breakpoints: { [breakpoint in Breakpoint]: string } = {\n  xs: '(max-width: 539.98px)',\n  s: '(max-width: 767.98px)',\n  m: '(max-width: 991.98px)',\n  l: '(max-width: 1199.98px)',\n  xl: '(max-width: 1399.98px)'\n};\n\nexport function isBreakpoint(value: unknown): value is Breakpoint {\n  return typeof value === 'string' && _breakpoints.includes(value as Breakpoint);\n}\n","// https://github.com/angular/components/blob/master/src/cdk/platform/platform.ts\n\n// Whether the current platform supports the V8 Break Iterator. The V8 check\n// is necessary to detect all Blink based browsers.\nlet hasV8BreakIterator: boolean;\n\n// We need a try/catch around the reference to `Intl`, because accessing it in some cases can\n// cause IE to throw. These cases are tied to particular versions of Windows and can happen if\n// the consumer is providing a polyfilled `Map`. See:\n// https://github.com/Microsoft/ChakraCore/issues/3189\n// https://github.com/angular/components/issues/15687\ntry {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  hasV8BreakIterator = typeof Intl !== 'undefined' && (Intl as any).v8BreakIterator;\n} catch {\n  hasV8BreakIterator = false;\n}\n\nexport class Platform {\n  /** Whether the current browser is Microsoft Edge. */\n  EDGE: boolean = /(edge)/i.test(navigator.userAgent);\n\n  /** Whether the current rendering engine is Microsoft Trident. */\n  TRIDENT: boolean = /(msie|trident)/i.test(navigator.userAgent);\n\n  // EdgeHTML and Trident mock Blink specific things and need to be excluded from this check.\n  /** Whether the current rendering engine is Blink. */\n  BLINK: boolean =\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    !!((window as any).chrome || hasV8BreakIterator) && typeof CSS !== 'undefined' && !this.EDGE && !this.TRIDENT;\n\n  // Webkit is part of the userAgent in EdgeHTML, Blink and Trident. Therefore we need to\n  // ensure that Webkit runs standalone and is not used as another engine's base.\n  /** Whether the current rendering engine is WebKit. */\n  WEBKIT: boolean = /AppleWebKit/i.test(navigator.userAgent) && !this.BLINK && !this.EDGE && !this.TRIDENT;\n\n  /** Whether the current platform is Apple iOS. */\n  IOS: boolean = /iPad|iPhone|iPod/.test(navigator.userAgent) && !('MSStream' in window);\n\n  // It's difficult to detect the plain Gecko engine, because most of the browsers identify\n  // them self as Gecko-like browsers and modify the userAgent's according to that.\n  // Since we only cover one explicit Firefox case, we can simply check for Firefox\n  // instead of having an unstable check for Gecko.\n  /** Whether the current browser is Firefox. */\n  FIREFOX: boolean = /(firefox|minefield)/i.test(navigator.userAgent);\n\n  /** Whether the current platform is Android. */\n  // Trident on mobile adds the android platform to the userAgent to trick detections.\n  ANDROID: boolean = /android/i.test(navigator.userAgent) && !this.TRIDENT;\n\n  // Safari browsers will include the Safari keyword in their userAgent. Some browsers may fake\n  // this and just place the Safari keyword in the userAgent. To be more safe about Safari every\n  // Safari browser should also use Webkit as its layout engine.\n  /** Whether the current browser is Safari. */\n  SAFARI: boolean = /safari/i.test(navigator.userAgent) && this.WEBKIT;\n}\n","import log from 'loglevel';\nimport { Platform } from './platform';\n\n// https://github.com/angular/components/blob/master/src/cdk/layout/media-matcher.ts\n\n/** Global registry for all dynamically-created, injected media queries. */\nconst mediaQueriesForWebkitCompatibility: Set<string> = new Set<string>();\n\n/** Style tag that holds all of the dynamically-created media queries. */\nlet mediaQueryStyleNode: HTMLStyleElement | undefined;\n\n/** A utility for calling matchMedia queries. */\nexport class MediaMatcher {\n  private _platform;\n  private _matchMedia: (query: string) => MediaQueryList;\n\n  constructor() {\n    this._platform = new Platform();\n    this._matchMedia = window.matchMedia.bind(window);\n  }\n\n  /**\n   * Evaluates the given media query and returns the native MediaQueryList from which results\n   * can be retrieved.\n   * Confirms the layout engine will trigger for the selector query provided and returns the\n   * MediaQueryList for the query provided.\n   */\n  matchMedia(query: string): MediaQueryList {\n    if (this._platform.WEBKIT || this._platform.BLINK) {\n      createEmptyStyleRule(query);\n    }\n    return this._matchMedia(query);\n  }\n}\n\n/**\n * Creates an empty stylesheet that is used to work around browser inconsistencies related to\n * `matchMedia`. At the time of writing, it handles the following cases:\n * 1. On WebKit browsers, a media query has to have at least one rule in order for `matchMedia`\n * to fire. We work around it by declaring a dummy stylesheet with a `@media` declaration.\n * 2. In some cases Blink browsers will stop firing the `matchMedia` listener if none of the rules\n * inside the `@media` match existing elements on the page. We work around it by having one rule\n * targeting the `body`. See https://github.com/angular/components/issues/23546.\n */\nfunction createEmptyStyleRule(query: string) {\n  if (mediaQueriesForWebkitCompatibility.has(query)) {\n    return;\n  }\n\n  try {\n    if (!mediaQueryStyleNode) {\n      mediaQueryStyleNode = document.createElement('style');\n      mediaQueryStyleNode.setAttribute('type', 'text/css');\n      document.head.appendChild(mediaQueryStyleNode);\n    }\n    if (mediaQueryStyleNode.sheet) {\n      mediaQueryStyleNode.sheet.insertRule(`@media ${query} {body{ }}`, 0);\n      mediaQueriesForWebkitCompatibility.add(query);\n    }\n  } catch (e) {\n    log.error(e);\n  }\n}\n","/**\n * Find the closest parent element matching the given selector while traversing\n * up the DOM tree (including Shadow DOM).\n */\nexport function findClosest(selector: string, element: Element | ShadowRoot): Element | null {\n  if (element instanceof Element && element.matches(selector)) {\n    return element;\n  }\n\n  // Search in parent element or Shadow DOM host\n  const nextElement =\n    element instanceof ShadowRoot ? element.host : element.parentElement || (element.getRootNode() as ShadowRoot).host;\n  return nextElement ? findClosest(selector, nextElement) : null;\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n$button-sizes: (\n  'xl': 3.5rem,\n  'l': 3rem,\n  'm': 2.5rem,\n  's': 2rem,\n  'xs': 1.5rem\n);\n\n:host {\n  display: inline-block;\n  max-width: 100%;\n  vertical-align: middle;\n  @include cat-select(none);\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.cat-button {\n  position: relative;\n  font: inherit;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: none;\n  border-radius: cat-border-radius('m');\n  text-decoration: none;\n  width: 100%;\n  box-sizing: border-box;\n  cursor: pointer;\n  transition:\n    color cat-token('time.transition.s') linear,\n    border-color cat-token('time.transition.s') linear,\n    background-color cat-token('time.transition.s') linear,\n    box-shadow cat-token('time.transition.s') linear;\n\n  &:focus-visible {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: 1px;\n  }\n}\n\n// ----- content\n\n.cat-button-content {\n  display: flex;\n  flex-direction: column;\n  min-width: 0;\n\n  .cat-button-empty & {\n    display: none;\n  }\n}\n\n.cat-button-content-inner {\n  @include cat-break-word;\n\n  .cat-button-ellipsed & {\n    @include cat-ellipsis;\n  }\n}\n\n// ----- disabled\n\n.cat-button-disabled {\n  cursor: not-allowed;\n}\n\n// ----- round\n\n.cat-button-round {\n  border-radius: 10rem;\n}\n\n// ----- loading\n\n.cat-button-loading {\n  cursor: default;\n\n  cat-spinner {\n    position: absolute;\n  }\n\n  > *:not(cat-spinner) {\n    visibility: hidden;\n  }\n}\n\n// ----- group button\n\n.cat-group-button {\n  &-first {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  &-middle {\n    border-radius: 0;\n  }\n\n  &-last {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n\n  &:hover {\n    z-index: 1;\n  }\n\n  &:focus-visible {\n    z-index: 2;\n  }\n}\n\n// ----- theme\n\n.cat-button-filled {\n  background-color: cat-token-wrap(var(--bg));\n  color: cat-token-wrap(var(--fill));\n  font-weight: var(--cat-font-weight-button, 600);\n  @include cat-font-smooth;\n\n  &.cat-button-disabled {\n    --bg: #{cat-token('color.ui.background.muted', $wrap: false)};\n    --fill: #{cat-token('color.ui.font.muted', $wrap: false)};\n  }\n}\n\n.cat-button-outlined {\n  background-color: cat-token('color.ui.background.surface');\n  box-shadow: inset 0 0 0 1px cat-token-wrap(var(--base), $alpha: 0.2);\n  color: cat-token-wrap(var(--text));\n\n  &.cat-button-disabled {\n    --base: #{cat-token('color.ui.font.muted', $wrap: false)};\n    --text: #{cat-token('color.ui.font.muted', $wrap: false)};\n  }\n\n  &:hover:not(.cat-button-disabled):not(.cat-button-loading) {\n    background-color: cat-token-wrap(var(--base), $alpha: 0.1);\n  }\n\n  &.cat-button-active:not(.cat-button-disabled):not(.cat-button-loading) {\n    background-color: cat-token-wrap(var(--base), $alpha: 0.1);\n  }\n\n  &:active:not(.cat-button-disabled):not(.cat-button-loading) {\n    background-color: cat-token-wrap(var(--base), $alpha: 0.1);\n  }\n}\n\n.cat-button-text {\n  background-color: transparent;\n  color: cat-token-wrap(var(--text));\n  text-decoration: cat-token('font.decoration.linkButton');\n\n  &.cat-button-disabled {\n    --text: #{cat-token('color.ui.font.muted', $wrap: false)};\n  }\n\n  &:hover:not(.cat-button-disabled):not(.cat-button-loading) {\n    background-color: rgba(var(--base), 0.1);\n  }\n\n  &.cat-button-active:not(.cat-button-disabled):not(.cat-button-loading) {\n    background-color: rgba(var(--base), 0.1);\n  }\n}\n\n.cat-button-link {\n  background-color: transparent;\n  color: cat-token-wrap(var(--text));\n\n  &.cat-button-disabled {\n    --text: #{cat-token('color.ui.font.muted', $wrap: false)};\n  }\n\n  &:hover:not(.cat-button-disabled):not(.cat-button-loading) {\n    text-decoration: cat-token('font.decoration.linkHover');\n  }\n\n  &.cat-button-active:not(.cat-button-disabled):not(.cat-button-loading) {\n    text-decoration: cat-token('font.decoration.linkHover');\n  }\n}\n\n@mixin theme($theme) {\n  .cat-button-#{$theme} {\n    --bg: #{cat-token('color.theme.#{$theme}.bg', $wrap: false)};\n    --fill: #{cat-token('color.theme.#{$theme}.fill', $wrap: false)};\n    --text: #{cat-token('color.theme.#{$theme}.text', $wrap: false)};\n    @if $theme == 'secondary' {\n      --base: #{cat-token('color.theme.#{$theme}.bg', $wrap: false)};\n    } @else {\n      --base: #{cat-token('color.theme.#{$theme}.text', $wrap: false)};\n    }\n\n    &:hover:not(.cat-button-disabled):not(.cat-button-loading) {\n      --bg: #{cat-token('color.theme.#{$theme}.bgHover', $wrap: false)};\n      --fill: #{cat-token('color.theme.#{$theme}.fillHover', $wrap: false)};\n      --text: #{cat-token('color.theme.#{$theme}.textHover', $wrap: false)};\n    }\n\n    &.cat-button-active:not(.cat-button-disabled):not(.cat-button-loading),\n    &:active:not(.cat-button-disabled):not(.cat-button-loading) {\n      --bg: #{cat-token('color.theme.#{$theme}.bgActive', $wrap: false)};\n      --fill: #{cat-token('color.theme.#{$theme}.fillActive', $wrap: false)};\n      --text: #{cat-token('color.theme.#{$theme}.textActive', $wrap: false)};\n    }\n  }\n}\n\n@include theme('primary');\n@include theme('secondary');\n@include theme('info');\n@include theme('success');\n@include theme('warning');\n@include theme('danger');\n\n// ----- size\n\n@mixin size($size, $fontSize, $padding) {\n  $-line-height: cat-body-line-height($fontSize);\n\n  $-total-height: map.get($button-sizes, $size);\n  $-padding-v: ($-total-height - $-line-height) * 0.5;\n  $-padding-h: $padding;\n\n  .cat-button-#{$size} {\n    min-width: map.get($button-sizes, $size);\n    padding: $-padding-v $-padding-h;\n    @include cat-body($fontSize, null);\n    gap: 0.25rem;\n\n    // normalize icon size for line height\n    @if $fontSize == 'm' {\n      cat-icon {\n        margin-top: -0.125rem;\n        margin-bottom: -0.125rem;\n      }\n    }\n\n    &.cat-button-icon {\n      width: $-total-height;\n      height: $-total-height;\n      padding: 0;\n    }\n  }\n\n  :host(.cat-button-pull[size='#{$size}']) {\n    margin: $-padding-v * -1 $-padding-h * -1;\n  }\n\n  :host(.cat-button-pull-h[size='#{$size}']) {\n    margin-left: $-padding-h * -1;\n    margin-right: $-padding-h * -1;\n  }\n\n  :host(.cat-button-pull-v[size='#{$size}']) {\n    margin-top: $-padding-v * -1;\n    margin-bottom: $-padding-v * -1;\n  }\n\n  :host(.cat-button-pull-t[size='#{$size}']) {\n    margin-top: $-padding-v * -1;\n  }\n\n  :host(.cat-button-pull-l[size='#{$size}']) {\n    margin-left: $-padding-h * -1;\n  }\n\n  :host(.cat-button-pull-b[size='#{$size}']) {\n    margin-bottom: $-padding-v * -1;\n  }\n\n  :host(.cat-button-pull-r[size='#{$size}']) {\n    margin-right: $-padding-h * -1;\n  }\n}\n\n:host(.cat-button-pull:not([size])) {\n  margin: -0.625rem -0.75rem;\n}\n\n:host(.cat-button-pull-h:not([size])) {\n  margin-left: -0.75rem;\n  margin-right: -0.75rem;\n}\n\n:host(.cat-button-pull-v:not([size])) {\n  margin-top: -0.625rem;\n  margin-bottom: -0.625rem;\n}\n\n:host(.cat-button-pull-t:not([size])) {\n  margin-top: -0.625rem;\n}\n\n:host(.cat-button-pull-l:not([size])) {\n  margin-left: -0.75rem;\n}\n\n:host(.cat-button-pull-b:not([size])) {\n  margin-bottom: -0.625rem;\n}\n\n:host(.cat-button-pull-r:not([size])) {\n  margin-right: -0.75rem;\n}\n\n@include size('xs', 's', 0.25rem);\n@include size('s', 'm', 0.5rem);\n@include size('m', 'm', 0.75rem);\n@include size('l', 'm', 1rem);\n@include size('xl', 'l', 1.25rem);\n\n// ----- tabs\n\n:host(.cat-tab) {\n  &::part(button) {\n    padding: 1.125rem 0.75rem;\n    --cat-secondary-bg: transparent;\n    --cat-primary-text: transparent;\n    --cat-danger-text: transparent;\n  }\n\n  &::part(content) {\n    &::before {\n      content: attr(data-text);\n      content: attr(data-text) / '';\n      height: 0;\n      visibility: hidden;\n      overflow: hidden;\n      user-select: none;\n      pointer-events: none;\n      font-weight: 700;\n    }\n  }\n}\n\n// ----- alignment\n\n:host(.cat-text-left) .cat-button {\n  justify-content: left;\n  text-align: left;\n}\n\n:host(.cat-text-right) .cat-button {\n  justify-content: right;\n  text-align: right;\n}\n\n// ----- navigation\n\n:host(.cat-nav-item) {\n  width: 100%;\n\n  .cat-button {\n    box-shadow: none;\n    justify-content: left;\n    gap: 0.5rem;\n\n    &:focus-visible {\n      outline-offset: -2px;\n    }\n  }\n}\n\n// ----- datepicker\n\n:host(.cat-time-format) {\n  .cat-button {\n    border-radius: 0;\n  }\n}\n\n:host(.cat-date-toggle),\n:host(.cat-time-toggle) {\n  .cat-button {\n    margin-left: -1px;\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n}\n\n:host(.cat-date-item),\n:host(.cat-date-toggle),\n:host(.cat-time-format),\n:host(.cat-time-toggle) {\n  .cat-button {\n    &:hover {\n      z-index: 1;\n    }\n\n    &:focus-visible {\n      z-index: 2;\n    }\n  }\n}\n\n:host(.cat-date-item) {\n  .cat-button {\n    padding: 0;\n    min-width: 2rem;\n    max-height: 3rem;\n    aspect-ratio: 1;\n  }\n}\n\n:host(.date-start:not(.date-end)) {\n  .cat-button {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n}\n\n:host(.date-end:not(.date-start)) {\n  .cat-button {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n}\n","import { Component, Element, Event, EventEmitter, h, Listen, Method, Prop, State, Watch } from '@stencil/core';\nimport { Breakpoint, Breakpoints, isBreakpoint } from '../../utils/breakpoints';\nimport { MediaMatcher } from '../../utils/media-matcher';\nimport { findClosest } from '../../utils/find-closest';\n\n/**\n * Buttons are used for interface actions. Primary style should be used only\n * once per view for main call-to-action.\n *\n * @part button - The native anchor or button element.\n * @part content - The textual content of the button.\n * @part prefix - The prefix icon.\n * @part suffix - The suffix icon.\n */\n@Component({\n  tag: 'cat-button',\n  styleUrl: 'cat-button.scss',\n  shadow: true\n})\nexport class CatButton {\n  private button!: HTMLButtonElement | HTMLAnchorElement;\n  private mediaMatcher?: MediaMatcher;\n  private mediaQueryList?: MediaQueryList;\n  private mediaQueryListener?: (event: MediaQueryListEvent) => void;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() _iconOnly = true;\n\n  @State() hasSlottedContent = false;\n\n  /**\n   * The rendering style of the button.\n   */\n  @Prop() variant: 'filled' | 'outlined' | 'text' | 'link' = 'outlined';\n\n  /**\n   * The color palette of the button.\n   */\n  @Prop() color: 'primary' | 'secondary' | 'info' | 'success' | 'warning' | 'danger' = 'secondary';\n\n  /**\n   * Set the button into an active state.\n   */\n  @Prop() active = false;\n\n  /**\n   * The size of the button.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' = 'm';\n\n  /**\n   * The name of the button, which gets paired with the button's value when\n   * submitted as part of a form. Corresponds with the native HTML name\n   * attribute.\n   */\n  @Prop() name?: string;\n\n  /**\n   * The value of the button, which gets paired with the button's name when\n   * submitted as part of a form. Corresponds with the native HTML value\n   * attribute.\n   */\n  @Prop() value?: string;\n\n  /**\n   * Specifies that the button should be disabled. A disabled button is unusable\n   * and un-clickable. Corresponds with the native HTML disabled attribute.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Displays the button in a loading state with a spinner. Just like a disabled\n   * button, an inactive button is unusable and un-clickable. However, it\n   * retains the current focus state.\n   */\n  @Prop() loading = false;\n\n  /**\n   * Allows the button to submit a form.\n   */\n  @Prop() submit = false;\n\n  /**\n   * Disables ellipse overflowing button content.\n   */\n  @Prop() noEllipsis = false;\n\n  /**\n   * Use round button edges.\n   */\n  @Prop() round = false;\n\n  /**\n   * A destination to link to, rendered in the href attribute of a link.\n   */\n  @Prop() url?: string;\n\n  /**\n   * Specifies where to open the linked document.\n   */\n  @Prop() urlTarget?: '_blank' | '_self';\n\n  /**\n   * The name of an icon to be displayed in the button.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * Hide the actual button content and only display the icon.\n   */\n  @Prop() iconOnly: boolean | Breakpoint = false;\n\n  /**\n   * Display the icon on the right.\n   */\n  @Prop() iconRight = false;\n\n  /**\n   * Adds a unique identifier for the button. Please note that with this\n   * particular component this ID is added inside the web component. If you need\n   * an ID on the HTML element, use the regular `id` attribute instead.\n   */\n  @Prop() buttonId?: string;\n\n  /**\n   * Adds accessible label for the button that is only shown for screen\n   * readers. Typically, this label text replaces the visible text on the\n   * button for users who use assistive technology.\n   */\n  @Prop({ attribute: 'a11y-label' }) a11yLabel?: string;\n\n  /**\n   * Sets the `aria-current` attribute on the button.\n   */\n  @Prop({ attribute: 'a11y-current' }) a11yCurrent?: string;\n\n  /**\n   * Attributes that will be added to the native HTML button element\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * Attributes that will be added to the native HTML button content element\n   */\n  @Prop() nativeContentAttributes?: { [key: string]: string };\n\n  /**\n   * The index of a button that is used inside a cat-button-group component\n   */\n  @Prop() buttonGroupPosition?: 'first' | 'last' | 'middle';\n\n  @Watch('iconOnly')\n  onIconOnlyChanged(value: boolean | Breakpoint): void {\n    // teardown\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    this.mediaQueryList?.removeEventListener('change', this.mediaQueryListener!);\n    this.mediaQueryList = undefined;\n    this.mediaQueryListener = undefined;\n    // setup\n    if (isBreakpoint(value)) {\n      this.mediaMatcher ??= new MediaMatcher();\n      this.mediaQueryList = this.mediaMatcher.matchMedia(Breakpoints[value]);\n      this.mediaQueryListener = (event: MediaQueryListEvent) => (this._iconOnly = event.matches);\n      this.mediaQueryList.addEventListener('change', this.mediaQueryListener);\n      this._iconOnly = this.mediaQueryList.matches;\n    } else {\n      this._iconOnly = value;\n    }\n  }\n\n  /**\n   * Emitted when the button is clicked.\n   */\n  @Event() catClick!: EventEmitter<MouseEvent>;\n\n  /**\n   * Emitted when the button received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the button loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillLoad(): void {\n    this.onIconOnlyChanged(this.iconOnly);\n  }\n\n  componentWillRender(): void {\n    this.hasSlottedContent = this.hostElement.hasChildNodes();\n  }\n\n  @Listen('click')\n  haltDisabledEvents(event: Event): void {\n    if (this.disabled || this.loading) {\n      event.preventDefault();\n      event.stopImmediatePropagation();\n    } else if (this.submit) {\n      const form = findClosest('form', this.hostElement);\n      form?.dispatchEvent(new SubmitEvent('submit', { submitter: this.button }));\n    }\n  }\n\n  /**\n   * Programmatically move focus to the button. Use this method instead of\n   * `button.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this.button.focus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the button. Use this method instead of\n   * `button.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.button.blur();\n  }\n\n  /**\n   * Programmatically simulate a click on the button.\n   */\n  @Method()\n  async doClick(): Promise<void> {\n    this.button.click();\n  }\n\n  render() {\n    if (this.url) {\n      return (\n        <a\n          {...this.nativeAttributes}\n          ref={el => (this.button = el as HTMLAnchorElement)}\n          href={this.disabled ? undefined : this.url}\n          target={this.urlTarget}\n          aria-disabled={this.disabled ? 'true' : null}\n          aria-label={this.a11yLabel}\n          aria-current={this.a11yCurrent}\n          id={this.buttonId}\n          part=\"button\"\n          class={{\n            'cat-button': true,\n            'cat-button-empty': !this.hasSlottedContent,\n            'cat-button-active': this.active,\n            'cat-button-icon': this.isIconButton,\n            'cat-button-round': this.round,\n            'cat-button-loading': this.loading,\n            'cat-button-disabled': this.disabled,\n            'cat-button-ellipsed': !this.noEllipsis && !this.isIconButton,\n            [`cat-button-${this.variant}`]: Boolean(this.variant),\n            [`cat-button-${this.color}`]: Boolean(this.color),\n            [`cat-button-${this.size}`]: Boolean(this.size)\n          }}\n          onClick={this.onClick.bind(this)}\n          onFocus={this.onFocus.bind(this)}\n          onBlur={this.onBlur.bind(this)}\n        >\n          {this.content}\n        </a>\n      );\n    } else {\n      return (\n        <button\n          {...this.nativeAttributes}\n          ref={el => (this.button = el as HTMLButtonElement)}\n          type={this.submit ? 'submit' : 'button'}\n          name={this.name}\n          value={this.value}\n          disabled={this.disabled}\n          aria-disabled={this.disabled ? 'true' : null}\n          aria-label={this.a11yLabel}\n          aria-current={this.a11yCurrent}\n          id={this.buttonId}\n          part=\"button\"\n          class={{\n            'cat-button': true,\n            'cat-button-empty': !this.hasSlottedContent,\n            'cat-button-active': this.active,\n            'cat-button-icon': this.isIconButton,\n            'cat-button-round': this.round ?? this.isIconButton,\n            'cat-button-loading': this.loading,\n            'cat-button-disabled': this.disabled,\n            'cat-button-ellipsed': !this.noEllipsis && !this.isIconButton,\n            [`cat-button-${this.variant}`]: Boolean(this.variant),\n            [`cat-button-${this.color}`]: Boolean(this.color),\n            [`cat-button-${this.size}`]: Boolean(this.size),\n            [`cat-group-button-${this.buttonGroupPosition}`]: Boolean(this.buttonGroupPosition),\n            'cat-group-button': Boolean(this.buttonGroupPosition)\n          }}\n          onClick={this.onClick.bind(this)}\n          onFocus={this.onFocus.bind(this)}\n          onBlur={this.onBlur.bind(this)}\n        >\n          {this.content}\n        </button>\n      );\n    }\n  }\n\n  private get iconSize(): 'xs' | 's' | 'm' | 'l' | 'xl' {\n    switch (this.size) {\n      case 'xs':\n        return 's';\n      default:\n        return 'l';\n    }\n  }\n\n  private get spinnerSize(): 'xs' | 's' | 'm' | 'l' | 'xl' {\n    switch (this.size) {\n      case 'xs':\n        return 'xs';\n      default:\n        return 'm';\n    }\n  }\n\n  private get isIconButton() {\n    return Boolean(this.icon) && this._iconOnly;\n  }\n\n  private get hasPrefixIcon() {\n    return Boolean(this.icon) && !this._iconOnly && !this.iconRight;\n  }\n\n  private get hasSuffixIcon() {\n    return Boolean(this.icon) && !this._iconOnly && this.iconRight;\n  }\n\n  private get content() {\n    return [\n      this.hasPrefixIcon ? <cat-icon icon={this.icon} size={this.iconSize} part=\"prefix\"></cat-icon> : null,\n      this.isIconButton ? (\n        <cat-icon icon={this.icon} size={this.iconSize}></cat-icon>\n      ) : (\n        <span class=\"cat-button-content\" part=\"content\" {...this.nativeContentAttributes}>\n          <span class=\"cat-button-content-inner\">\n            <slot></slot>\n          </span>\n        </span>\n      ),\n      this.hasSuffixIcon ? <cat-icon icon={this.icon} size={this.iconSize} part=\"suffix\"></cat-icon> : null,\n      this.loading ? <cat-spinner size={this.spinnerSize}></cat-spinner> : null\n    ];\n  }\n\n  private onClick(event: MouseEvent) {\n    this.catClick.emit(event);\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n  }\n}\n",":host {\n  position: relative;\n  display: inline-flex;\n  vertical-align: middle;\n}\n\n::slotted(cat-button[variant='outlined']),\n::slotted(cat-button:not([variant])) {\n  margin-right: -1px;\n}\n\n::slotted(cat-button[variant='outlined']:last-child),\n::slotted(cat-button:not([variant]):last-child) {\n  margin-right: 0;\n}\n","import { Component, Element, h, Host, Prop } from '@stencil/core';\n\n/**\n * Button groups are designed to bring together button controls that are of a\n * similar nature. For example text formatting controls.\n */\n@Component({\n  tag: 'cat-button-group',\n  styleUrl: 'cat-button-group.scss',\n  shadow: true\n})\nexport class CatButtonGroup {\n  private formElements: HTMLCatButtonElement[] = [];\n\n  @Element() hostElement!: HTMLElement;\n\n  /**\n   * Adds an accessible label for the button group that\n   * it is only shown in assistive technologies, like screen readers.\n   */\n  @Prop({ attribute: 'a11y-label' }) a11yLabel?: string;\n\n  render() {\n    return (\n      <Host role=\"group\" aria-label={this.a11yLabel}>\n        <slot onSlotchange={this.onSlotChange.bind(this)}></slot>\n      </Host>\n    );\n  }\n\n  private onSlotChange(): void {\n    this.formElements = Array.from(this.hostElement.querySelectorAll('cat-button'));\n    this.formElements.forEach((element, index) => {\n      element.buttonGroupPosition = index === 0 ? 'first' : index === this.formElements.length - 1 ? 'last' : 'middle';\n    });\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n$-padding: 1.25rem;\n\n:host {\n  display: block;\n  border-radius: cat-border-radius('l');\n  background-color: cat-token('color.ui.background.surface');\n  padding: $-padding;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n::slotted(:last-child) {\n  margin-bottom: 0 !important;\n}\n\n::slotted(nav),\n::slotted(nav:last-child) {\n  margin: #{0.25rem - $-padding} #{0.25rem - $-padding} !important;\n}\n\n// --- pull out helper classes\n\n::slotted(.cat-card-pull) {\n  margin: -$-padding !important;\n  width: calc(100% + #{2 * $-padding}) !important;\n  height: calc(100% + #{2 * $-padding}) !important;\n}\n\n::slotted(.cat-card-pull-h) {\n  margin-left: -$-padding !important;\n  margin-right: -$-padding !important;\n  width: calc(100% + #{2 * $-padding}) !important;\n}\n\n::slotted(.cat-card-pull-v) {\n  margin-top: -$-padding !important;\n  margin-bottom: -$-padding !important;\n  height: calc(100% + #{2 * $-padding}) !important;\n}\n\n::slotted(.cat-card-pull-t) {\n  margin-top: -$-padding !important;\n}\n\n::slotted(.cat-card-pull-l) {\n  margin-left: -$-padding !important;\n}\n\n::slotted(.cat-card-pull-r) {\n  margin-right: -$-padding !important;\n}\n\n::slotted(.cat-card-pull-b) {\n  margin-bottom: -$-padding !important;\n}\n","import { Component, Event, EventEmitter, h } from '@stencil/core';\n\n/**\n * Cards are surfaces that display content and actions on a single topic. They\n * should be easy to scan for relevant and actionable information.\n */\n@Component({\n  tag: 'cat-card',\n  styleUrl: 'cat-card.scss',\n  shadow: true\n})\nexport class CatCard {\n  /**\n   * Emitted when the card and all the children are fully loaded.\n   */\n  @Event() catLoad!: EventEmitter<FocusEvent>;\n\n  render() {\n    return <slot></slot>;\n  }\n\n  componentDidLoad() {\n    this.catLoad.emit();\n  }\n}\n","import { h, FunctionalComponent } from '@stencil/core';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type ErrorMap = { [key: string]: any };\n\n/**\n * Properties of CatFormHint.\n *\n * @property hint - Optional hint text(s) of the form field.\n * @property slottedHint - Optional hint element of the form field.\n */\ninterface CatFormHintProps {\n  id: string;\n  hint?: string | string[];\n  slottedHint?: HTMLSlotElement;\n  class?: string;\n  errorMap?: ErrorMap;\n}\n\n/**\n * CatFormHint is a functional component that represents the hint area of form elements.\n *\n * @param props - {@link CatFormHintProps}\n * @return a JSX.Element\n */\nexport const CatFormHint: FunctionalComponent<CatFormHintProps> = props => {\n  const { id, hint, slottedHint, errorMap } = props;\n  const errors = Object.entries(errorMap || {});\n  return (\n    <div aria-live=\"polite\" id={id + '-hint'} class=\"hint-section\">\n      {errors.length\n        ? errors.map(([key, params]) => (\n            <p class={(props.class ?? '') + ' input-hint cat-text-danger'}>{i18n.t(`error.${key}`, params)}</p>\n          ))\n        : [\n            hint &&\n              (Array.isArray(hint) ? (\n                hint.map(item => <p class={(props.class ?? '') + ' input-hint'}>{item}</p>)\n              ) : (\n                <p class={(props.class ?? '') + ' input-hint'}>{hint}</p>\n              )),\n            slottedHint\n          ]}\n    </div>\n  );\n};\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n@use '_snippets/form-label';\n\n$checkbox-width: 1.25rem;\n$checkbox-height: 1.25rem;\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nlabel {\n  flex: 0 1 auto;\n  display: flex;\n  gap: 0.5rem;\n  @include cat-body('m');\n  @include cat-select(none);\n  cursor: pointer;\n  position: relative;\n}\n\n.label-left {\n  flex-direction: row-reverse;\n\n  input {\n    right: 1px;\n    left: unset;\n  }\n}\n\ninput {\n  position: absolute;\n  width: $checkbox-width;\n  height: $checkbox-height;\n  margin: 0;\n  opacity: 0;\n  cursor: inherit;\n  left: 1px;\n  top: 0.5px;\n}\n\n.box-placeholder {\n  width: calc($checkbox-width + 2px);\n  flex-shrink: 0;\n}\n\n.box {\n  flex: 0 0 auto;\n  display: flex;\n  position: relative;\n  height: $checkbox-height;\n  width: $checkbox-width;\n  background-color: cat-token('color.ui.background.input');\n  border: 1px solid cat-token('color.ui.border.dark');\n  border-radius: cat-border-radius(s);\n  transition:\n    background-color cat-token('time.transition.s') ease,\n    border-color cat-token('time.transition.s') ease;\n  pointer-events: none;\n  box-sizing: border-box;\n\n  svg {\n    fill: none;\n    stroke-width: 2;\n    stroke-linecap: round;\n    stroke-linejoin: round;\n    stroke-dasharray: 16px;\n    stroke-dashoffset: 16px;\n    transition: all cat-token('time.transition.s') ease;\n    width: 50%;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%) scale(0.99);\n  }\n\n  :checked + & {\n    background-color: cat-token('color.theme.primary.bg');\n    border-color: cat-token('color.theme.primary.bg');\n    stroke: cat-token('color.theme.primary.fill');\n\n    .check {\n      stroke-dashoffset: 0;\n    }\n  }\n\n  :indeterminate + & {\n    background-color: cat-token('color.theme.primary.bg');\n    border-color: cat-token('color.theme.primary.bg');\n    stroke: cat-token('color.theme.primary.fill');\n\n    .check {\n      stroke-dashoffset: 16px;\n    }\n\n    .dash {\n      stroke-dashoffset: 0;\n    }\n  }\n\n  :focus-visible + & {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: 1px;\n  }\n\n  .is-disabled & {\n    background-color: cat-token('color.ui.background.muted');\n    border-color: cat-token('color.ui.border.dark');\n    stroke: cat-token('color.ui.font.muted');\n  }\n}\n\n:host(.cat-error) {\n  .box {\n    border: 1px solid cat-token('color.theme.danger.bg');\n  }\n\n  :checked + .box,\n  :indeterminate + .box {\n    background-color: cat-token('color.theme.danger.bg');\n    border-color: cat-token('color.theme.danger.bg');\n    stroke: cat-token('color.theme.danger.fill');\n  }\n}\n\n.label {\n  flex: 1 1 auto;\n  min-width: 0;\n\n  .is-hidden & {\n    @include cat-visually-hidden;\n  }\n}\n\n.is-disabled {\n  cursor: not-allowed;\n  color: cat-token('color.ui.font.muted');\n}\n\n.align-center {\n  align-items: center;\n}\n\n.align-end {\n  align-items: flex-end;\n}\n","import { Component, Element, Event, EventEmitter, h, Host, Method, Prop, State } from '@stencil/core';\nimport { CatFormHint } from '../cat-form-hint/cat-form-hint';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\nlet nextUniqueId = 0;\n\n/**\n * Checkboxes are used to let a user choose one or more options from a limited\n * number of options.\n *\n * @slot hint - Optional hint element to be displayed with the checkbox.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part label - The label content.\n * @part input - The native input element.\n */\n@Component({\n  tag: 'cat-checkbox',\n  styleUrls: ['cat-checkbox.scss'],\n  shadow: true\n})\nexport class CatCheckbox {\n  private readonly _id = `cat-checkbox-${nextUniqueId++}`;\n  private get id() {\n    return this.identifier || this._id;\n  }\n\n  private input!: HTMLInputElement;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  @State() hasSlottedHint = false;\n\n  /**\n   * Checked state of the checkbox\n   */\n  @Prop({ mutable: true }) checked = false;\n\n  /**\n   * Indeterminate state of the checkbox\n   */\n  @Prop({ mutable: true }) indeterminate = false;\n\n  /**\n   * Disabled state of the checkbox\n   */\n  @Prop() disabled = false;\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * Label of the checkbox which is presented in the UI\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * The name of the input.\n   */\n  @Prop() name?: string;\n\n  /**\n   * Required state of the checkbox.\n   */\n  @Prop() required = false;\n\n  /**\n   * The value of the checked checkbox.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Prop() value?: any;\n\n  /**\n   * The value of the unchecked checkbox.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Prop() noValue?: any;\n\n  /**\n   * The resolved value of the checkbox, based on the checked state and value.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Prop({ mutable: true }) resolvedValue: any = null;\n\n  /**\n   * Optional hint text(s) to be displayed with the checkbox.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * Whether the label should appear to the left of the checkbox.\n   */\n  @Prop() labelLeft = false;\n\n  /**\n   * The alignment of the checkbox.\n   */\n  @Prop() alignment: 'center' | 'top' | 'bottom' = 'top';\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * Whether the label need a marker to shown if the input is required or optional.\n   */\n  @Prop() requiredMarker?: 'none' | 'required' | 'optional' | 'none!' | 'optional!' | 'required!' = 'none';\n\n  /**\n   * Emitted when the checked status of the checkbox is changed.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Event() catChange!: EventEmitter<any>;\n\n  /**\n   * Emitted when the checkbox received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the checkbox loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillLoad() {\n    this.updateResolved();\n  }\n\n  componentWillRender(): void {\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n  }\n\n  /**\n   * Programmatically move focus to the checkbox. Use this method instead of\n   * `input.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this.input.focus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the checkbox. Use this method instead of\n   * `input.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.input.blur();\n  }\n\n  render() {\n    return (\n      <Host>\n        <label\n          htmlFor={this.id}\n          class={{\n            'is-hidden': this.labelHidden,\n            'is-disabled': this.disabled,\n            'label-left': this.labelLeft,\n            'align-center': this.alignment === 'center',\n            'align-end': this.alignment === 'bottom'\n          }}\n        >\n          <input\n            {...this.nativeAttributes}\n            part=\"input\"\n            ref={el => (this.input = el as HTMLInputElement)}\n            id={this.id}\n            type=\"checkbox\"\n            name={this.name}\n            value={this.value}\n            checked={this.checked}\n            required={this.required}\n            disabled={this.disabled}\n            indeterminate={this.indeterminate}\n            onInput={this.onInput.bind(this)}\n            onFocus={this.onFocus.bind(this)}\n            onBlur={this.onBlur.bind(this)}\n            aria-describedby={this.hasHint ? this.id + '-hint' : undefined}\n          />\n          <span class=\"box\" aria-hidden=\"true\">\n            <svg class=\"check\" viewBox=\"0 0 12 10\">\n              <polyline points=\"1.5 6 4.5 9 10.5 1\"></polyline>\n            </svg>\n            <svg class=\"dash\" viewBox=\"0 0 12 10\">\n              <polyline points=\"1.5 5 10.5 5\"></polyline>\n            </svg>\n          </span>\n          <span class={{ label: true, 'label-wrapper': !this.hasSlottedLabel }} part=\"label\">\n            {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n            <span class=\"label-metadata\">\n              {!this.required && (this.requiredMarker ?? 'optional').startsWith('optional') && (\n                <span class=\"label-optional\" aria-hidden=\"true\">\n                  ({i18n.t('input.optional')})\n                </span>\n              )}\n              {this.required && this.requiredMarker?.startsWith('required') && (\n                <span class=\"label-optional\" aria-hidden=\"true\">\n                  ({i18n.t('input.required')})\n                </span>\n              )}\n            </span>\n          </span>\n        </label>\n        {this.hasHint && (\n          <div class={{ 'hint-wrapper': true, 'label-left': this.labelLeft }}>\n            <div class=\"box-placeholder\"></div>\n            <CatFormHint id={this.id} hint={this.hint} slottedHint={this.hasSlottedHint && <slot name=\"hint\"></slot>} />\n          </div>\n        )}\n      </Host>\n    );\n  }\n\n  private get hasHint() {\n    return !!this.hint || !!this.hasSlottedHint;\n  }\n\n  private onInput() {\n    this.checked = this.input.checked;\n    this.indeterminate = this.input.indeterminate;\n    this.updateResolved();\n    this.catChange.emit(this.resolvedValue);\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n  }\n\n  private updateResolved() {\n    this.resolvedValue = this.checked ? this.value ?? true : this.noValue ?? false;\n  }\n}\n","import { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\nfunction getDays(language: string, weekday: 'long' | 'short' | 'narrow' = 'long') {\n  const date = new Date();\n  const firstDayOfWeek = (date.getUTCDate() - date.getUTCDay() + 7) % 7;\n  const format = new Intl.DateTimeFormat(language, { weekday }).format;\n  return [...Array(7).keys()].map(day => format(new Date(date.getTime()).setUTCDate(firstDayOfWeek + day)));\n}\n\nfunction getMonths(language: string, month: 'long' | 'short' = 'long') {\n  const date = new Date(0);\n  const format = new Intl.DateTimeFormat(language, { month }).format;\n  return [...Array(12).keys()].map(month => format(new Date(date.getTime()).setUTCMonth(month)));\n}\n\nfunction getWeekInfo(language: string) {\n  const locale = new Intl.Locale(language);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const weekInfo = (locale as any).getWeekInfo?.() ?? (locale as any).weekInfo;\n  return {\n    firstDay: weekInfo?.firstDay ?? 1,\n    minDays: weekInfo?.minDays ?? 4,\n    weekend: weekInfo?.weekend ?? [6, 7]\n  };\n}\n\nfunction getFormat(language: string) {\n  const format = new Intl.DateTimeFormat(language, { year: 'numeric', month: '2-digit', day: '2-digit' })\n    .format(new Date(3456, 10, 22))\n    .replace('3456', 'YYYY')\n    .replace('56', 'YY')\n    .replace('11', 'MM')\n    .replace('22', 'DD');\n  return /^(YYYY|YY|MM|DD)\\W(YYYY|YY|MM|DD)\\W(YYYY|YY|MM|DD)$/.test(format) ? format : 'DD-MM-YYYY';\n}\n\nexport function getLocale(language: string) {\n  return {\n    prevYear: i18n.t('datepicker.prevYear'),\n    nextYear: i18n.t('datepicker.nextYear'),\n    prevMonth: i18n.t('datepicker.prevMonth'),\n    nextMonth: i18n.t('datepicker.nextMonth'),\n    arrowKeys: i18n.t('datepicker.arrowKeys'),\n    today: i18n.t('datepicker.today'),\n    change: i18n.t('datepicker.change'),\n    choose: i18n.t('datepicker.choose'),\n    clear: i18n.t('datepicker.clear'),\n    formatStr: getFormat(language),\n    weekInfo: getWeekInfo(language),\n    days: {\n      short: getDays(language, 'short'),\n      long: getDays(language, 'long')\n    },\n    months: {\n      short: getMonths(language, 'short'),\n      long: getMonths(language, 'long')\n    },\n    now: () => {\n      const date = new Date();\n      return new Date(date.getFullYear(), date.getMonth(), date.getDate());\n    },\n    fromLocalISO: (date?: string | null) => {\n      const [match, year, month, day] = date?.match(/^(\\d{4})-(\\d{2})-(\\d{2})/) ?? [];\n      return match ? new Date(Number(year), Number(month) - 1, Number(day)) : null;\n    },\n    toLocalISO: (date: Date) => {\n      const year = date.getFullYear();\n      const month = (date.getMonth() + 1).toString().padStart(2, '0');\n      const day = date.getDate().toString().padStart(2, '0');\n      return `${year}-${month}-${day}`;\n    },\n    toLocalStr: (date: Date) =>\n      new Intl.DateTimeFormat(language, {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        weekday: 'long'\n      }).format(date)\n  };\n}\n","export function isLeapYear(year: number): boolean {\n  return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n}\n\nexport function addDays(date: Date, n: number): Date {\n  return new Date(date.getFullYear(), date.getMonth(), date.getDate() + n);\n}\n\nexport function addMonth(date: Date, n: number): Date {\n  const [year, month, day] = [date.getFullYear(), date.getMonth(), date.getDate()];\n  const maxDays = [31, isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n  const newDate = new Date(date);\n  newDate.setDate(1);\n  newDate.setMonth(newDate.getMonth() + n);\n  newDate.setDate(Math.min(day, maxDays[(month + (n % 12) + 12) % 12]));\n  return newDate;\n}\n\nexport function isSameYear(date1: Date | null, date2: Date | null): boolean {\n  return !!date1 && !!date2 && date1.getFullYear() === date2.getFullYear();\n}\n\nexport function isSameMonth(date1: Date | null, date2: Date | null): boolean {\n  return !!date1 && !!date2 && date1.getMonth() === date2.getMonth() && isSameYear(date1, date2);\n}\n\nexport function isSameDay(date1: Date | null, date2: Date | null): boolean {\n  return !!date1 && !!date2 && date1.getDate() === date2.getDate() && isSameMonth(date1, date2);\n}\n\nexport function clampDate(min: Date | null, date: Date, max: Date | null): Date {\n  return new Date(Math.min(Math.max(date.getTime(), min?.getTime() ?? -Infinity), max?.getTime() ?? Infinity));\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n:host {\n  display: block;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.label-aria {\n  @include cat-visually-hidden;\n}\n\ncat-date-inline {\n  margin: 1rem;\n  width: 20rem;\n}\n","import { Placement } from '@floating-ui/dom';\nimport { Component, Element, Event, EventEmitter, Host, Method, Prop, Watch, h } from '@stencil/core';\nimport { getLocale } from '../cat-date-inline/cat-date-locale';\nimport { clampDate } from '../cat-date-inline/cat-date-math';\nimport { ErrorMap } from '../cat-form-hint/cat-form-hint';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\n/**\n * A date input component to select a date from a calendar in a dropdown.\n */\n@Component({\n  tag: 'cat-date',\n  styleUrl: 'cat-date.scss',\n  shadow: true\n})\nexport class CatDate {\n  private readonly language = i18n.getLocale();\n  private readonly locale = getLocale(this.language);\n  private input?: HTMLCatInputElement;\n  private dateInline?: HTMLCatDateInlineElement;\n\n  @Element() hostElement!: HTMLElement;\n\n  /**\n   * Whether the label need a marker to shown if the input is required or optional.\n   */\n  @Prop() requiredMarker?: 'none' | 'required' | 'optional' | 'none!' | 'optional!' | 'required!' = 'optional';\n\n  /**\n   * Whether the label is on top or left.\n   */\n  @Prop() horizontal = false;\n\n  /**\n   * Hint for form autofill feature.\n   */\n  @Prop() autoComplete?: string;\n\n  /**\n   * Whether the input should show a clear button.\n   */\n  @Prop() clearable = false;\n\n  /**\n   * Whether the input is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Optional hint text(s) to be displayed with the input.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * The name of an icon to be displayed in the input.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * Display the icon on the right.\n   */\n  @Prop() iconRight = false;\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label for the input.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A maximum value for the date, given in local ISO 8601 date format YYYY-MM-DD.\n   */\n  @Prop() max?: string;\n\n  /**\n   * A minimum value for the date, given in local ISO 8601 date format YYYY-MM-DD.\n   */\n  @Prop() min?: string;\n\n  /**\n   * The name of the form control. Submitted with the form as part of a name/value pair.\n   */\n  @Prop() name?: string;\n\n  /**\n   * The placeholder text to display within the input.\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * A textual prefix to be displayed in the input.\n   */\n  @Prop() textPrefix?: string;\n\n  /**\n   * A textual suffix to be displayed in the input.\n   */\n  @Prop() textSuffix?: string;\n\n  /**\n   * The value is not editable.\n   */\n  @Prop() readonly = false;\n\n  /**\n   * A value is required or must be check for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * The value of the control, given in local ISO 8601 date format YYYY-MM-DD.\n   */\n  @Prop({ mutable: true }) value?: string;\n\n  /**\n   * The validation errors for this input. Will render a hint under the input\n   * with the translated error message(s) `error.${key}`. If an object is\n   * passed, the keys will be used as error keys and the values translation\n   * parameters.\n   * If the value is `true`, the input will be marked as invalid without any\n   * hints under the input.\n   */\n  @Prop() errors?: boolean | string[] | ErrorMap;\n\n  /**\n   * Fine-grained control over when the errors are shown. Can be `false` to\n   * never show errors, `true` to show errors on blur, or a number to show\n   * errors on change with the given delay in milliseconds.\n   */\n  @Prop() errorUpdate: boolean | number = 0;\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * The placement of the dropdown.\n   */\n  @Prop() placement: Placement = 'bottom-end';\n\n  @Watch('min')\n  onMinChanged(min?: string, oldMin?: string) {\n    if (min !== oldMin) {\n      this.reclamp('min', min);\n    }\n  }\n\n  @Watch('max')\n  onMaxChanged(max?: string, oldMax?: string) {\n    if (max !== oldMax) {\n      this.reclamp('max', max);\n    }\n  }\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter<string>;\n\n  /**\n   * Emitted when the input received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the input loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  private get inputValue() {\n    const [match, year, month, day] = this.value?.match(/^(\\d{4})-(\\d{2})-(\\d{2})/) ?? [];\n    if (match) {\n      const date = new Date(Number(year), Number(month) - 1, Number(day));\n      const format = new Intl.DateTimeFormat(this.language, { year: 'numeric', month: '2-digit', day: '2-digit' });\n      return format.format(date);\n    }\n    return '';\n  }\n\n  componentDidLoad() {\n    const format = this.locale.formatStr.replace('YYYY', 'Y').replace('YY', 'y').replace('MM', 'm').replace('DD', 'd');\n    const [, p1, d1, p2, p3] = /(\\w+)([^\\w]+)(\\w+)[^\\w]+(\\w+)/.exec(format) || [];\n    this.input?.mask({\n      date: true,\n      dateMin: this.min,\n      dateMax: this.max,\n      delimiter: d1,\n      datePattern: [p1, p2, p3]\n    });\n  }\n\n  /**\n   * Programmatically move focus to the input. Use this method instead of\n   * `input.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this.input?.doFocus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the input. Use this method instead of\n   * `input.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.input?.doBlur();\n  }\n\n  /**\n   * Clear the input.\n   */\n  @Method()\n  async clear(): Promise<void> {\n    this.input?.clear();\n  }\n\n  render() {\n    return (\n      <Host>\n        <cat-input\n          class=\"cat-date-input\"\n          ref={el => (this.input = el as HTMLCatInputElement)}\n          requiredMarker={this.requiredMarker}\n          horizontal={this.horizontal}\n          autoComplete={this.autoComplete}\n          clearable={this.clearable}\n          disabled={this.disabled}\n          hint={this.hint}\n          icon={this.icon}\n          iconRight={this.iconRight}\n          identifier={this.identifier}\n          labelHidden={this.labelHidden}\n          name={this.name}\n          placeholder={this.placeholder}\n          textPrefix={this.textPrefix}\n          textSuffix={this.textSuffix}\n          readonly={this.readonly}\n          required={this.required}\n          errors={this.errors}\n          errorUpdate={this.errorUpdate}\n          nativeAttributes={this.nativeAttributes}\n          value={this.inputValue}\n          onCatFocus={e => {\n            e.stopPropagation();\n            this.catFocus.emit(e.detail);\n          }}\n          onCatBlur={e => {\n            e.stopPropagation();\n            this.onInputBlur(e.detail);\n          }}\n        >\n          <span slot=\"label\">\n            {this.label}\n            <span class=\"label-aria\"> ({this.locale.formatStr})</span>\n          </span>\n          <cat-dropdown\n            slot=\"addon\"\n            placement={this.placement}\n            arrowNavigation=\"none\"\n            noResize\n            onCatOpen={() => this.dateInline?.resetView()}\n          >\n            <cat-button\n              slot=\"trigger\"\n              icon=\"$cat:datepicker-calendar\"\n              iconOnly\n              class=\"cat-date-toggle\"\n              disabled={this.disabled}\n              a11yLabel={this.getTriggerA11yLabel()}\n            ></cat-button>\n            <div slot=\"content\">\n              <cat-date-inline\n                ref={el => (this.dateInline = el as HTMLCatDateInlineElement)}\n                min={this.min}\n                max={this.max}\n                value={this.value}\n                hint\n                weeks\n                noClear\n                onCatChange={this.onDateChange.bind(this)}\n              ></cat-date-inline>\n            </div>\n          </cat-dropdown>\n        </cat-input>\n      </Host>\n    );\n  }\n\n  private getTriggerA11yLabel() {\n    const date = this.locale.fromLocalISO(this.value);\n    return date ? `${this.locale.change}, ${this.locale.toLocalStr(date)}` : this.locale.choose;\n  }\n\n  private onInputBlur(e: FocusEvent) {\n    if (!this.input) {\n      return;\n    }\n    const oldValue = this.value;\n    const dateParsed = this.parse(this.input.value ?? '');\n    const dateMin = this.locale.fromLocalISO(this.min);\n    const dateMax = this.locale.fromLocalISO(this.max);\n    const date = dateParsed ? clampDate(dateMin, dateParsed, dateMax) : null;\n    this.value = date ? this.locale.toLocalISO(date) : undefined;\n    if (oldValue !== this.value) {\n      if (date) {\n        this.dateInline?.select(date);\n      } else {\n        this.dateInline?.clear();\n      }\n      this.catChange.emit(this.value);\n    }\n    this.input.value = this.inputValue;\n    this.catBlur.emit(e);\n  }\n\n  private onDateChange(e: CustomEvent<string>) {\n    e.stopPropagation();\n    const oldValue = this.value;\n    const date = e.detail ? new Date(e.detail) : null;\n    this.value = date ? this.locale.toLocalISO(date) : undefined;\n    if (oldValue !== this.value) {\n      this.catChange.emit(this.value);\n    }\n  }\n\n  private parse(value: string) {\n    const [, p1, d1, p2, p3] = /(\\w+)([^\\w]+)(\\w+)[^\\w]+(\\w+)/.exec(this.locale.formatStr) || [];\n    const formatParts = [p1, p2, p3];\n    const parts = value.split(d1).map(s => Number(s || 'x'));\n    let year = parts[formatParts.indexOf('YYYY') || formatParts.indexOf('YY')] || this.locale.now().getFullYear();\n    const month = parts[formatParts.indexOf('MM')];\n    const day = parts[formatParts.indexOf('DD')];\n    if (!Number.isInteger(month) || !Number.isInteger(day)) {\n      return null;\n    } else if (year < 100) {\n      year += year < 50 ? 2000 : 1900;\n    }\n    return new Date(year, month - 1, day);\n  }\n\n  private reclamp(mode: 'min' | 'max', limit: string | undefined) {\n    const oldValue = this.value;\n    const oldDate = this.locale.fromLocalISO(oldValue);\n    const limitDate = this.locale.fromLocalISO(limit);\n    if (!oldDate || !limitDate) {\n      return;\n    }\n    const newDate = clampDate(mode === 'min' ? limitDate : null, oldDate, mode === 'max' ? limitDate : null);\n    const newValue = this.locale.toLocalISO(newDate);\n    if (oldValue !== newValue) {\n      this.value = newValue;\n      this.catChange.emit(newValue);\n    }\n  }\n}\n","/*!\n* tabbable 6.2.0\n* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE\n*/\n// NOTE: separate `:not()` selectors has broader browser support than the newer\n//  `:not([inert], [inert] *)` (Feb 2023)\n// CAREFUL: JSDom does not support `:not([inert] *)` as a selector; using it causes\n//  the entire query to fail, resulting in no nodes found, which will break a lot\n//  of things... so we have to rely on JS to identify nodes inside an inert container\nvar candidateSelectors = ['input:not([inert])', 'select:not([inert])', 'textarea:not([inert])', 'a[href]:not([inert])', 'button:not([inert])', '[tabindex]:not(slot):not([inert])', 'audio[controls]:not([inert])', 'video[controls]:not([inert])', '[contenteditable]:not([contenteditable=\"false\"]):not([inert])', 'details>summary:first-of-type:not([inert])', 'details:not([inert])'];\nvar candidateSelector = /* #__PURE__ */candidateSelectors.join(',');\nvar NoElement = typeof Element === 'undefined';\nvar matches = NoElement ? function () {} : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\nvar getRootNode = !NoElement && Element.prototype.getRootNode ? function (element) {\n  var _element$getRootNode;\n  return element === null || element === void 0 ? void 0 : (_element$getRootNode = element.getRootNode) === null || _element$getRootNode === void 0 ? void 0 : _element$getRootNode.call(element);\n} : function (element) {\n  return element === null || element === void 0 ? void 0 : element.ownerDocument;\n};\n\n/**\n * Determines if a node is inert or in an inert ancestor.\n * @param {Element} [node]\n * @param {boolean} [lookUp] If true and `node` is not inert, looks up at ancestors to\n *  see if any of them are inert. If false, only `node` itself is considered.\n * @returns {boolean} True if inert itself or by way of being in an inert ancestor.\n *  False if `node` is falsy.\n */\nvar isInert = function isInert(node, lookUp) {\n  var _node$getAttribute;\n  if (lookUp === void 0) {\n    lookUp = true;\n  }\n  // CAREFUL: JSDom does not support inert at all, so we can't use the `HTMLElement.inert`\n  //  JS API property; we have to check the attribute, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's an active element\n  var inertAtt = node === null || node === void 0 ? void 0 : (_node$getAttribute = node.getAttribute) === null || _node$getAttribute === void 0 ? void 0 : _node$getAttribute.call(node, 'inert');\n  var inert = inertAtt === '' || inertAtt === 'true';\n\n  // NOTE: this could also be handled with `node.matches('[inert], :is([inert] *)')`\n  //  if it weren't for `matches()` not being a function on shadow roots; the following\n  //  code works for any kind of node\n  // CAREFUL: JSDom does not appear to support certain selectors like `:not([inert] *)`\n  //  so it likely would not support `:is([inert] *)` either...\n  var result = inert || lookUp && node && isInert(node.parentNode); // recursive\n\n  return result;\n};\n\n/**\n * Determines if a node's content is editable.\n * @param {Element} [node]\n * @returns True if it's content-editable; false if it's not or `node` is falsy.\n */\nvar isContentEditable = function isContentEditable(node) {\n  var _node$getAttribute2;\n  // CAREFUL: JSDom does not support the `HTMLElement.isContentEditable` API so we have\n  //  to use the attribute directly to check for this, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's a non-editable element\n  var attValue = node === null || node === void 0 ? void 0 : (_node$getAttribute2 = node.getAttribute) === null || _node$getAttribute2 === void 0 ? void 0 : _node$getAttribute2.call(node, 'contenteditable');\n  return attValue === '' || attValue === 'true';\n};\n\n/**\n * @param {Element} el container to check in\n * @param {boolean} includeContainer add container to check\n * @param {(node: Element) => boolean} filter filter candidates\n * @returns {Element[]}\n */\nvar getCandidates = function getCandidates(el, includeContainer, filter) {\n  // even if `includeContainer=false`, we still have to check it for inertness because\n  //  if it's inert, all its children are inert\n  if (isInert(el)) {\n    return [];\n  }\n  var candidates = Array.prototype.slice.apply(el.querySelectorAll(candidateSelector));\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\n/**\n * @callback GetShadowRoot\n * @param {Element} element to check for shadow root\n * @returns {ShadowRoot|boolean} ShadowRoot if available or boolean indicating if a shadowRoot is attached but not available.\n */\n\n/**\n * @callback ShadowRootFilter\n * @param {Element} shadowHostNode the element which contains shadow content\n * @returns {boolean} true if a shadow root could potentially contain valid candidates.\n */\n\n/**\n * @typedef {Object} CandidateScope\n * @property {Element} scopeParent contains inner candidates\n * @property {Element[]} candidates list of candidates found in the scope parent\n */\n\n/**\n * @typedef {Object} IterativeOptions\n * @property {GetShadowRoot|boolean} getShadowRoot true if shadow support is enabled; falsy if not;\n *  if a function, implies shadow support is enabled and either returns the shadow root of an element\n *  or a boolean stating if it has an undisclosed shadow root\n * @property {(node: Element) => boolean} filter filter candidates\n * @property {boolean} flatten if true then result will flatten any CandidateScope into the returned list\n * @property {ShadowRootFilter} shadowRootFilter filter shadow roots;\n */\n\n/**\n * @param {Element[]} elements list of element containers to match candidates from\n * @param {boolean} includeContainer add container list to check\n * @param {IterativeOptions} options\n * @returns {Array.<Element|CandidateScope>}\n */\nvar getCandidatesIteratively = function getCandidatesIteratively(elements, includeContainer, options) {\n  var candidates = [];\n  var elementsToCheck = Array.from(elements);\n  while (elementsToCheck.length) {\n    var element = elementsToCheck.shift();\n    if (isInert(element, false)) {\n      // no need to look up since we're drilling down\n      // anything inside this container will also be inert\n      continue;\n    }\n    if (element.tagName === 'SLOT') {\n      // add shadow dom slot scope (slot itself cannot be focusable)\n      var assigned = element.assignedElements();\n      var content = assigned.length ? assigned : element.children;\n      var nestedCandidates = getCandidatesIteratively(content, true, options);\n      if (options.flatten) {\n        candidates.push.apply(candidates, nestedCandidates);\n      } else {\n        candidates.push({\n          scopeParent: element,\n          candidates: nestedCandidates\n        });\n      }\n    } else {\n      // check candidate element\n      var validCandidate = matches.call(element, candidateSelector);\n      if (validCandidate && options.filter(element) && (includeContainer || !elements.includes(element))) {\n        candidates.push(element);\n      }\n\n      // iterate over shadow content if possible\n      var shadowRoot = element.shadowRoot ||\n      // check for an undisclosed shadow\n      typeof options.getShadowRoot === 'function' && options.getShadowRoot(element);\n\n      // no inert look up because we're already drilling down and checking for inertness\n      //  on the way down, so all containers to this root node should have already been\n      //  vetted as non-inert\n      var validShadowRoot = !isInert(shadowRoot, false) && (!options.shadowRootFilter || options.shadowRootFilter(element));\n      if (shadowRoot && validShadowRoot) {\n        // add shadow dom scope IIF a shadow root node was given; otherwise, an undisclosed\n        //  shadow exists, so look at light dom children as fallback BUT create a scope for any\n        //  child candidates found because they're likely slotted elements (elements that are\n        //  children of the web component element (which has the shadow), in the light dom, but\n        //  slotted somewhere _inside_ the undisclosed shadow) -- the scope is created below,\n        //  _after_ we return from this recursive call\n        var _nestedCandidates = getCandidatesIteratively(shadowRoot === true ? element.children : shadowRoot.children, true, options);\n        if (options.flatten) {\n          candidates.push.apply(candidates, _nestedCandidates);\n        } else {\n          candidates.push({\n            scopeParent: element,\n            candidates: _nestedCandidates\n          });\n        }\n      } else {\n        // there's not shadow so just dig into the element's (light dom) children\n        //  __without__ giving the element special scope treatment\n        elementsToCheck.unshift.apply(elementsToCheck, element.children);\n      }\n    }\n  }\n  return candidates;\n};\n\n/**\n * @private\n * Determines if the node has an explicitly specified `tabindex` attribute.\n * @param {HTMLElement} node\n * @returns {boolean} True if so; false if not.\n */\nvar hasTabIndex = function hasTabIndex(node) {\n  return !isNaN(parseInt(node.getAttribute('tabindex'), 10));\n};\n\n/**\n * Determine the tab index of a given node.\n * @param {HTMLElement} node\n * @returns {number} Tab order (negative, 0, or positive number).\n * @throws {Error} If `node` is falsy.\n */\nvar getTabIndex = function getTabIndex(node) {\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (node.tabIndex < 0) {\n    // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n    // `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n    // yet they are still part of the regular tab order; in FF, they get a default\n    // `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n    // order, consider their tab index to be 0.\n    // Also browsers do not return `tabIndex` correctly for contentEditable nodes;\n    // so if they don't have a tabindex attribute specifically set, assume it's 0.\n    if ((/^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName) || isContentEditable(node)) && !hasTabIndex(node)) {\n      return 0;\n    }\n  }\n  return node.tabIndex;\n};\n\n/**\n * Determine the tab index of a given node __for sort order purposes__.\n * @param {HTMLElement} node\n * @param {boolean} [isScope] True for a custom element with shadow root or slot that, by default,\n *  has tabIndex -1, but needs to be sorted by document order in order for its content to be\n *  inserted into the correct sort position.\n * @returns {number} Tab order (negative, 0, or positive number).\n */\nvar getSortOrderTabIndex = function getSortOrderTabIndex(node, isScope) {\n  var tabIndex = getTabIndex(node);\n  if (tabIndex < 0 && isScope && !hasTabIndex(node)) {\n    return 0;\n  }\n  return tabIndex;\n};\nvar sortOrderedTabbables = function sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n};\nvar isInput = function isInput(node) {\n  return node.tagName === 'INPUT';\n};\nvar isHiddenInput = function isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n};\nvar isDetailsWithSummary = function isDetailsWithSummary(node) {\n  var r = node.tagName === 'DETAILS' && Array.prototype.slice.apply(node.children).some(function (child) {\n    return child.tagName === 'SUMMARY';\n  });\n  return r;\n};\nvar getCheckedRadio = function getCheckedRadio(nodes, form) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\nvar isTabbableRadio = function isTabbableRadio(node) {\n  if (!node.name) {\n    return true;\n  }\n  var radioScope = node.form || getRootNode(node);\n  var queryRadios = function queryRadios(name) {\n    return radioScope.querySelectorAll('input[type=\"radio\"][name=\"' + name + '\"]');\n  };\n  var radioSet;\n  if (typeof window !== 'undefined' && typeof window.CSS !== 'undefined' && typeof window.CSS.escape === 'function') {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error('Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s', err.message);\n      return false;\n    }\n  }\n  var checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\nvar isRadio = function isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n};\nvar isNonTabbableRadio = function isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\n// determines if a node is ultimately attached to the window's document\nvar isNodeAttached = function isNodeAttached(node) {\n  var _nodeRoot;\n  // The root node is the shadow root if the node is in a shadow DOM; some document otherwise\n  //  (but NOT _the_ document; see second 'If' comment below for more).\n  // If rootNode is shadow root, it'll have a host, which is the element to which the shadow\n  //  is attached, and the one we need to check if it's in the document or not (because the\n  //  shadow, and all nodes it contains, is never considered in the document since shadows\n  //  behave like self-contained DOMs; but if the shadow's HOST, which is part of the document,\n  //  is hidden, or is not in the document itself but is detached, it will affect the shadow's\n  //  visibility, including all the nodes it contains). The host could be any normal node,\n  //  or a custom element (i.e. web component). Either way, that's the one that is considered\n  //  part of the document, not the shadow root, nor any of its children (i.e. the node being\n  //  tested).\n  // To further complicate things, we have to look all the way up until we find a shadow HOST\n  //  that is attached (or find none) because the node might be in nested shadows...\n  // If rootNode is not a shadow root, it won't have a host, and so rootNode should be the\n  //  document (per the docs) and while it's a Document-type object, that document does not\n  //  appear to be the same as the node's `ownerDocument` for some reason, so it's safer\n  //  to ignore the rootNode at this point, and use `node.ownerDocument`. Otherwise,\n  //  using `rootNode.contains(node)` will _always_ be true we'll get false-positives when\n  //  node is actually detached.\n  // NOTE: If `nodeRootHost` or `node` happens to be the `document` itself (which is possible\n  //  if a tabbable/focusable node was quickly added to the DOM, focused, and then removed\n  //  from the DOM as in https://github.com/focus-trap/focus-trap-react/issues/905), then\n  //  `ownerDocument` will be `null`, hence the optional chaining on it.\n  var nodeRoot = node && getRootNode(node);\n  var nodeRootHost = (_nodeRoot = nodeRoot) === null || _nodeRoot === void 0 ? void 0 : _nodeRoot.host;\n\n  // in some cases, a detached node will return itself as the root instead of a document or\n  //  shadow root object, in which case, we shouldn't try to look further up the host chain\n  var attached = false;\n  if (nodeRoot && nodeRoot !== node) {\n    var _nodeRootHost, _nodeRootHost$ownerDo, _node$ownerDocument;\n    attached = !!((_nodeRootHost = nodeRootHost) !== null && _nodeRootHost !== void 0 && (_nodeRootHost$ownerDo = _nodeRootHost.ownerDocument) !== null && _nodeRootHost$ownerDo !== void 0 && _nodeRootHost$ownerDo.contains(nodeRootHost) || node !== null && node !== void 0 && (_node$ownerDocument = node.ownerDocument) !== null && _node$ownerDocument !== void 0 && _node$ownerDocument.contains(node));\n    while (!attached && nodeRootHost) {\n      var _nodeRoot2, _nodeRootHost2, _nodeRootHost2$ownerD;\n      // since it's not attached and we have a root host, the node MUST be in a nested shadow DOM,\n      //  which means we need to get the host's host and check if that parent host is contained\n      //  in (i.e. attached to) the document\n      nodeRoot = getRootNode(nodeRootHost);\n      nodeRootHost = (_nodeRoot2 = nodeRoot) === null || _nodeRoot2 === void 0 ? void 0 : _nodeRoot2.host;\n      attached = !!((_nodeRootHost2 = nodeRootHost) !== null && _nodeRootHost2 !== void 0 && (_nodeRootHost2$ownerD = _nodeRootHost2.ownerDocument) !== null && _nodeRootHost2$ownerD !== void 0 && _nodeRootHost2$ownerD.contains(nodeRootHost));\n    }\n  }\n  return attached;\n};\nvar isZeroArea = function isZeroArea(node) {\n  var _node$getBoundingClie = node.getBoundingClientRect(),\n    width = _node$getBoundingClie.width,\n    height = _node$getBoundingClie.height;\n  return width === 0 && height === 0;\n};\nvar isHidden = function isHidden(node, _ref) {\n  var displayCheck = _ref.displayCheck,\n    getShadowRoot = _ref.getShadowRoot;\n  // NOTE: visibility will be `undefined` if node is detached from the document\n  //  (see notes about this further down), which means we will consider it visible\n  //  (this is legacy behavior from a very long way back)\n  // NOTE: we check this regardless of `displayCheck=\"none\"` because this is a\n  //  _visibility_ check, not a _display_ check\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n  var isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  var nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n  if (!displayCheck || displayCheck === 'full' || displayCheck === 'legacy-full') {\n    if (typeof getShadowRoot === 'function') {\n      // figure out if we should consider the node to be in an undisclosed shadow and use the\n      //  'non-zero-area' fallback\n      var originalNode = node;\n      while (node) {\n        var parentElement = node.parentElement;\n        var rootNode = getRootNode(node);\n        if (parentElement && !parentElement.shadowRoot && getShadowRoot(parentElement) === true // check if there's an undisclosed shadow\n        ) {\n          // node has an undisclosed shadow which means we can only treat it as a black box, so we\n          //  fall back to a non-zero-area test\n          return isZeroArea(node);\n        } else if (node.assignedSlot) {\n          // iterate up slot\n          node = node.assignedSlot;\n        } else if (!parentElement && rootNode !== node.ownerDocument) {\n          // cross shadow boundary\n          node = rootNode.host;\n        } else {\n          // iterate up normal dom\n          node = parentElement;\n        }\n      }\n      node = originalNode;\n    }\n    // else, `getShadowRoot` might be true, but all that does is enable shadow DOM support\n    //  (i.e. it does not also presume that all nodes might have undisclosed shadows); or\n    //  it might be a falsy value, which means shadow DOM support is disabled\n\n    // Since we didn't find it sitting in an undisclosed shadow (or shadows are disabled)\n    //  now we can just test to see if it would normally be visible or not, provided it's\n    //  attached to the main document.\n    // NOTE: We must consider case where node is inside a shadow DOM and given directly to\n    //  `isTabbable()` or `isFocusable()` -- regardless of `getShadowRoot` option setting.\n\n    if (isNodeAttached(node)) {\n      // this works wherever the node is: if there's at least one client rect, it's\n      //  somehow displayed; it also covers the CSS 'display: contents' case where the\n      //  node itself is hidden in place of its contents; and there's no need to search\n      //  up the hierarchy either\n      return !node.getClientRects().length;\n    }\n\n    // Else, the node isn't attached to the document, which means the `getClientRects()`\n    //  API will __always__ return zero rects (this can happen, for example, if React\n    //  is used to render nodes onto a detached tree, as confirmed in this thread:\n    //  https://github.com/facebook/react/issues/9117#issuecomment-284228870)\n    //\n    // It also means that even window.getComputedStyle(node).display will return `undefined`\n    //  because styles are only computed for nodes that are in the document.\n    //\n    // NOTE: THIS HAS BEEN THE CASE FOR YEARS. It is not new, nor is it caused by tabbable\n    //  somehow. Though it was never stated officially, anyone who has ever used tabbable\n    //  APIs on nodes in detached containers has actually implicitly used tabbable in what\n    //  was later (as of v5.2.0 on Apr 9, 2021) called `displayCheck=\"none\"` mode -- essentially\n    //  considering __everything__ to be visible because of the innability to determine styles.\n    //\n    // v6.0.0: As of this major release, the default 'full' option __no longer treats detached\n    //  nodes as visible with the 'none' fallback.__\n    if (displayCheck !== 'legacy-full') {\n      return true; // hidden\n    }\n    // else, fallback to 'none' mode and consider the node visible\n  } else if (displayCheck === 'non-zero-area') {\n    // NOTE: Even though this tests that the node's client rect is non-zero to determine\n    //  whether it's displayed, and that a detached node will __always__ have a zero-area\n    //  client rect, we don't special-case for whether the node is attached or not. In\n    //  this mode, we do want to consider nodes that have a zero area to be hidden at all\n    //  times, and that includes attached or not.\n    return isZeroArea(node);\n  }\n\n  // visible, as far as we can tell, or per current `displayCheck=none` mode, we assume\n  //  it's visible\n  return false;\n};\n\n// form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\nvar isDisabledFromFieldset = function isDisabledFromFieldset(node) {\n  if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {\n    var parentNode = node.parentElement;\n    // check if `node` is contained in a disabled <fieldset>\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> among the children of the disabled <fieldset>\n        for (var i = 0; i < parentNode.children.length; i++) {\n          var child = parentNode.children.item(i);\n          // when the first <legend> (in document order) is found\n          if (child.tagName === 'LEGEND') {\n            // if its parent <fieldset> is not nested in another disabled <fieldset>,\n            // return whether `node` is a descendant of its first <legend>\n            return matches.call(parentNode, 'fieldset[disabled] *') ? true : !child.contains(node);\n          }\n        }\n        // the disabled <fieldset> containing `node` has no <legend>\n        return true;\n      }\n      parentNode = parentNode.parentElement;\n    }\n  }\n\n  // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n  return false;\n};\nvar isNodeMatchingSelectorFocusable = function isNodeMatchingSelectorFocusable(options, node) {\n  if (node.disabled ||\n  // we must do an inert look up to filter out any elements inside an inert ancestor\n  //  because we're limited in the type of selectors we can use in JSDom (see related\n  //  note related to `candidateSelectors`)\n  isInert(node) || isHiddenInput(node) || isHidden(node, options) ||\n  // For a details element with a summary, the summary element gets the focus\n  isDetailsWithSummary(node) || isDisabledFromFieldset(node)) {\n    return false;\n  }\n  return true;\n};\nvar isNodeMatchingSelectorTabbable = function isNodeMatchingSelectorTabbable(options, node) {\n  if (isNonTabbableRadio(node) || getTabIndex(node) < 0 || !isNodeMatchingSelectorFocusable(options, node)) {\n    return false;\n  }\n  return true;\n};\nvar isValidShadowRootTabbable = function isValidShadowRootTabbable(shadowHostNode) {\n  var tabIndex = parseInt(shadowHostNode.getAttribute('tabindex'), 10);\n  if (isNaN(tabIndex) || tabIndex >= 0) {\n    return true;\n  }\n  // If a custom element has an explicit negative tabindex,\n  // browsers will not allow tab targeting said element's children.\n  return false;\n};\n\n/**\n * @param {Array.<Element|CandidateScope>} candidates\n * @returns Element[]\n */\nvar sortByOrder = function sortByOrder(candidates) {\n  var regularTabbables = [];\n  var orderedTabbables = [];\n  candidates.forEach(function (item, i) {\n    var isScope = !!item.scopeParent;\n    var element = isScope ? item.scopeParent : item;\n    var candidateTabindex = getSortOrderTabIndex(element, isScope);\n    var elements = isScope ? sortByOrder(item.candidates) : element;\n    if (candidateTabindex === 0) {\n      isScope ? regularTabbables.push.apply(regularTabbables, elements) : regularTabbables.push(element);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        item: item,\n        isScope: isScope,\n        content: elements\n      });\n    }\n  });\n  return orderedTabbables.sort(sortOrderedTabbables).reduce(function (acc, sortable) {\n    sortable.isScope ? acc.push.apply(acc, sortable.content) : acc.push(sortable.content);\n    return acc;\n  }, []).concat(regularTabbables);\n};\nvar tabbable = function tabbable(container, options) {\n  options = options || {};\n  var candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([container], options.includeContainer, {\n      filter: isNodeMatchingSelectorTabbable.bind(null, options),\n      flatten: false,\n      getShadowRoot: options.getShadowRoot,\n      shadowRootFilter: isValidShadowRootTabbable\n    });\n  } else {\n    candidates = getCandidates(container, options.includeContainer, isNodeMatchingSelectorTabbable.bind(null, options));\n  }\n  return sortByOrder(candidates);\n};\nvar focusable = function focusable(container, options) {\n  options = options || {};\n  var candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([container], options.includeContainer, {\n      filter: isNodeMatchingSelectorFocusable.bind(null, options),\n      flatten: true,\n      getShadowRoot: options.getShadowRoot\n    });\n  } else {\n    candidates = getCandidates(container, options.includeContainer, isNodeMatchingSelectorFocusable.bind(null, options));\n  }\n  return candidates;\n};\nvar isTabbable = function isTabbable(node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(options, node);\n};\nvar focusableCandidateSelector = /* #__PURE__ */candidateSelectors.concat('iframe').join(',');\nvar isFocusable = function isFocusable(node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { focusable, getTabIndex, isFocusable, isTabbable, tabbable };\n//# sourceMappingURL=index.esm.js.map\n","import { FocusableElement, tabbable } from 'tabbable';\n\ntype Container = Element | FocusableElement | null;\n\nconst firstTabbable = (container?: Container): FocusableElement | undefined => {\n  return (container ? tabbable(container, { includeContainer: true, getShadowRoot: true }) : []).shift();\n};\n\nexport default firstTabbable;\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use '_snippets/form-label';\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.label-hidden,\n.label-container:empty {\n  display: none;\n}\n\n.picker {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.picker-head {\n  display: flex;\n  align-items: center;\n  container-type: inline-size;\n\n  > :not(:last-child) {\n    // we use margin here instead of gap to be able to properly adjust by container query\n    margin-right: 0.25rem;\n  }\n\n  h3 {\n    @include cat-head(5);\n    flex: 1;\n    text-align: center;\n    margin-block: 0;\n  }\n\n  @container (min-width: 20rem) {\n    h3 {\n      @include cat-head(4);\n    }\n\n    > :not(:last-child) {\n      margin-right: 0.5rem;\n    }\n  }\n}\n\n.picker-grid {\n  display: grid;\n  /* stylelint-disable declaration-block-no-redundant-longhand-properties */\n  grid-template-rows: 2rem repeat(6, 1fr);\n  grid-template-columns: repeat(7, 1fr);\n  grid-template-areas:\n    'h h h h h h h'\n    'd d d d d d d'\n    'd d d d d d d'\n    'd d d d d d d'\n    'd d d d d d d'\n    'd d d d d d d'\n    'd d d d d d d';\n  /* stylelint-enable declaration-block-no-redundant-longhand-properties */\n\n  .picker-weeks & {\n    /* stylelint-disable declaration-block-no-redundant-longhand-properties */\n    grid-template-columns: 2rem repeat(7, 1fr);\n    grid-template-areas:\n      '. h h h h h h h'\n      'w d d d d d d d'\n      'w d d d d d d d'\n      'w d d d d d d d'\n      'w d d d d d d d'\n      'w d d d d d d d'\n      'w d d d d d d d';\n    /* stylelint-enable declaration-block-no-redundant-longhand-properties */\n  }\n}\n\n.picker-grid-head {\n  grid-area: h;\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  place-items: end center;\n  padding-bottom: 0.5rem;\n}\n\n.picker-grid-weeks {\n  grid-area: w;\n  display: grid;\n  grid-template-rows: repeat(6, 1fr);\n  place-items: center right;\n  padding-right: 0.5rem;\n}\n\n.picker-grid-days {\n  grid-area: d;\n  display: grid;\n  grid-template-rows: repeat(6, 1fr);\n  grid-template-columns: repeat(7, 1fr);\n}\n\n.picker-grid-head > *,\n.picker-grid-weeks > * {\n  @include cat-body('xs', 600);\n  color: cat-token('color.ui.font.muted') !important;\n  text-decoration: none;\n}\n\n.date-other {\n  opacity: 0.5;\n}\n\n.date-disabled {\n  opacity: 0.25;\n}\n\n.picker-foot {\n  display: flex;\n  align-items: center;\n  width: min-content;\n  min-width: 100%;\n  justify-content: space-between;\n  container-type: inline-size;\n\n  > :not(:last-child) {\n    // we use margin here instead of gap to be able to properly adjust by container query\n    margin-right: 0.25rem;\n  }\n\n  @container (min-width: 20rem) {\n    > :not(:last-child) {\n      margin-right: 0.5rem;\n    }\n\n    .cursor-help {\n      @include cat-body('s');\n    }\n  }\n}\n\n.cursor-help {\n  margin-block: 0;\n  @include cat-body('xs');\n  color: cat-token('color.ui.font.muted') !important;\n  text-align: center;\n  flex: 1;\n\n  &:first-child {\n    text-align: left;\n  }\n\n  &:last-child {\n    text-align: right;\n  }\n\n  &:only-child {\n    text-align: center;\n  }\n}\n\n.cursor-aria {\n  @include cat-visually-hidden;\n}\n\n.date-range {\n  --cat-border-radius-m: 0;\n}\n","import { Component, Element, Event, EventEmitter, Host, Listen, Method, Prop, State, h } from '@stencil/core';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\nimport { getLocale } from './cat-date-locale';\nimport { addDays, addMonth, clampDate, isSameDay, isSameMonth, isSameYear } from './cat-date-math';\nimport firstTabbable from '../../utils/first-tabbable';\n\nlet nextUniqueId = 0;\n\n/**\n * An inline date picker component to select a date.\n */\n@Component({\n  tag: 'cat-date-inline',\n  styleUrl: 'cat-date-inline.scss',\n  shadow: true\n})\nexport class CatDateInline {\n  private readonly _id = `cat-date-inline-${nextUniqueId++}`;\n  private get id() {\n    return this.identifier || this._id;\n  }\n\n  private readonly language = i18n.getLocale();\n  private readonly locale = getLocale(this.language);\n  // additonally store the focus date to ensure correct focus after potential re-render\n  private focusDate: Date | null = null;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n  @State() hasSlottedHint = false;\n\n  @State() viewDate: Date = this.locale.now();\n\n  /**\n   * Hides the clear button.\n   */\n  @Prop() noClear = false;\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * Shows an arrow keys navigation hint.\n   */\n  @Prop() hint = false;\n\n  /**\n   * Hides the today button.\n   */\n  @Prop() noToday = false;\n\n  /**\n   * Show week numbers.\n   */\n  @Prop() weeks = false;\n\n  /**\n   * The label for the input.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A minimum value for the date, given in local ISO 8601 date format YYYY-MM-DD.\n   */\n  @Prop() min?: string;\n\n  /**\n   * A maximum value for the date, given in local ISO 8601 date format YYYY-MM-DD.\n   */\n  @Prop() max?: string;\n\n  /**\n   * Allow the selection of a range of dates, i.e. start and end date.\n   */\n  @Prop() range = false;\n\n  /**\n   * A value is required or must be check for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * Adds accessible label for the datepicker. The label will be read by\n   * assistive technology upon focusing the datepicker.\n   */\n  @Prop({ attribute: 'a11y-label' }) a11yLabel?: string;\n\n  /**\n   * Whether the label need a marker to shown if the input is required or optional.\n   */\n  @Prop() requiredMarker?: 'none' | 'required' | 'optional' | 'none!' | 'optional!' | 'required!' = 'optional';\n\n  /**\n   * The value of the control, given in local ISO 8601 date format YYYY-MM-DD.\n   */\n  @Prop({ mutable: true }) value?: string;\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter<string>;\n\n  private get focusedDate() {\n    const [all, year, month, day] =\n      this.hostElement.shadowRoot\n        ?.querySelector<HTMLCatButtonElement>(`[data-date]:focus`)\n        ?.dataset.date?.match(/^(\\d{4})-(\\d{2})-(\\d{2})/) ?? [];\n    return all ? new Date(Number(year), Number(month) - 1, Number(day)) : null;\n  }\n\n  componentWillLoad() {\n    const [startDate, endDate] = this.getValue();\n    if (endDate) {\n      this.focus(endDate, false);\n    } else if (startDate) {\n      this.focus(startDate, false);\n    }\n    this.hostElement.addEventListener('focusin', () => this.setAriaLive(this.a11yLabel));\n  }\n\n  componentWillRender(): void {\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n  }\n\n  componentDidRender() {\n    if (this.focusDate) {\n      // re-focus the previously focused date after re-render\n      this.hostElement.shadowRoot\n        ?.querySelector<HTMLCatButtonElement>(`[data-date=\"${this.locale.toLocalISO(this.focusDate)}\"]`)\n        ?.doFocus();\n      this.focusDate = null;\n    }\n  }\n\n  @Listen('keydown')\n  onKeyDown(e: KeyboardEvent) {\n    if (!['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown'].includes(e.key)) {\n      return;\n    }\n    const focusedDate = this.focusedDate;\n    if (!focusedDate) {\n      e.preventDefault();\n      const [startDate] = this.getValue();\n      this.focus(startDate || this.locale.now());\n    } else if (e.key === 'ArrowLeft') {\n      e.preventDefault();\n      this.focus(e.shiftKey ? addMonth(focusedDate, -1) : addDays(focusedDate, -1));\n    } else if (e.key === 'ArrowRight') {\n      e.preventDefault();\n      this.focus(e.shiftKey ? addMonth(focusedDate, 1) : addDays(focusedDate, 1));\n    } else if (e.key === 'ArrowUp') {\n      e.preventDefault();\n      this.focus(addDays(focusedDate, -7));\n    } else if (e.key === 'ArrowDown') {\n      e.preventDefault();\n      this.focus(addDays(focusedDate, 7));\n    }\n  }\n\n  /**\n   * Select a date in the picker.\n   *\n   * @param date The date to select.\n   */\n  @Method()\n  async select(date: Date | null): Promise<void> {\n    if (!date) {\n      return this.clear();\n    }\n    const oldValue = this.value;\n    const [minDate, maxDate] = this.getMinMaxDate();\n    const newDate = clampDate(minDate, new Date(date.getFullYear(), date.getMonth(), date.getDate()), maxDate);\n    this.focus(newDate);\n\n    if (this.range) {\n      const [startDate, endDate] = this.getValue();\n      if (!startDate || endDate || newDate < startDate) {\n        this.value = this.toRangeValue(newDate, null);\n      } else {\n        this.value = this.toRangeValue(startDate, newDate);\n      }\n    } else {\n      this.value = this.locale.toLocalISO(newDate);\n    }\n\n    if (oldValue !== this.value) {\n      this.catChange.emit(this.value);\n    }\n  }\n\n  /**\n   * Clear the picker.\n   */\n  @Method()\n  async clear(): Promise<void> {\n    const oldValue = this.value;\n    this.value = undefined;\n    if (oldValue !== this.value) {\n      this.catChange.emit(this.value);\n    }\n  }\n\n  /**\n   * Resets the view of the picker.\n   */\n  @Method()\n  async resetView(): Promise<void> {\n    const [minDate, maxDate] = this.getMinMaxDate();\n    const [dateStart] = this.getValue();\n    this.viewDate = dateStart ?? clampDate(minDate, this.locale.now(), maxDate);\n  }\n\n  /**\n   * Programmatically move focus to the inline datepicker, i,e, the first\n   * focusable date.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    firstTabbable(this.hostElement.shadowRoot?.querySelector('.picker-grid-days'))?.focus(options);\n  }\n\n  render() {\n    const [minDate, maxDate] = this.getMinMaxDate();\n    const dateGrid = this.dateGrid(this.viewDate.getFullYear(), this.viewDate.getMonth());\n    const [dateStart, dateEnd] = this.getValue();\n    return (\n      <Host aria-label={this.label || undefined}>\n        <div class={{ 'label-container': true, 'label-hidden': this.labelHidden }}>\n          {(this.hasSlottedLabel || this.label) && (\n            <label id={`${this.id}-label`} htmlFor={this.id} part=\"label\" onClick={() => this.doFocus()}>\n              <span class=\"label-wrapper\">\n                {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n                <div class=\"label-metadata\">\n                  {!this.required && (this.requiredMarker ?? 'optional').startsWith('optional') && (\n                    <span class=\"label-optional\" aria-hidden=\"true\">\n                      ({i18n.t('input.optional')})\n                    </span>\n                  )}\n                  {this.required && this.requiredMarker?.startsWith('required') && (\n                    <span class=\"label-optional\" aria-hidden=\"true\">\n                      ({i18n.t('input.required')})\n                    </span>\n                  )}\n                </div>\n              </span>\n            </label>\n          )}\n        </div>\n        <div class={{ picker: true, 'picker-weeks': this.weeks }} id={this.id} aria-describedby={`${this.id}-label`}>\n          <div class=\"picker-head\">\n            <cat-button\n              icon=\"$cat:datepicker-year-prev\"\n              iconOnly\n              size=\"xs\"\n              variant=\"text\"\n              a11y-label={this.locale.prevYear}\n              disabled={isSameYear(this.viewDate, minDate)}\n              onClick={() => this.navigate('prev', 'year')}\n              data-dropdown-no-close\n            ></cat-button>\n            <cat-button\n              icon=\"$cat:datepicker-month-prev\"\n              iconOnly\n              size=\"xs\"\n              variant=\"text\"\n              a11y-label={this.locale.prevMonth}\n              disabled={isSameMonth(this.viewDate, minDate)}\n              onClick={() => this.navigate('prev', 'month')}\n              data-dropdown-no-close\n            ></cat-button>\n            <h3>{this.getHeadline()}</h3>\n            <cat-button\n              icon=\"$cat:datepicker-month-next\"\n              iconOnly\n              size=\"xs\"\n              variant=\"text\"\n              a11y-label={this.locale.nextMonth}\n              disabled={isSameMonth(this.viewDate, maxDate)}\n              onClick={() => this.navigate('next', 'month')}\n              data-dropdown-no-close\n            ></cat-button>\n            <cat-button\n              icon=\"$cat:datepicker-year-next\"\n              iconOnly\n              size=\"xs\"\n              variant=\"text\"\n              a11y-label={this.locale.nextYear}\n              disabled={isSameYear(this.viewDate, maxDate)}\n              onClick={() => this.navigate('next', 'year')}\n              data-dropdown-no-close\n            ></cat-button>\n          </div>\n          <div class=\"picker-grid\" onFocusin={() => this.setAriaLive(this.locale.arrowKeys)}>\n            <div class=\"picker-grid-head\">\n              {Array.from(Array(7), (_, i) => {\n                const day = (i + this.locale.weekInfo.firstDay) % 7;\n                return <abbr title={this.locale.days.long[day]}>{this.locale.days.short[day]}</abbr>;\n              })}\n            </div>\n            {this.weeks && (\n              <div class=\"picker-grid-weeks\">\n                {dateGrid\n                  .filter((_, i) => i % 7 === 0)\n                  .map(day => (\n                    <div>{this.getWeekNumber(day)}</div>\n                  ))}\n              </div>\n            )}\n            <div class=\"picker-grid-days\">\n              {dateGrid.map(day => {\n                const isStartDate = isSameDay(dateStart, day);\n                const isEndDate = isSameDay(dateEnd, day);\n                const isRange = !!dateStart && !!dateEnd && day > dateStart && day < dateEnd;\n                const isToday = isSameDay(this.locale.now(), day);\n                const isWeekend = this.locale.weekInfo.weekend.includes(day.getDay() || 7);\n                return (\n                  <cat-button\n                    class={{\n                      'cat-date-item': true,\n                      'date-other': !isSameMonth(this.viewDate, day),\n                      'date-today': isToday,\n                      'date-weekend': isWeekend,\n                      'date-start': this.range && isStartDate,\n                      'date-range': this.range && isRange,\n                      'date-end': this.range && isEndDate,\n                      'date-focusable': this.canFocus(day),\n                      'date-disabled': !this.canClick(day)\n                    }}\n                    nativeAttributes={!this.canFocus(day) ? { tabindex: '-1' } : {}}\n                    variant={isStartDate || isEndDate ? 'filled' : isToday ? 'outlined' : 'text'}\n                    a11yLabel={this.locale.toLocalStr(day)}\n                    active={isStartDate || isEndDate || isRange}\n                    color={isStartDate || isEndDate || isToday ? 'primary' : 'secondary'}\n                    disabled={!this.canClick(day)}\n                    onClick={() => this.select(day)}\n                    data-date={this.locale.toLocalISO(day)}\n                  >\n                    {day.getDate()}\n                  </cat-button>\n                );\n              })}\n            </div>\n          </div>\n          <div class=\"picker-foot\">\n            {!this.noToday && this.canClick(this.locale.now()) && (\n              <cat-button size=\"s\" data-dropdown-no-close onClick={() => this.select(this.locale.now())}>\n                {this.locale.today}\n              </cat-button>\n            )}\n            {this.hint && <p class=\"cursor-help\">{this.locale.arrowKeys}</p>}\n            {!this.noClear && (\n              <cat-button size=\"s\" disabled={!this.value} data-dropdown-no-close onClick={() => this.clear()}>\n                {this.locale.clear}\n              </cat-button>\n            )}\n          </div>\n        </div>\n        <p class=\"cursor-aria\" aria-live=\"polite\"></p>\n      </Host>\n    );\n  }\n\n  private focus(date: Date, focus = true) {\n    const [minDate, maxDate] = this.getMinMaxDate();\n    const focusDate = clampDate(minDate, date, maxDate);\n    this.viewDate = new Date(focusDate.getFullYear(), focusDate.getMonth());\n    if (focus) {\n      this.focusDate = focusDate;\n      this.hostElement.shadowRoot\n        ?.querySelector<HTMLCatButtonElement>(`[data-date=\"${this.locale.toLocalISO(focusDate)}\"]`)\n        ?.doFocus();\n    }\n  }\n\n  private navigate(direction: 'prev' | 'next', period: 'year' | 'month') {\n    this.viewDate = new Date(\n      direction === 'prev'\n        ? period === 'year'\n          ? this.viewDate.setFullYear(this.viewDate.getFullYear() - 1)\n          : this.viewDate.setMonth(this.viewDate.getMonth() - 1)\n        : period === 'year'\n          ? this.viewDate.setFullYear(this.viewDate.getFullYear() + 1)\n          : this.viewDate.setMonth(this.viewDate.getMonth() + 1)\n    );\n    // announce the new month and year\n    this.setAriaLive(this.getHeadline());\n  }\n\n  private setAriaLive(text?: string) {\n    const node = this.hostElement.shadowRoot?.querySelector('.cursor-aria');\n    if (node && text) {\n      node.innerHTML = text;\n    }\n  }\n\n  private dateGrid(year: number, month: number) {\n    const daysOffset = (new Date(year, month, 1).getDay() - this.locale.weekInfo.firstDay + 7) % 7;\n    const daysInMonth = new Date(year, month + 1, 0).getDate();\n    const days = [...Array(daysInMonth).keys()];\n    const daysBefore = this.getLastDaysOfMonth(year, month, daysOffset);\n    const daysAfter = [...Array(42 - days.length - daysBefore.length).keys()];\n    return [\n      ...daysBefore.map(day => new Date(year, month - 1, day + 1)),\n      ...days.map(day => new Date(year, month, day + 1)),\n      ...daysAfter.map(day => new Date(year, month + 1, day + 1))\n    ];\n  }\n\n  private getLastDaysOfMonth(year: number, month: number, x: number): number[] {\n    const lastDayOfMonth = new Date(year, month, 0).getDate();\n    const daysOfMonth = Array.from({ length: lastDayOfMonth }, (_, index) => index);\n    return x ? daysOfMonth.slice(-x) : [];\n  }\n\n  private getHeadline() {\n    return `${this.locale.months.long[this.viewDate.getMonth()]} ${this.viewDate.getFullYear()}`;\n  }\n\n  private getWeekNumber(date: Date, iso8601 = true) {\n    const currentDate = new Date(date.getTime());\n    const dayNum = iso8601 ? currentDate.getDay() || 7 : currentDate.getDay();\n    currentDate.setDate(currentDate.getDate() + 4 - dayNum);\n    const yearStart = new Date(currentDate.getFullYear(), 0, 1);\n    return Math.ceil(((+currentDate - +yearStart) / 86400000 + 1) / 7);\n  }\n\n  private canFocus(date: Date): boolean {\n    const now = this.locale.now();\n    const [minDate] = this.getMinMaxDate();\n    const focusedDate = this.focusedDate;\n    const [startDate] = this.getValue();\n    if (focusedDate && isSameMonth(focusedDate, this.viewDate)) {\n      return isSameMonth(focusedDate, date) && isSameDay(focusedDate, date);\n    } else if (startDate && isSameMonth(startDate, this.viewDate)) {\n      return isSameMonth(startDate, date) && isSameDay(startDate, date);\n    } else if (isSameMonth(this.viewDate, now) && (!minDate || minDate <= now)) {\n      return isSameMonth(this.viewDate, date) && isSameDay(now, date);\n    }\n    const minDay = isSameMonth(date, minDate) ? minDate?.getDate() ?? 1 : 1;\n    return isSameMonth(this.viewDate, date) && date.getDate() === minDay;\n  }\n\n  private canClick(date: Date) {\n    const [minDate, maxDate] = this.getMinMaxDate();\n    return (!minDate || minDate <= date) && (!maxDate || maxDate >= date);\n  }\n\n  private getMinMaxDate() {\n    const minDate = this.locale.fromLocalISO(this.min);\n    const maxDate = this.locale.fromLocalISO(this.max);\n    return [minDate, maxDate];\n  }\n\n  private getValue(): [Date | null, Date | null] {\n    if (this.range) {\n      const [startDate, endDate] = JSON.parse(this.value || '[]') as [string | null, string | null];\n      return [this.locale.fromLocalISO(startDate), this.locale.fromLocalISO(endDate)];\n    } else {\n      return [this.locale.fromLocalISO(this.value), null];\n    }\n  }\n\n  private toRangeValue(startDate: Date | null, endDate: Date | null): string {\n    return JSON.stringify([startDate, endDate].map(date => (date ? this.locale.toLocalISO(date) : null)));\n  }\n}\n","export var HOOKS = [\n    \"onChange\",\n    \"onClose\",\n    \"onDayCreate\",\n    \"onDestroy\",\n    \"onKeyDown\",\n    \"onMonthChange\",\n    \"onOpen\",\n    \"onParseConfig\",\n    \"onReady\",\n    \"onValueUpdate\",\n    \"onYearChange\",\n    \"onPreCalendarPosition\",\n];\nexport var defaults = {\n    _disable: [],\n    allowInput: false,\n    allowInvalidPreload: false,\n    altFormat: \"F j, Y\",\n    altInput: false,\n    altInputClass: \"form-control input\",\n    animate: typeof window === \"object\" &&\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n    ariaDateFormat: \"F j, Y\",\n    autoFillDefaultTime: true,\n    clickOpens: true,\n    closeOnSelect: true,\n    conjunction: \", \",\n    dateFormat: \"Y-m-d\",\n    defaultHour: 12,\n    defaultMinute: 0,\n    defaultSeconds: 0,\n    disable: [],\n    disableMobile: false,\n    enableSeconds: false,\n    enableTime: false,\n    errorHandler: function (err) {\n        return typeof console !== \"undefined\" && console.warn(err);\n    },\n    getWeek: function (givenDate) {\n        var date = new Date(givenDate.getTime());\n        date.setHours(0, 0, 0, 0);\n        date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n        var week1 = new Date(date.getFullYear(), 0, 4);\n        return (1 +\n            Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                3 +\n                ((week1.getDay() + 6) % 7)) /\n                7));\n    },\n    hourIncrement: 1,\n    ignoredFocusElements: [],\n    inline: false,\n    locale: \"default\",\n    minuteIncrement: 5,\n    mode: \"single\",\n    monthSelectorType: \"dropdown\",\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n    noCalendar: false,\n    now: new Date(),\n    onChange: [],\n    onClose: [],\n    onDayCreate: [],\n    onDestroy: [],\n    onKeyDown: [],\n    onMonthChange: [],\n    onOpen: [],\n    onParseConfig: [],\n    onReady: [],\n    onValueUpdate: [],\n    onYearChange: [],\n    onPreCalendarPosition: [],\n    plugins: [],\n    position: \"auto\",\n    positionElement: undefined,\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n    shorthandCurrentMonth: false,\n    showMonths: 1,\n    static: false,\n    time_24hr: false,\n    weekNumbers: false,\n    wrap: false,\n};\n","export var english = {\n    weekdays: {\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n        longhand: [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n        ],\n    },\n    months: {\n        shorthand: [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n        ],\n        longhand: [\n            \"January\",\n            \"February\",\n            \"March\",\n            \"April\",\n            \"May\",\n            \"June\",\n            \"July\",\n            \"August\",\n            \"September\",\n            \"October\",\n            \"November\",\n            \"December\",\n        ],\n    },\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    firstDayOfWeek: 0,\n    ordinal: function (nth) {\n        var s = nth % 100;\n        if (s > 3 && s < 21)\n            return \"th\";\n        switch (s % 10) {\n            case 1:\n                return \"st\";\n            case 2:\n                return \"nd\";\n            case 3:\n                return \"rd\";\n            default:\n                return \"th\";\n        }\n    },\n    rangeSeparator: \" to \",\n    weekAbbreviation: \"Wk\",\n    scrollTitle: \"Scroll to increment\",\n    toggleTitle: \"Click to toggle\",\n    amPM: [\"AM\", \"PM\"],\n    yearAriaLabel: \"Year\",\n    monthAriaLabel: \"Month\",\n    hourAriaLabel: \"Hour\",\n    minuteAriaLabel: \"Minute\",\n    time_24hr: false,\n};\nexport default english;\n","export var pad = function (number, length) {\n    if (length === void 0) { length = 2; }\n    return (\"000\" + number).slice(length * -1);\n};\nexport var int = function (bool) { return (bool === true ? 1 : 0); };\nexport function debounce(fn, wait) {\n    var t;\n    return function () {\n        var _this = this;\n        var args = arguments;\n        clearTimeout(t);\n        t = setTimeout(function () { return fn.apply(_this, args); }, wait);\n    };\n}\nexport var arrayify = function (obj) {\n    return obj instanceof Array ? obj : [obj];\n};\n","export function toggleClass(elem, className, bool) {\n    if (bool === true)\n        return elem.classList.add(className);\n    elem.classList.remove(className);\n}\nexport function createElement(tag, className, content) {\n    var e = window.document.createElement(tag);\n    className = className || \"\";\n    content = content || \"\";\n    e.className = className;\n    if (content !== undefined)\n        e.textContent = content;\n    return e;\n}\nexport function clearNode(node) {\n    while (node.firstChild)\n        node.removeChild(node.firstChild);\n}\nexport function findParent(node, condition) {\n    if (condition(node))\n        return node;\n    else if (node.parentNode)\n        return findParent(node.parentNode, condition);\n    return undefined;\n}\nexport function createNumberInput(inputClassName, opts) {\n    var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n    if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n        numInput.type = \"number\";\n    }\n    else {\n        numInput.type = \"text\";\n        numInput.pattern = \"\\\\d*\";\n    }\n    if (opts !== undefined)\n        for (var key in opts)\n            numInput.setAttribute(key, opts[key]);\n    wrapper.appendChild(numInput);\n    wrapper.appendChild(arrowUp);\n    wrapper.appendChild(arrowDown);\n    return wrapper;\n}\nexport function getEventTarget(event) {\n    try {\n        if (typeof event.composedPath === \"function\") {\n            var path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n    catch (error) {\n        return event.target;\n    }\n}\n","import { int, pad } from \"../utils\";\nvar doNothing = function () { return undefined; };\nexport var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\nexport var revFormat = {\n    D: doNothing,\n    F: function (dateObj, monthName, locale) {\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n    },\n    G: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    H: function (dateObj, hour) {\n        dateObj.setHours(parseFloat(hour));\n    },\n    J: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    K: function (dateObj, amPM, locale) {\n        dateObj.setHours((dateObj.getHours() % 12) +\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n    },\n    M: function (dateObj, shortMonth, locale) {\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n    },\n    S: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\n    W: function (dateObj, weekNum, locale) {\n        var weekNumber = parseInt(weekNum);\n        var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n        date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n        return date;\n    },\n    Y: function (dateObj, year) {\n        dateObj.setFullYear(parseFloat(year));\n    },\n    Z: function (_, ISODate) { return new Date(ISODate); },\n    d: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    h: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    i: function (dateObj, minutes) {\n        dateObj.setMinutes(parseFloat(minutes));\n    },\n    j: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    l: doNothing,\n    m: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    n: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    s: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    u: function (_, unixMillSeconds) {\n        return new Date(parseFloat(unixMillSeconds));\n    },\n    w: doNothing,\n    y: function (dateObj, year) {\n        dateObj.setFullYear(2000 + parseFloat(year));\n    },\n};\nexport var tokenRegex = {\n    D: \"\",\n    F: \"\",\n    G: \"(\\\\d\\\\d|\\\\d)\",\n    H: \"(\\\\d\\\\d|\\\\d)\",\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n    K: \"\",\n    M: \"\",\n    S: \"(\\\\d\\\\d|\\\\d)\",\n    U: \"(.+)\",\n    W: \"(\\\\d\\\\d|\\\\d)\",\n    Y: \"(\\\\d{4})\",\n    Z: \"(.+)\",\n    d: \"(\\\\d\\\\d|\\\\d)\",\n    h: \"(\\\\d\\\\d|\\\\d)\",\n    i: \"(\\\\d\\\\d|\\\\d)\",\n    j: \"(\\\\d\\\\d|\\\\d)\",\n    l: \"\",\n    m: \"(\\\\d\\\\d|\\\\d)\",\n    n: \"(\\\\d\\\\d|\\\\d)\",\n    s: \"(\\\\d\\\\d|\\\\d)\",\n    u: \"(.+)\",\n    w: \"(\\\\d\\\\d|\\\\d)\",\n    y: \"(\\\\d{2})\",\n};\nexport var formats = {\n    Z: function (date) { return date.toISOString(); },\n    D: function (date, locale, options) {\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\n    },\n    F: function (date, locale, options) {\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n    },\n    G: function (date, locale, options) {\n        return pad(formats.h(date, locale, options));\n    },\n    H: function (date) { return pad(date.getHours()); },\n    J: function (date, locale) {\n        return locale.ordinal !== undefined\n            ? date.getDate() + locale.ordinal(date.getDate())\n            : date.getDate();\n    },\n    K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\n    M: function (date, locale) {\n        return monthToStr(date.getMonth(), true, locale);\n    },\n    S: function (date) { return pad(date.getSeconds()); },\n    U: function (date) { return date.getTime() / 1000; },\n    W: function (date, _, options) {\n        return options.getWeek(date);\n    },\n    Y: function (date) { return pad(date.getFullYear(), 4); },\n    d: function (date) { return pad(date.getDate()); },\n    h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\n    i: function (date) { return pad(date.getMinutes()); },\n    j: function (date) { return date.getDate(); },\n    l: function (date, locale) {\n        return locale.weekdays.longhand[date.getDay()];\n    },\n    m: function (date) { return pad(date.getMonth() + 1); },\n    n: function (date) { return date.getMonth() + 1; },\n    s: function (date) { return date.getSeconds(); },\n    u: function (date) { return date.getTime(); },\n    w: function (date) { return date.getDay(); },\n    y: function (date) { return String(date.getFullYear()).substring(2); },\n};\n","import { tokenRegex, revFormat, formats, } from \"./formatting\";\nimport { defaults } from \"../types/options\";\nimport { english } from \"../l10n/default\";\nexport var createDateFormatter = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c, _d = _a.isMobile, isMobile = _d === void 0 ? false : _d;\n    return function (dateObj, frmt, overrideLocale) {\n        var locale = overrideLocale || l10n;\n        if (config.formatDate !== undefined && !isMobile) {\n            return config.formatDate(dateObj, frmt, locale);\n        }\n        return frmt\n            .split(\"\")\n            .map(function (c, i, arr) {\n            return formats[c] && arr[i - 1] !== \"\\\\\"\n                ? formats[c](dateObj, locale, config)\n                : c !== \"\\\\\"\n                    ? c\n                    : \"\";\n        })\n            .join(\"\");\n    };\n};\nexport var createDateParser = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n    return function (date, givenFormat, timeless, customLocale) {\n        if (date !== 0 && !date)\n            return undefined;\n        var locale = customLocale || l10n;\n        var parsedDate;\n        var dateOrig = date;\n        if (date instanceof Date)\n            parsedDate = new Date(date.getTime());\n        else if (typeof date !== \"string\" &&\n            date.toFixed !== undefined)\n            parsedDate = new Date(date);\n        else if (typeof date === \"string\") {\n            var format = givenFormat || (config || defaults).dateFormat;\n            var datestr = String(date).trim();\n            if (datestr === \"today\") {\n                parsedDate = new Date();\n                timeless = true;\n            }\n            else if (config && config.parseDate) {\n                parsedDate = config.parseDate(date, format);\n            }\n            else if (/Z$/.test(datestr) ||\n                /GMT$/.test(datestr)) {\n                parsedDate = new Date(date);\n            }\n            else {\n                var matched = void 0, ops = [];\n                for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                    var token = format[i];\n                    var isBackSlash = token === \"\\\\\";\n                    var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                    if (tokenRegex[token] && !escaped) {\n                        regexStr += tokenRegex[token];\n                        var match = new RegExp(regexStr).exec(date);\n                        if (match && (matched = true)) {\n                            ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                                fn: revFormat[token],\n                                val: match[++matchIndex],\n                            });\n                        }\n                    }\n                    else if (!isBackSlash)\n                        regexStr += \".\";\n                }\n                parsedDate =\n                    !config || !config.noCalendar\n                        ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                        : new Date(new Date().setHours(0, 0, 0, 0));\n                ops.forEach(function (_a) {\n                    var fn = _a.fn, val = _a.val;\n                    return (parsedDate = fn(parsedDate, val, locale) || parsedDate);\n                });\n                parsedDate = matched ? parsedDate : undefined;\n            }\n        }\n        if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n            config.errorHandler(new Error(\"Invalid date provided: \" + dateOrig));\n            return undefined;\n        }\n        if (timeless === true)\n            parsedDate.setHours(0, 0, 0, 0);\n        return parsedDate;\n    };\n};\nexport function compareDates(date1, date2, timeless) {\n    if (timeless === void 0) { timeless = true; }\n    if (timeless !== false) {\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\n    }\n    return date1.getTime() - date2.getTime();\n}\nexport function compareTimes(date1, date2) {\n    return (3600 * (date1.getHours() - date2.getHours()) +\n        60 * (date1.getMinutes() - date2.getMinutes()) +\n        date1.getSeconds() -\n        date2.getSeconds());\n}\nexport var isBetween = function (ts, ts1, ts2) {\n    return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\nexport var calculateSecondsSinceMidnight = function (hours, minutes, seconds) {\n    return hours * 3600 + minutes * 60 + seconds;\n};\nexport var parseSeconds = function (secondsSinceMidnight) {\n    var hours = Math.floor(secondsSinceMidnight / 3600), minutes = (secondsSinceMidnight - hours * 3600) / 60;\n    return [hours, minutes, secondsSinceMidnight - hours * 3600 - minutes * 60];\n};\nexport var duration = {\n    DAY: 86400000,\n};\nexport function getDefaultHours(config) {\n    var hours = config.defaultHour;\n    var minutes = config.defaultMinute;\n    var seconds = config.defaultSeconds;\n    if (config.minDate !== undefined) {\n        var minHour = config.minDate.getHours();\n        var minMinutes = config.minDate.getMinutes();\n        var minSeconds = config.minDate.getSeconds();\n        if (hours < minHour) {\n            hours = minHour;\n        }\n        if (hours === minHour && minutes < minMinutes) {\n            minutes = minMinutes;\n        }\n        if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\n            seconds = config.minDate.getSeconds();\n    }\n    if (config.maxDate !== undefined) {\n        var maxHr = config.maxDate.getHours();\n        var maxMinutes = config.maxDate.getMinutes();\n        hours = Math.min(hours, maxHr);\n        if (hours === maxHr)\n            minutes = Math.min(maxMinutes, minutes);\n        if (hours === maxHr && minutes === maxMinutes)\n            seconds = config.maxDate.getSeconds();\n    }\n    return { hours: hours, minutes: minutes, seconds: seconds };\n}\n","\"use strict\";\nif (typeof Object.assign !== \"function\") {\n    Object.assign = function (target) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!target) {\n            throw TypeError(\"Cannot convert undefined or null to object\");\n        }\n        var _loop_1 = function (source) {\n            if (source) {\n                Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\n            }\n        };\n        for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n            var source = args_1[_a];\n            _loop_1(source);\n        }\n        return target;\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { defaults as defaultOptions, HOOKS, } from \"./types/options\";\nimport English from \"./l10n/default\";\nimport { arrayify, debounce, int, pad } from \"./utils\";\nimport { clearNode, createElement, createNumberInput, findParent, toggleClass, getEventTarget, } from \"./utils/dom\";\nimport { compareDates, createDateParser, createDateFormatter, duration, isBetween, getDefaultHours, calculateSecondsSinceMidnight, parseSeconds, } from \"./utils/dates\";\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\nimport \"./utils/polyfills\";\nvar DEBOUNCED_CHANGE_MS = 300;\nfunction FlatpickrInstance(element, instanceConfig) {\n    var self = {\n        config: __assign(__assign({}, defaultOptions), flatpickr.defaultConfig),\n        l10n: English,\n    };\n    self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    self._handlers = [];\n    self.pluginElements = [];\n    self.loadedPlugins = [];\n    self._bind = bind;\n    self._setHoursFromDate = setHoursFromDate;\n    self._positionCalendar = positionCalendar;\n    self.changeMonth = changeMonth;\n    self.changeYear = changeYear;\n    self.clear = clear;\n    self.close = close;\n    self.onMouseOver = onMouseOver;\n    self._createElement = createElement;\n    self.createDay = createDay;\n    self.destroy = destroy;\n    self.isEnabled = isEnabled;\n    self.jumpToDate = jumpToDate;\n    self.updateValue = updateValue;\n    self.open = open;\n    self.redraw = redraw;\n    self.set = set;\n    self.setDate = setDate;\n    self.toggle = toggle;\n    function setupHelperFunctions() {\n        self.utils = {\n            getDaysInMonth: function (month, yr) {\n                if (month === void 0) { month = self.currentMonth; }\n                if (yr === void 0) { yr = self.currentYear; }\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                    return 29;\n                return self.l10n.daysInMonth[month];\n            },\n        };\n    }\n    function init() {\n        self.element = self.input = element;\n        self.isOpen = false;\n        parseConfig();\n        setupLocale();\n        setupInputs();\n        setupDates();\n        setupHelperFunctions();\n        if (!self.isMobile)\n            build();\n        bindEvents();\n        if (self.selectedDates.length || self.config.noCalendar) {\n            if (self.config.enableTime) {\n                setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\n            }\n            updateValue(false);\n        }\n        setCalendarWidth();\n        var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        if (!self.isMobile && isSafari) {\n            positionCalendar();\n        }\n        triggerEvent(\"onReady\");\n    }\n    function getClosestActiveElement() {\n        var _a;\n        return (((_a = self.calendarContainer) === null || _a === void 0 ? void 0 : _a.getRootNode())\n            .activeElement || document.activeElement);\n    }\n    function bindToInstance(fn) {\n        return fn.bind(self);\n    }\n    function setCalendarWidth() {\n        var config = self.config;\n        if (config.weekNumbers === false && config.showMonths === 1) {\n            return;\n        }\n        else if (config.noCalendar !== true) {\n            window.requestAnimationFrame(function () {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.style.visibility = \"hidden\";\n                    self.calendarContainer.style.display = \"block\";\n                }\n                if (self.daysContainer !== undefined) {\n                    var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                    self.daysContainer.style.width = daysWidth + \"px\";\n                    self.calendarContainer.style.width =\n                        daysWidth +\n                            (self.weekWrapper !== undefined\n                                ? self.weekWrapper.offsetWidth\n                                : 0) +\n                            \"px\";\n                    self.calendarContainer.style.removeProperty(\"visibility\");\n                    self.calendarContainer.style.removeProperty(\"display\");\n                }\n            });\n        }\n    }\n    function updateTime(e) {\n        if (self.selectedDates.length === 0) {\n            var defaultDate = self.config.minDate === undefined ||\n                compareDates(new Date(), self.config.minDate) >= 0\n                ? new Date()\n                : new Date(self.config.minDate.getTime());\n            var defaults = getDefaultHours(self.config);\n            defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\n            self.selectedDates = [defaultDate];\n            self.latestSelectedDateObj = defaultDate;\n        }\n        if (e !== undefined && e.type !== \"blur\") {\n            timeWrapper(e);\n        }\n        var prevValue = self._input.value;\n        setHoursFromInputs();\n        updateValue();\n        if (self._input.value !== prevValue) {\n            self._debouncedChange();\n        }\n    }\n    function ampm2military(hour, amPM) {\n        return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n    }\n    function military2ampm(hour) {\n        switch (hour % 24) {\n            case 0:\n            case 12:\n                return 12;\n            default:\n                return hour % 12;\n        }\n    }\n    function setHoursFromInputs() {\n        if (self.hourElement === undefined || self.minuteElement === undefined)\n            return;\n        var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\n            : 0;\n        if (self.amPM !== undefined) {\n            hours = ampm2military(hours, self.amPM.textContent);\n        }\n        var limitMinHours = self.config.minTime !== undefined ||\n            (self.config.minDate &&\n                self.minDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                    0);\n        var limitMaxHours = self.config.maxTime !== undefined ||\n            (self.config.maxDate &&\n                self.maxDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                    0);\n        if (self.config.maxTime !== undefined &&\n            self.config.minTime !== undefined &&\n            self.config.minTime > self.config.maxTime) {\n            var minBound = calculateSecondsSinceMidnight(self.config.minTime.getHours(), self.config.minTime.getMinutes(), self.config.minTime.getSeconds());\n            var maxBound = calculateSecondsSinceMidnight(self.config.maxTime.getHours(), self.config.maxTime.getMinutes(), self.config.maxTime.getSeconds());\n            var currentTime = calculateSecondsSinceMidnight(hours, minutes, seconds);\n            if (currentTime > maxBound && currentTime < minBound) {\n                var result = parseSeconds(minBound);\n                hours = result[0];\n                minutes = result[1];\n                seconds = result[2];\n            }\n        }\n        else {\n            if (limitMaxHours) {\n                var maxTime = self.config.maxTime !== undefined\n                    ? self.config.maxTime\n                    : self.config.maxDate;\n                hours = Math.min(hours, maxTime.getHours());\n                if (hours === maxTime.getHours())\n                    minutes = Math.min(minutes, maxTime.getMinutes());\n                if (minutes === maxTime.getMinutes())\n                    seconds = Math.min(seconds, maxTime.getSeconds());\n            }\n            if (limitMinHours) {\n                var minTime = self.config.minTime !== undefined\n                    ? self.config.minTime\n                    : self.config.minDate;\n                hours = Math.max(hours, minTime.getHours());\n                if (hours === minTime.getHours() && minutes < minTime.getMinutes())\n                    minutes = minTime.getMinutes();\n                if (minutes === minTime.getMinutes())\n                    seconds = Math.max(seconds, minTime.getSeconds());\n            }\n        }\n        setHours(hours, minutes, seconds);\n    }\n    function setHoursFromDate(dateObj) {\n        var date = dateObj || self.latestSelectedDateObj;\n        if (date && date instanceof Date) {\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n    }\n    function setHours(hours, minutes, seconds) {\n        if (self.latestSelectedDateObj !== undefined) {\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n        }\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\n            return;\n        self.hourElement.value = pad(!self.config.time_24hr\n            ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n            : hours);\n        self.minuteElement.value = pad(minutes);\n        if (self.amPM !== undefined)\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n        if (self.secondElement !== undefined)\n            self.secondElement.value = pad(seconds);\n    }\n    function onYearInput(event) {\n        var eventTarget = getEventTarget(event);\n        var year = parseInt(eventTarget.value) + (event.delta || 0);\n        if (year / 1000 > 1 ||\n            (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n            changeYear(year);\n        }\n    }\n    function bind(element, event, handler, options) {\n        if (event instanceof Array)\n            return event.forEach(function (ev) { return bind(element, ev, handler, options); });\n        if (element instanceof Array)\n            return element.forEach(function (el) { return bind(el, event, handler, options); });\n        element.addEventListener(event, handler, options);\n        self._handlers.push({\n            remove: function () { return element.removeEventListener(event, handler, options); },\n        });\n    }\n    function triggerChange() {\n        triggerEvent(\"onChange\");\n    }\n    function bindEvents() {\n        if (self.config.wrap) {\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n                Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n                    return bind(el, \"click\", self[evt]);\n                });\n            });\n        }\n        if (self.isMobile) {\n            setupMobile();\n            return;\n        }\n        var debouncedResize = debounce(onResize, 50);\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n            bind(self.daysContainer, \"mouseover\", function (e) {\n                if (self.config.mode === \"range\")\n                    onMouseOver(getEventTarget(e));\n            });\n        bind(self._input, \"keydown\", onKeyDown);\n        if (self.calendarContainer !== undefined) {\n            bind(self.calendarContainer, \"keydown\", onKeyDown);\n        }\n        if (!self.config.inline && !self.config.static)\n            bind(window, \"resize\", debouncedResize);\n        if (window.ontouchstart !== undefined)\n            bind(window.document, \"touchstart\", documentClick);\n        else\n            bind(window.document, \"mousedown\", documentClick);\n        bind(window.document, \"focus\", documentClick, { capture: true });\n        if (self.config.clickOpens === true) {\n            bind(self._input, \"focus\", self.open);\n            bind(self._input, \"click\", self.open);\n        }\n        if (self.daysContainer !== undefined) {\n            bind(self.monthNav, \"click\", onMonthNavClick);\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n            bind(self.daysContainer, \"click\", selectDate);\n        }\n        if (self.timeContainer !== undefined &&\n            self.minuteElement !== undefined &&\n            self.hourElement !== undefined) {\n            var selText = function (e) {\n                return getEventTarget(e).select();\n            };\n            bind(self.timeContainer, [\"increment\"], updateTime);\n            bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n            bind(self.timeContainer, \"click\", timeIncrement);\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n            if (self.secondElement !== undefined)\n                bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\n            if (self.amPM !== undefined) {\n                bind(self.amPM, \"click\", function (e) {\n                    updateTime(e);\n                });\n            }\n        }\n        if (self.config.allowInput) {\n            bind(self._input, \"blur\", onBlur);\n        }\n    }\n    function jumpToDate(jumpDate, triggerChange) {\n        var jumpTo = jumpDate !== undefined\n            ? self.parseDate(jumpDate)\n            : self.latestSelectedDateObj ||\n                (self.config.minDate && self.config.minDate > self.now\n                    ? self.config.minDate\n                    : self.config.maxDate && self.config.maxDate < self.now\n                        ? self.config.maxDate\n                        : self.now);\n        var oldYear = self.currentYear;\n        var oldMonth = self.currentMonth;\n        try {\n            if (jumpTo !== undefined) {\n                self.currentYear = jumpTo.getFullYear();\n                self.currentMonth = jumpTo.getMonth();\n            }\n        }\n        catch (e) {\n            e.message = \"Invalid date supplied: \" + jumpTo;\n            self.config.errorHandler(e);\n        }\n        if (triggerChange && self.currentYear !== oldYear) {\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        if (triggerChange &&\n            (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n            triggerEvent(\"onMonthChange\");\n        }\n        self.redraw();\n    }\n    function timeIncrement(e) {\n        var eventTarget = getEventTarget(e);\n        if (~eventTarget.className.indexOf(\"arrow\"))\n            incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n    }\n    function incrementNumInput(e, delta, inputElem) {\n        var target = e && getEventTarget(e);\n        var input = inputElem ||\n            (target && target.parentNode && target.parentNode.firstChild);\n        var event = createEvent(\"increment\");\n        event.delta = delta;\n        input && input.dispatchEvent(event);\n    }\n    function build() {\n        var fragment = window.document.createDocumentFragment();\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n        self.calendarContainer.tabIndex = -1;\n        if (!self.config.noCalendar) {\n            fragment.appendChild(buildMonthNav());\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n            if (self.config.weekNumbers) {\n                var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\n                self.innerContainer.appendChild(weekWrapper);\n                self.weekNumbers = weekNumbers;\n                self.weekWrapper = weekWrapper;\n            }\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n            self.rContainer.appendChild(buildWeekdays());\n            if (!self.daysContainer) {\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                self.daysContainer.tabIndex = -1;\n            }\n            buildDays();\n            self.rContainer.appendChild(self.daysContainer);\n            self.innerContainer.appendChild(self.rContainer);\n            fragment.appendChild(self.innerContainer);\n        }\n        if (self.config.enableTime) {\n            fragment.appendChild(buildTime());\n        }\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n        toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n        self.calendarContainer.appendChild(fragment);\n        var customAppend = self.config.appendTo !== undefined &&\n            self.config.appendTo.nodeType !== undefined;\n        if (self.config.inline || self.config.static) {\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n            if (self.config.inline) {\n                if (!customAppend && self.element.parentNode)\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                else if (self.config.appendTo !== undefined)\n                    self.config.appendTo.appendChild(self.calendarContainer);\n            }\n            if (self.config.static) {\n                var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                if (self.element.parentNode)\n                    self.element.parentNode.insertBefore(wrapper, self.element);\n                wrapper.appendChild(self.element);\n                if (self.altInput)\n                    wrapper.appendChild(self.altInput);\n                wrapper.appendChild(self.calendarContainer);\n            }\n        }\n        if (!self.config.static && !self.config.inline)\n            (self.config.appendTo !== undefined\n                ? self.config.appendTo\n                : window.document.body).appendChild(self.calendarContainer);\n    }\n    function createDay(className, date, _dayNumber, i) {\n        var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", className, date.getDate().toString());\n        dayElement.dateObj = date;\n        dayElement.$i = i;\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n        if (className.indexOf(\"hidden\") === -1 &&\n            compareDates(date, self.now) === 0) {\n            self.todayDateElem = dayElement;\n            dayElement.classList.add(\"today\");\n            dayElement.setAttribute(\"aria-current\", \"date\");\n        }\n        if (dateIsEnabled) {\n            dayElement.tabIndex = -1;\n            if (isDateSelected(date)) {\n                dayElement.classList.add(\"selected\");\n                self.selectedDateElem = dayElement;\n                if (self.config.mode === \"range\") {\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                        compareDates(date, self.selectedDates[0], true) === 0);\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                        compareDates(date, self.selectedDates[1], true) === 0);\n                    if (className === \"nextMonthDay\")\n                        dayElement.classList.add(\"inRange\");\n                }\n            }\n        }\n        else {\n            dayElement.classList.add(\"flatpickr-disabled\");\n        }\n        if (self.config.mode === \"range\") {\n            if (isDateInRange(date) && !isDateSelected(date))\n                dayElement.classList.add(\"inRange\");\n        }\n        if (self.weekNumbers &&\n            self.config.showMonths === 1 &&\n            className !== \"prevMonthDay\" &&\n            i % 7 === 6) {\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n        }\n        triggerEvent(\"onDayCreate\", dayElement);\n        return dayElement;\n    }\n    function focusOnDayElem(targetNode) {\n        targetNode.focus();\n        if (self.config.mode === \"range\")\n            onMouseOver(targetNode);\n    }\n    function getFirstAvailableDay(delta) {\n        var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        for (var m = startMonth; m != endMonth; m += delta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = delta > 0 ? 0 : month.children.length - 1;\n            var endIndex = delta > 0 ? month.children.length : -1;\n            for (var i = startIndex; i != endIndex; i += delta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                    return c;\n            }\n        }\n        return undefined;\n    }\n    function getNextAvailableDay(current, delta) {\n        var givenMonth = current.className.indexOf(\"Month\") === -1\n            ? current.dateObj.getMonth()\n            : self.currentMonth;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        var loopDelta = delta > 0 ? 1 : -1;\n        for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = givenMonth - self.currentMonth === m\n                ? current.$i + delta\n                : delta < 0\n                    ? month.children.length - 1\n                    : 0;\n            var numMonthDays = month.children.length;\n            for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 &&\n                    isEnabled(c.dateObj) &&\n                    Math.abs(current.$i - i) >= Math.abs(delta))\n                    return focusOnDayElem(c);\n            }\n        }\n        self.changeMonth(loopDelta);\n        focusOnDay(getFirstAvailableDay(loopDelta), 0);\n        return undefined;\n    }\n    function focusOnDay(current, offset) {\n        var activeElement = getClosestActiveElement();\n        var dayFocused = isInView(activeElement || document.body);\n        var startElem = current !== undefined\n            ? current\n            : dayFocused\n                ? activeElement\n                : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                    ? self.selectedDateElem\n                    : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                        ? self.todayDateElem\n                        : getFirstAvailableDay(offset > 0 ? 1 : -1);\n        if (startElem === undefined) {\n            self._input.focus();\n        }\n        else if (!dayFocused) {\n            focusOnDayElem(startElem);\n        }\n        else {\n            getNextAvailableDay(startElem, offset);\n        }\n    }\n    function buildMonthDays(year, month) {\n        var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n        var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\n        var daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n        var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n        }\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n        }\n        for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n            (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n        }\n        var dayContainer = createElement(\"div\", \"dayContainer\");\n        dayContainer.appendChild(days);\n        return dayContainer;\n    }\n    function buildDays() {\n        if (self.daysContainer === undefined) {\n            return;\n        }\n        clearNode(self.daysContainer);\n        if (self.weekNumbers)\n            clearNode(self.weekNumbers);\n        var frag = document.createDocumentFragment();\n        for (var i = 0; i < self.config.showMonths; i++) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n        }\n        self.daysContainer.appendChild(frag);\n        self.days = self.daysContainer.firstChild;\n        if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n            onMouseOver();\n        }\n    }\n    function buildMonthSwitch() {\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType !== \"dropdown\")\n            return;\n        var shouldBuildMonth = function (month) {\n            if (self.config.minDate !== undefined &&\n                self.currentYear === self.config.minDate.getFullYear() &&\n                month < self.config.minDate.getMonth()) {\n                return false;\n            }\n            return !(self.config.maxDate !== undefined &&\n                self.currentYear === self.config.maxDate.getFullYear() &&\n                month > self.config.maxDate.getMonth());\n        };\n        self.monthsDropdownContainer.tabIndex = -1;\n        self.monthsDropdownContainer.innerHTML = \"\";\n        for (var i = 0; i < 12; i++) {\n            if (!shouldBuildMonth(i))\n                continue;\n            var month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n            month.value = new Date(self.currentYear, i).getMonth().toString();\n            month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n            month.tabIndex = -1;\n            if (self.currentMonth === i) {\n                month.selected = true;\n            }\n            self.monthsDropdownContainer.appendChild(month);\n        }\n    }\n    function buildMonth() {\n        var container = createElement(\"div\", \"flatpickr-month\");\n        var monthNavFragment = window.document.createDocumentFragment();\n        var monthElement;\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType === \"static\") {\n            monthElement = createElement(\"span\", \"cur-month\");\n        }\n        else {\n            self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n            self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\n            bind(self.monthsDropdownContainer, \"change\", function (e) {\n                var target = getEventTarget(e);\n                var selectedMonth = parseInt(target.value, 10);\n                self.changeMonth(selectedMonth - self.currentMonth);\n                triggerEvent(\"onMonthChange\");\n            });\n            buildMonthSwitch();\n            monthElement = self.monthsDropdownContainer;\n        }\n        var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n        var yearElement = yearInput.getElementsByTagName(\"input\")[0];\n        yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n        if (self.config.minDate) {\n            yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n        }\n        if (self.config.maxDate) {\n            yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n            yearElement.disabled =\n                !!self.config.minDate &&\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n        }\n        var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n        currentMonth.appendChild(monthElement);\n        currentMonth.appendChild(yearInput);\n        monthNavFragment.appendChild(currentMonth);\n        container.appendChild(monthNavFragment);\n        return {\n            container: container,\n            yearElement: yearElement,\n            monthElement: monthElement,\n        };\n    }\n    function buildMonths() {\n        clearNode(self.monthNav);\n        self.monthNav.appendChild(self.prevMonthNav);\n        if (self.config.showMonths) {\n            self.yearElements = [];\n            self.monthElements = [];\n        }\n        for (var m = self.config.showMonths; m--;) {\n            var month = buildMonth();\n            self.yearElements.push(month.yearElement);\n            self.monthElements.push(month.monthElement);\n            self.monthNav.appendChild(month.container);\n        }\n        self.monthNav.appendChild(self.nextMonthNav);\n    }\n    function buildMonthNav() {\n        self.monthNav = createElement(\"div\", \"flatpickr-months\");\n        self.yearElements = [];\n        self.monthElements = [];\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\n        buildMonths();\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n            get: function () { return self.__hidePrevMonthArrow; },\n            set: function (bool) {\n                if (self.__hidePrevMonthArrow !== bool) {\n                    toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hidePrevMonthArrow = bool;\n                }\n            },\n        });\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\n            get: function () { return self.__hideNextMonthArrow; },\n            set: function (bool) {\n                if (self.__hideNextMonthArrow !== bool) {\n                    toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hideNextMonthArrow = bool;\n                }\n            },\n        });\n        self.currentYearElement = self.yearElements[0];\n        updateNavigationCurrentMonth();\n        return self.monthNav;\n    }\n    function buildTime() {\n        self.calendarContainer.classList.add(\"hasTime\");\n        if (self.config.noCalendar)\n            self.calendarContainer.classList.add(\"noCalendar\");\n        var defaults = getDefaultHours(self.config);\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n        self.timeContainer.tabIndex = -1;\n        var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n        var hourInput = createNumberInput(\"flatpickr-hour\", {\n            \"aria-label\": self.l10n.hourAriaLabel,\n        });\n        self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n        var minuteInput = createNumberInput(\"flatpickr-minute\", {\n            \"aria-label\": self.l10n.minuteAriaLabel,\n        });\n        self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n        self.hourElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getHours()\n            : self.config.time_24hr\n                ? defaults.hours\n                : military2ampm(defaults.hours));\n        self.minuteElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getMinutes()\n            : defaults.minutes);\n        self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n        self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n        self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n        self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n        self.hourElement.setAttribute(\"maxlength\", \"2\");\n        self.minuteElement.setAttribute(\"min\", \"0\");\n        self.minuteElement.setAttribute(\"max\", \"59\");\n        self.minuteElement.setAttribute(\"maxlength\", \"2\");\n        self.timeContainer.appendChild(hourInput);\n        self.timeContainer.appendChild(separator);\n        self.timeContainer.appendChild(minuteInput);\n        if (self.config.time_24hr)\n            self.timeContainer.classList.add(\"time24hr\");\n        if (self.config.enableSeconds) {\n            self.timeContainer.classList.add(\"hasSeconds\");\n            var secondInput = createNumberInput(\"flatpickr-second\");\n            self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n            self.secondElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getSeconds()\n                : defaults.seconds);\n            self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n            self.secondElement.setAttribute(\"min\", \"0\");\n            self.secondElement.setAttribute(\"max\", \"59\");\n            self.secondElement.setAttribute(\"maxlength\", \"2\");\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n            self.timeContainer.appendChild(secondInput);\n        }\n        if (!self.config.time_24hr) {\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                ? self.hourElement.value\n                : self.config.defaultHour) > 11)]);\n            self.amPM.title = self.l10n.toggleTitle;\n            self.amPM.tabIndex = -1;\n            self.timeContainer.appendChild(self.amPM);\n        }\n        return self.timeContainer;\n    }\n    function buildWeekdays() {\n        if (!self.weekdayContainer)\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n        else\n            clearNode(self.weekdayContainer);\n        for (var i = self.config.showMonths; i--;) {\n            var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n            self.weekdayContainer.appendChild(container);\n        }\n        updateWeekdays();\n        return self.weekdayContainer;\n    }\n    function updateWeekdays() {\n        if (!self.weekdayContainer) {\n            return;\n        }\n        var firstDayOfWeek = self.l10n.firstDayOfWeek;\n        var weekdays = __spreadArrays(self.l10n.weekdays.shorthand);\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n            weekdays = __spreadArrays(weekdays.splice(firstDayOfWeek, weekdays.length), weekdays.splice(0, firstDayOfWeek));\n        }\n        for (var i = self.config.showMonths; i--;) {\n            self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\n        }\n    }\n    function buildWeeks() {\n        self.calendarContainer.classList.add(\"hasWeeks\");\n        var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n        var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n        weekWrapper.appendChild(weekNumbers);\n        return {\n            weekWrapper: weekWrapper,\n            weekNumbers: weekNumbers,\n        };\n    }\n    function changeMonth(value, isOffset) {\n        if (isOffset === void 0) { isOffset = true; }\n        var delta = isOffset ? value : value - self.currentMonth;\n        if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n            (delta > 0 && self._hideNextMonthArrow === true))\n            return;\n        self.currentMonth += delta;\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\n            self.currentMonth = (self.currentMonth + 12) % 12;\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        buildDays();\n        triggerEvent(\"onMonthChange\");\n        updateNavigationCurrentMonth();\n    }\n    function clear(triggerChangeEvent, toInitial) {\n        if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\n        if (toInitial === void 0) { toInitial = true; }\n        self.input.value = \"\";\n        if (self.altInput !== undefined)\n            self.altInput.value = \"\";\n        if (self.mobileInput !== undefined)\n            self.mobileInput.value = \"\";\n        self.selectedDates = [];\n        self.latestSelectedDateObj = undefined;\n        if (toInitial === true) {\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n        }\n        if (self.config.enableTime === true) {\n            var _a = getDefaultHours(self.config), hours = _a.hours, minutes = _a.minutes, seconds = _a.seconds;\n            setHours(hours, minutes, seconds);\n        }\n        self.redraw();\n        if (triggerChangeEvent)\n            triggerEvent(\"onChange\");\n    }\n    function close() {\n        self.isOpen = false;\n        if (!self.isMobile) {\n            if (self.calendarContainer !== undefined) {\n                self.calendarContainer.classList.remove(\"open\");\n            }\n            if (self._input !== undefined) {\n                self._input.classList.remove(\"active\");\n            }\n        }\n        triggerEvent(\"onClose\");\n    }\n    function destroy() {\n        if (self.config !== undefined)\n            triggerEvent(\"onDestroy\");\n        for (var i = self._handlers.length; i--;) {\n            self._handlers[i].remove();\n        }\n        self._handlers = [];\n        if (self.mobileInput) {\n            if (self.mobileInput.parentNode)\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\n            self.mobileInput = undefined;\n        }\n        else if (self.calendarContainer && self.calendarContainer.parentNode) {\n            if (self.config.static && self.calendarContainer.parentNode) {\n                var wrapper = self.calendarContainer.parentNode;\n                wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                if (wrapper.parentNode) {\n                    while (wrapper.firstChild)\n                        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                    wrapper.parentNode.removeChild(wrapper);\n                }\n            }\n            else\n                self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n        }\n        if (self.altInput) {\n            self.input.type = \"text\";\n            if (self.altInput.parentNode)\n                self.altInput.parentNode.removeChild(self.altInput);\n            delete self.altInput;\n        }\n        if (self.input) {\n            self.input.type = self.input._type;\n            self.input.classList.remove(\"flatpickr-input\");\n            self.input.removeAttribute(\"readonly\");\n        }\n        [\n            \"_showTimeInput\",\n            \"latestSelectedDateObj\",\n            \"_hideNextMonthArrow\",\n            \"_hidePrevMonthArrow\",\n            \"__hideNextMonthArrow\",\n            \"__hidePrevMonthArrow\",\n            \"isMobile\",\n            \"isOpen\",\n            \"selectedDateElem\",\n            \"minDateHasTime\",\n            \"maxDateHasTime\",\n            \"days\",\n            \"daysContainer\",\n            \"_input\",\n            \"_positionElement\",\n            \"innerContainer\",\n            \"rContainer\",\n            \"monthNav\",\n            \"todayDateElem\",\n            \"calendarContainer\",\n            \"weekdayContainer\",\n            \"prevMonthNav\",\n            \"nextMonthNav\",\n            \"monthsDropdownContainer\",\n            \"currentMonthElement\",\n            \"currentYearElement\",\n            \"navigationCurrentMonth\",\n            \"selectedDateElem\",\n            \"config\",\n        ].forEach(function (k) {\n            try {\n                delete self[k];\n            }\n            catch (_) { }\n        });\n    }\n    function isCalendarElem(elem) {\n        return self.calendarContainer.contains(elem);\n    }\n    function documentClick(e) {\n        if (self.isOpen && !self.config.inline) {\n            var eventTarget_1 = getEventTarget(e);\n            var isCalendarElement = isCalendarElem(eventTarget_1);\n            var isInput = eventTarget_1 === self.input ||\n                eventTarget_1 === self.altInput ||\n                self.element.contains(eventTarget_1) ||\n                (e.path &&\n                    e.path.indexOf &&\n                    (~e.path.indexOf(self.input) ||\n                        ~e.path.indexOf(self.altInput)));\n            var lostFocus = !isInput &&\n                !isCalendarElement &&\n                !isCalendarElem(e.relatedTarget);\n            var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\n                return elem.contains(eventTarget_1);\n            });\n            if (lostFocus && isIgnored) {\n                if (self.config.allowInput) {\n                    self.setDate(self._input.value, false, self.config.altInput\n                        ? self.config.altFormat\n                        : self.config.dateFormat);\n                }\n                if (self.timeContainer !== undefined &&\n                    self.minuteElement !== undefined &&\n                    self.hourElement !== undefined &&\n                    self.input.value !== \"\" &&\n                    self.input.value !== undefined) {\n                    updateTime();\n                }\n                self.close();\n                if (self.config &&\n                    self.config.mode === \"range\" &&\n                    self.selectedDates.length === 1)\n                    self.clear(false);\n            }\n        }\n    }\n    function changeYear(newYear) {\n        if (!newYear ||\n            (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n            (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n            return;\n        var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n        self.currentYear = newYearNum || self.currentYear;\n        if (self.config.maxDate &&\n            self.currentYear === self.config.maxDate.getFullYear()) {\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n        }\n        else if (self.config.minDate &&\n            self.currentYear === self.config.minDate.getFullYear()) {\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n        }\n        if (isNewYear) {\n            self.redraw();\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n    }\n    function isEnabled(date, timeless) {\n        var _a;\n        if (timeless === void 0) { timeless = true; }\n        var dateToCheck = self.parseDate(date, undefined, timeless);\n        if ((self.config.minDate &&\n            dateToCheck &&\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n            (self.config.maxDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n            return false;\n        if (!self.config.enable && self.config.disable.length === 0)\n            return true;\n        if (dateToCheck === undefined)\n            return false;\n        var bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\n        for (var i = 0, d = void 0; i < array.length; i++) {\n            d = array[i];\n            if (typeof d === \"function\" &&\n                d(dateToCheck))\n                return bool;\n            else if (d instanceof Date &&\n                dateToCheck !== undefined &&\n                d.getTime() === dateToCheck.getTime())\n                return bool;\n            else if (typeof d === \"string\") {\n                var parsed = self.parseDate(d, undefined, true);\n                return parsed && parsed.getTime() === dateToCheck.getTime()\n                    ? bool\n                    : !bool;\n            }\n            else if (typeof d === \"object\" &&\n                dateToCheck !== undefined &&\n                d.from &&\n                d.to &&\n                dateToCheck.getTime() >= d.from.getTime() &&\n                dateToCheck.getTime() <= d.to.getTime())\n                return bool;\n        }\n        return !bool;\n    }\n    function isInView(elem) {\n        if (self.daysContainer !== undefined)\n            return (elem.className.indexOf(\"hidden\") === -1 &&\n                elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\n                self.daysContainer.contains(elem));\n        return false;\n    }\n    function onBlur(e) {\n        var isInput = e.target === self._input;\n        var valueChanged = self._input.value.trimEnd() !== getDateStr();\n        if (isInput &&\n            valueChanged &&\n            !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\n            self.setDate(self._input.value, true, e.target === self.altInput\n                ? self.config.altFormat\n                : self.config.dateFormat);\n        }\n    }\n    function onKeyDown(e) {\n        var eventTarget = getEventTarget(e);\n        var isInput = self.config.wrap\n            ? element.contains(eventTarget)\n            : eventTarget === self._input;\n        var allowInput = self.config.allowInput;\n        var allowKeydown = self.isOpen && (!allowInput || !isInput);\n        var allowInlineKeydown = self.config.inline && isInput && !allowInput;\n        if (e.keyCode === 13 && isInput) {\n            if (allowInput) {\n                self.setDate(self._input.value, true, eventTarget === self.altInput\n                    ? self.config.altFormat\n                    : self.config.dateFormat);\n                self.close();\n                return eventTarget.blur();\n            }\n            else {\n                self.open();\n            }\n        }\n        else if (isCalendarElem(eventTarget) ||\n            allowKeydown ||\n            allowInlineKeydown) {\n            var isTimeObj = !!self.timeContainer &&\n                self.timeContainer.contains(eventTarget);\n            switch (e.keyCode) {\n                case 13:\n                    if (isTimeObj) {\n                        e.preventDefault();\n                        updateTime();\n                        focusAndClose();\n                    }\n                    else\n                        selectDate(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    focusAndClose();\n                    break;\n                case 8:\n                case 46:\n                    if (isInput && !self.config.allowInput) {\n                        e.preventDefault();\n                        self.clear();\n                    }\n                    break;\n                case 37:\n                case 39:\n                    if (!isTimeObj && !isInput) {\n                        e.preventDefault();\n                        var activeElement = getClosestActiveElement();\n                        if (self.daysContainer !== undefined &&\n                            (allowInput === false ||\n                                (activeElement && isInView(activeElement)))) {\n                            var delta_1 = e.keyCode === 39 ? 1 : -1;\n                            if (!e.ctrlKey)\n                                focusOnDay(undefined, delta_1);\n                            else {\n                                e.stopPropagation();\n                                changeMonth(delta_1);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                        }\n                    }\n                    else if (self.hourElement)\n                        self.hourElement.focus();\n                    break;\n                case 38:\n                case 40:\n                    e.preventDefault();\n                    var delta = e.keyCode === 40 ? 1 : -1;\n                    if ((self.daysContainer &&\n                        eventTarget.$i !== undefined) ||\n                        eventTarget === self.input ||\n                        eventTarget === self.altInput) {\n                        if (e.ctrlKey) {\n                            e.stopPropagation();\n                            changeYear(self.currentYear - delta);\n                            focusOnDay(getFirstAvailableDay(1), 0);\n                        }\n                        else if (!isTimeObj)\n                            focusOnDay(undefined, delta * 7);\n                    }\n                    else if (eventTarget === self.currentYearElement) {\n                        changeYear(self.currentYear - delta);\n                    }\n                    else if (self.config.enableTime) {\n                        if (!isTimeObj && self.hourElement)\n                            self.hourElement.focus();\n                        updateTime(e);\n                        self._debouncedChange();\n                    }\n                    break;\n                case 9:\n                    if (isTimeObj) {\n                        var elems = [\n                            self.hourElement,\n                            self.minuteElement,\n                            self.secondElement,\n                            self.amPM,\n                        ]\n                            .concat(self.pluginElements)\n                            .filter(function (x) { return x; });\n                        var i = elems.indexOf(eventTarget);\n                        if (i !== -1) {\n                            var target = elems[i + (e.shiftKey ? -1 : 1)];\n                            e.preventDefault();\n                            (target || self._input).focus();\n                        }\n                    }\n                    else if (!self.config.noCalendar &&\n                        self.daysContainer &&\n                        self.daysContainer.contains(eventTarget) &&\n                        e.shiftKey) {\n                        e.preventDefault();\n                        self._input.focus();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            switch (e.key) {\n                case self.l10n.amPM[0].charAt(0):\n                case self.l10n.amPM[0].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[0];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n                case self.l10n.amPM[1].charAt(0):\n                case self.l10n.amPM[1].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[1];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n            }\n        }\n        if (isInput || isCalendarElem(eventTarget)) {\n            triggerEvent(\"onKeyDown\", e);\n        }\n    }\n    function onMouseOver(elem, cellClass) {\n        if (cellClass === void 0) { cellClass = \"flatpickr-day\"; }\n        if (self.selectedDates.length !== 1 ||\n            (elem &&\n                (!elem.classList.contains(cellClass) ||\n                    elem.classList.contains(\"flatpickr-disabled\"))))\n            return;\n        var hoverDate = elem\n            ? elem.dateObj.getTime()\n            : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n        var containsDisabled = false;\n        var minRange = 0, maxRange = 0;\n        for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n            if (!isEnabled(new Date(t), true)) {\n                containsDisabled =\n                    containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                if (t < initialDate && (!minRange || t > minRange))\n                    minRange = t;\n                else if (t > initialDate && (!maxRange || t < maxRange))\n                    maxRange = t;\n            }\n        }\n        var hoverableCells = Array.from(self.rContainer.querySelectorAll(\"*:nth-child(-n+\" + self.config.showMonths + \") > .\" + cellClass));\n        hoverableCells.forEach(function (dayElem) {\n            var date = dayElem.dateObj;\n            var timestamp = date.getTime();\n            var outOfRange = (minRange > 0 && timestamp < minRange) ||\n                (maxRange > 0 && timestamp > maxRange);\n            if (outOfRange) {\n                dayElem.classList.add(\"notAllowed\");\n                [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n                    dayElem.classList.remove(c);\n                });\n                return;\n            }\n            else if (containsDisabled && !outOfRange)\n                return;\n            [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n                dayElem.classList.remove(c);\n            });\n            if (elem !== undefined) {\n                elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                    ? \"startRange\"\n                    : \"endRange\");\n                if (initialDate < hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"startRange\");\n                else if (initialDate > hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"endRange\");\n                if (timestamp >= minRange &&\n                    (maxRange === 0 || timestamp <= maxRange) &&\n                    isBetween(timestamp, initialDate, hoverDate))\n                    dayElem.classList.add(\"inRange\");\n            }\n        });\n    }\n    function onResize() {\n        if (self.isOpen && !self.config.static && !self.config.inline)\n            positionCalendar();\n    }\n    function open(e, positionElement) {\n        if (positionElement === void 0) { positionElement = self._positionElement; }\n        if (self.isMobile === true) {\n            if (e) {\n                e.preventDefault();\n                var eventTarget = getEventTarget(e);\n                if (eventTarget) {\n                    eventTarget.blur();\n                }\n            }\n            if (self.mobileInput !== undefined) {\n                self.mobileInput.focus();\n                self.mobileInput.click();\n            }\n            triggerEvent(\"onOpen\");\n            return;\n        }\n        else if (self._input.disabled || self.config.inline) {\n            return;\n        }\n        var wasOpen = self.isOpen;\n        self.isOpen = true;\n        if (!wasOpen) {\n            self.calendarContainer.classList.add(\"open\");\n            self._input.classList.add(\"active\");\n            triggerEvent(\"onOpen\");\n            positionCalendar(positionElement);\n        }\n        if (self.config.enableTime === true && self.config.noCalendar === true) {\n            if (self.config.allowInput === false &&\n                (e === undefined ||\n                    !self.timeContainer.contains(e.relatedTarget))) {\n                setTimeout(function () { return self.hourElement.select(); }, 50);\n            }\n        }\n    }\n    function minMaxDateSetter(type) {\n        return function (date) {\n            var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\n            var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n            if (dateObj !== undefined) {\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                    dateObj.getHours() > 0 ||\n                        dateObj.getMinutes() > 0 ||\n                        dateObj.getSeconds() > 0;\n            }\n            if (self.selectedDates) {\n                self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\n                if (!self.selectedDates.length && type === \"min\")\n                    setHoursFromDate(dateObj);\n                updateValue();\n            }\n            if (self.daysContainer) {\n                redraw();\n                if (dateObj !== undefined)\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\n                else\n                    self.currentYearElement.removeAttribute(type);\n                self.currentYearElement.disabled =\n                    !!inverseDateObj &&\n                        dateObj !== undefined &&\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\n            }\n        };\n    }\n    function parseConfig() {\n        var boolOpts = [\n            \"wrap\",\n            \"weekNumbers\",\n            \"allowInput\",\n            \"allowInvalidPreload\",\n            \"clickOpens\",\n            \"time_24hr\",\n            \"enableTime\",\n            \"noCalendar\",\n            \"altInput\",\n            \"shorthandCurrentMonth\",\n            \"inline\",\n            \"static\",\n            \"enableSeconds\",\n            \"disableMobile\",\n        ];\n        var userConfig = __assign(__assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\n        var formats = {};\n        self.config.parseDate = userConfig.parseDate;\n        self.config.formatDate = userConfig.formatDate;\n        Object.defineProperty(self.config, \"enable\", {\n            get: function () { return self.config._enable; },\n            set: function (dates) {\n                self.config._enable = parseDateRules(dates);\n            },\n        });\n        Object.defineProperty(self.config, \"disable\", {\n            get: function () { return self.config._disable; },\n            set: function (dates) {\n                self.config._disable = parseDateRules(dates);\n            },\n        });\n        var timeMode = userConfig.mode === \"time\";\n        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n            var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n            formats.dateFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                    : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n        }\n        if (userConfig.altInput &&\n            (userConfig.enableTime || timeMode) &&\n            !userConfig.altFormat) {\n            var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n            formats.altFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                    : defaultAltFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\n        }\n        Object.defineProperty(self.config, \"minDate\", {\n            get: function () { return self.config._minDate; },\n            set: minMaxDateSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxDate\", {\n            get: function () { return self.config._maxDate; },\n            set: minMaxDateSetter(\"max\"),\n        });\n        var minMaxTimeSetter = function (type) { return function (val) {\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n        }; };\n        Object.defineProperty(self.config, \"minTime\", {\n            get: function () { return self.config._minTime; },\n            set: minMaxTimeSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxTime\", {\n            get: function () { return self.config._maxTime; },\n            set: minMaxTimeSetter(\"max\"),\n        });\n        if (userConfig.mode === \"time\") {\n            self.config.noCalendar = true;\n            self.config.enableTime = true;\n        }\n        Object.assign(self.config, formats, userConfig);\n        for (var i = 0; i < boolOpts.length; i++)\n            self.config[boolOpts[i]] =\n                self.config[boolOpts[i]] === true ||\n                    self.config[boolOpts[i]] === \"true\";\n        HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {\n            self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n        });\n        self.isMobile =\n            !self.config.disableMobile &&\n                !self.config.inline &&\n                self.config.mode === \"single\" &&\n                !self.config.disable.length &&\n                !self.config.enable &&\n                !self.config.weekNumbers &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        for (var i = 0; i < self.config.plugins.length; i++) {\n            var pluginConf = self.config.plugins[i](self) || {};\n            for (var key in pluginConf) {\n                if (HOOKS.indexOf(key) > -1) {\n                    self.config[key] = arrayify(pluginConf[key])\n                        .map(bindToInstance)\n                        .concat(self.config[key]);\n                }\n                else if (typeof userConfig[key] === \"undefined\")\n                    self.config[key] = pluginConf[key];\n            }\n        }\n        if (!userConfig.altInputClass) {\n            self.config.altInputClass =\n                getInputElem().className + \" \" + self.config.altInputClass;\n        }\n        triggerEvent(\"onParseConfig\");\n    }\n    function getInputElem() {\n        return self.config.wrap\n            ? element.querySelector(\"[data-input]\")\n            : element;\n    }\n    function setupLocale() {\n        if (typeof self.config.locale !== \"object\" &&\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n            self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\n        self.l10n = __assign(__assign({}, flatpickr.l10ns.default), (typeof self.config.locale === \"object\"\n            ? self.config.locale\n            : self.config.locale !== \"default\"\n                ? flatpickr.l10ns[self.config.locale]\n                : undefined));\n        tokenRegex.D = \"(\" + self.l10n.weekdays.shorthand.join(\"|\") + \")\";\n        tokenRegex.l = \"(\" + self.l10n.weekdays.longhand.join(\"|\") + \")\";\n        tokenRegex.M = \"(\" + self.l10n.months.shorthand.join(\"|\") + \")\";\n        tokenRegex.F = \"(\" + self.l10n.months.longhand.join(\"|\") + \")\";\n        tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\n        var userConfig = __assign(__assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\n        if (userConfig.time_24hr === undefined &&\n            flatpickr.defaultConfig.time_24hr === undefined) {\n            self.config.time_24hr = self.l10n.time_24hr;\n        }\n        self.formatDate = createDateFormatter(self);\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    }\n    function positionCalendar(customPositionElement) {\n        if (typeof self.config.position === \"function\") {\n            return void self.config.position(self, customPositionElement);\n        }\n        if (self.calendarContainer === undefined)\n            return;\n        triggerEvent(\"onPreCalendarPosition\");\n        var positionElement = customPositionElement || self._positionElement;\n        var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n            (configPosVertical !== \"below\" &&\n                distanceFromBottom < calendarHeight &&\n                inputBounds.top > calendarHeight);\n        var top = window.pageYOffset +\n            inputBounds.top +\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n        if (self.config.inline)\n            return;\n        var left = window.pageXOffset + inputBounds.left;\n        var isCenter = false;\n        var isRight = false;\n        if (configPosHorizontal === \"center\") {\n            left -= (calendarWidth - inputBounds.width) / 2;\n            isCenter = true;\n        }\n        else if (configPosHorizontal === \"right\") {\n            left -= calendarWidth - inputBounds.width;\n            isRight = true;\n        }\n        toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n        toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n        toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n        var right = window.document.body.offsetWidth -\n            (window.pageXOffset + inputBounds.right);\n        var rightMost = left + calendarWidth > window.document.body.offsetWidth;\n        var centerMost = right + calendarWidth > window.document.body.offsetWidth;\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n        if (self.config.static)\n            return;\n        self.calendarContainer.style.top = top + \"px\";\n        if (!rightMost) {\n            self.calendarContainer.style.left = left + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n        else if (!centerMost) {\n            self.calendarContainer.style.left = \"auto\";\n            self.calendarContainer.style.right = right + \"px\";\n        }\n        else {\n            var doc = getDocumentStyleSheet();\n            if (doc === undefined)\n                return;\n            var bodyWidth = window.document.body.offsetWidth;\n            var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n            var centerBefore = \".flatpickr-calendar.centerMost:before\";\n            var centerAfter = \".flatpickr-calendar.centerMost:after\";\n            var centerIndex = doc.cssRules.length;\n            var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\n            toggleClass(self.calendarContainer, \"rightMost\", false);\n            toggleClass(self.calendarContainer, \"centerMost\", true);\n            doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\n            self.calendarContainer.style.left = centerLeft + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n    }\n    function getDocumentStyleSheet() {\n        var editableSheet = null;\n        for (var i = 0; i < document.styleSheets.length; i++) {\n            var sheet = document.styleSheets[i];\n            if (!sheet.cssRules)\n                continue;\n            try {\n                sheet.cssRules;\n            }\n            catch (err) {\n                continue;\n            }\n            editableSheet = sheet;\n            break;\n        }\n        return editableSheet != null ? editableSheet : createStyleSheet();\n    }\n    function createStyleSheet() {\n        var style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        return style.sheet;\n    }\n    function redraw() {\n        if (self.config.noCalendar || self.isMobile)\n            return;\n        buildMonthSwitch();\n        updateNavigationCurrentMonth();\n        buildDays();\n    }\n    function focusAndClose() {\n        self._input.focus();\n        if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n            navigator.msMaxTouchPoints !== undefined) {\n            setTimeout(self.close, 0);\n        }\n        else {\n            self.close();\n        }\n    }\n    function selectDate(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var isSelectable = function (day) {\n            return day.classList &&\n                day.classList.contains(\"flatpickr-day\") &&\n                !day.classList.contains(\"flatpickr-disabled\") &&\n                !day.classList.contains(\"notAllowed\");\n        };\n        var t = findParent(getEventTarget(e), isSelectable);\n        if (t === undefined)\n            return;\n        var target = t;\n        var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n        var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n            selectedDate.getMonth() >\n                self.currentMonth + self.config.showMonths - 1) &&\n            self.config.mode !== \"range\";\n        self.selectedDateElem = target;\n        if (self.config.mode === \"single\")\n            self.selectedDates = [selectedDate];\n        else if (self.config.mode === \"multiple\") {\n            var selectedIndex = isDateSelected(selectedDate);\n            if (selectedIndex)\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\n            else\n                self.selectedDates.push(selectedDate);\n        }\n        else if (self.config.mode === \"range\") {\n            if (self.selectedDates.length === 2) {\n                self.clear(false, false);\n            }\n            self.latestSelectedDateObj = selectedDate;\n            self.selectedDates.push(selectedDate);\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n        }\n        setHoursFromInputs();\n        if (shouldChangeMonth) {\n            var isNewYear = self.currentYear !== selectedDate.getFullYear();\n            self.currentYear = selectedDate.getFullYear();\n            self.currentMonth = selectedDate.getMonth();\n            if (isNewYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            triggerEvent(\"onMonthChange\");\n        }\n        updateNavigationCurrentMonth();\n        buildDays();\n        updateValue();\n        if (!shouldChangeMonth &&\n            self.config.mode !== \"range\" &&\n            self.config.showMonths === 1)\n            focusOnDayElem(target);\n        else if (self.selectedDateElem !== undefined &&\n            self.hourElement === undefined) {\n            self.selectedDateElem && self.selectedDateElem.focus();\n        }\n        if (self.hourElement !== undefined)\n            self.hourElement !== undefined && self.hourElement.focus();\n        if (self.config.closeOnSelect) {\n            var single = self.config.mode === \"single\" && !self.config.enableTime;\n            var range = self.config.mode === \"range\" &&\n                self.selectedDates.length === 2 &&\n                !self.config.enableTime;\n            if (single || range) {\n                focusAndClose();\n            }\n        }\n        triggerChange();\n    }\n    var CALLBACKS = {\n        locale: [setupLocale, updateWeekdays],\n        showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n        minDate: [jumpToDate],\n        maxDate: [jumpToDate],\n        positionElement: [updatePositionElement],\n        clickOpens: [\n            function () {\n                if (self.config.clickOpens === true) {\n                    bind(self._input, \"focus\", self.open);\n                    bind(self._input, \"click\", self.open);\n                }\n                else {\n                    self._input.removeEventListener(\"focus\", self.open);\n                    self._input.removeEventListener(\"click\", self.open);\n                }\n            },\n        ],\n    };\n    function set(option, value) {\n        if (option !== null && typeof option === \"object\") {\n            Object.assign(self.config, option);\n            for (var key in option) {\n                if (CALLBACKS[key] !== undefined)\n                    CALLBACKS[key].forEach(function (x) { return x(); });\n            }\n        }\n        else {\n            self.config[option] = value;\n            if (CALLBACKS[option] !== undefined)\n                CALLBACKS[option].forEach(function (x) { return x(); });\n            else if (HOOKS.indexOf(option) > -1)\n                self.config[option] = arrayify(value);\n        }\n        self.redraw();\n        updateValue(true);\n    }\n    function setSelectedDate(inputDate, format) {\n        var dates = [];\n        if (inputDate instanceof Array)\n            dates = inputDate.map(function (d) { return self.parseDate(d, format); });\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\n            dates = [self.parseDate(inputDate, format)];\n        else if (typeof inputDate === \"string\") {\n            switch (self.config.mode) {\n                case \"single\":\n                case \"time\":\n                    dates = [self.parseDate(inputDate, format)];\n                    break;\n                case \"multiple\":\n                    dates = inputDate\n                        .split(self.config.conjunction)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                case \"range\":\n                    dates = inputDate\n                        .split(self.l10n.rangeSeparator)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                default:\n                    break;\n            }\n        }\n        else\n            self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\n        self.selectedDates = (self.config.allowInvalidPreload\n            ? dates\n            : dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); }));\n        if (self.config.mode === \"range\")\n            self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n    }\n    function setDate(date, triggerChange, format) {\n        if (triggerChange === void 0) { triggerChange = false; }\n        if (format === void 0) { format = self.config.dateFormat; }\n        if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n            return self.clear(triggerChange);\n        setSelectedDate(date, format);\n        self.latestSelectedDateObj =\n            self.selectedDates[self.selectedDates.length - 1];\n        self.redraw();\n        jumpToDate(undefined, triggerChange);\n        setHoursFromDate();\n        if (self.selectedDates.length === 0) {\n            self.clear(false);\n        }\n        updateValue(triggerChange);\n        if (triggerChange)\n            triggerEvent(\"onChange\");\n    }\n    function parseDateRules(arr) {\n        return arr\n            .slice()\n            .map(function (rule) {\n            if (typeof rule === \"string\" ||\n                typeof rule === \"number\" ||\n                rule instanceof Date) {\n                return self.parseDate(rule, undefined, true);\n            }\n            else if (rule &&\n                typeof rule === \"object\" &&\n                rule.from &&\n                rule.to)\n                return {\n                    from: self.parseDate(rule.from, undefined),\n                    to: self.parseDate(rule.to, undefined),\n                };\n            return rule;\n        })\n            .filter(function (x) { return x; });\n    }\n    function setupDates() {\n        self.selectedDates = [];\n        self.now = self.parseDate(self.config.now) || new Date();\n        var preloadedDate = self.config.defaultDate ||\n            ((self.input.nodeName === \"INPUT\" ||\n                self.input.nodeName === \"TEXTAREA\") &&\n                self.input.placeholder &&\n                self.input.value === self.input.placeholder\n                ? null\n                : self.input.value);\n        if (preloadedDate)\n            setSelectedDate(preloadedDate, self.config.dateFormat);\n        self._initialDate =\n            self.selectedDates.length > 0\n                ? self.selectedDates[0]\n                : self.config.minDate &&\n                    self.config.minDate.getTime() > self.now.getTime()\n                    ? self.config.minDate\n                    : self.config.maxDate &&\n                        self.config.maxDate.getTime() < self.now.getTime()\n                        ? self.config.maxDate\n                        : self.now;\n        self.currentYear = self._initialDate.getFullYear();\n        self.currentMonth = self._initialDate.getMonth();\n        if (self.selectedDates.length > 0)\n            self.latestSelectedDateObj = self.selectedDates[0];\n        if (self.config.minTime !== undefined)\n            self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n        if (self.config.maxTime !== undefined)\n            self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n        self.minDateHasTime =\n            !!self.config.minDate &&\n                (self.config.minDate.getHours() > 0 ||\n                    self.config.minDate.getMinutes() > 0 ||\n                    self.config.minDate.getSeconds() > 0);\n        self.maxDateHasTime =\n            !!self.config.maxDate &&\n                (self.config.maxDate.getHours() > 0 ||\n                    self.config.maxDate.getMinutes() > 0 ||\n                    self.config.maxDate.getSeconds() > 0);\n    }\n    function setupInputs() {\n        self.input = getInputElem();\n        if (!self.input) {\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\n            return;\n        }\n        self.input._type = self.input.type;\n        self.input.type = \"text\";\n        self.input.classList.add(\"flatpickr-input\");\n        self._input = self.input;\n        if (self.config.altInput) {\n            self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n            self._input = self.altInput;\n            self.altInput.placeholder = self.input.placeholder;\n            self.altInput.disabled = self.input.disabled;\n            self.altInput.required = self.input.required;\n            self.altInput.tabIndex = self.input.tabIndex;\n            self.altInput.type = \"text\";\n            self.input.setAttribute(\"type\", \"hidden\");\n            if (!self.config.static && self.input.parentNode)\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n        }\n        if (!self.config.allowInput)\n            self._input.setAttribute(\"readonly\", \"readonly\");\n        updatePositionElement();\n    }\n    function updatePositionElement() {\n        self._positionElement = self.config.positionElement || self._input;\n    }\n    function setupMobile() {\n        var inputType = self.config.enableTime\n            ? self.config.noCalendar\n                ? \"time\"\n                : \"datetime-local\"\n            : \"date\";\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n        self.mobileInput.tabIndex = 1;\n        self.mobileInput.type = inputType;\n        self.mobileInput.disabled = self.input.disabled;\n        self.mobileInput.required = self.input.required;\n        self.mobileInput.placeholder = self.input.placeholder;\n        self.mobileFormatStr =\n            inputType === \"datetime-local\"\n                ? \"Y-m-d\\\\TH:i:S\"\n                : inputType === \"date\"\n                    ? \"Y-m-d\"\n                    : \"H:i:S\";\n        if (self.selectedDates.length > 0) {\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n        }\n        if (self.config.minDate)\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n        if (self.config.maxDate)\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n        if (self.input.getAttribute(\"step\"))\n            self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n        self.input.type = \"hidden\";\n        if (self.altInput !== undefined)\n            self.altInput.type = \"hidden\";\n        try {\n            if (self.input.parentNode)\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n        }\n        catch (_a) { }\n        bind(self.mobileInput, \"change\", function (e) {\n            self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\n            triggerEvent(\"onChange\");\n            triggerEvent(\"onClose\");\n        });\n    }\n    function toggle(e) {\n        if (self.isOpen === true)\n            return self.close();\n        self.open(e);\n    }\n    function triggerEvent(event, data) {\n        if (self.config === undefined)\n            return;\n        var hooks = self.config[event];\n        if (hooks !== undefined && hooks.length > 0) {\n            for (var i = 0; hooks[i] && i < hooks.length; i++)\n                hooks[i](self.selectedDates, self.input.value, self, data);\n        }\n        if (event === \"onChange\") {\n            self.input.dispatchEvent(createEvent(\"change\"));\n            self.input.dispatchEvent(createEvent(\"input\"));\n        }\n    }\n    function createEvent(name) {\n        var e = document.createEvent(\"Event\");\n        e.initEvent(name, true, true);\n        return e;\n    }\n    function isDateSelected(date) {\n        for (var i = 0; i < self.selectedDates.length; i++) {\n            var selectedDate = self.selectedDates[i];\n            if (selectedDate instanceof Date &&\n                compareDates(selectedDate, date) === 0)\n                return \"\" + i;\n        }\n        return false;\n    }\n    function isDateInRange(date) {\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n            return false;\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\n            compareDates(date, self.selectedDates[1]) <= 0);\n    }\n    function updateNavigationCurrentMonth() {\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\n            return;\n        self.yearElements.forEach(function (yearElement, i) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                self.monthElements[i].textContent =\n                    monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n            }\n            else {\n                self.monthsDropdownContainer.value = d.getMonth().toString();\n            }\n            yearElement.value = d.getFullYear().toString();\n        });\n        self._hidePrevMonthArrow =\n            self.config.minDate !== undefined &&\n                (self.currentYear === self.config.minDate.getFullYear()\n                    ? self.currentMonth <= self.config.minDate.getMonth()\n                    : self.currentYear < self.config.minDate.getFullYear());\n        self._hideNextMonthArrow =\n            self.config.maxDate !== undefined &&\n                (self.currentYear === self.config.maxDate.getFullYear()\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                    : self.currentYear > self.config.maxDate.getFullYear());\n    }\n    function getDateStr(specificFormat) {\n        var format = specificFormat ||\n            (self.config.altInput ? self.config.altFormat : self.config.dateFormat);\n        return self.selectedDates\n            .map(function (dObj) { return self.formatDate(dObj, format); })\n            .filter(function (d, i, arr) {\n            return self.config.mode !== \"range\" ||\n                self.config.enableTime ||\n                arr.indexOf(d) === i;\n        })\n            .join(self.config.mode !== \"range\"\n            ? self.config.conjunction\n            : self.l10n.rangeSeparator);\n    }\n    function updateValue(triggerChange) {\n        if (triggerChange === void 0) { triggerChange = true; }\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\n            self.mobileInput.value =\n                self.latestSelectedDateObj !== undefined\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                    : \"\";\n        }\n        self.input.value = getDateStr(self.config.dateFormat);\n        if (self.altInput !== undefined) {\n            self.altInput.value = getDateStr(self.config.altFormat);\n        }\n        if (triggerChange !== false)\n            triggerEvent(\"onValueUpdate\");\n    }\n    function onMonthNavClick(e) {\n        var eventTarget = getEventTarget(e);\n        var isPrevMonth = self.prevMonthNav.contains(eventTarget);\n        var isNextMonth = self.nextMonthNav.contains(eventTarget);\n        if (isPrevMonth || isNextMonth) {\n            changeMonth(isPrevMonth ? -1 : 1);\n        }\n        else if (self.yearElements.indexOf(eventTarget) >= 0) {\n            eventTarget.select();\n        }\n        else if (eventTarget.classList.contains(\"arrowUp\")) {\n            self.changeYear(self.currentYear + 1);\n        }\n        else if (eventTarget.classList.contains(\"arrowDown\")) {\n            self.changeYear(self.currentYear - 1);\n        }\n    }\n    function timeWrapper(e) {\n        e.preventDefault();\n        var isKeyDown = e.type === \"keydown\", eventTarget = getEventTarget(e), input = eventTarget;\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            self.amPM.textContent =\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n        }\n        var min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n            (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n        var newValue = curValue + step * delta;\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n            var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n            if (newValue < min) {\n                newValue =\n                    max +\n                        newValue +\n                        int(!isHourElem) +\n                        (int(isHourElem) && int(!self.amPM));\n                if (isMinuteElem)\n                    incrementNumInput(undefined, -1, self.hourElement);\n            }\n            else if (newValue > max) {\n                newValue =\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                if (isMinuteElem)\n                    incrementNumInput(undefined, 1, self.hourElement);\n            }\n            if (self.amPM &&\n                isHourElem &&\n                (step === 1\n                    ? newValue + curValue === 23\n                    : Math.abs(newValue - curValue) > step)) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            input.value = pad(newValue);\n        }\n    }\n    init();\n    return self;\n}\nfunction _flatpickr(nodeList, config) {\n    var nodes = Array.prototype.slice\n        .call(nodeList)\n        .filter(function (x) { return x instanceof HTMLElement; });\n    var instances = [];\n    for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        try {\n            if (node.getAttribute(\"data-fp-omit\") !== null)\n                continue;\n            if (node._flatpickr !== undefined) {\n                node._flatpickr.destroy();\n                node._flatpickr = undefined;\n            }\n            node._flatpickr = FlatpickrInstance(node, config || {});\n            instances.push(node._flatpickr);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    return instances.length === 1 ? instances[0] : instances;\n}\nif (typeof HTMLElement !== \"undefined\" &&\n    typeof HTMLCollection !== \"undefined\" &&\n    typeof NodeList !== \"undefined\") {\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n    HTMLElement.prototype.flatpickr = function (config) {\n        return _flatpickr([this], config);\n    };\n}\nvar flatpickr = function (selector, config) {\n    if (typeof selector === \"string\") {\n        return _flatpickr(window.document.querySelectorAll(selector), config);\n    }\n    else if (selector instanceof Node) {\n        return _flatpickr([selector], config);\n    }\n    else {\n        return _flatpickr(selector, config);\n    }\n};\nflatpickr.defaultConfig = {};\nflatpickr.l10ns = {\n    en: __assign({}, English),\n    default: __assign({}, English),\n};\nflatpickr.localize = function (l10n) {\n    flatpickr.l10ns.default = __assign(__assign({}, flatpickr.l10ns.default), l10n);\n};\nflatpickr.setDefaults = function (config) {\n    flatpickr.defaultConfig = __assign(__assign({}, flatpickr.defaultConfig), config);\n};\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n    jQuery.fn.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n}\nDate.prototype.fp_incr = function (days) {\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n};\nif (typeof window !== \"undefined\") {\n    window.flatpickr = flatpickr;\n}\nexport default flatpickr;\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.weekSelect = factory());\n}(this, (function () { 'use strict';\n\n  function getEventTarget(event) {\n      try {\n          if (typeof event.composedPath === \"function\") {\n              var path = event.composedPath();\n              return path[0];\n          }\n          return event.target;\n      }\n      catch (error) {\n          return event.target;\n      }\n  }\n\n  function weekSelectPlugin() {\n      return function (fp) {\n          function onDayHover(event) {\n              var day = getEventTarget(event);\n              if (!day.classList.contains(\"flatpickr-day\"))\n                  return;\n              var days = fp.days.childNodes;\n              var dayIndex = day.$i;\n              var dayIndSeven = dayIndex / 7;\n              var weekStartDay = days[7 * Math.floor(dayIndSeven)]\n                  .dateObj;\n              var weekEndDay = days[7 * Math.ceil(dayIndSeven + 0.01) - 1].dateObj;\n              for (var i = days.length; i--;) {\n                  var day_1 = days[i];\n                  var date = day_1.dateObj;\n                  if (date > weekEndDay || date < weekStartDay)\n                      day_1.classList.remove(\"inRange\");\n                  else\n                      day_1.classList.add(\"inRange\");\n              }\n          }\n          function highlightWeek() {\n              var selDate = fp.latestSelectedDateObj;\n              if (selDate !== undefined &&\n                  selDate.getMonth() === fp.currentMonth &&\n                  selDate.getFullYear() === fp.currentYear) {\n                  fp.weekStartDay = fp.days.childNodes[7 * Math.floor(fp.selectedDateElem.$i / 7)].dateObj;\n                  fp.weekEndDay = fp.days.childNodes[7 * Math.ceil(fp.selectedDateElem.$i / 7 + 0.01) - 1].dateObj;\n              }\n              var days = fp.days.childNodes;\n              for (var i = days.length; i--;) {\n                  var date = days[i].dateObj;\n                  if (date >= fp.weekStartDay && date <= fp.weekEndDay)\n                      days[i].classList.add(\"week\", \"selected\");\n              }\n          }\n          function clearHover() {\n              var days = fp.days.childNodes;\n              for (var i = days.length; i--;)\n                  days[i].classList.remove(\"inRange\");\n          }\n          function onReady() {\n              if (fp.daysContainer !== undefined)\n                  fp.daysContainer.addEventListener(\"mouseover\", onDayHover);\n          }\n          function onDestroy() {\n              if (fp.daysContainer !== undefined)\n                  fp.daysContainer.removeEventListener(\"mouseover\", onDayHover);\n          }\n          return {\n              onValueUpdate: highlightWeek,\n              onMonthChange: highlightWeek,\n              onYearChange: highlightWeek,\n              onOpen: highlightWeek,\n              onClose: clearHover,\n              onParseConfig: function () {\n                  fp.config.mode = \"single\";\n                  fp.config.enableTime = false;\n                  fp.config.dateFormat = fp.config.dateFormat\n                      ? fp.config.dateFormat\n                      : \"\\\\W\\\\e\\\\e\\\\k #W, Y\";\n                  fp.config.altFormat = fp.config.altFormat\n                      ? fp.config.altFormat\n                      : \"\\\\W\\\\e\\\\e\\\\k #W, Y\";\n              },\n              onReady: [\n                  onReady,\n                  highlightWeek,\n                  function () {\n                      fp.loadedPlugins.push(\"weekSelect\");\n                  },\n              ],\n              onDestroy: onDestroy,\n          };\n      };\n  }\n\n  return weekSelectPlugin;\n\n})));\n","import flatpickr from 'flatpickr';\nimport weekSelectPlugin from 'flatpickr/dist/plugins/weekSelect/weekSelect';\nimport { CatDatepickerMode } from './cat-datepicker.mode';\nimport { BaseOptions, Hook } from 'flatpickr/dist/types/options';\n\nexport function getConfig(\n  options: {\n    locale: flatpickr.CustomLocale;\n    format: string;\n    mode: CatDatepickerMode;\n    min: string | undefined;\n    max: string | undefined;\n    step: number;\n    disabled: boolean;\n    readonly: boolean;\n    nativePickerAttributes: { [key: string]: string };\n    applyChange: (value?: string) => void;\n    appendTo?: HTMLElement | undefined;\n    position?: BaseOptions['position'];\n    onReady?: Hook;\n  },\n  more: flatpickr.Options.Options = {}\n): flatpickr.Options.Options {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const plugins = options.mode === 'week' ? [new (weekSelectPlugin as any)({})] : [];\n  const format = dateFormat(options.mode);\n\n  return {\n    ...more,\n    locale: options.locale,\n    plugins,\n    allowInput: true,\n    altInput: true,\n    prevArrow: '',\n    nextArrow: '',\n    dateFormat: format,\n    altFormat: options.format,\n    ariaDateFormat: options.format,\n    mode: options.mode === 'daterange' ? 'range' : 'single',\n    minDate: options.min,\n    maxDate: options.max,\n    enableTime: options.mode === 'time' || options.mode === 'datetime',\n    noCalendar: options.mode === 'time',\n    weekNumbers: true,\n    minuteIncrement: options.step,\n    clickOpens: !options.disabled && !options.readonly,\n    appendTo: options.appendTo,\n    position: options.position ? options.position : 'auto',\n    onReady: (_dates, _dateStr, flatpickr) => {\n      for (const key in options.nativePickerAttributes) {\n        const value = options.nativePickerAttributes[key];\n        flatpickr.calendarContainer.setAttribute(key, value);\n      }\n      if (options.appendTo && typeof options.onReady === 'function') {\n        options.onReady(_dates, _dateStr, flatpickr);\n      }\n    },\n    onClose: function (dates, _dateStr, instance) {\n      if (options.mode === 'daterange' && dates.length < 2) {\n        instance.clear();\n      }\n    },\n    onChange: (dates, dateStr, flatpickr) => {\n      let value = dateStr || undefined;\n      if (options.mode === 'daterange') {\n        if (dates.length < 2) {\n          return;\n        } else {\n          const start = dates[0];\n          const end = dates[1];\n          end.setHours(23);\n          end.setMinutes(59);\n          end.setSeconds(59);\n          value = `${flatpickr.formatDate(start, format)} - ${flatpickr.formatDate(end, format)}`;\n        }\n      } else if (options.mode === 'week') {\n        value = dates[0] ? flatpickr.config.getWeek(dates[0]).toString() : undefined;\n      }\n      options.applyChange(value);\n    }\n  };\n}\n\nfunction dateFormat(mode: CatDatepickerMode): string {\n  if (mode === 'week') {\n    return 'W';\n  } else if (mode === 'time') {\n    return 'H:i';\n  } else {\n    return 'Z';\n  }\n}\n","import { CatDatepickerMode } from './cat-datepicker.mode';\n\nexport function getFormat(language: string, mode: CatDatepickerMode): string {\n  const date = new Date(2000, 1, 3, 16, 5, 6);\n  const formatDate: Intl.DateTimeFormatOptions = { year: 'numeric', month: '2-digit', day: '2-digit' };\n  const formatTime: Intl.DateTimeFormatOptions = { hour: '2-digit', minute: '2-digit' };\n  return mode === 'week'\n    ? 'W'\n    : new Intl.DateTimeFormat(\n        language,\n        {\n          date: formatDate,\n          time: formatTime,\n          datetime: { ...formatDate, ...formatTime },\n          daterange: formatDate\n        }[mode]\n      )\n        .format(date)\n        .replace('2000', 'Y')\n        .replace('00', 'y')\n        .replace('02', 'm')\n        .replace('03', 'd')\n        .replace('04', 'h')\n        .replace('16', 'H')\n        .replace('05', 'i')\n        .replace(/AM|PM/i, 'K');\n}\n","import flatpickr from 'flatpickr';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\nexport function getHour12(language: string): boolean {\n  const dateStr = new Intl.DateTimeFormat(language, { hour: '2-digit', minute: '2-digit' })\n    .format(new Date())\n    .toLowerCase();\n  return dateStr.includes('am') || dateStr.includes('pm');\n}\n\nfunction getFirstDayOfWeek(language: string): number {\n  const locale = new Intl.Locale(language);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const weekInfo = (locale as any).getWeekInfo?.() ?? (locale as any).weekInfo;\n  return weekInfo?.firstDay ?? 1;\n}\n\nfunction daysForLocale(language: string, weekday: 'long' | 'short' | 'narrow' = 'long') {\n  const date = new Date();\n  const firstDayOfWeek = (date.getUTCDate() - date.getUTCDay() + 7) % 7;\n  const format = new Intl.DateTimeFormat(language, { weekday }).format;\n  return [...Array(7).keys()].map(day => format(new Date(date.getTime()).setUTCDate(firstDayOfWeek + day)));\n}\n\nfunction monthsForLocale(language: string, month: 'long' | 'short' = 'long') {\n  return Array.from({ length: 12 }, (_, i) => {\n    const date = new Date();\n    date.setMonth(i);\n    return date.toLocaleString(language, { month });\n  });\n}\n\nexport function getLocale(language: string): flatpickr.CustomLocale {\n  return {\n    firstDayOfWeek: getFirstDayOfWeek(language),\n    rangeSeparator: ' - ',\n    weekAbbreviation: '',\n    yearAriaLabel: i18n.t('datepicker.year'),\n    monthAriaLabel: i18n.t('datepicker.month'),\n    hourAriaLabel: i18n.t('datepicker.hour'),\n    minuteAriaLabel: i18n.t('datepicker.minute'),\n    toggleTitle: i18n.t('datepicker.toggle'),\n    scrollTitle: i18n.t('datepicker.scroll'),\n    time_24hr: !getHour12(language),\n    weekdays: {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      shorthand: daysForLocale(language, 'short') as any,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      longhand: daysForLocale(language, 'long') as any\n    },\n    months: {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      shorthand: monthsForLocale(language, 'short') as any,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      longhand: monthsForLocale(language, 'long') as any\n    }\n  };\n}\n","/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nfunction getSideAxis(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = ['left', 'right'];\n  const rl = ['right', 'left'];\n  const tb = ['top', 'bottom'];\n  const bt = ['bottom', 'top'];\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case 'left':\n    case 'right':\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  return {\n    ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n","import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    ...rects.floating,\n    x,\n    y\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== 'none') {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle.\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$map$so;\n                const placement = (_overflowsData$map$so = overflowsData.map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const overflowAvailableHeight = height - overflow[heightSide];\n      const overflowAvailableWidth = width - overflow[widthSide];\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if (isYAxis) {\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        availableWidth = alignment || noShift ? min(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;\n      } else {\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        availableHeight = alignment || noShift ? min(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n","function getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  // Browsers without `ShadowRoot` support.\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  const webkit = isWebKit();\n  const css = getComputedStyle(element);\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  return css.transform !== 'none' || css.perspective !== 'none' || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective', 'filter'].some(value => (css.willChange || '').includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = getParentNode(currentNode);\n    }\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? getOverflowAncestors(win.frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isWebKit };\n","import { rectToClientRect, detectOverflow as detectOverflow$1, offset as offset$1, autoPlacement as autoPlacement$1, shift as shift$1, flip as flip$1, size as size$1, hide as hide$1, arrow as arrow$1, inline as inline$1, limitShift as limitShift$1, computePosition as computePosition$1 } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle, isHTMLElement, isElement, getWindow, isWebKit, getDocumentElement, getNodeName, isOverflowElement, getNodeScroll, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = currentWin.frameElement;\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = currentWin.frameElement;\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction isTopLayer(element) {\n  return topLayerSelectors.some(selector => {\n    try {\n      return element.matches(selector);\n    } catch (e) {\n      return false;\n    }\n  });\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      ...clippingAncestor,\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  const x = rect.left + scroll.scrollLeft - offsets.x;\n  const y = rect.top + scroll.scrollTop - offsets.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction isStaticPositioned(element) {\n  return getComputedStyle(element).position === 'static';\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  return element.offsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const win = getWindow(element);\n  if (isTopLayer(element)) {\n    return win;\n  }\n  if (!isHTMLElement(element)) {\n    let svgOffsetParent = getParentNode(element);\n    while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {\n      if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\n        return svgOffsetParent;\n      }\n      svgOffsetParent = getParentNode(svgOffsetParent);\n    }\n    return win;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {\n    return win;\n  }\n  return offsetParent || getContainingBlock(element) || win;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  const floatingDimensions = await getDimensionsFn(data.floating);\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      width: floatingDimensions.width,\n      height: floatingDimensions.height\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          // If the reference is clipped, the ratio is 0. Throttle the refresh\n          // to prevent an infinite loop of updates.\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 1000);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nconst detectOverflow = detectOverflow$1;\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = offset$1;\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, platform, shift, size };\n","@use 'variables' as *;\n@use 'mixins' as *;\n@import '~flatpickr/dist/flatpickr.css';\n@import 'vendor/flatpickr';\n\n:host {\n  display: flex;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\ncat-input {\n  flex: 1 1 auto;\n  margin: 0;\n}\n","import { Component, Element, Event, EventEmitter, Method, Prop, State, Watch, h } from '@stencil/core';\nimport flatpickr from 'flatpickr';\nimport { findClosest } from '../../utils/find-closest';\nimport { ErrorMap } from '../cat-form-hint/cat-form-hint';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\nimport { getConfig } from './cat-datepicker.config';\nimport { getFormat } from './cat-datepicker.format';\nimport { getLocale } from './cat-datepicker.locale';\nimport { CatDatepickerMode } from './cat-datepicker.mode';\nimport { autoUpdate, computePosition, flip, Placement, ReferenceElement } from '@floating-ui/dom';\nimport { BaseOptions } from 'flatpickr/dist/types/options';\n\n@Component({\n  tag: 'cat-datepicker',\n  styleUrl: 'cat-datepicker.scss',\n  shadow: true\n})\nexport class CatDatepickerFlat {\n  private pickr?: flatpickr.Instance;\n  private _input?: HTMLCatInputElement;\n  private _calendarWrapper?: HTMLDivElement;\n  private get input(): HTMLInputElement | undefined {\n    return this._input?.shadowRoot?.querySelector('input') ?? undefined;\n  }\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  @State() hasSlottedHint = false;\n\n  /**\n   * Whether the label need a marker to shown if the input is required or optional.\n   */\n  @Prop() requiredMarker?: 'none' | 'required' | 'optional' | 'none!' | 'optional!' | 'required!' = 'optional';\n\n  /**\n   * Whether the label is on top or left.\n   */\n  @Prop() horizontal = false;\n\n  /**\n   * Hint for form autofill feature.\n   */\n  @Prop() autoComplete?: string;\n\n  /**\n   * Whether the input should show a clear button.\n   */\n  @Prop() clearable = false;\n\n  /**\n   * Whether the input is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Optional hint text(s) to be displayed with the input.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * The name of an icon to be displayed in the input.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * Display the icon on the right.\n   */\n  @Prop() iconRight = false;\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label for the input.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A maximum value as ISO Date string, e.g. 2017-03-04T01:23:43.000Z.\n   */\n  @Prop() max?: string;\n\n  /**\n   * A minimum value as ISO Date string, e.g. 2017-03-04T01:23:43.000Z.\n   */\n  @Prop() min?: string;\n\n  /**\n   * The mode of the datepicker, to select a date, time, both, a date range or a week number.\n   */\n  @Prop() mode: CatDatepickerMode = 'date';\n\n  /**\n   * The name of the form control. Submitted with the form as part of a name/value pair.\n   */\n  @Prop() name?: string;\n\n  /**\n   * The placeholder text to display within the input.\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * A textual prefix to be displayed in the input.\n   */\n  @Prop() textPrefix?: string;\n\n  /**\n   * A textual suffix to be displayed in the input.\n   */\n  @Prop() textSuffix?: string;\n\n  /**\n   * The value is not editable.\n   */\n  @Prop() readonly = false;\n\n  /**\n   * A value is required or must be check for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * The step size to use when changing the time.\n   */\n  @Prop() step = 5;\n\n  /**\n   * Instead of body, appends the calendar to the cat-datepicker element instead\n   */\n  @Prop() attachToElement = false;\n\n  /**\n   * Where the calendar is rendered relative to the input vertically and horizontally.\n   * In the format of \"[vertical] [horizontal]\". Vertical can be auto, above or below (required).\n   * Horizontal can be left, center or right.\n   * If @attachToElement is passed the value should be in Placement format\n   */\n  @Prop() position?: BaseOptions['position'] | Placement;\n\n  /**\n   * The value as ISO Date string, e.g. 2017-03-04T01:23:43.000Z or as a week number string.\n   */\n  @Prop({ mutable: true }) value?: string;\n\n  /**\n   * The validation errors for this input. Will render a hint under the input\n   * with the translated error message(s) `error.${key}`. If an object is\n   * passed, the keys will be used as error keys and the values translation\n   * parameters.\n   * If the value is `true`, the input will be marked as invalid without any\n   * hints under the input.\n   */\n  @Prop() errors?: boolean | string[] | ErrorMap;\n\n  /**\n   * Fine-grained control over when the errors are shown. Can be `false` to\n   * never show errors, `true` to show errors on blur, or a number to show\n   * errors on change with the given delay in milliseconds.\n   */\n  @Prop() errorUpdate: boolean | number = 0;\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * Attributes that will be added to the rendered HTML datepicker element.\n   */\n  @Prop() nativePickerAttributes?: { [key: string]: string };\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter<string>;\n\n  /**\n   * Emitted when the input received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the input loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  @Watch('value')\n  onValueChanged(value: string) {\n    if (value) {\n      this.pickr?.setDate(value, false);\n      if (this.mode !== 'daterange' || value.includes(' - ')) {\n        this.catChange.emit(value);\n      }\n    } else {\n      this.pickr?.clear(false);\n      this.catChange.emit(undefined);\n    }\n  }\n\n  @Watch('disabled')\n  @Watch('readonly')\n  @Watch('mode')\n  onDisabledChanged() {\n    // Dynamically changing config value is not working due to a bug in the\n    // library. We thus need to fully recreate the date picker after the value\n    // has been updated.\n    this.pickr?.destroy();\n    this.pickr = undefined;\n    setTimeout(() => {\n      this.input ? (this.input.disabled = this.disabled) : null;\n      this.pickr = this.initDatepicker(this.input);\n    });\n  }\n\n  componentDidLoad() {\n    this.pickr = this.initDatepicker(this.input);\n  }\n\n  componentWillRender(): void {\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n  }\n\n  @Watch('min')\n  @Watch('max')\n  onMinChanged() {\n    this.pickr?.set('minDate', this.min);\n    this.pickr?.set('maxDate', this.max);\n    if (this.value && !this.pickr?.selectedDates?.length) {\n      // Dynamically changing 'minDate' or 'maxDate' does not emit a change if\n      // the value is cleared due to an invalid date.\n      this.pickr?.clear();\n    }\n  }\n\n  /**\n   * Programmatically move focus to the datepicker. Use this method instead of\n   * `input.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this._input?.doFocus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the datepicker. Use this method instead of\n   * `input.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this._input?.doBlur();\n  }\n\n  render() {\n    return [\n      <cat-input\n        ref={el => (this._input = el)}\n        requiredMarker={this.requiredMarker}\n        horizontal={this.horizontal}\n        autoComplete={this.autoComplete}\n        clearable={this.clearable}\n        disabled={this.disabled}\n        hint={this.hint}\n        icon={this.icon}\n        iconRight={this.iconRight}\n        identifier={this.identifier}\n        label={this.label}\n        labelHidden={this.labelHidden}\n        name={this.name}\n        placeholder={this.placeholder}\n        textPrefix={this.textPrefix}\n        textSuffix={this.textSuffix}\n        readonly={this.readonly}\n        required={this.required}\n        value={this.value}\n        errors={this.errors}\n        errorUpdate={this.errorUpdate}\n        nativeAttributes={this.nativeAttributes}\n        onCatChange={e => {\n          e.stopPropagation();\n          this.value = e.detail || undefined;\n        }}\n        onCatFocus={e => {\n          e.stopPropagation();\n          this.catFocus.emit(e.detail);\n        }}\n        onCatBlur={e => {\n          e.stopPropagation();\n          this.catBlur.emit(e.detail);\n        }}\n      >\n        {this.hasSlottedLabel && (\n          <span slot=\"label\">\n            <slot name=\"label\"></slot>\n          </span>\n        )}\n        {this.hasSlottedHint && (\n          <span slot=\"hint\">\n            <slot name=\"hint\"></slot>\n          </span>\n        )}\n      </cat-input>,\n      <div ref={el => (this._calendarWrapper = el)} class=\"datepicker-wrapper\"></div>\n    ];\n  }\n\n  private initDatepicker(input?: HTMLInputElement): flatpickr.Instance | undefined {\n    if (!input) {\n      return;\n    }\n\n    // avoid dropdown closing if datepicker is part of a dropdown\n    const withinDropdown = !!findClosest('cat-dropdown', input);\n    const nativePickerAttributes: { [key: string]: string } = withinDropdown ? { 'data-dropdown-no-close': '' } : {};\n\n    return flatpickr(\n      input,\n      getConfig({\n        locale: getLocale(i18n.getLocale()),\n        format: getFormat(i18n.getLocale(), this.mode),\n        mode: this.mode,\n        min: this.min,\n        max: this.max,\n        step: this.step,\n        disabled: this.disabled,\n        readonly: this.readonly,\n        appendTo: this.attachToElement ? this._calendarWrapper : undefined,\n        nativePickerAttributes: { ...nativePickerAttributes, ...this.nativePickerAttributes },\n        // flatpickr has open bug about incorrect positioning when appendTo is used,\n        // we have to use custom logic to calculate position\n        // https://github.com/flatpickr/flatpickr/issues/1619\n        position: this.attachToElement\n          ? (flatpickr, positionElement) => {\n              this.updatePosition(flatpickr, positionElement);\n            }\n          : (this.position as BaseOptions['position']) || undefined,\n        onReady: (_dates, _dateStr, flatpickr) => {\n          autoUpdate(input, flatpickr.calendarContainer, () => this.updatePosition(flatpickr, flatpickr._input));\n        },\n        applyChange: value => (this.value = value)\n      })\n    );\n  }\n\n  private updatePosition(flatpickr: flatpickr.Instance, positionElement: HTMLElement | undefined): void {\n    if (positionElement) {\n      computePosition(positionElement as ReferenceElement, flatpickr.calendarContainer, {\n        strategy: 'fixed',\n        placement: (this.position as Placement) || 'bottom-start',\n        middleware: [flip()]\n      }).then(({ x, y, placement }) => {\n        if (flatpickr.calendarContainer) {\n          flatpickr.calendarContainer.dataset.placement = placement;\n          Object.assign(flatpickr.calendarContainer.style, {\n            left: `${x}px`,\n            top: `${y}px`,\n            position: 'fixed'\n          });\n        }\n      });\n    }\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n@import '~flatpickr/dist/flatpickr.css';\n@import '../styles/vendor/flatpickr';\n\n:host {\n  display: inline-flex;\n\n  > div {\n    display: flex;\n  }\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.datepicker-disabled,\n.datepicker-readonly {\n  .flatpickr-days,\n  .flatpickr-time {\n    pointer-events: none;\n  }\n}\n\n.datepicker-disabled {\n  .flatpickr-days {\n    opacity: 0.75;\n  }\n\n  .flatpickr-time {\n    input,\n    .flatpickr-time-separator,\n    .flatpickr-am-pm {\n      color: cat-token('color.ui.font.muted');\n      opacity: 0.75;\n    }\n  }\n}\n\ninput {\n  display: none;\n}\n\n.flatpickr-calendar {\n  box-shadow: unset;\n  background: unset;\n}\n","import { Component, Event, EventEmitter, Host, Prop, Watch, h } from '@stencil/core';\nimport flatpickr from 'flatpickr';\nimport { getConfig } from '../cat-datepicker/cat-datepicker.config';\nimport { getFormat } from '../cat-datepicker/cat-datepicker.format';\nimport { getLocale } from '../cat-datepicker/cat-datepicker.locale';\nimport { CatDatepickerMode } from '../cat-datepicker/cat-datepicker.mode';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\n@Component({\n  tag: 'cat-datepicker-inline',\n  styleUrl: 'cat-datepicker-inline.scss',\n  shadow: true\n})\nexport class CatDatepickerInline {\n  private pickr?: flatpickr.Instance;\n  private input?: HTMLInputElement;\n\n  /**\n   * Whether the input is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * A maximum value as ISO Date string, e.g. 2017-03-04T01:23:43.000Z.\n   */\n  @Prop() max?: string;\n\n  /**\n   * A minimum value as ISO Date string, e.g. 2017-03-04T01:23:43.000Z.\n   */\n  @Prop() min?: string;\n\n  /**\n   * The mode of the datepicker, to select a date, time, both, a date range or a week number.\n   */\n  @Prop() mode: CatDatepickerMode = 'date';\n\n  /**\n   * The value is not editable.\n   */\n  @Prop() readonly = false;\n\n  /**\n   * The step size to use when changing the time.\n   */\n  @Prop() step = 5;\n\n  /**\n   * The value as ISO Date string, e.g. 2017-03-04T01:23:43.000Z or as a week number string.\n   */\n  @Prop({ mutable: true }) value?: string;\n\n  /**\n   * Attributes that will be added to the rendered HTML datepicker element.\n   */\n  @Prop() nativePickerAttributes?: { [key: string]: string };\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter<string>;\n\n  @Watch('value')\n  onValueChanged(value: string) {\n    if (value) {\n      this.pickr?.setDate(value, false);\n      this.catChange.emit(value);\n    } else {\n      this.pickr?.clear(false);\n      this.catChange.emit(undefined);\n    }\n  }\n\n  @Watch('disabled')\n  @Watch('readonly')\n  onDisabledChanged() {\n    // Dynamically unsetting 'enabled' value to undefined is not working due to\n    // a bug in the library. We thus need to fully recreate the date picker\n    // after the value has been updated.\n    this.pickr?.destroy();\n    this.pickr = undefined;\n    setTimeout(() => (this.pickr = this.initDatepicker(this.input)));\n  }\n\n  componentDidLoad() {\n    this.pickr = this.initDatepicker(this.input);\n  }\n\n  render() {\n    return (\n      <Host>\n        <div\n          tabIndex={this.disabled || this.readonly ? -1 : undefined}\n          class={{\n            'datepicker-wrapper': true,\n            'datepicker-disabled': this.disabled,\n            'datepicker-readonly': this.readonly\n          }}\n        >\n          <input\n            ref={el => (this.input = el)}\n            value={this.value}\n            disabled={this.disabled}\n            readonly={this.readonly}\n          ></input>\n        </div>\n      </Host>\n    );\n  }\n\n  private initDatepicker(input?: HTMLInputElement): flatpickr.Instance | undefined {\n    if (!input) {\n      return;\n    }\n\n    return flatpickr(\n      input,\n      getConfig(\n        {\n          locale: getLocale(i18n.getLocale()),\n          format: getFormat(i18n.getLocale(), this.mode),\n          mode: this.mode,\n          min: this.min,\n          max: this.max,\n          step: this.step,\n          disabled: this.disabled,\n          readonly: this.readonly,\n          nativePickerAttributes: this.nativePickerAttributes ?? {},\n          applyChange: value => (this.value = value)\n        },\n        {\n          ...(this.disabled ? { enable: [] } : {}),\n          inline: true\n        }\n      )\n    );\n  }\n}\n","/**\n * Auto-generated file. Do not edit directly.\n */\n\nexport const assetFontLatoName = \"Lato\";\nexport const assetFontLatoWoffBlack = \"Lato-Black.woff\";\nexport const assetFontLatoWoff2Black = \"Lato-Black.woff2\";\nexport const assetFontLatoWoffBlackItalic = \"Lato-BlackItalic.woff\";\nexport const assetFontLatoWoff2BlackItalic = \"Lato-BlackItalic.woff2\";\nexport const assetFontLatoWoffBold = \"Lato-Bold.woff\";\nexport const assetFontLatoWoff2Bold = \"Lato-Bold.woff2\";\nexport const assetFontLatoWoffBoldItalic = \"Lato-BoldItalic.woff\";\nexport const assetFontLatoWoff2BoldItalic = \"Lato-BoldItalic.woff2\";\nexport const assetFontLatoWoffHairline = \"Lato-Hairline.woff\";\nexport const assetFontLatoWoff2Hairline = \"Lato-Hairline.woff2\";\nexport const assetFontLatoWoffHairlineItalic = \"Lato-HairlineItalic.woff\";\nexport const assetFontLatoWoff2HairlineItalic = \"Lato-HairlineItalic.woff2\";\nexport const assetFontLatoWoffHeavy = \"Lato-Heavy.woff\";\nexport const assetFontLatoWoff2Heavy = \"Lato-Heavy.woff2\";\nexport const assetFontLatoWoffHeavyItalic = \"Lato-HeavyItalic.woff\";\nexport const assetFontLatoWoff2HeavyItalic = \"Lato-HeavyItalic.woff2\";\nexport const assetFontLatoWoffItalic = \"Lato-Italic.woff\";\nexport const assetFontLatoWoff2Italic = \"Lato-Italic.woff2\";\nexport const assetFontLatoWoffLight = \"Lato-Light.woff\";\nexport const assetFontLatoWoff2Light = \"Lato-Light.woff2\";\nexport const assetFontLatoWoffLightItalic = \"Lato-LightItalic.woff\";\nexport const assetFontLatoWoff2LightItalic = \"Lato-LightItalic.woff2\";\nexport const assetFontLatoWoffMedium = \"Lato-Medium.woff\";\nexport const assetFontLatoWoff2Medium = \"Lato-Medium.woff2\";\nexport const assetFontLatoWoffMediumItalic = \"Lato-MediumItalic.woff\";\nexport const assetFontLatoWoff2MediumItalic = \"Lato-MediumItalic.woff2\";\nexport const assetFontLatoWoffRegular = \"Lato-Regular.woff\";\nexport const assetFontLatoWoff2Regular = \"Lato-Regular.woff2\";\nexport const assetFontLatoWoffSemibold = \"Lato-Semibold.woff\";\nexport const assetFontLatoWoff2Semibold = \"Lato-Semibold.woff2\";\nexport const assetFontLatoWoffSemiboldItalic = \"Lato-SemiboldItalic.woff\";\nexport const assetFontLatoWoff2SemiboldItalic = \"Lato-SemiboldItalic.woff2\";\nexport const assetFontLatoWoffThin = \"Lato-Thin.woff\";\nexport const assetFontLatoWoff2Thin = \"Lato-Thin.woff2\";\nexport const assetFontLatoWoffThinItalic = \"Lato-ThinItalic.woff\";\nexport const assetFontLatoWoff2ThinItalic = \"Lato-ThinItalic.woff2\";\nexport const assetFontAzeretMonoName = \"Azeret Mono\";\nexport const assetFontAzeretMonoWoff2Regular = \"AzeretMono-Regular.woff2\";\nexport const assetFontSs3vName = \"Source Sans 3\";\nexport const assetFontSs3vWoff = \"SourceSans3VF-Upright.ttf.woff\";\nexport const assetFontSs3vWoff2 = \"SourceSans3VF-Upright.ttf.woff2\";\nexport const colorBaseWhite = \"#ffffff\";\nexport const colorBaseBlack = \"#000000\";\nexport const colorBaseNeutral100 = \"#f2f4f7\";\nexport const colorBaseNeutral200 = \"#ebecf0\";\nexport const colorBaseNeutral300 = \"#d7dbe0\";\nexport const colorBaseNeutral400 = \"#697687\";\nexport const colorBaseNeutral500 = \"#515c6c\";\nexport const colorBaseNeutral600 = \"#394251\";\nexport const colorBaseNeutral700 = \"#1b1f26\";\nexport const colorBaseNeutralInverted400 = \"#697687\";\nexport const colorBaseBrand100 = \"#c9e5e8\";\nexport const colorBaseBrand200 = \"#2db3c3\";\nexport const colorBaseBrand300 = \"#29a3b1\";\nexport const colorBaseBrand400 = \"#008194\";\nexport const colorBaseBrand500 = \"#017384\";\nexport const colorBaseBrand600 = \"#026371\";\nexport const colorBaseBrand700 = \"#175b63\";\nexport const colorBaseBrandInverted400 = \"#93b4f2\";\nexport const colorBaseBrandInverted500 = \"#93b4f2\";\nexport const colorBaseBrandInverted600 = \"#93b4f2\";\nexport const colorBaseBlue100 = \"#b3d5f8\";\nexport const colorBaseBlue200 = \"#80b9f3\";\nexport const colorBaseBlue300 = \"#2688ea\";\nexport const colorBaseBlue400 = \"#0073e6\";\nexport const colorBaseBlue500 = \"#006be3\";\nexport const colorBaseBlue600 = \"#0060df\";\nexport const colorBaseBlue700 = \"#0043d5\";\nexport const colorBaseGreen100 = \"#d4ede4\";\nexport const colorBaseGreen200 = \"#00bb7d\";\nexport const colorBaseGreen300 = \"#00aa71\";\nexport const colorBaseGreen400 = \"#008458\";\nexport const colorBaseGreen500 = \"#00754e\";\nexport const colorBaseGreen600 = \"#006946\";\nexport const colorBaseGreen700 = \"#005f40\";\nexport const colorBaseOrange100 = \"#ffdea8\";\nexport const colorBaseOrange200 = \"#ffd694\";\nexport const colorBaseOrange300 = \"#ffce80\";\nexport const colorBaseOrange400 = \"#ebb663\";\nexport const colorBaseOrange500 = \"#d6a75a\";\nexport const colorBaseOrange600 = \"#b0853e\";\nexport const colorBaseOrange700 = \"#9f6100\";\nexport const colorBaseRed100 = \"#fbc7bb\";\nexport const colorBaseRed200 = \"#f68368\";\nexport const colorBaseRed300 = \"#f46a49\";\nexport const colorBaseRed400 = \"#d9340d\";\nexport const colorBaseRed500 = \"#c22e0b\";\nexport const colorBaseRed600 = \"#ae2a0a\";\nexport const colorBaseRed700 = \"#9e2609\";\nexport const colorThemePrimaryBg = \"#008194\";\nexport const colorThemePrimaryBgHover = \"#017384\";\nexport const colorThemePrimaryBgActive = \"#026371\";\nexport const colorThemePrimaryFill = \"#ffffff\";\nexport const colorThemePrimaryFillHover = \"#ffffff\";\nexport const colorThemePrimaryFillActive = \"#ffffff\";\nexport const colorThemePrimaryText = \"#008194\";\nexport const colorThemePrimaryTextHover = \"#017384\";\nexport const colorThemePrimaryTextActive = \"#026371\";\nexport const colorThemePrimaryInvertedBg = \"#93b4f2\";\nexport const colorThemePrimaryInvertedBgHover = \"#93b4f2\";\nexport const colorThemePrimaryInvertedBgActive = \"#93b4f2\";\nexport const colorThemePrimaryInvertedFill = \"#000000\";\nexport const colorThemePrimaryInvertedFillHover = \"#000000\";\nexport const colorThemePrimaryInvertedFillActive = \"#000000\";\nexport const colorThemePrimaryInvertedText = \"#93b4f2\";\nexport const colorThemePrimaryInvertedTextHover = \"#93b4f2\";\nexport const colorThemePrimaryInvertedTextActive = \"#93b4f2\";\nexport const colorThemeSecondaryBg = \"#697687\";\nexport const colorThemeSecondaryBgHover = \"#697687\";\nexport const colorThemeSecondaryBgActive = \"#697687\";\nexport const colorThemeSecondaryFill = \"#ffffff\";\nexport const colorThemeSecondaryFillHover = \"#ffffff\";\nexport const colorThemeSecondaryFillActive = \"#ffffff\";\nexport const colorThemeSecondaryText = \"#000000\";\nexport const colorThemeSecondaryTextHover = \"#000000\";\nexport const colorThemeSecondaryTextActive = \"#000000\";\nexport const colorThemeSecondaryInvertedBg = \"#697687\";\nexport const colorThemeSecondaryInvertedBgHover = \"#697687\";\nexport const colorThemeSecondaryInvertedBgActive = \"#697687\";\nexport const colorThemeSecondaryInvertedFill = \"#000000\";\nexport const colorThemeSecondaryInvertedFillHover = \"#000000\";\nexport const colorThemeSecondaryInvertedFillActive = \"#000000\";\nexport const colorThemeSecondaryInvertedText = \"#ffffff\";\nexport const colorThemeSecondaryInvertedTextHover = \"#ffffff\";\nexport const colorThemeSecondaryInvertedTextActive = \"#ffffff\";\nexport const colorThemeInfoBg = \"#0073e6\";\nexport const colorThemeInfoBgHover = \"#006be3\";\nexport const colorThemeInfoBgActive = \"#0060df\";\nexport const colorThemeInfoFill = \"#ffffff\";\nexport const colorThemeInfoFillHover = \"#ffffff\";\nexport const colorThemeInfoFillActive = \"#ffffff\";\nexport const colorThemeInfoText = \"#0073e6\";\nexport const colorThemeInfoTextHover = \"#006be3\";\nexport const colorThemeInfoTextActive = \"#0060df\";\nexport const colorThemeSuccessBg = \"#008458\";\nexport const colorThemeSuccessBgHover = \"#00754e\";\nexport const colorThemeSuccessBgActive = \"#006946\";\nexport const colorThemeSuccessFill = \"#ffffff\";\nexport const colorThemeSuccessFillHover = \"#ffffff\";\nexport const colorThemeSuccessFillActive = \"#ffffff\";\nexport const colorThemeSuccessText = \"#008458\";\nexport const colorThemeSuccessTextHover = \"#00754e\";\nexport const colorThemeSuccessTextActive = \"#006946\";\nexport const colorThemeWarningBg = \"#ffce80\";\nexport const colorThemeWarningBgHover = \"#ffd694\";\nexport const colorThemeWarningBgActive = \"#ffdea8\";\nexport const colorThemeWarningFill = \"#000000\";\nexport const colorThemeWarningFillHover = \"#000000\";\nexport const colorThemeWarningFillActive = \"#000000\";\nexport const colorThemeWarningText = \"#9f6100\";\nexport const colorThemeWarningTextHover = \"#9f6100\";\nexport const colorThemeWarningTextActive = \"#9f6100\";\nexport const colorThemeDangerBg = \"#d9340d\";\nexport const colorThemeDangerBgHover = \"#c22e0b\";\nexport const colorThemeDangerBgActive = \"#ae2a0a\";\nexport const colorThemeDangerFill = \"#ffffff\";\nexport const colorThemeDangerFillHover = \"#ffffff\";\nexport const colorThemeDangerFillActive = \"#ffffff\";\nexport const colorThemeDangerText = \"#d9340d\";\nexport const colorThemeDangerTextHover = \"#c22e0b\";\nexport const colorThemeDangerTextActive = \"#ae2a0a\";\nexport const colorUiBackgroundCanvas = \"#f2f4f7\";\nexport const colorUiBackgroundSurface = \"#ffffff\";\nexport const colorUiBackgroundSurfaceInverted = \"#1b1f26\";\nexport const colorUiBackgroundMuted = \"#f2f4f7\";\nexport const colorUiBackgroundInput = \"#ffffff\";\nexport const colorUiBackgroundInputAutofill = \"#e8f0fe\";\nexport const colorUiBackgroundSkeleton = \"#ebecf0\";\nexport const colorUiBackgroundSkeletonHighlight = \"#d7dbe0\";\nexport const colorUiBackgroundTooltip = \"#000000\";\nexport const colorUiBackgroundBackdrop = \"#1b1f26\";\nexport const colorUiBorderLight = \"#f2f4f7\";\nexport const colorUiBorderDefault = \"#ebecf0\";\nexport const colorUiBorderDark = \"#d7dbe0\";\nexport const colorUiBorderFocus = \"#0071ff\";\nexport const colorUiBorderQuote = \"#697687\";\nexport const colorUiFontBase = \"#000000\";\nexport const colorUiFontBaseInverted = \"#ffffff\";\nexport const colorUiFontMuted = \"#515c6c\";\nexport const colorUiFontQuote = \"#515c6c\";\nexport const colorUiFontTooltip = \"#ffffff\";\nexport const fontFamilyBase = \"Lato\";\nexport const fontFamilyMono = \"''\";\nexport const fontFamilyEmoji = \"''\";\nexport const fontWeightHead = 600;\nexport const fontWeightBody = 400;\nexport const fontWeightMono = 400;\nexport const fontDecorationLink = \"none\";\nexport const fontDecorationLinkHover = \"underline\";\nexport const fontDecorationLinkButton = \"none\";\nexport const fontDecorationLinkButtonHover = \"none\";\nexport const opacityDisabled = 0.65;\nexport const opacityBackdrop = 0.4;\nexport const opacityTooltip = 1;\nexport const sizeBorderRadiusL = 0.5;\nexport const sizeBorderRadiusM = 0.25;\nexport const sizeBorderRadiusS = 0.125;\nexport const sizeFontHead1 = 1.75;\nexport const sizeFontHead2 = 1.5;\nexport const sizeFontHead3 = 1.25;\nexport const sizeFontHead4 = 1.125;\nexport const sizeFontHead5 = 0.9375;\nexport const sizeFontHead6 = 0.875;\nexport const sizeFontBodyXl = 1.25;\nexport const sizeFontBodyL = 1.125;\nexport const sizeFontBodyM = 0.9375;\nexport const sizeFontBodyS = 0.875;\nexport const sizeFontBodyXs = 0.75;\nexport const sizeFontMonoXl = 1.125;\nexport const sizeFontMonoL = 0.9375;\nexport const sizeFontMonoM = 0.875;\nexport const sizeFontMonoS = 0.75;\nexport const sizeFontMonoXs = 0.625;\nexport const sizeLineHead1 = 2;\nexport const sizeLineHead2 = 1.75;\nexport const sizeLineHead3 = 1.5;\nexport const sizeLineHead4 = 1.5;\nexport const sizeLineHead5 = 1.25;\nexport const sizeLineHead6 = 1;\nexport const sizeLineBodyXl = 1.5;\nexport const sizeLineBodyL = 1.5;\nexport const sizeLineBodyM = 1.25;\nexport const sizeLineBodyS = 1.125;\nexport const sizeLineBodyXs = 1;\nexport const sizeLineMonoXl = 1.5;\nexport const sizeLineMonoL = 1.25;\nexport const sizeLineMonoM = 1.125;\nexport const sizeLineMonoS = 1;\nexport const sizeLineMonoXs = 0.875;\nexport const sizeModalS = 400;\nexport const sizeModalM = 600;\nexport const sizeModalL = 800;\nexport const sizeScreenXs = 540;\nexport const sizeScreenS = 768;\nexport const sizeScreenM = 992;\nexport const sizeScreenL = 1200;\nexport const sizeScreenXl = 1400;\nexport const sizeSpacingXl = 2;\nexport const sizeSpacingL = 1.5;\nexport const sizeSpacingM = 1;\nexport const sizeSpacingS = 0.5;\nexport const sizeSpacingXs = 0.25;\nexport const timeTransitionL = 500;\nexport const timeTransitionM = 250;\nexport const timeTransitionS = 125;\nexport const timeDelayL = 500;\nexport const timeDelayM = 250;\nexport const timeDelayS = 125;\nexport const timeDurationL = 1000;\nexport const timeDurationM = 500;\nexport const timeDurationS = 250;\nexport const zIndexBase = 1000;\nexport const zIndexDropdown = 100;\nexport const zIndexTooltip = 200;\n","/*!\n* focus-trap 7.5.4\n* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE\n*/\nimport { isFocusable, tabbable, focusable, isTabbable, getTabIndex } from 'tabbable';\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nvar activeFocusTraps = {\n  activateTrap: function activateTrap(trapStack, trap) {\n    if (trapStack.length > 0) {\n      var activeTrap = trapStack[trapStack.length - 1];\n      if (activeTrap !== trap) {\n        activeTrap.pause();\n      }\n    }\n    var trapIndex = trapStack.indexOf(trap);\n    if (trapIndex === -1) {\n      trapStack.push(trap);\n    } else {\n      // move this existing trap to the front of the queue\n      trapStack.splice(trapIndex, 1);\n      trapStack.push(trap);\n    }\n  },\n  deactivateTrap: function deactivateTrap(trapStack, trap) {\n    var trapIndex = trapStack.indexOf(trap);\n    if (trapIndex !== -1) {\n      trapStack.splice(trapIndex, 1);\n    }\n    if (trapStack.length > 0) {\n      trapStack[trapStack.length - 1].unpause();\n    }\n  }\n};\nvar isSelectableInput = function isSelectableInput(node) {\n  return node.tagName && node.tagName.toLowerCase() === 'input' && typeof node.select === 'function';\n};\nvar isEscapeEvent = function isEscapeEvent(e) {\n  return (e === null || e === void 0 ? void 0 : e.key) === 'Escape' || (e === null || e === void 0 ? void 0 : e.key) === 'Esc' || (e === null || e === void 0 ? void 0 : e.keyCode) === 27;\n};\nvar isTabEvent = function isTabEvent(e) {\n  return (e === null || e === void 0 ? void 0 : e.key) === 'Tab' || (e === null || e === void 0 ? void 0 : e.keyCode) === 9;\n};\n\n// checks for TAB by default\nvar isKeyForward = function isKeyForward(e) {\n  return isTabEvent(e) && !e.shiftKey;\n};\n\n// checks for SHIFT+TAB by default\nvar isKeyBackward = function isKeyBackward(e) {\n  return isTabEvent(e) && e.shiftKey;\n};\nvar delay = function delay(fn) {\n  return setTimeout(fn, 0);\n};\n\n// Array.find/findIndex() are not supported on IE; this replicates enough\n//  of Array.findIndex() for our needs\nvar findIndex = function findIndex(arr, fn) {\n  var idx = -1;\n  arr.every(function (value, i) {\n    if (fn(value)) {\n      idx = i;\n      return false; // break\n    }\n\n    return true; // next\n  });\n\n  return idx;\n};\n\n/**\n * Get an option's value when it could be a plain value, or a handler that provides\n *  the value.\n * @param {*} value Option's value to check.\n * @param {...*} [params] Any parameters to pass to the handler, if `value` is a function.\n * @returns {*} The `value`, or the handler's returned value.\n */\nvar valueOrHandler = function valueOrHandler(value) {\n  for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    params[_key - 1] = arguments[_key];\n  }\n  return typeof value === 'function' ? value.apply(void 0, params) : value;\n};\nvar getActualTarget = function getActualTarget(event) {\n  // NOTE: If the trap is _inside_ a shadow DOM, event.target will always be the\n  //  shadow host. However, event.target.composedPath() will be an array of\n  //  nodes \"clicked\" from inner-most (the actual element inside the shadow) to\n  //  outer-most (the host HTML document). If we have access to composedPath(),\n  //  then use its first element; otherwise, fall back to event.target (and\n  //  this only works for an _open_ shadow DOM; otherwise,\n  //  composedPath()[0] === event.target always).\n  return event.target.shadowRoot && typeof event.composedPath === 'function' ? event.composedPath()[0] : event.target;\n};\n\n// NOTE: this must be _outside_ `createFocusTrap()` to make sure all traps in this\n//  current instance use the same stack if `userOptions.trapStack` isn't specified\nvar internalTrapStack = [];\nvar createFocusTrap = function createFocusTrap(elements, userOptions) {\n  // SSR: a live trap shouldn't be created in this type of environment so this\n  //  should be safe code to execute if the `document` option isn't specified\n  var doc = (userOptions === null || userOptions === void 0 ? void 0 : userOptions.document) || document;\n  var trapStack = (userOptions === null || userOptions === void 0 ? void 0 : userOptions.trapStack) || internalTrapStack;\n  var config = _objectSpread2({\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true,\n    isKeyForward: isKeyForward,\n    isKeyBackward: isKeyBackward\n  }, userOptions);\n  var state = {\n    // containers given to createFocusTrap()\n    // @type {Array<HTMLElement>}\n    containers: [],\n    // list of objects identifying tabbable nodes in `containers` in the trap\n    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap\n    //  is active, but the trap should never get to a state where there isn't at least one group\n    //  with at least one tabbable node in it (that would lead to an error condition that would\n    //  result in an error being thrown)\n    // @type {Array<{\n    //   container: HTMLElement,\n    //   tabbableNodes: Array<HTMLElement>, // empty if none\n    //   focusableNodes: Array<HTMLElement>, // empty if none\n    //   posTabIndexesFound: boolean,\n    //   firstTabbableNode: HTMLElement|undefined,\n    //   lastTabbableNode: HTMLElement|undefined,\n    //   firstDomTabbableNode: HTMLElement|undefined,\n    //   lastDomTabbableNode: HTMLElement|undefined,\n    //   nextTabbableNode: (node: HTMLElement, forward: boolean) => HTMLElement|undefined\n    // }>}\n    containerGroups: [],\n    // same order/length as `containers` list\n\n    // references to objects in `containerGroups`, but only those that actually have\n    //  tabbable nodes in them\n    // NOTE: same order as `containers` and `containerGroups`, but __not necessarily__\n    //  the same length\n    tabbableGroups: [],\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false,\n    // timer ID for when delayInitialFocus is true and initial focus in this trap\n    //  has been delayed during activation\n    delayInitialFocusTimer: undefined,\n    // the most recent KeyboardEvent for the configured nav key (typically [SHIFT+]TAB), if any\n    recentNavEvent: undefined\n  };\n  var trap; // eslint-disable-line prefer-const -- some private functions reference it, and its methods reference private functions, so we must declare here and define later\n\n  /**\n   * Gets a configuration option value.\n   * @param {Object|undefined} configOverrideOptions If true, and option is defined in this set,\n   *  value will be taken from this object. Otherwise, value will be taken from base configuration.\n   * @param {string} optionName Name of the option whose value is sought.\n   * @param {string|undefined} [configOptionName] Name of option to use __instead of__ `optionName`\n   *  IIF `configOverrideOptions` is not defined. Otherwise, `optionName` is used.\n   */\n  var getOption = function getOption(configOverrideOptions, optionName, configOptionName) {\n    return configOverrideOptions && configOverrideOptions[optionName] !== undefined ? configOverrideOptions[optionName] : config[configOptionName || optionName];\n  };\n\n  /**\n   * Finds the index of the container that contains the element.\n   * @param {HTMLElement} element\n   * @param {Event} [event] If available, and `element` isn't directly found in any container,\n   *  the event's composed path is used to see if includes any known trap containers in the\n   *  case where the element is inside a Shadow DOM.\n   * @returns {number} Index of the container in either `state.containers` or\n   *  `state.containerGroups` (the order/length of these lists are the same); -1\n   *  if the element isn't found.\n   */\n  var findContainerIndex = function findContainerIndex(element, event) {\n    var composedPath = typeof (event === null || event === void 0 ? void 0 : event.composedPath) === 'function' ? event.composedPath() : undefined;\n    // NOTE: search `containerGroups` because it's possible a group contains no tabbable\n    //  nodes, but still contains focusable nodes (e.g. if they all have `tabindex=-1`)\n    //  and we still need to find the element in there\n    return state.containerGroups.findIndex(function (_ref) {\n      var container = _ref.container,\n        tabbableNodes = _ref.tabbableNodes;\n      return container.contains(element) || ( // fall back to explicit tabbable search which will take into consideration any\n      //  web components if the `tabbableOptions.getShadowRoot` option was used for\n      //  the trap, enabling shadow DOM support in tabbable (`Node.contains()` doesn't\n      //  look inside web components even if open)\n      composedPath === null || composedPath === void 0 ? void 0 : composedPath.includes(container)) || tabbableNodes.find(function (node) {\n        return node === element;\n      });\n    });\n  };\n\n  /**\n   * Gets the node for the given option, which is expected to be an option that\n   *  can be either a DOM node, a string that is a selector to get a node, `false`\n   *  (if a node is explicitly NOT given), or a function that returns any of these\n   *  values.\n   * @param {string} optionName\n   * @returns {undefined | false | HTMLElement | SVGElement} Returns\n   *  `undefined` if the option is not specified; `false` if the option\n   *  resolved to `false` (node explicitly not given); otherwise, the resolved\n   *  DOM node.\n   * @throws {Error} If the option is set, not `false`, and is not, or does not\n   *  resolve to a node.\n   */\n  var getNodeForOption = function getNodeForOption(optionName) {\n    var optionValue = config[optionName];\n    if (typeof optionValue === 'function') {\n      for (var _len2 = arguments.length, params = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        params[_key2 - 1] = arguments[_key2];\n      }\n      optionValue = optionValue.apply(void 0, params);\n    }\n    if (optionValue === true) {\n      optionValue = undefined; // use default value\n    }\n\n    if (!optionValue) {\n      if (optionValue === undefined || optionValue === false) {\n        return optionValue;\n      }\n      // else, empty string (invalid), null (invalid), 0 (invalid)\n\n      throw new Error(\"`\".concat(optionName, \"` was specified but was not a node, or did not return a node\"));\n    }\n    var node = optionValue; // could be HTMLElement, SVGElement, or non-empty string at this point\n\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue); // resolve to node, or null if fails\n      if (!node) {\n        throw new Error(\"`\".concat(optionName, \"` as selector refers to no known node\"));\n      }\n    }\n    return node;\n  };\n  var getInitialFocusNode = function getInitialFocusNode() {\n    var node = getNodeForOption('initialFocus');\n\n    // false explicitly indicates we want no initialFocus at all\n    if (node === false) {\n      return false;\n    }\n    if (node === undefined || !isFocusable(node, config.tabbableOptions)) {\n      // option not specified nor focusable: use fallback options\n      if (findContainerIndex(doc.activeElement) >= 0) {\n        node = doc.activeElement;\n      } else {\n        var firstTabbableGroup = state.tabbableGroups[0];\n        var firstTabbableNode = firstTabbableGroup && firstTabbableGroup.firstTabbableNode;\n\n        // NOTE: `fallbackFocus` option function cannot return `false` (not supported)\n        node = firstTabbableNode || getNodeForOption('fallbackFocus');\n      }\n    }\n    if (!node) {\n      throw new Error('Your focus-trap needs to have at least one focusable element');\n    }\n    return node;\n  };\n  var updateTabbableNodes = function updateTabbableNodes() {\n    state.containerGroups = state.containers.map(function (container) {\n      var tabbableNodes = tabbable(container, config.tabbableOptions);\n\n      // NOTE: if we have tabbable nodes, we must have focusable nodes; focusable nodes\n      //  are a superset of tabbable nodes since nodes with negative `tabindex` attributes\n      //  are focusable but not tabbable\n      var focusableNodes = focusable(container, config.tabbableOptions);\n      var firstTabbableNode = tabbableNodes.length > 0 ? tabbableNodes[0] : undefined;\n      var lastTabbableNode = tabbableNodes.length > 0 ? tabbableNodes[tabbableNodes.length - 1] : undefined;\n      var firstDomTabbableNode = focusableNodes.find(function (node) {\n        return isTabbable(node);\n      });\n      var lastDomTabbableNode = focusableNodes.slice().reverse().find(function (node) {\n        return isTabbable(node);\n      });\n      var posTabIndexesFound = !!tabbableNodes.find(function (node) {\n        return getTabIndex(node) > 0;\n      });\n      return {\n        container: container,\n        tabbableNodes: tabbableNodes,\n        focusableNodes: focusableNodes,\n        /** True if at least one node with positive `tabindex` was found in this container. */\n        posTabIndexesFound: posTabIndexesFound,\n        /** First tabbable node in container, __tabindex__ order; `undefined` if none. */\n        firstTabbableNode: firstTabbableNode,\n        /** Last tabbable node in container, __tabindex__ order; `undefined` if none. */\n        lastTabbableNode: lastTabbableNode,\n        // NOTE: DOM order is NOT NECESSARILY \"document position\" order, but figuring that out\n        //  would require more than just https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition\n        //  because that API doesn't work with Shadow DOM as well as it should (@see\n        //  https://github.com/whatwg/dom/issues/320) and since this first/last is only needed, so far,\n        //  to address an edge case related to positive tabindex support, this seems like a much easier,\n        //  \"close enough most of the time\" alternative for positive tabindexes which should generally\n        //  be avoided anyway...\n        /** First tabbable node in container, __DOM__ order; `undefined` if none. */\n        firstDomTabbableNode: firstDomTabbableNode,\n        /** Last tabbable node in container, __DOM__ order; `undefined` if none. */\n        lastDomTabbableNode: lastDomTabbableNode,\n        /**\n         * Finds the __tabbable__ node that follows the given node in the specified direction,\n         *  in this container, if any.\n         * @param {HTMLElement} node\n         * @param {boolean} [forward] True if going in forward tab order; false if going\n         *  in reverse.\n         * @returns {HTMLElement|undefined} The next tabbable node, if any.\n         */\n        nextTabbableNode: function nextTabbableNode(node) {\n          var forward = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n          var nodeIdx = tabbableNodes.indexOf(node);\n          if (nodeIdx < 0) {\n            // either not tabbable nor focusable, or was focused but not tabbable (negative tabindex):\n            //  since `node` should at least have been focusable, we assume that's the case and mimic\n            //  what browsers do, which is set focus to the next node in __document position order__,\n            //  regardless of positive tabindexes, if any -- and for reasons explained in the NOTE\n            //  above related to `firstDomTabbable` and `lastDomTabbable` properties, we fall back to\n            //  basic DOM order\n            if (forward) {\n              return focusableNodes.slice(focusableNodes.indexOf(node) + 1).find(function (el) {\n                return isTabbable(el);\n              });\n            }\n            return focusableNodes.slice(0, focusableNodes.indexOf(node)).reverse().find(function (el) {\n              return isTabbable(el);\n            });\n          }\n          return tabbableNodes[nodeIdx + (forward ? 1 : -1)];\n        }\n      };\n    });\n    state.tabbableGroups = state.containerGroups.filter(function (group) {\n      return group.tabbableNodes.length > 0;\n    });\n\n    // throw if no groups have tabbable nodes and we don't have a fallback focus node either\n    if (state.tabbableGroups.length <= 0 && !getNodeForOption('fallbackFocus') // returning false not supported for this option\n    ) {\n      throw new Error('Your focus-trap must have at least one container with at least one tabbable node in it at all times');\n    }\n\n    // NOTE: Positive tabindexes are only properly supported in single-container traps because\n    //  doing it across multiple containers where tabindexes could be all over the place\n    //  would require Tabbable to support multiple containers, would require additional\n    //  specialized Shadow DOM support, and would require Tabbable's multi-container support\n    //  to look at those containers in document position order rather than user-provided\n    //  order (as they are treated in Focus-trap, for legacy reasons). See discussion on\n    //  https://github.com/focus-trap/focus-trap/issues/375 for more details.\n    if (state.containerGroups.find(function (g) {\n      return g.posTabIndexesFound;\n    }) && state.containerGroups.length > 1) {\n      throw new Error(\"At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.\");\n    }\n  };\n\n  /**\n   * Gets the current activeElement. If it's a web-component and has open shadow-root\n   * it will recursively search inside shadow roots for the \"true\" activeElement.\n   *\n   * @param {Document | ShadowRoot} el\n   *\n   * @returns {HTMLElement} The element that currently has the focus\n   **/\n  var getActiveElement = function getActiveElement(el) {\n    var activeElement = el.activeElement;\n    if (!activeElement) {\n      return;\n    }\n    if (activeElement.shadowRoot && activeElement.shadowRoot.activeElement !== null) {\n      return getActiveElement(activeElement.shadowRoot);\n    }\n    return activeElement;\n  };\n  var tryFocus = function tryFocus(node) {\n    if (node === false) {\n      return;\n    }\n    if (node === getActiveElement(document)) {\n      return;\n    }\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n    node.focus({\n      preventScroll: !!config.preventScroll\n    });\n    // NOTE: focus() API does not trigger focusIn event so set MRU node manually\n    state.mostRecentlyFocusedNode = node;\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  };\n  var getReturnFocusNode = function getReturnFocusNode(previousActiveElement) {\n    var node = getNodeForOption('setReturnFocus', previousActiveElement);\n    return node ? node : node === false ? false : previousActiveElement;\n  };\n\n  /**\n   * Finds the next node (in either direction) where focus should move according to a\n   *  keyboard focus-in event.\n   * @param {Object} params\n   * @param {Node} [params.target] Known target __from which__ to navigate, if any.\n   * @param {KeyboardEvent|FocusEvent} [params.event] Event to use if `target` isn't known (event\n   *  will be used to determine the `target`). Ignored if `target` is specified.\n   * @param {boolean} [params.isBackward] True if focus should move backward.\n   * @returns {Node|undefined} The next node, or `undefined` if a next node couldn't be\n   *  determined given the current state of the trap.\n   */\n  var findNextNavNode = function findNextNavNode(_ref2) {\n    var target = _ref2.target,\n      event = _ref2.event,\n      _ref2$isBackward = _ref2.isBackward,\n      isBackward = _ref2$isBackward === void 0 ? false : _ref2$isBackward;\n    target = target || getActualTarget(event);\n    updateTabbableNodes();\n    var destinationNode = null;\n    if (state.tabbableGroups.length > 0) {\n      // make sure the target is actually contained in a group\n      // NOTE: the target may also be the container itself if it's focusable\n      //  with tabIndex='-1' and was given initial focus\n      var containerIndex = findContainerIndex(target, event);\n      var containerGroup = containerIndex >= 0 ? state.containerGroups[containerIndex] : undefined;\n      if (containerIndex < 0) {\n        // target not found in any group: quite possible focus has escaped the trap,\n        //  so bring it back into...\n        if (isBackward) {\n          // ...the last node in the last group\n          destinationNode = state.tabbableGroups[state.tabbableGroups.length - 1].lastTabbableNode;\n        } else {\n          // ...the first node in the first group\n          destinationNode = state.tabbableGroups[0].firstTabbableNode;\n        }\n      } else if (isBackward) {\n        // REVERSE\n\n        // is the target the first tabbable node in a group?\n        var startOfGroupIndex = findIndex(state.tabbableGroups, function (_ref3) {\n          var firstTabbableNode = _ref3.firstTabbableNode;\n          return target === firstTabbableNode;\n        });\n        if (startOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target, config.tabbableOptions) && !isTabbable(target, config.tabbableOptions) && !containerGroup.nextTabbableNode(target, false))) {\n          // an exception case where the target is either the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle shift+tab as if focus were on the container's\n          //  first tabbable node, and go to the last tabbable node of the LAST group\n          startOfGroupIndex = containerIndex;\n        }\n        if (startOfGroupIndex >= 0) {\n          // YES: then shift+tab should go to the last tabbable node in the\n          //  previous group (and wrap around to the last tabbable node of\n          //  the LAST group if it's the first tabbable node of the FIRST group)\n          var destinationGroupIndex = startOfGroupIndex === 0 ? state.tabbableGroups.length - 1 : startOfGroupIndex - 1;\n          var destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = getTabIndex(target) >= 0 ? destinationGroup.lastTabbableNode : destinationGroup.lastDomTabbableNode;\n        } else if (!isTabEvent(event)) {\n          // user must have customized the nav keys so we have to move focus manually _within_\n          //  the active group: do this based on the order determined by tabbable()\n          destinationNode = containerGroup.nextTabbableNode(target, false);\n        }\n      } else {\n        // FORWARD\n\n        // is the target the last tabbable node in a group?\n        var lastOfGroupIndex = findIndex(state.tabbableGroups, function (_ref4) {\n          var lastTabbableNode = _ref4.lastTabbableNode;\n          return target === lastTabbableNode;\n        });\n        if (lastOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target, config.tabbableOptions) && !isTabbable(target, config.tabbableOptions) && !containerGroup.nextTabbableNode(target))) {\n          // an exception case where the target is the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle tab as if focus were on the container's\n          //  last tabbable node, and go to the first tabbable node of the FIRST group\n          lastOfGroupIndex = containerIndex;\n        }\n        if (lastOfGroupIndex >= 0) {\n          // YES: then tab should go to the first tabbable node in the next\n          //  group (and wrap around to the first tabbable node of the FIRST\n          //  group if it's the last tabbable node of the LAST group)\n          var _destinationGroupIndex = lastOfGroupIndex === state.tabbableGroups.length - 1 ? 0 : lastOfGroupIndex + 1;\n          var _destinationGroup = state.tabbableGroups[_destinationGroupIndex];\n          destinationNode = getTabIndex(target) >= 0 ? _destinationGroup.firstTabbableNode : _destinationGroup.firstDomTabbableNode;\n        } else if (!isTabEvent(event)) {\n          // user must have customized the nav keys so we have to move focus manually _within_\n          //  the active group: do this based on the order determined by tabbable()\n          destinationNode = containerGroup.nextTabbableNode(target);\n        }\n      }\n    } else {\n      // no groups available\n      // NOTE: the fallbackFocus option does not support returning false to opt-out\n      destinationNode = getNodeForOption('fallbackFocus');\n    }\n    return destinationNode;\n  };\n\n  // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n  var checkPointerDown = function checkPointerDown(e) {\n    var target = getActualTarget(e);\n    if (findContainerIndex(target, e) >= 0) {\n      // allow the click since it ocurred inside the trap\n      return;\n    }\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      // immediately deactivate the trap\n      trap.deactivate({\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked (and if not focusable, to \"nothing\"); by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node), whether the\n        //  outside click was on a focusable node or not\n        returnFocus: config.returnFocusOnDeactivate\n      });\n      return;\n    }\n\n    // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      // allow the click outside the trap to take place\n      return;\n    }\n\n    // otherwise, prevent the click\n    e.preventDefault();\n  };\n\n  // In case focus escapes the trap for some strange reason, pull it back in.\n  // NOTE: the focusIn event is NOT cancelable, so if focus escapes, it may cause unexpected\n  //  scrolling if the node that got focused was out of view; there's nothing we can do to\n  //  prevent that from happening by the time we discover that focus escaped\n  var checkFocusIn = function checkFocusIn(event) {\n    var target = getActualTarget(event);\n    var targetContained = findContainerIndex(target, event) >= 0;\n\n    // In Firefox when you Tab out of an iframe the Document is briefly focused.\n    if (targetContained || target instanceof Document) {\n      if (targetContained) {\n        state.mostRecentlyFocusedNode = target;\n      }\n    } else {\n      // escaped! pull it back in to where it just left\n      event.stopImmediatePropagation();\n\n      // focus will escape if the MRU node had a positive tab index and user tried to nav forward;\n      //  it will also escape if the MRU node had a 0 tab index and user tried to nav backward\n      //  toward a node with a positive tab index\n      var nextNode; // next node to focus, if we find one\n      var navAcrossContainers = true;\n      if (state.mostRecentlyFocusedNode) {\n        if (getTabIndex(state.mostRecentlyFocusedNode) > 0) {\n          // MRU container index must be >=0 otherwise we wouldn't have it as an MRU node...\n          var mruContainerIdx = findContainerIndex(state.mostRecentlyFocusedNode);\n          // there MAY not be any tabbable nodes in the container if there are at least 2 containers\n          //  and the MRU node is focusable but not tabbable (focus-trap requires at least 1 container\n          //  with at least one tabbable node in order to function, so this could be the other container\n          //  with nothing tabbable in it)\n          var tabbableNodes = state.containerGroups[mruContainerIdx].tabbableNodes;\n          if (tabbableNodes.length > 0) {\n            // MRU tab index MAY not be found if the MRU node is focusable but not tabbable\n            var mruTabIdx = tabbableNodes.findIndex(function (node) {\n              return node === state.mostRecentlyFocusedNode;\n            });\n            if (mruTabIdx >= 0) {\n              if (config.isKeyForward(state.recentNavEvent)) {\n                if (mruTabIdx + 1 < tabbableNodes.length) {\n                  nextNode = tabbableNodes[mruTabIdx + 1];\n                  navAcrossContainers = false;\n                }\n                // else, don't wrap within the container as focus should move to next/previous\n                //  container\n              } else {\n                if (mruTabIdx - 1 >= 0) {\n                  nextNode = tabbableNodes[mruTabIdx - 1];\n                  navAcrossContainers = false;\n                }\n                // else, don't wrap within the container as focus should move to next/previous\n                //  container\n              }\n              // else, don't find in container order without considering direction too\n            }\n          }\n          // else, no tabbable nodes in that container (which means we must have at least one other\n          //  container with at least one tabbable node in it, otherwise focus-trap would've thrown\n          //  an error the last time updateTabbableNodes() was run): find next node among all known\n          //  containers\n        } else {\n          // check to see if there's at least one tabbable node with a positive tab index inside\n          //  the trap because focus seems to escape when navigating backward from a tabbable node\n          //  with tabindex=0 when this is the case (instead of wrapping to the tabbable node with\n          //  the greatest positive tab index like it should)\n          if (!state.containerGroups.some(function (g) {\n            return g.tabbableNodes.some(function (n) {\n              return getTabIndex(n) > 0;\n            });\n          })) {\n            // no containers with tabbable nodes with positive tab indexes which means the focus\n            //  escaped for some other reason and we should just execute the fallback to the\n            //  MRU node or initial focus node, if any\n            navAcrossContainers = false;\n          }\n        }\n      } else {\n        // no MRU node means we're likely in some initial condition when the trap has just\n        //  been activated and initial focus hasn't been given yet, in which case we should\n        //  fall through to trying to focus the initial focus node, which is what should\n        //  happen below at this point in the logic\n        navAcrossContainers = false;\n      }\n      if (navAcrossContainers) {\n        nextNode = findNextNavNode({\n          // move FROM the MRU node, not event-related node (which will be the node that is\n          //  outside the trap causing the focus escape we're trying to fix)\n          target: state.mostRecentlyFocusedNode,\n          isBackward: config.isKeyBackward(state.recentNavEvent)\n        });\n      }\n      if (nextNode) {\n        tryFocus(nextNode);\n      } else {\n        tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n      }\n    }\n    state.recentNavEvent = undefined; // clear\n  };\n\n  // Hijack key nav events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n  var checkKeyNav = function checkKeyNav(event) {\n    var isBackward = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    state.recentNavEvent = event;\n    var destinationNode = findNextNavNode({\n      event: event,\n      isBackward: isBackward\n    });\n    if (destinationNode) {\n      if (isTabEvent(event)) {\n        // since tab natively moves focus, we wouldn't have a destination node unless we\n        //  were on the edge of a container and had to move to the next/previous edge, in\n        //  which case we want to prevent default to keep the browser from moving focus\n        //  to where it normally would\n        event.preventDefault();\n      }\n      tryFocus(destinationNode);\n    }\n    // else, let the browser take care of [shift+]tab and move the focus\n  };\n\n  var checkKey = function checkKey(event) {\n    if (isEscapeEvent(event) && valueOrHandler(config.escapeDeactivates, event) !== false) {\n      event.preventDefault();\n      trap.deactivate();\n      return;\n    }\n    if (config.isKeyForward(event) || config.isKeyBackward(event)) {\n      checkKeyNav(event, config.isKeyBackward(event));\n    }\n  };\n  var checkClick = function checkClick(e) {\n    var target = getActualTarget(e);\n    if (findContainerIndex(target, e) >= 0) {\n      return;\n    }\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      return;\n    }\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  };\n\n  //\n  // EVENT LISTENERS\n  //\n\n  var addListeners = function addListeners() {\n    if (!state.active) {\n      return;\n    }\n\n    // There can be only one listening focus trap at a time\n    activeFocusTraps.activateTrap(trapStack, trap);\n\n    // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n    state.delayInitialFocusTimer = config.delayInitialFocus ? delay(function () {\n      tryFocus(getInitialFocusNode());\n    }) : tryFocus(getInitialFocusNode());\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('keydown', checkKey, {\n      capture: true,\n      passive: false\n    });\n    return trap;\n  };\n  var removeListeners = function removeListeners() {\n    if (!state.active) {\n      return;\n    }\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n    return trap;\n  };\n\n  //\n  // MUTATION OBSERVER\n  //\n\n  var checkDomRemoval = function checkDomRemoval(mutations) {\n    var isFocusedNodeRemoved = mutations.some(function (mutation) {\n      var removedNodes = Array.from(mutation.removedNodes);\n      return removedNodes.some(function (node) {\n        return node === state.mostRecentlyFocusedNode;\n      });\n    });\n\n    // If the currently focused is removed then browsers will move focus to the\n    // <body> element. If this happens, try to move focus back into the trap.\n    if (isFocusedNodeRemoved) {\n      tryFocus(getInitialFocusNode());\n    }\n  };\n\n  // Use MutationObserver - if supported - to detect if focused node is removed\n  // from the DOM.\n  var mutationObserver = typeof window !== 'undefined' && 'MutationObserver' in window ? new MutationObserver(checkDomRemoval) : undefined;\n  var updateObservedNodes = function updateObservedNodes() {\n    if (!mutationObserver) {\n      return;\n    }\n    mutationObserver.disconnect();\n    if (state.active && !state.paused) {\n      state.containers.map(function (container) {\n        mutationObserver.observe(container, {\n          subtree: true,\n          childList: true\n        });\n      });\n    }\n  };\n\n  //\n  // TRAP DEFINITION\n  //\n\n  trap = {\n    get active() {\n      return state.active;\n    },\n    get paused() {\n      return state.paused;\n    },\n    activate: function activate(activateOptions) {\n      if (state.active) {\n        return this;\n      }\n      var onActivate = getOption(activateOptions, 'onActivate');\n      var onPostActivate = getOption(activateOptions, 'onPostActivate');\n      var checkCanFocusTrap = getOption(activateOptions, 'checkCanFocusTrap');\n      if (!checkCanFocusTrap) {\n        updateTabbableNodes();\n      }\n      state.active = true;\n      state.paused = false;\n      state.nodeFocusedBeforeActivation = doc.activeElement;\n      onActivate === null || onActivate === void 0 || onActivate();\n      var finishActivation = function finishActivation() {\n        if (checkCanFocusTrap) {\n          updateTabbableNodes();\n        }\n        addListeners();\n        updateObservedNodes();\n        onPostActivate === null || onPostActivate === void 0 || onPostActivate();\n      };\n      if (checkCanFocusTrap) {\n        checkCanFocusTrap(state.containers.concat()).then(finishActivation, finishActivation);\n        return this;\n      }\n      finishActivation();\n      return this;\n    },\n    deactivate: function deactivate(deactivateOptions) {\n      if (!state.active) {\n        return this;\n      }\n      var options = _objectSpread2({\n        onDeactivate: config.onDeactivate,\n        onPostDeactivate: config.onPostDeactivate,\n        checkCanReturnFocus: config.checkCanReturnFocus\n      }, deactivateOptions);\n      clearTimeout(state.delayInitialFocusTimer); // noop if undefined\n      state.delayInitialFocusTimer = undefined;\n      removeListeners();\n      state.active = false;\n      state.paused = false;\n      updateObservedNodes();\n      activeFocusTraps.deactivateTrap(trapStack, trap);\n      var onDeactivate = getOption(options, 'onDeactivate');\n      var onPostDeactivate = getOption(options, 'onPostDeactivate');\n      var checkCanReturnFocus = getOption(options, 'checkCanReturnFocus');\n      var returnFocus = getOption(options, 'returnFocus', 'returnFocusOnDeactivate');\n      onDeactivate === null || onDeactivate === void 0 || onDeactivate();\n      var finishDeactivation = function finishDeactivation() {\n        delay(function () {\n          if (returnFocus) {\n            tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n          }\n          onPostDeactivate === null || onPostDeactivate === void 0 || onPostDeactivate();\n        });\n      };\n      if (returnFocus && checkCanReturnFocus) {\n        checkCanReturnFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation)).then(finishDeactivation, finishDeactivation);\n        return this;\n      }\n      finishDeactivation();\n      return this;\n    },\n    pause: function pause(pauseOptions) {\n      if (state.paused || !state.active) {\n        return this;\n      }\n      var onPause = getOption(pauseOptions, 'onPause');\n      var onPostPause = getOption(pauseOptions, 'onPostPause');\n      state.paused = true;\n      onPause === null || onPause === void 0 || onPause();\n      removeListeners();\n      updateObservedNodes();\n      onPostPause === null || onPostPause === void 0 || onPostPause();\n      return this;\n    },\n    unpause: function unpause(unpauseOptions) {\n      if (!state.paused || !state.active) {\n        return this;\n      }\n      var onUnpause = getOption(unpauseOptions, 'onUnpause');\n      var onPostUnpause = getOption(unpauseOptions, 'onPostUnpause');\n      state.paused = false;\n      onUnpause === null || onUnpause === void 0 || onUnpause();\n      updateTabbableNodes();\n      addListeners();\n      updateObservedNodes();\n      onPostUnpause === null || onPostUnpause === void 0 || onPostUnpause();\n      return this;\n    },\n    updateContainerElements: function updateContainerElements(containerElements) {\n      var elementsAsArray = [].concat(containerElements).filter(Boolean);\n      state.containers = elementsAsArray.map(function (element) {\n        return typeof element === 'string' ? doc.querySelector(element) : element;\n      });\n      if (state.active) {\n        updateTabbableNodes();\n      }\n      updateObservedNodes();\n      return this;\n    }\n  };\n\n  // initialize container elements\n  trap.updateContainerElements(elements);\n  return trap;\n};\n\nexport { createFocusTrap };\n//# sourceMappingURL=focus-trap.esm.js.map\n","@import 'variables';\n@import 'mixins';\n\n$-min-width: 8rem;\n$-max-width: 16rem;\n$-min-height: 2rem;\n$-max-height: calc(100vh - 48px);\n\n:host {\n  display: contents;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n::slotted(nav) {\n  padding: 0.25rem;\n  min-width: $-min-width;\n  max-width: $-max-width;\n}\n\n.content {\n  position: fixed;\n  background: cat-token('color.ui.background.surface');\n  -webkit-overflow-scrolling: touch;\n  min-height: $-min-height;\n  max-height: $-max-height;\n  @include cat-elevation(4);\n  border-radius: cat-border-radius('m');\n  border: 1px solid cat-token('color.ui.border.default');\n  z-index: cat-z-index('dropdown');\n  // The 3 lines below set the initial styling (when not visible)\n  display: none;\n  opacity: 0;\n  transform: scale(0.9);\n  transition:\n    transform cat-token('time.transition.s') cubic-bezier(0.3, 0, 0.8, 0.15),\n    opacity cat-token('time.transition.s') cubic-bezier(0.3, 0, 0.8, 0.15);\n\n  // Sets the origin point so the scaling transition matches the placement\n  &[data-placement^='top'] {\n    transform-origin: bottom;\n  }\n\n  &[data-placement^='top-start'] {\n    transform-origin: bottom left;\n  }\n\n  &[data-placement^='top-end'] {\n    transform-origin: bottom right;\n  }\n\n  &[data-placement^='left'] {\n    transform-origin: right;\n  }\n\n  &[data-placement^='left-start'] {\n    transform-origin: right top;\n  }\n\n  &[data-placement^='left-end'] {\n    transform-origin: right bottom;\n  }\n\n  &[data-placement^='right'] {\n    transform-origin: left;\n  }\n\n  &[data-placement^='right-start'] {\n    transform-origin: left top;\n  }\n\n  &[data-placement^='right-end'] {\n    transform-origin: left bottom;\n  }\n\n  &[data-placement^='bottom'] {\n    transform-origin: top;\n  }\n\n  &[data-placement^='bottom-start'] {\n    transform-origin: top left;\n  }\n\n  &[data-placement^='bottom-end'] {\n    transform-origin: top right;\n  }\n\n  &.show {\n    opacity: 1;\n    transform: scale(1);\n    transition:\n      transform cat-token('time.transition.m') cubic-bezier(0.05, 0.7, 0.1, 1),\n      opacity cat-token('time.transition.m') cubic-bezier(0.05, 0.7, 0.1, 1);\n  }\n\n  &.overflow-auto {\n    overflow: auto;\n  }\n}\n","import { autoUpdate, computePosition, flip, offset, Placement, ReferenceElement, size } from '@floating-ui/dom';\nimport { timeTransitionS } from '@haiilo/catalyst-tokens';\nimport { Component, Event, EventEmitter, h, Host, Listen, Method, Prop } from '@stencil/core';\nimport * as focusTrap from 'focus-trap';\nimport type { FocusableElement } from 'tabbable';\nimport firstTabbable from '../../utils/first-tabbable';\n\nlet nextUniqueId = 0;\n\n/**\n * A dropdown component to display a list of actions in a dropdown menu or to\n * show additional content on demand.\n */\n@Component({\n  tag: 'cat-dropdown',\n  styleUrl: 'cat-dropdown.scss',\n  shadow: true\n})\nexport class CatDropdown {\n  private static readonly OFFSET = 4;\n  private readonly id = nextUniqueId++;\n  private triggerSlot!: HTMLSlotElement;\n  private trigger?: FocusableElement;\n  private anchorSlot!: HTMLSlotElement;\n  private anchor?: Element;\n  private content!: HTMLElement;\n  private trap?: focusTrap.FocusTrap;\n  private isOpen: boolean | null = false;\n\n  /**\n   * The placement of the dropdown.\n   */\n  @Prop() placement: Placement = 'bottom-start';\n\n  /**\n   * Do not close the dropdown on outside clicks.\n   */\n  @Prop() noAutoClose = false;\n\n  /**\n   * Do not navigate focus inside the dropdown via vertical arrow keys.\n   */\n  @Prop() arrowNavigation: 'horizontal' | 'vertical' | 'none' = 'vertical';\n\n  /**\n   * Do not change the size of the dropdown to ensure it isnt too big to fit\n   * in the viewport (or more specifically, its clipping context).\n   */\n  @Prop() noResize = false;\n\n  /**\n   * Allow overflow when dropdown is open.\n   */\n  @Prop() overflow = false;\n\n  /**\n   * No element in dropdown will receive focus when dropdown is open.\n   * By default, the first element in tab order will receive a focus.\n   */\n  @Prop() noInitialFocus = false;\n\n  /**\n   * Trigger element will not receive focus when dropdown is closed.\n   */\n  @Prop() noReturnFocus = false;\n\n  /**\n   * Emitted when the dropdown is opened.\n   */\n  @Event() catOpen!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the dropdown is closed.\n   */\n  @Event() catClose!: EventEmitter<FocusEvent>;\n\n  @Listen('catClick')\n  clickHandler(event: CustomEvent<MouseEvent>) {\n    // we need to delay the initialization of the trigger until first\n    // interaction because the element might still be hidden (and thus not\n    // tabbable) if contained in another Stencil web component\n    if (!this.trigger) {\n      this.initTrigger();\n      this.toggle();\n    }\n\n    // hide dropdown on button clicks inside the dropdown content\n    const path = event.composedPath();\n    if (\n      !this.noAutoClose &&\n      // check if click was inside of the dropdown content\n      path.includes(this.content) &&\n      // check if click was not on a trigger for a sub-dropdown\n      (event.target as Element)?.slot !== 'trigger' &&\n      // check if click was not an element marked with data-dropdown-no-close\n      !path.slice(0, path.indexOf(this.content)).find(el => this.hasAttribute(el, 'data-dropdown-no-close'))\n    ) {\n      this.close();\n    }\n  }\n\n  /**\n   * Toggles the dropdown.\n   */\n  @Method()\n  async toggle(): Promise<void> {\n    this.isOpen ? this.close() : this.open();\n  }\n\n  /**\n   * Opens the dropdown.\n   */\n  @Method()\n  async open(): Promise<void> {\n    // we need to delay the initialization of the trigger until first\n    // interaction because the element might still be hidden (and thus not\n    // tabbable) if contained in another Stencil web component\n    if (!this.trigger) {\n      this.initTrigger();\n    }\n\n    if (this.isOpen === null || this.isOpen) {\n      return; // busy or open\n    }\n\n    this.isOpen = null;\n    this.content.style.display = 'block';\n    // give CSS transition time to apply\n    setTimeout(() => {\n      this.isOpen = true;\n      this.content.classList.add('show');\n      this.trigger?.setAttribute('aria-expanded', 'true');\n      this.trap = this.trap\n        ? this.trap.updateContainerElements(this.content)\n        : focusTrap.createFocusTrap(this.content, {\n            tabbableOptions: {\n              getShadowRoot: true\n            },\n            allowOutsideClick: true,\n            clickOutsideDeactivates: event =>\n              !this.noAutoClose &&\n              // check if click was outside of the dropdown content\n              !event.composedPath().includes(this.content) &&\n              // check if click was not on an element marked with data-dropdown-no-close\n              !event.composedPath().find(el => this.hasAttribute(el, 'data-dropdown-no-close')),\n            onPostDeactivate: () => this.close(),\n            onPostActivate: () => this.catOpen.emit(),\n            setReturnFocus: elem => (this.noReturnFocus ? false : this.trigger || elem),\n            isKeyForward: event => {\n              if (\n                (this.arrowNavigation === 'horizontal' && event.key === 'ArrowRight') ||\n                (this.arrowNavigation === 'vertical' && event.key === 'ArrowDown')\n              ) {\n                event.preventDefault();\n                return true;\n              }\n              return event.key === 'Tab';\n            },\n            isKeyBackward: event => {\n              if (\n                (this.arrowNavigation === 'horizontal' && event.key === 'ArrowLeft') ||\n                (this.arrowNavigation === 'vertical' && event.key === 'ArrowUp')\n              ) {\n                event.preventDefault();\n                return true;\n              }\n              return event.key === 'Tab' && event.shiftKey;\n            },\n            initialFocus: () => (this.noInitialFocus ? false : undefined)\n          });\n      this.trap.activate();\n    });\n  }\n\n  /**\n   * Closes the dropdown.\n   */\n  @Method()\n  async close(): Promise<void> {\n    if (!this.isOpen) {\n      return; // busy or closed\n    }\n\n    this.isOpen = null;\n    this.content.classList.remove('show');\n    // give CSS transition time to apply\n    setTimeout(() => {\n      this.isOpen = false;\n      this.content.classList.remove('show');\n      this.content.style.display = '';\n      this.trigger?.setAttribute('aria-expanded', 'false');\n      this.trap?.deactivate();\n      this.catClose.emit();\n    }, timeTransitionS);\n  }\n\n  render() {\n    return (\n      <Host>\n        <slot name=\"anchor\" ref={el => (this.anchorSlot = el as HTMLSlotElement)}></slot>\n        <slot name=\"trigger\" ref={el => (this.triggerSlot = el as HTMLSlotElement)}></slot>\n        <div\n          id={this.contentId}\n          class={{ content: true, 'overflow-auto': !this.overflow }}\n          ref={el => (this.content = el as HTMLElement)}\n        >\n          <slot name=\"content\"></slot>\n        </div>\n      </Host>\n    );\n  }\n\n  componentDidLoad() {\n    this.initAnchor();\n  }\n\n  private get contentId() {\n    return `cat-dropdown-${this.id}`;\n  }\n\n  private initTrigger() {\n    this.trigger = this.findTrigger();\n    this.trigger.setAttribute('aria-haspopup', 'true');\n    this.trigger.setAttribute('aria-expanded', 'false');\n    this.trigger.setAttribute('aria-controls', this.contentId);\n    this.trigger.addEventListener('click', () => this.toggle());\n    if (!this.anchor) {\n      autoUpdate(this.trigger, this.content, () => this.update(this.trigger));\n    }\n  }\n\n  private initAnchor() {\n    this.anchor = (this.anchorSlot?.assignedElements?.() || [])[0];\n    if (this.anchor) {\n      autoUpdate(this.anchor, this.content, () => this.update(this.anchor));\n    }\n  }\n\n  private findTrigger() {\n    let trigger: FocusableElement | undefined;\n    const elems = this.triggerSlot?.assignedElements?.() || [];\n    while (!trigger && elems.length) {\n      const elem = elems.shift();\n      trigger = elem?.hasAttribute('data-trigger')\n        ? (elem as HTMLElement)\n        : elem?.querySelector('[data-trigger]') ?? undefined;\n    }\n    if (!trigger) {\n      trigger = firstTabbable(this.triggerSlot);\n    }\n    if (!trigger) {\n      throw new Error('Cannot find tabbable element. Use [data-trigger] to set the trigger.');\n    }\n    return trigger;\n  }\n\n  private update(anchorElement: ReferenceElement | undefined) {\n    if (anchorElement) {\n      const resize = this.noResize\n        ? []\n        : [\n            size({\n              padding: CatDropdown.OFFSET,\n              apply({ availableWidth, availableHeight, elements }) {\n                Object.assign(elements.floating.style, {\n                  maxWidth: `${availableWidth}px`,\n                  maxHeight: `${availableHeight}px`\n                });\n              }\n            })\n          ];\n      computePosition(anchorElement, this.content, {\n        strategy: 'fixed',\n        placement: this.placement,\n        middleware: [offset(CatDropdown.OFFSET), flip(), ...resize]\n      }).then(({ x, y, placement }) => {\n        this.content.dataset.placement = placement;\n        Object.assign(this.content.style, {\n          left: `${x}px`,\n          top: `${y}px`\n        });\n      });\n    }\n  }\n\n  private hasAttribute(elem: EventTarget, attr: string) {\n    return elem instanceof HTMLElement && elem.hasAttribute(attr);\n  }\n}\n",":host {\n  display: block;\n}\n","import { Component, Element, h, Host, Prop, Watch } from '@stencil/core';\n\ntype HTMLCatFormFieldElement =\n  | HTMLCatInputElement\n  | HTMLCatTextareaElement\n  | HTMLCatSelectElement\n  | HTMLCatDatepickerElement;\n\n/**\n * A form group component to group form fields and labels.\n */\n@Component({\n  tag: 'cat-form-group',\n  styleUrl: 'cat-form-group.scss',\n  shadow: true\n})\nexport class CatFormGroup {\n  private formElements: HTMLCatFormFieldElement[] = [];\n\n  @Element() hostElement!: HTMLElement;\n\n  /**\n   * Whether the labels need a marker to shown if the forms fields are required or optional.<br /><br />\n   * By default, it is set to auto, it will display the mark depending on the number of required and optional fields: <br />\n   * - If there are more required, the optional will be marked.<br />\n   * - If there are less required, it will mark the required.<br /><br />\n   * If a form field had \"!\", the requiredMarked of the field would not change.\n   */\n  @Prop() requiredMarker: 'none' | 'required' | 'optional' | 'auto' = 'auto';\n\n  /**\n   * Whether the label is on top or left.\n   */\n  @Prop() horizontal = false;\n\n  /**\n   * The space allocated to the input label\n   */\n  @Prop() labelSize?: string;\n\n  @Watch('requiredMarker')\n  onRequiredMarkerChanged(newRequiredMarker: 'none' | 'required' | 'optional' | 'auto') {\n    const updateMarker = newRequiredMarker === 'auto' ? this.calculate(this.formElements) : newRequiredMarker;\n    this.formElements.forEach(\n      element => !element.requiredMarker?.endsWith('!') && (element.requiredMarker = updateMarker)\n    );\n  }\n\n  @Watch('horizontal')\n  onHorizontalChanged(newHorizontal: boolean) {\n    this.formElements.forEach(element => {\n      element.horizontal = newHorizontal;\n    });\n  }\n\n  render() {\n    return (\n      <Host style={{ '--label-size': this.labelSize }}>\n        <slot onSlotchange={this.onSlotChange.bind(this)}></slot>\n      </Host>\n    );\n  }\n\n  private onSlotChange(): void {\n    this.formElements = Array.from(\n      this.hostElement.querySelectorAll('cat-input, cat-textarea, cat-select, cat-datepicker')\n    ) as HTMLCatFormFieldElement[];\n    this.onRequiredMarkerChanged(this.requiredMarker);\n    this.onHorizontalChanged(this.horizontal);\n  }\n\n  private calculate(elements: HTMLCatFormFieldElement[]): 'optional' | 'required' {\n    const optionalFields = elements.filter(value => !value.required).length;\n    const requiredFields = elements.length - optionalFields;\n    return requiredFields >= optionalFields ? 'optional' : 'required';\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n$icon-sizes: (\n  'xl': 1.75rem,\n  'l': 1.5rem,\n  'm': 1.25rem,\n  's': 1rem,\n  'xs': 0.75rem\n);\n\n:host {\n  /**\n   * @prop --cat-icon-ratio: The aspect ratio of the avatar.\n   */\n  display: inline-flex;\n  vertical-align: middle;\n  @include cat-select(none);\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nspan {\n  display: inline-flex;\n}\n\nsvg {\n  fill: currentColor;\n  stroke: none;\n  transform-origin: center center;\n  height: 1em;\n  width: calc(var(--cat-icon-ratio, 1) * 1em);\n}\n\n// ----- size\n\n@mixin size($size) {\n  .icon-#{$size} svg {\n    font-size: map.get($icon-sizes, $size);\n  }\n}\n\n@include size('xs');\n@include size('s');\n@include size('m');\n@include size('l');\n@include size('xl');\n","import { Component, h, Prop } from '@stencil/core';\nimport { catIconRegistry as icons } from './cat-icon-registry';\n\n/**\n * Icons are used to provide additional meaning or in places where text label\n * doesn't fit.\n *\n * @part icon - The span element wrapping the SVG icon.\n */\n@Component({\n  tag: 'cat-icon',\n  styleUrl: 'cat-icon.scss',\n  shadow: true\n})\nexport class CatIcon {\n  /**\n   * The name of the icon.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * The SVG source of the icon. This takes precenedence over the `icon` name.\n   */\n  @Prop() iconSrc?: string;\n\n  /**\n   * The size of the icon.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' | 'inline' = 'm';\n\n  /**\n   * Adds accessible label for the icon that is only shown for screen\n   * readers. The `aria-hidden` attribute will be set if no label is present.\n   */\n  @Prop({ attribute: 'a11y-label' }) a11yLabel?: string;\n\n  render() {\n    return (\n      <span\n        innerHTML={this.iconSrc || (this.icon ? icons.getIcon(this.icon) : '')}\n        aria-label={this.a11yLabel}\n        aria-hidden={this.a11yLabel ? null : 'true'}\n        part=\"icon\"\n        class={{\n          icon: true,\n          [`icon-${this.size}`]: this.size !== 'inline'\n        }}\n      ></span>\n    );\n  }\n}\n","var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nvar NumeralFormatter = function (numeralDecimalMark,\n                                 numeralIntegerScale,\n                                 numeralDecimalScale,\n                                 numeralThousandsGroupStyle,\n                                 numeralPositiveOnly,\n                                 stripLeadingZeroes,\n                                 prefix,\n                                 signBeforePrefix,\n                                 tailPrefix,\n                                 delimiter) {\n    var owner = this;\n\n    owner.numeralDecimalMark = numeralDecimalMark || '.';\n    owner.numeralIntegerScale = numeralIntegerScale > 0 ? numeralIntegerScale : 0;\n    owner.numeralDecimalScale = numeralDecimalScale >= 0 ? numeralDecimalScale : 2;\n    owner.numeralThousandsGroupStyle = numeralThousandsGroupStyle || NumeralFormatter.groupStyle.thousand;\n    owner.numeralPositiveOnly = !!numeralPositiveOnly;\n    owner.stripLeadingZeroes = stripLeadingZeroes !== false;\n    owner.prefix = (prefix || prefix === '') ? prefix : '';\n    owner.signBeforePrefix = !!signBeforePrefix;\n    owner.tailPrefix = !!tailPrefix;\n    owner.delimiter = (delimiter || delimiter === '') ? delimiter : ',';\n    owner.delimiterRE = delimiter ? new RegExp('\\\\' + delimiter, 'g') : '';\n};\n\nNumeralFormatter.groupStyle = {\n    thousand: 'thousand',\n    lakh:     'lakh',\n    wan:      'wan',\n    none:     'none'    \n};\n\nNumeralFormatter.prototype = {\n    getRawValue: function (value) {\n        return value.replace(this.delimiterRE, '').replace(this.numeralDecimalMark, '.');\n    },\n\n    format: function (value) {\n        var owner = this, parts, partSign, partSignAndPrefix, partInteger, partDecimal = '';\n\n        // strip alphabet letters\n        value = value.replace(/[A-Za-z]/g, '')\n            // replace the first decimal mark with reserved placeholder\n            .replace(owner.numeralDecimalMark, 'M')\n\n            // strip non numeric letters except minus and \"M\"\n            // this is to ensure prefix has been stripped\n            .replace(/[^\\dM-]/g, '')\n\n            // replace the leading minus with reserved placeholder\n            .replace(/^\\-/, 'N')\n\n            // strip the other minus sign (if present)\n            .replace(/\\-/g, '')\n\n            // replace the minus sign (if present)\n            .replace('N', owner.numeralPositiveOnly ? '' : '-')\n\n            // replace decimal mark\n            .replace('M', owner.numeralDecimalMark);\n\n        // strip any leading zeros\n        if (owner.stripLeadingZeroes) {\n            value = value.replace(/^(-)?0+(?=\\d)/, '$1');\n        }\n\n        partSign = value.slice(0, 1) === '-' ? '-' : '';\n        if (typeof owner.prefix != 'undefined') {\n            if (owner.signBeforePrefix) {\n                partSignAndPrefix = partSign + owner.prefix;\n            } else {\n                partSignAndPrefix = owner.prefix + partSign;\n            }\n        } else {\n            partSignAndPrefix = partSign;\n        }\n        \n        partInteger = value;\n\n        if (value.indexOf(owner.numeralDecimalMark) >= 0) {\n            parts = value.split(owner.numeralDecimalMark);\n            partInteger = parts[0];\n            partDecimal = owner.numeralDecimalMark + parts[1].slice(0, owner.numeralDecimalScale);\n        }\n\n        if(partSign === '-') {\n            partInteger = partInteger.slice(1);\n        }\n\n        if (owner.numeralIntegerScale > 0) {\n          partInteger = partInteger.slice(0, owner.numeralIntegerScale);\n        }\n\n        switch (owner.numeralThousandsGroupStyle) {\n        case NumeralFormatter.groupStyle.lakh:\n            partInteger = partInteger.replace(/(\\d)(?=(\\d\\d)+\\d$)/g, '$1' + owner.delimiter);\n\n            break;\n\n        case NumeralFormatter.groupStyle.wan:\n            partInteger = partInteger.replace(/(\\d)(?=(\\d{4})+$)/g, '$1' + owner.delimiter);\n\n            break;\n\n        case NumeralFormatter.groupStyle.thousand:\n            partInteger = partInteger.replace(/(\\d)(?=(\\d{3})+$)/g, '$1' + owner.delimiter);\n\n            break;\n        }\n\n        if (owner.tailPrefix) {\n            return partSign + partInteger.toString() + (owner.numeralDecimalScale > 0 ? partDecimal.toString() : '') + owner.prefix;\n        }\n\n        return partSignAndPrefix + partInteger.toString() + (owner.numeralDecimalScale > 0 ? partDecimal.toString() : '');\n    }\n};\n\nvar NumeralFormatter_1 = NumeralFormatter;\n\nvar DateFormatter = function (datePattern, dateMin, dateMax) {\n    var owner = this;\n\n    owner.date = [];\n    owner.blocks = [];\n    owner.datePattern = datePattern;\n    owner.dateMin = dateMin\n      .split('-')\n      .reverse()\n      .map(function(x) {\n        return parseInt(x, 10);\n      });\n    if (owner.dateMin.length === 2) owner.dateMin.unshift(0);\n\n    owner.dateMax = dateMax\n      .split('-')\n      .reverse()\n      .map(function(x) {\n        return parseInt(x, 10);\n      });\n    if (owner.dateMax.length === 2) owner.dateMax.unshift(0);\n    \n    owner.initBlocks();\n};\n\nDateFormatter.prototype = {\n    initBlocks: function () {\n        var owner = this;\n        owner.datePattern.forEach(function (value) {\n            if (value === 'Y') {\n                owner.blocks.push(4);\n            } else {\n                owner.blocks.push(2);\n            }\n        });\n    },\n\n    getISOFormatDate: function () {\n        var owner = this,\n            date = owner.date;\n\n        return date[2] ? (\n            date[2] + '-' + owner.addLeadingZero(date[1]) + '-' + owner.addLeadingZero(date[0])\n        ) : '';\n    },\n\n    getBlocks: function () {\n        return this.blocks;\n    },\n\n    getValidatedDate: function (value) {\n        var owner = this, result = '';\n\n        value = value.replace(/[^\\d]/g, '');\n\n        owner.blocks.forEach(function (length, index) {\n            if (value.length > 0) {\n                var sub = value.slice(0, length),\n                    sub0 = sub.slice(0, 1),\n                    rest = value.slice(length);\n\n                switch (owner.datePattern[index]) {\n                case 'd':\n                    if (sub === '00') {\n                        sub = '01';\n                    } else if (parseInt(sub0, 10) > 3) {\n                        sub = '0' + sub0;\n                    } else if (parseInt(sub, 10) > 31) {\n                        sub = '31';\n                    }\n\n                    break;\n\n                case 'm':\n                    if (sub === '00') {\n                        sub = '01';\n                    } else if (parseInt(sub0, 10) > 1) {\n                        sub = '0' + sub0;\n                    } else if (parseInt(sub, 10) > 12) {\n                        sub = '12';\n                    }\n\n                    break;\n                }\n\n                result += sub;\n\n                // update remaining string\n                value = rest;\n            }\n        });\n\n        return this.getFixedDateString(result);\n    },\n\n    getFixedDateString: function (value) {\n        var owner = this, datePattern = owner.datePattern, date = [],\n            dayIndex = 0, monthIndex = 0, yearIndex = 0,\n            dayStartIndex = 0, monthStartIndex = 0, yearStartIndex = 0,\n            day, month, year, fullYearDone = false;\n\n        // mm-dd || dd-mm\n        if (value.length === 4 && datePattern[0].toLowerCase() !== 'y' && datePattern[1].toLowerCase() !== 'y') {\n            dayStartIndex = datePattern[0] === 'd' ? 0 : 2;\n            monthStartIndex = 2 - dayStartIndex;\n            day = parseInt(value.slice(dayStartIndex, dayStartIndex + 2), 10);\n            month = parseInt(value.slice(monthStartIndex, monthStartIndex + 2), 10);\n\n            date = this.getFixedDate(day, month, 0);\n        }\n\n        // yyyy-mm-dd || yyyy-dd-mm || mm-dd-yyyy || dd-mm-yyyy || dd-yyyy-mm || mm-yyyy-dd\n        if (value.length === 8) {\n            datePattern.forEach(function (type, index) {\n                switch (type) {\n                case 'd':\n                    dayIndex = index;\n                    break;\n                case 'm':\n                    monthIndex = index;\n                    break;\n                default:\n                    yearIndex = index;\n                    break;\n                }\n            });\n\n            yearStartIndex = yearIndex * 2;\n            dayStartIndex = (dayIndex <= yearIndex) ? dayIndex * 2 : (dayIndex * 2 + 2);\n            monthStartIndex = (monthIndex <= yearIndex) ? monthIndex * 2 : (monthIndex * 2 + 2);\n\n            day = parseInt(value.slice(dayStartIndex, dayStartIndex + 2), 10);\n            month = parseInt(value.slice(monthStartIndex, monthStartIndex + 2), 10);\n            year = parseInt(value.slice(yearStartIndex, yearStartIndex + 4), 10);\n\n            fullYearDone = value.slice(yearStartIndex, yearStartIndex + 4).length === 4;\n\n            date = this.getFixedDate(day, month, year);\n        }\n\n        // mm-yy || yy-mm\n        if (value.length === 4 && (datePattern[0] === 'y' || datePattern[1] === 'y')) {\n            monthStartIndex = datePattern[0] === 'm' ? 0 : 2;\n            yearStartIndex = 2 - monthStartIndex;\n            month = parseInt(value.slice(monthStartIndex, monthStartIndex + 2), 10);\n            year = parseInt(value.slice(yearStartIndex, yearStartIndex + 2), 10);\n\n            fullYearDone = value.slice(yearStartIndex, yearStartIndex + 2).length === 2;\n\n            date = [0, month, year];\n        }\n\n        // mm-yyyy || yyyy-mm\n        if (value.length === 6 && (datePattern[0] === 'Y' || datePattern[1] === 'Y')) {\n            monthStartIndex = datePattern[0] === 'm' ? 0 : 4;\n            yearStartIndex = 2 - 0.5 * monthStartIndex;\n            month = parseInt(value.slice(monthStartIndex, monthStartIndex + 2), 10);\n            year = parseInt(value.slice(yearStartIndex, yearStartIndex + 4), 10);\n\n            fullYearDone = value.slice(yearStartIndex, yearStartIndex + 4).length === 4;\n\n            date = [0, month, year];\n        }\n\n        date = owner.getRangeFixedDate(date);\n        owner.date = date;\n\n        var result = date.length === 0 ? value : datePattern.reduce(function (previous, current) {\n            switch (current) {\n            case 'd':\n                return previous + (date[0] === 0 ? '' : owner.addLeadingZero(date[0]));\n            case 'm':\n                return previous + (date[1] === 0 ? '' : owner.addLeadingZero(date[1]));\n            case 'y':\n                return previous + (fullYearDone ? owner.addLeadingZeroForYear(date[2], false) : '');\n            case 'Y':\n                return previous + (fullYearDone ? owner.addLeadingZeroForYear(date[2], true) : '');\n            }\n        }, '');\n\n        return result;\n    },\n\n    getRangeFixedDate: function (date) {\n        var owner = this,\n            datePattern = owner.datePattern,\n            dateMin = owner.dateMin || [],\n            dateMax = owner.dateMax || [];\n\n        if (!date.length || (dateMin.length < 3 && dateMax.length < 3)) return date;\n\n        if (\n          datePattern.find(function(x) {\n            return x.toLowerCase() === 'y';\n          }) &&\n          date[2] === 0\n        ) return date;\n\n        if (dateMax.length && (dateMax[2] < date[2] || (\n          dateMax[2] === date[2] && (dateMax[1] < date[1] || (\n            dateMax[1] === date[1] && dateMax[0] < date[0]\n          ))\n        ))) return dateMax;\n\n        if (dateMin.length && (dateMin[2] > date[2] || (\n          dateMin[2] === date[2] && (dateMin[1] > date[1] || (\n            dateMin[1] === date[1] && dateMin[0] > date[0]\n          ))\n        ))) return dateMin;\n\n        return date;\n    },\n\n    getFixedDate: function (day, month, year) {\n        day = Math.min(day, 31);\n        month = Math.min(month, 12);\n        year = parseInt((year || 0), 10);\n\n        if ((month < 7 && month % 2 === 0) || (month > 8 && month % 2 === 1)) {\n            day = Math.min(day, month === 2 ? (this.isLeapYear(year) ? 29 : 28) : 30);\n        }\n\n        return [day, month, year];\n    },\n\n    isLeapYear: function (year) {\n        return ((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0);\n    },\n\n    addLeadingZero: function (number) {\n        return (number < 10 ? '0' : '') + number;\n    },\n\n    addLeadingZeroForYear: function (number, fullYearMode) {\n        if (fullYearMode) {\n            return (number < 10 ? '000' : (number < 100 ? '00' : (number < 1000 ? '0' : ''))) + number;\n        }\n\n        return (number < 10 ? '0' : '') + number;\n    }\n};\n\nvar DateFormatter_1 = DateFormatter;\n\nvar TimeFormatter = function (timePattern, timeFormat) {\n    var owner = this;\n\n    owner.time = [];\n    owner.blocks = [];\n    owner.timePattern = timePattern;\n    owner.timeFormat = timeFormat;\n    owner.initBlocks();\n};\n\nTimeFormatter.prototype = {\n    initBlocks: function () {\n        var owner = this;\n        owner.timePattern.forEach(function () {\n            owner.blocks.push(2);\n        });\n    },\n\n    getISOFormatTime: function () {\n        var owner = this,\n            time = owner.time;\n\n        return time[2] ? (\n            owner.addLeadingZero(time[0]) + ':' + owner.addLeadingZero(time[1]) + ':' + owner.addLeadingZero(time[2])\n        ) : '';\n    },\n\n    getBlocks: function () {\n        return this.blocks;\n    },\n\n    getTimeFormatOptions: function () {\n        var owner = this;\n        if (String(owner.timeFormat) === '12') {\n            return {\n                maxHourFirstDigit: 1,\n                maxHours: 12,\n                maxMinutesFirstDigit: 5,\n                maxMinutes: 60\n            };\n        }\n\n        return {\n            maxHourFirstDigit: 2,\n            maxHours: 23,\n            maxMinutesFirstDigit: 5,\n            maxMinutes: 60\n        };\n    },\n\n    getValidatedTime: function (value) {\n        var owner = this, result = '';\n\n        value = value.replace(/[^\\d]/g, '');\n\n        var timeFormatOptions = owner.getTimeFormatOptions();\n\n        owner.blocks.forEach(function (length, index) {\n            if (value.length > 0) {\n                var sub = value.slice(0, length),\n                    sub0 = sub.slice(0, 1),\n                    rest = value.slice(length);\n\n                switch (owner.timePattern[index]) {\n\n                case 'h':\n                    if (parseInt(sub0, 10) > timeFormatOptions.maxHourFirstDigit) {\n                        sub = '0' + sub0;\n                    } else if (parseInt(sub, 10) > timeFormatOptions.maxHours) {\n                        sub = timeFormatOptions.maxHours + '';\n                    }\n\n                    break;\n\n                case 'm':\n                case 's':\n                    if (parseInt(sub0, 10) > timeFormatOptions.maxMinutesFirstDigit) {\n                        sub = '0' + sub0;\n                    } else if (parseInt(sub, 10) > timeFormatOptions.maxMinutes) {\n                        sub = timeFormatOptions.maxMinutes + '';\n                    }\n                    break;\n                }\n\n                result += sub;\n\n                // update remaining string\n                value = rest;\n            }\n        });\n\n        return this.getFixedTimeString(result);\n    },\n\n    getFixedTimeString: function (value) {\n        var owner = this, timePattern = owner.timePattern, time = [],\n            secondIndex = 0, minuteIndex = 0, hourIndex = 0,\n            secondStartIndex = 0, minuteStartIndex = 0, hourStartIndex = 0,\n            second, minute, hour;\n\n        if (value.length === 6) {\n            timePattern.forEach(function (type, index) {\n                switch (type) {\n                case 's':\n                    secondIndex = index * 2;\n                    break;\n                case 'm':\n                    minuteIndex = index * 2;\n                    break;\n                case 'h':\n                    hourIndex = index * 2;\n                    break;\n                }\n            });\n\n            hourStartIndex = hourIndex;\n            minuteStartIndex = minuteIndex;\n            secondStartIndex = secondIndex;\n\n            second = parseInt(value.slice(secondStartIndex, secondStartIndex + 2), 10);\n            minute = parseInt(value.slice(minuteStartIndex, minuteStartIndex + 2), 10);\n            hour = parseInt(value.slice(hourStartIndex, hourStartIndex + 2), 10);\n\n            time = this.getFixedTime(hour, minute, second);\n        }\n\n        if (value.length === 4 && owner.timePattern.indexOf('s') < 0) {\n            timePattern.forEach(function (type, index) {\n                switch (type) {\n                case 'm':\n                    minuteIndex = index * 2;\n                    break;\n                case 'h':\n                    hourIndex = index * 2;\n                    break;\n                }\n            });\n\n            hourStartIndex = hourIndex;\n            minuteStartIndex = minuteIndex;\n\n            second = 0;\n            minute = parseInt(value.slice(minuteStartIndex, minuteStartIndex + 2), 10);\n            hour = parseInt(value.slice(hourStartIndex, hourStartIndex + 2), 10);\n\n            time = this.getFixedTime(hour, minute, second);\n        }\n\n        owner.time = time;\n\n        return time.length === 0 ? value : timePattern.reduce(function (previous, current) {\n            switch (current) {\n            case 's':\n                return previous + owner.addLeadingZero(time[2]);\n            case 'm':\n                return previous + owner.addLeadingZero(time[1]);\n            case 'h':\n                return previous + owner.addLeadingZero(time[0]);\n            }\n        }, '');\n    },\n\n    getFixedTime: function (hour, minute, second) {\n        second = Math.min(parseInt(second || 0, 10), 60);\n        minute = Math.min(minute, 60);\n        hour = Math.min(hour, 60);\n\n        return [hour, minute, second];\n    },\n\n    addLeadingZero: function (number) {\n        return (number < 10 ? '0' : '') + number;\n    }\n};\n\nvar TimeFormatter_1 = TimeFormatter;\n\nvar PhoneFormatter = function (formatter, delimiter) {\n    var owner = this;\n\n    owner.delimiter = (delimiter || delimiter === '') ? delimiter : ' ';\n    owner.delimiterRE = delimiter ? new RegExp('\\\\' + delimiter, 'g') : '';\n\n    owner.formatter = formatter;\n};\n\nPhoneFormatter.prototype = {\n    setFormatter: function (formatter) {\n        this.formatter = formatter;\n    },\n\n    format: function (phoneNumber) {\n        var owner = this;\n\n        owner.formatter.clear();\n\n        // only keep number and +\n        phoneNumber = phoneNumber.replace(/[^\\d+]/g, '');\n\n        // strip non-leading +\n        phoneNumber = phoneNumber.replace(/^\\+/, 'B').replace(/\\+/g, '').replace('B', '+');\n\n        // strip delimiter\n        phoneNumber = phoneNumber.replace(owner.delimiterRE, '');\n\n        var result = '', current, validated = false;\n\n        for (var i = 0, iMax = phoneNumber.length; i < iMax; i++) {\n            current = owner.formatter.inputDigit(phoneNumber.charAt(i));\n\n            // has ()- or space inside\n            if (/[\\s()-]/g.test(current)) {\n                result = current;\n\n                validated = true;\n            } else {\n                if (!validated) {\n                    result = current;\n                }\n                // else: over length input\n                // it turns to invalid number again\n            }\n        }\n\n        // strip ()\n        // e.g. US: 7161234567 returns (716) 123-4567\n        result = result.replace(/[()]/g, '');\n        // replace library delimiter with user customized delimiter\n        result = result.replace(/[\\s-]/g, owner.delimiter);\n\n        return result;\n    }\n};\n\nvar PhoneFormatter_1 = PhoneFormatter;\n\nvar CreditCardDetector = {\n    blocks: {\n        uatp:          [4, 5, 6],\n        amex:          [4, 6, 5],\n        diners:        [4, 6, 4],\n        discover:      [4, 4, 4, 4],\n        mastercard:    [4, 4, 4, 4],\n        dankort:       [4, 4, 4, 4],\n        instapayment:  [4, 4, 4, 4],\n        jcb15:         [4, 6, 5],\n        jcb:           [4, 4, 4, 4],\n        maestro:       [4, 4, 4, 4],\n        visa:          [4, 4, 4, 4],\n        mir:           [4, 4, 4, 4],\n        unionPay:      [4, 4, 4, 4],\n        general:       [4, 4, 4, 4]\n    },\n\n    re: {\n        // starts with 1; 15 digits, not starts with 1800 (jcb card)\n        uatp: /^(?!1800)1\\d{0,14}/,\n\n        // starts with 34/37; 15 digits\n        amex: /^3[47]\\d{0,13}/,\n\n        // starts with 6011/65/644-649; 16 digits\n        discover: /^(?:6011|65\\d{0,2}|64[4-9]\\d?)\\d{0,12}/,\n\n        // starts with 300-305/309 or 36/38/39; 14 digits\n        diners: /^3(?:0([0-5]|9)|[689]\\d?)\\d{0,11}/,\n\n        // starts with 51-55/22212720; 16 digits\n        mastercard: /^(5[1-5]\\d{0,2}|22[2-9]\\d{0,1}|2[3-7]\\d{0,2})\\d{0,12}/,\n\n        // starts with 5019/4175/4571; 16 digits\n        dankort: /^(5019|4175|4571)\\d{0,12}/,\n\n        // starts with 637-639; 16 digits\n        instapayment: /^63[7-9]\\d{0,13}/,\n\n        // starts with 2131/1800; 15 digits\n        jcb15: /^(?:2131|1800)\\d{0,11}/,\n\n        // starts with 2131/1800/35; 16 digits\n        jcb: /^(?:35\\d{0,2})\\d{0,12}/,\n\n        // starts with 50/56-58/6304/67; 16 digits\n        maestro: /^(?:5[0678]\\d{0,2}|6304|67\\d{0,2})\\d{0,12}/,\n\n        // starts with 22; 16 digits\n        mir: /^220[0-4]\\d{0,12}/,\n\n        // starts with 4; 16 digits\n        visa: /^4\\d{0,15}/,\n\n        // starts with 62/81; 16 digits\n        unionPay: /^(62|81)\\d{0,14}/\n    },\n\n    getStrictBlocks: function (block) {\n      var total = block.reduce(function (prev, current) {\n        return prev + current;\n      }, 0);\n\n      return block.concat(19 - total);\n    },\n\n    getInfo: function (value, strictMode) {\n        var blocks = CreditCardDetector.blocks,\n            re = CreditCardDetector.re;\n\n        // Some credit card can have up to 19 digits number.\n        // Set strictMode to true will remove the 16 max-length restrain,\n        // however, I never found any website validate card number like\n        // this, hence probably you don't want to enable this option.\n        strictMode = !!strictMode;\n\n        for (var key in re) {\n            if (re[key].test(value)) {\n                var matchedBlocks = blocks[key];\n                return {\n                    type: key,\n                    blocks: strictMode ? this.getStrictBlocks(matchedBlocks) : matchedBlocks\n                };\n            }\n        }\n\n        return {\n            type: 'unknown',\n            blocks: strictMode ? this.getStrictBlocks(blocks.general) : blocks.general\n        };\n    }\n};\n\nvar CreditCardDetector_1 = CreditCardDetector;\n\nvar Util = {\n    noop: function () {\n    },\n\n    strip: function (value, re) {\n        return value.replace(re, '');\n    },\n\n    getPostDelimiter: function (value, delimiter, delimiters) {\n        // single delimiter\n        if (delimiters.length === 0) {\n            return value.slice(-delimiter.length) === delimiter ? delimiter : '';\n        }\n\n        // multiple delimiters\n        var matchedDelimiter = '';\n        delimiters.forEach(function (current) {\n            if (value.slice(-current.length) === current) {\n                matchedDelimiter = current;\n            }\n        });\n\n        return matchedDelimiter;\n    },\n\n    getDelimiterREByDelimiter: function (delimiter) {\n        return new RegExp(delimiter.replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1'), 'g');\n    },\n\n    getNextCursorPosition: function (prevPos, oldValue, newValue, delimiter, delimiters) {\n      // If cursor was at the end of value, just place it back.\n      // Because new value could contain additional chars.\n      if (oldValue.length === prevPos) {\n          return newValue.length;\n      }\n\n      return prevPos + this.getPositionOffset(prevPos, oldValue, newValue, delimiter ,delimiters);\n    },\n\n    getPositionOffset: function (prevPos, oldValue, newValue, delimiter, delimiters) {\n        var oldRawValue, newRawValue, lengthOffset;\n\n        oldRawValue = this.stripDelimiters(oldValue.slice(0, prevPos), delimiter, delimiters);\n        newRawValue = this.stripDelimiters(newValue.slice(0, prevPos), delimiter, delimiters);\n        lengthOffset = oldRawValue.length - newRawValue.length;\n\n        return (lengthOffset !== 0) ? (lengthOffset / Math.abs(lengthOffset)) : 0;\n    },\n\n    stripDelimiters: function (value, delimiter, delimiters) {\n        var owner = this;\n\n        // single delimiter\n        if (delimiters.length === 0) {\n            var delimiterRE = delimiter ? owner.getDelimiterREByDelimiter(delimiter) : '';\n\n            return value.replace(delimiterRE, '');\n        }\n\n        // multiple delimiters\n        delimiters.forEach(function (current) {\n            current.split('').forEach(function (letter) {\n                value = value.replace(owner.getDelimiterREByDelimiter(letter), '');\n            });\n        });\n\n        return value;\n    },\n\n    headStr: function (str, length) {\n        return str.slice(0, length);\n    },\n\n    getMaxLength: function (blocks) {\n        return blocks.reduce(function (previous, current) {\n            return previous + current;\n        }, 0);\n    },\n\n    // strip prefix\n    // Before type  |   After type    |     Return value\n    // PEFIX-...    |   PEFIX-...     |     ''\n    // PREFIX-123   |   PEFIX-123     |     123\n    // PREFIX-123   |   PREFIX-23     |     23\n    // PREFIX-123   |   PREFIX-1234   |     1234\n    getPrefixStrippedValue: function (value, prefix, prefixLength, prevResult, delimiter, delimiters, noImmediatePrefix, tailPrefix, signBeforePrefix) {\n        // No prefix\n        if (prefixLength === 0) {\n          return value;\n        }\n\n        // Value is prefix\n        if (value === prefix && value !== '') {\n          return '';\n        }\n\n        if (signBeforePrefix && (value.slice(0, 1) == '-')) {\n            var prev = (prevResult.slice(0, 1) == '-') ? prevResult.slice(1) : prevResult;\n            return '-' + this.getPrefixStrippedValue(value.slice(1), prefix, prefixLength, prev, delimiter, delimiters, noImmediatePrefix, tailPrefix, signBeforePrefix);\n        }\n\n        // Pre result prefix string does not match pre-defined prefix\n        if (prevResult.slice(0, prefixLength) !== prefix && !tailPrefix) {\n            // Check if the first time user entered something\n            if (noImmediatePrefix && !prevResult && value) return value;\n            return '';\n        } else if (prevResult.slice(-prefixLength) !== prefix && tailPrefix) {\n            // Check if the first time user entered something\n            if (noImmediatePrefix && !prevResult && value) return value;\n            return '';\n        }\n\n        var prevValue = this.stripDelimiters(prevResult, delimiter, delimiters);\n\n        // New value has issue, someone typed in between prefix letters\n        // Revert to pre value\n        if (value.slice(0, prefixLength) !== prefix && !tailPrefix) {\n            return prevValue.slice(prefixLength);\n        } else if (value.slice(-prefixLength) !== prefix && tailPrefix) {\n            return prevValue.slice(0, -prefixLength - 1);\n        }\n\n        // No issue, strip prefix for new value\n        return tailPrefix ? value.slice(0, -prefixLength) : value.slice(prefixLength);\n    },\n\n    getFirstDiffIndex: function (prev, current) {\n        var index = 0;\n\n        while (prev.charAt(index) === current.charAt(index)) {\n            if (prev.charAt(index++) === '') {\n                return -1;\n            }\n        }\n\n        return index;\n    },\n\n    getFormattedValue: function (value, blocks, blocksLength, delimiter, delimiters, delimiterLazyShow) {\n        var result = '',\n            multipleDelimiters = delimiters.length > 0,\n            currentDelimiter = '';\n\n        // no options, normal input\n        if (blocksLength === 0) {\n            return value;\n        }\n\n        blocks.forEach(function (length, index) {\n            if (value.length > 0) {\n                var sub = value.slice(0, length),\n                    rest = value.slice(length);\n\n                if (multipleDelimiters) {\n                    currentDelimiter = delimiters[delimiterLazyShow ? (index - 1) : index] || currentDelimiter;\n                } else {\n                    currentDelimiter = delimiter;\n                }\n\n                if (delimiterLazyShow) {\n                    if (index > 0) {\n                        result += currentDelimiter;\n                    }\n\n                    result += sub;\n                } else {\n                    result += sub;\n\n                    if (sub.length === length && index < blocksLength - 1) {\n                        result += currentDelimiter;\n                    }\n                }\n\n                // update remaining string\n                value = rest;\n            }\n        });\n\n        return result;\n    },\n\n    // move cursor to the end\n    // the first time user focuses on an input with prefix\n    fixPrefixCursor: function (el, prefix, delimiter, delimiters) {\n        if (!el) {\n            return;\n        }\n\n        var val = el.value,\n            appendix = delimiter || (delimiters[0] || ' ');\n\n        if (!el.setSelectionRange || !prefix || (prefix.length + appendix.length) <= val.length) {\n            return;\n        }\n\n        var len = val.length * 2;\n\n        // set timeout to avoid blink\n        setTimeout(function () {\n            el.setSelectionRange(len, len);\n        }, 1);\n    },\n\n    // Check if input field is fully selected\n    checkFullSelection: function(value) {\n      try {\n        var selection = window.getSelection() || document.getSelection() || {};\n        return selection.toString().length === value.length;\n      } catch (ex) {\n        // Ignore\n      }\n\n      return false;\n    },\n\n    setSelection: function (element, position, doc) {\n        if (element !== this.getActiveElement(doc)) {\n            return;\n        }\n\n        // cursor is already in the end\n        if (element && element.value.length <= position) {\n          return;\n        }\n\n        if (element.createTextRange) {\n            var range = element.createTextRange();\n\n            range.move('character', position);\n            range.select();\n        } else {\n            try {\n                element.setSelectionRange(position, position);\n            } catch (e) {\n                // eslint-disable-next-line\n                console.warn('The input element type does not support selection');\n            }\n        }\n    },\n\n    getActiveElement: function(parent) {\n        var activeElement = parent.activeElement;\n        if (activeElement && activeElement.shadowRoot) {\n            return this.getActiveElement(activeElement.shadowRoot);\n        }\n        return activeElement;\n    },\n\n    isAndroid: function () {\n        return navigator && /android/i.test(navigator.userAgent);\n    },\n\n    // On Android chrome, the keyup and keydown events\n    // always return key code 229 as a composition that\n    // buffers the users keystrokes\n    // see https://github.com/nosir/cleave.js/issues/147\n    isAndroidBackspaceKeydown: function (lastInputValue, currentInputValue) {\n        if (!this.isAndroid() || !lastInputValue || !currentInputValue) {\n            return false;\n        }\n\n        return currentInputValue === lastInputValue.slice(0, -1);\n    }\n};\n\nvar Util_1 = Util;\n\n/**\n * Props Assignment\n *\n * Separate this, so react module can share the usage\n */\nvar DefaultProperties = {\n    // Maybe change to object-assign\n    // for now just keep it as simple\n    assign: function (target, opts) {\n        target = target || {};\n        opts = opts || {};\n\n        // credit card\n        target.creditCard = !!opts.creditCard;\n        target.creditCardStrictMode = !!opts.creditCardStrictMode;\n        target.creditCardType = '';\n        target.onCreditCardTypeChanged = opts.onCreditCardTypeChanged || (function () {});\n\n        // phone\n        target.phone = !!opts.phone;\n        target.phoneRegionCode = opts.phoneRegionCode || 'AU';\n        target.phoneFormatter = {};\n\n        // time\n        target.time = !!opts.time;\n        target.timePattern = opts.timePattern || ['h', 'm', 's'];\n        target.timeFormat = opts.timeFormat || '24';\n        target.timeFormatter = {};\n\n        // date\n        target.date = !!opts.date;\n        target.datePattern = opts.datePattern || ['d', 'm', 'Y'];\n        target.dateMin = opts.dateMin || '';\n        target.dateMax = opts.dateMax || '';\n        target.dateFormatter = {};\n\n        // numeral\n        target.numeral = !!opts.numeral;\n        target.numeralIntegerScale = opts.numeralIntegerScale > 0 ? opts.numeralIntegerScale : 0;\n        target.numeralDecimalScale = opts.numeralDecimalScale >= 0 ? opts.numeralDecimalScale : 2;\n        target.numeralDecimalMark = opts.numeralDecimalMark || '.';\n        target.numeralThousandsGroupStyle = opts.numeralThousandsGroupStyle || 'thousand';\n        target.numeralPositiveOnly = !!opts.numeralPositiveOnly;\n        target.stripLeadingZeroes = opts.stripLeadingZeroes !== false;\n        target.signBeforePrefix = !!opts.signBeforePrefix;\n        target.tailPrefix = !!opts.tailPrefix;\n\n        // others\n        target.swapHiddenInput = !!opts.swapHiddenInput;\n        \n        target.numericOnly = target.creditCard || target.date || !!opts.numericOnly;\n\n        target.uppercase = !!opts.uppercase;\n        target.lowercase = !!opts.lowercase;\n\n        target.prefix = (target.creditCard || target.date) ? '' : (opts.prefix || '');\n        target.noImmediatePrefix = !!opts.noImmediatePrefix;\n        target.prefixLength = target.prefix.length;\n        target.rawValueTrimPrefix = !!opts.rawValueTrimPrefix;\n        target.copyDelimiter = !!opts.copyDelimiter;\n\n        target.initValue = (opts.initValue !== undefined && opts.initValue !== null) ? opts.initValue.toString() : '';\n\n        target.delimiter =\n            (opts.delimiter || opts.delimiter === '') ? opts.delimiter :\n                (opts.date ? '/' :\n                    (opts.time ? ':' :\n                        (opts.numeral ? ',' :\n                            (opts.phone ? ' ' :\n                                ' '))));\n        target.delimiterLength = target.delimiter.length;\n        target.delimiterLazyShow = !!opts.delimiterLazyShow;\n        target.delimiters = opts.delimiters || [];\n\n        target.blocks = opts.blocks || [];\n        target.blocksLength = target.blocks.length;\n\n        target.root = (typeof commonjsGlobal === 'object' && commonjsGlobal) ? commonjsGlobal : window;\n        target.document = opts.document || target.root.document;\n\n        target.maxLength = 0;\n\n        target.backspace = false;\n        target.result = '';\n\n        target.onValueChanged = opts.onValueChanged || (function () {});\n\n        return target;\n    }\n};\n\nvar DefaultProperties_1 = DefaultProperties;\n\n/**\n * Construct a new Cleave instance by passing the configuration object\n *\n * @param {String | HTMLElement} element\n * @param {Object} opts\n */\nvar Cleave = function (element, opts) {\n    var owner = this;\n    var hasMultipleElements = false;\n\n    if (typeof element === 'string') {\n        owner.element = document.querySelector(element);\n        hasMultipleElements = document.querySelectorAll(element).length > 1;\n    } else {\n      if (typeof element.length !== 'undefined' && element.length > 0) {\n        owner.element = element[0];\n        hasMultipleElements = element.length > 1;\n      } else {\n        owner.element = element;\n      }\n    }\n\n    if (!owner.element) {\n        throw new Error('[cleave.js] Please check the element');\n    }\n\n    if (hasMultipleElements) {\n      try {\n        // eslint-disable-next-line\n        console.warn('[cleave.js] Multiple input fields matched, cleave.js will only take the first one.');\n      } catch (e) {\n        // Old IE\n      }\n    }\n\n    opts.initValue = owner.element.value;\n\n    owner.properties = Cleave.DefaultProperties.assign({}, opts);\n\n    owner.init();\n};\n\nCleave.prototype = {\n    init: function () {\n        var owner = this, pps = owner.properties;\n\n        // no need to use this lib\n        if (!pps.numeral && !pps.phone && !pps.creditCard && !pps.time && !pps.date && (pps.blocksLength === 0 && !pps.prefix)) {\n            owner.onInput(pps.initValue);\n\n            return;\n        }\n\n        pps.maxLength = Cleave.Util.getMaxLength(pps.blocks);\n\n        owner.isAndroid = Cleave.Util.isAndroid();\n        owner.lastInputValue = '';\n        owner.isBackward = '';\n\n        owner.onChangeListener = owner.onChange.bind(owner);\n        owner.onKeyDownListener = owner.onKeyDown.bind(owner);\n        owner.onFocusListener = owner.onFocus.bind(owner);\n        owner.onCutListener = owner.onCut.bind(owner);\n        owner.onCopyListener = owner.onCopy.bind(owner);\n\n        owner.initSwapHiddenInput();\n\n        owner.element.addEventListener('input', owner.onChangeListener);\n        owner.element.addEventListener('keydown', owner.onKeyDownListener);\n        owner.element.addEventListener('focus', owner.onFocusListener);\n        owner.element.addEventListener('cut', owner.onCutListener);\n        owner.element.addEventListener('copy', owner.onCopyListener);\n\n\n        owner.initPhoneFormatter();\n        owner.initDateFormatter();\n        owner.initTimeFormatter();\n        owner.initNumeralFormatter();\n\n        // avoid touch input field if value is null\n        // otherwise Firefox will add red box-shadow for <input required />\n        if (pps.initValue || (pps.prefix && !pps.noImmediatePrefix)) {\n            owner.onInput(pps.initValue);\n        }\n    },\n\n    initSwapHiddenInput: function () {\n        var owner = this, pps = owner.properties;\n        if (!pps.swapHiddenInput) return;\n\n        var inputFormatter = owner.element.cloneNode(true);\n        owner.element.parentNode.insertBefore(inputFormatter, owner.element);\n\n        owner.elementSwapHidden = owner.element;\n        owner.elementSwapHidden.type = 'hidden';\n\n        owner.element = inputFormatter;\n        owner.element.id = '';\n    },\n\n    initNumeralFormatter: function () {\n        var owner = this, pps = owner.properties;\n\n        if (!pps.numeral) {\n            return;\n        }\n\n        pps.numeralFormatter = new Cleave.NumeralFormatter(\n            pps.numeralDecimalMark,\n            pps.numeralIntegerScale,\n            pps.numeralDecimalScale,\n            pps.numeralThousandsGroupStyle,\n            pps.numeralPositiveOnly,\n            pps.stripLeadingZeroes,\n            pps.prefix,\n            pps.signBeforePrefix,\n            pps.tailPrefix,\n            pps.delimiter\n        );\n    },\n\n    initTimeFormatter: function() {\n        var owner = this, pps = owner.properties;\n\n        if (!pps.time) {\n            return;\n        }\n\n        pps.timeFormatter = new Cleave.TimeFormatter(pps.timePattern, pps.timeFormat);\n        pps.blocks = pps.timeFormatter.getBlocks();\n        pps.blocksLength = pps.blocks.length;\n        pps.maxLength = Cleave.Util.getMaxLength(pps.blocks);\n    },\n\n    initDateFormatter: function () {\n        var owner = this, pps = owner.properties;\n\n        if (!pps.date) {\n            return;\n        }\n\n        pps.dateFormatter = new Cleave.DateFormatter(pps.datePattern, pps.dateMin, pps.dateMax);\n        pps.blocks = pps.dateFormatter.getBlocks();\n        pps.blocksLength = pps.blocks.length;\n        pps.maxLength = Cleave.Util.getMaxLength(pps.blocks);\n    },\n\n    initPhoneFormatter: function () {\n        var owner = this, pps = owner.properties;\n\n        if (!pps.phone) {\n            return;\n        }\n\n        // Cleave.AsYouTypeFormatter should be provided by\n        // external google closure lib\n        try {\n            pps.phoneFormatter = new Cleave.PhoneFormatter(\n                new pps.root.Cleave.AsYouTypeFormatter(pps.phoneRegionCode),\n                pps.delimiter\n            );\n        } catch (ex) {\n            throw new Error('[cleave.js] Please include phone-type-formatter.{country}.js lib');\n        }\n    },\n\n    onKeyDown: function (event) {\n        var owner = this,\n            charCode = event.which || event.keyCode;\n\n        owner.lastInputValue = owner.element.value;\n        owner.isBackward = charCode === 8;\n    },\n\n    onChange: function (event) {\n        var owner = this, pps = owner.properties,\n            Util = Cleave.Util;\n\n        owner.isBackward = owner.isBackward || event.inputType === 'deleteContentBackward';\n\n        var postDelimiter = Util.getPostDelimiter(owner.lastInputValue, pps.delimiter, pps.delimiters);\n\n        if (owner.isBackward && postDelimiter) {\n            pps.postDelimiterBackspace = postDelimiter;\n        } else {\n            pps.postDelimiterBackspace = false;\n        }\n\n        this.onInput(this.element.value);\n    },\n\n    onFocus: function () {\n        var owner = this,\n            pps = owner.properties;\n        owner.lastInputValue = owner.element.value;\n\n        if (pps.prefix && pps.noImmediatePrefix && !owner.element.value) {\n            this.onInput(pps.prefix);\n        }\n\n        Cleave.Util.fixPrefixCursor(owner.element, pps.prefix, pps.delimiter, pps.delimiters);\n    },\n\n    onCut: function (e) {\n        if (!Cleave.Util.checkFullSelection(this.element.value)) return;\n        this.copyClipboardData(e);\n        this.onInput('');\n    },\n\n    onCopy: function (e) {\n        if (!Cleave.Util.checkFullSelection(this.element.value)) return;\n        this.copyClipboardData(e);\n    },\n\n    copyClipboardData: function (e) {\n        var owner = this,\n            pps = owner.properties,\n            Util = Cleave.Util,\n            inputValue = owner.element.value,\n            textToCopy = '';\n\n        if (!pps.copyDelimiter) {\n            textToCopy = Util.stripDelimiters(inputValue, pps.delimiter, pps.delimiters);\n        } else {\n            textToCopy = inputValue;\n        }\n\n        try {\n            if (e.clipboardData) {\n                e.clipboardData.setData('Text', textToCopy);\n            } else {\n                window.clipboardData.setData('Text', textToCopy);\n            }\n\n            e.preventDefault();\n        } catch (ex) {\n            //  empty\n        }\n    },\n\n    onInput: function (value) {\n        var owner = this, pps = owner.properties,\n            Util = Cleave.Util;\n\n        // case 1: delete one more character \"4\"\n        // 1234*| -> hit backspace -> 123|\n        // case 2: last character is not delimiter which is:\n        // 12|34* -> hit backspace -> 1|34*\n        // note: no need to apply this for numeral mode\n        var postDelimiterAfter = Util.getPostDelimiter(value, pps.delimiter, pps.delimiters);\n        if (!pps.numeral && pps.postDelimiterBackspace && !postDelimiterAfter) {\n            value = Util.headStr(value, value.length - pps.postDelimiterBackspace.length);\n        }\n\n        // phone formatter\n        if (pps.phone) {\n            if (pps.prefix && (!pps.noImmediatePrefix || value.length)) {\n                pps.result = pps.prefix + pps.phoneFormatter.format(value).slice(pps.prefix.length);\n            } else {\n                pps.result = pps.phoneFormatter.format(value);\n            }\n            owner.updateValueState();\n\n            return;\n        }\n\n        // numeral formatter\n        if (pps.numeral) {\n            // Do not show prefix when noImmediatePrefix is specified\n            // This mostly because we need to show user the native input placeholder\n            if (pps.prefix && pps.noImmediatePrefix && value.length === 0) {\n                pps.result = '';\n            } else {\n                pps.result = pps.numeralFormatter.format(value);\n            }\n            owner.updateValueState();\n\n            return;\n        }\n\n        // date\n        if (pps.date) {\n            value = pps.dateFormatter.getValidatedDate(value);\n        }\n\n        // time\n        if (pps.time) {\n            value = pps.timeFormatter.getValidatedTime(value);\n        }\n\n        // strip delimiters\n        value = Util.stripDelimiters(value, pps.delimiter, pps.delimiters);\n\n        // strip prefix\n        value = Util.getPrefixStrippedValue(value, pps.prefix, pps.prefixLength, pps.result, pps.delimiter, pps.delimiters, pps.noImmediatePrefix, pps.tailPrefix, pps.signBeforePrefix);\n\n        // strip non-numeric characters\n        value = pps.numericOnly ? Util.strip(value, /[^\\d]/g) : value;\n\n        // convert case\n        value = pps.uppercase ? value.toUpperCase() : value;\n        value = pps.lowercase ? value.toLowerCase() : value;\n\n        // prevent from showing prefix when no immediate option enabled with empty input value\n        if (pps.prefix) {\n            if (pps.tailPrefix) {\n                value = value + pps.prefix;\n            } else {\n                value = pps.prefix + value;\n            }\n\n\n            // no blocks specified, no need to do formatting\n            if (pps.blocksLength === 0) {\n                pps.result = value;\n                owner.updateValueState();\n\n                return;\n            }\n        }\n\n        // update credit card props\n        if (pps.creditCard) {\n            owner.updateCreditCardPropsByValue(value);\n        }\n\n        // strip over length characters\n        value = Util.headStr(value, pps.maxLength);\n\n        // apply blocks\n        pps.result = Util.getFormattedValue(\n            value,\n            pps.blocks, pps.blocksLength,\n            pps.delimiter, pps.delimiters, pps.delimiterLazyShow\n        );\n\n        owner.updateValueState();\n    },\n\n    updateCreditCardPropsByValue: function (value) {\n        var owner = this, pps = owner.properties,\n            Util = Cleave.Util,\n            creditCardInfo;\n\n        // At least one of the first 4 characters has changed\n        if (Util.headStr(pps.result, 4) === Util.headStr(value, 4)) {\n            return;\n        }\n\n        creditCardInfo = Cleave.CreditCardDetector.getInfo(value, pps.creditCardStrictMode);\n\n        pps.blocks = creditCardInfo.blocks;\n        pps.blocksLength = pps.blocks.length;\n        pps.maxLength = Util.getMaxLength(pps.blocks);\n\n        // credit card type changed\n        if (pps.creditCardType !== creditCardInfo.type) {\n            pps.creditCardType = creditCardInfo.type;\n\n            pps.onCreditCardTypeChanged.call(owner, pps.creditCardType);\n        }\n    },\n\n    updateValueState: function () {\n        var owner = this,\n            Util = Cleave.Util,\n            pps = owner.properties;\n\n        if (!owner.element) {\n            return;\n        }\n\n        var endPos = owner.element.selectionEnd;\n        var oldValue = owner.element.value;\n        var newValue = pps.result;\n\n        endPos = Util.getNextCursorPosition(endPos, oldValue, newValue, pps.delimiter, pps.delimiters);\n\n        // fix Android browser type=\"text\" input field\n        // cursor not jumping issue\n        if (owner.isAndroid) {\n            window.setTimeout(function () {\n                owner.element.value = newValue;\n                Util.setSelection(owner.element, endPos, pps.document, false);\n                owner.callOnValueChanged();\n            }, 1);\n\n            return;\n        }\n\n        owner.element.value = newValue;\n        if (pps.swapHiddenInput) owner.elementSwapHidden.value = owner.getRawValue();\n\n        Util.setSelection(owner.element, endPos, pps.document, false);\n        owner.callOnValueChanged();\n    },\n\n    callOnValueChanged: function () {\n        var owner = this,\n            pps = owner.properties;\n\n        pps.onValueChanged.call(owner, {\n            target: {\n                name: owner.element.name,\n                value: pps.result,\n                rawValue: owner.getRawValue()\n            }\n        });\n    },\n\n    setPhoneRegionCode: function (phoneRegionCode) {\n        var owner = this, pps = owner.properties;\n\n        pps.phoneRegionCode = phoneRegionCode;\n        owner.initPhoneFormatter();\n        owner.onChange();\n    },\n\n    setRawValue: function (value) {\n        var owner = this, pps = owner.properties;\n\n        value = value !== undefined && value !== null ? value.toString() : '';\n\n        if (pps.numeral) {\n            value = value.replace('.', pps.numeralDecimalMark);\n        }\n\n        pps.postDelimiterBackspace = false;\n\n        owner.element.value = value;\n        owner.onInput(value);\n    },\n\n    getRawValue: function () {\n        var owner = this,\n            pps = owner.properties,\n            Util = Cleave.Util,\n            rawValue = owner.element.value;\n\n        if (pps.rawValueTrimPrefix) {\n            rawValue = Util.getPrefixStrippedValue(rawValue, pps.prefix, pps.prefixLength, pps.result, pps.delimiter, pps.delimiters, pps.noImmediatePrefix, pps.tailPrefix, pps.signBeforePrefix);\n        }\n\n        if (pps.numeral) {\n            rawValue = pps.numeralFormatter.getRawValue(rawValue);\n        } else {\n            rawValue = Util.stripDelimiters(rawValue, pps.delimiter, pps.delimiters);\n        }\n\n        return rawValue;\n    },\n\n    getISOFormatDate: function () {\n        var owner = this,\n            pps = owner.properties;\n\n        return pps.date ? pps.dateFormatter.getISOFormatDate() : '';\n    },\n\n    getISOFormatTime: function () {\n        var owner = this,\n            pps = owner.properties;\n\n        return pps.time ? pps.timeFormatter.getISOFormatTime() : '';\n    },\n\n    getFormattedValue: function () {\n        return this.element.value;\n    },\n\n    destroy: function () {\n        var owner = this;\n\n        owner.element.removeEventListener('input', owner.onChangeListener);\n        owner.element.removeEventListener('keydown', owner.onKeyDownListener);\n        owner.element.removeEventListener('focus', owner.onFocusListener);\n        owner.element.removeEventListener('cut', owner.onCutListener);\n        owner.element.removeEventListener('copy', owner.onCopyListener);\n    },\n\n    toString: function () {\n        return '[Cleave Object]';\n    }\n};\n\nCleave.NumeralFormatter = NumeralFormatter_1;\nCleave.DateFormatter = DateFormatter_1;\nCleave.TimeFormatter = TimeFormatter_1;\nCleave.PhoneFormatter = PhoneFormatter_1;\nCleave.CreditCardDetector = CreditCardDetector_1;\nCleave.Util = Util_1;\nCleave.DefaultProperties = DefaultProperties_1;\n\n// for angular directive\n((typeof commonjsGlobal === 'object' && commonjsGlobal) ? commonjsGlobal : window)['Cleave'] = Cleave;\n\n// CommonJS\nvar Cleave_1 = Cleave;\n\nexport default Cleave_1;\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n\nexport function coerceBoolean(value: any): boolean {\n  return value != null && `${value}` !== 'false';\n}\n\nexport function coerceNumber(value: any): number;\nexport function coerceNumber<D>(value: any, fallback: D): number | D;\nexport function coerceNumber(value: any, fallbackValue = 0) {\n  return isNumberValue(value) ? Number(value) : fallbackValue;\n}\n\nfunction isNumberValue(value: any): boolean {\n  return !isNaN(parseFloat(value)) && !isNaN(Number(value));\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n@use 'utils/color';\n@use '_snippets/form-label';\n\n:host {\n  display: flex;\n  @include cat-body('m', null);\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.input-field,\n.input-container {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  flex: 1 1 auto;\n}\n\n.input-field.input-horizontal {\n  flex-direction: row;\n  gap: 1rem;\n}\n\n.input-wrapper {\n  flex: 1 1 auto;\n  display: flex;\n  align-items: stretch;\n  gap: 0.75rem;\n  padding: 0 0.75rem;\n  height: form-label.$cat-input-height;\n  overflow: hidden;\n  background: cat-token('color.ui.background.input');\n  border-radius: cat-border-radius('m');\n  box-shadow: inset 0 0 0 1px rgb(var(--border-color));\n  transition: box-shadow cat-token('time.transition.s') linear;\n  --border-color: #{cat-token('color.ui.border.dark', $wrap: false)};\n\n  &.input-round {\n    border-radius: 10rem;\n  }\n\n  &.input-readonly {\n    pointer-events: none;\n  }\n\n  &.input-disabled {\n    background: cat-token('color.ui.background.muted');\n    cursor: not-allowed;\n    color: cat-token('color.ui.font.muted');\n  }\n\n  &:not(.input-disabled):hover {\n    box-shadow:\n      inset 0 0 0 1px rgb(var(--border-color)),\n      0 0 0 1px rgb(var(--border-color));\n  }\n\n  &:focus-within {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: -1px;\n\n    &:has(.clearable:focus) {\n      outline: none;\n    }\n  }\n\n  &.input-invalid {\n    --border-color: #{cat-token('color.theme.danger.bg', 0.2, $wrap: false)};\n  }\n\n  /* stylelint-disable property-no-vendor-prefix */\n  &:has(input:-webkit-autofill) {\n    &,\n    &:hover,\n    &:focus {\n      background-color: cat-token('color.ui.background.inputAutofill');\n    }\n  }\n  /* stylelint-enable property-no-vendor-prefix */\n}\n\n.text-prefix,\n.text-suffix {\n  display: inline-flex;\n  align-items: center;\n  @include cat-select(none);\n  color: cat-token('color.ui.font.muted');\n}\n\n.text-prefix {\n  border-right: 1px solid cat-token('color.ui.border.dark');\n  padding-right: 0.75rem;\n}\n\n.text-suffix {\n  border-left: 1px solid cat-token('color.ui.border.dark');\n  padding-left: 0.75rem;\n}\n\n.icon-prefix,\n.icon-suffix {\n  align-self: center;\n}\n\n.input-outer-wrapper {\n  display: flex;\n}\n\n.input-inner-wrapper {\n  display: flex;\n  align-items: center;\n  position: relative;\n  flex: 1 1 auto;\n}\n\ninput {\n  font: inherit;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  min-width: 0;\n  border: none;\n  outline: none;\n  background: none;\n  @include cat-ellipsis;\n\n  .input-disabled & {\n    cursor: not-allowed;\n    color: cat-token('color.ui.font.muted');\n  }\n\n  &.has-clearable,\n  &.has-toggle-password {\n    padding-right: 1.5rem;\n  }\n\n  &.has-clearable.has-toggle-password {\n    padding-right: 3.5rem;\n  }\n\n  &::placeholder {\n    color: cat-token('color.ui.font.muted');\n  }\n\n  /* stylelint-disable property-no-vendor-prefix */\n  &:-webkit-autofill {\n    &,\n    &:hover,\n    &:focus {\n      -webkit-box-shadow: 0 0 0 9999px cat-token('color.ui.background.inputAutofill') inset;\n    }\n  }\n  /* stylelint-enable property-no-vendor-prefix */\n}\n\n.clearable {\n  position: absolute;\n  top: calc(50% - 1rem);\n  right: -0.5rem;\n}\n\n.toggle-password {\n  position: absolute;\n  top: calc(50% - 1rem);\n  right: -0.5rem;\n\n  .has-clearable ~ & {\n    right: 1.5rem;\n  }\n}\n\n// ----- date- & timepicker\n\n:host(.cat-date-input),\n:host(.cat-time-input) {\n  .input-wrapper {\n    z-index: 1;\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n}\n","import { Component, Element, Event, EventEmitter, h, Method, Prop, State, Watch } from '@stencil/core';\nimport Cleave from 'cleave.js';\nimport type { CleaveOptions } from 'cleave.js/options';\nimport { coerceBoolean, coerceNumber } from '../../utils/coerce';\nimport { CatFormHint, ErrorMap } from '../cat-form-hint/cat-form-hint';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\nimport { InputType } from './input-type';\n\nlet nextUniqueId = 0;\n\n/**\n * Inputs are used to allow users to provide text input when the expected input\n * is short. As well as plain text, Input supports various types of text,\n * including passwords and numbers.\n *\n * @slot hint - Optional hint element to be displayed with the input.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part label - The native label element.\n * @part input - The native input element.\n * @part prefix - The text prefix.\n * @part suffix - The text suffix.\n */\n@Component({\n  tag: 'cat-input',\n  styleUrl: 'cat-input.scss',\n  shadow: true\n})\nexport class CatInput {\n  private readonly _id = `cat-input-${nextUniqueId++}`;\n  private get id() {\n    return this.identifier || this._id;\n  }\n\n  private input!: HTMLInputElement;\n  private errorMapSrc?: ErrorMap;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  @State() hasSlottedHint = false;\n\n  @State() isPasswordShown = false;\n\n  @State() errorMap?: ErrorMap;\n\n  /**\n   * Whether the label need a marker to shown if the input is required or optional.\n   */\n  @Prop() requiredMarker?: 'none' | 'required' | 'optional' | 'none!' | 'optional!' | 'required!' = 'optional';\n\n  /**\n   * Whether the label is on top or left.\n   */\n  @Prop() horizontal = false;\n\n  /**\n   * Hint for form autofill feature.\n   */\n  @Prop() autoComplete?: string;\n\n  /**\n   * Whether the input should show a clear button.\n   */\n  @Prop() clearable = false;\n\n  /**\n   * Whether the input should show a password toggle button for password inputs.\n   */\n  @Prop() togglePassword = false;\n\n  /**\n   * Whether the input is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Optional hint text(s) to be displayed with the input.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * The name of an icon to be displayed in the input.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * Display the icon on the right.\n   */\n  @Prop() iconRight = false;\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label for the input.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A maximum value for numeric values.\n   */\n  @Prop() max?: number | string;\n\n  /**\n   * A maximum length (number of characters) for textual values.\n   */\n  @Prop() maxLength?: number;\n\n  /**\n   * A minimum value for numeric values.\n   */\n  @Prop() min?: number | string;\n\n  /**\n   * A minimum length (number of characters) for textual values.\n   */\n  @Prop() minLength?: number;\n\n  /**\n   * The name of the form control. Submitted with the form as part of a name/value pair.\n   */\n  @Prop() name?: string;\n\n  /**\n   * The placeholder text to display within the input.\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * A textual prefix to be displayed in the input.\n   */\n  @Prop() textPrefix?: string;\n\n  /**\n   * A textual suffix to be displayed in the input.\n   */\n  @Prop() textSuffix?: string;\n\n  /**\n   * The value is not editable.\n   */\n  @Prop() readonly = false;\n\n  /**\n   * A value is required or must be check for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * Use round input edges.\n   */\n  @Prop() round = false;\n\n  /**\n   * Type of form control.\n   */\n  @Prop() type: InputType = 'text';\n\n  /**\n   * The value of the control.\n   */\n  @Prop({ mutable: true }) value?: string;\n\n  /**\n   * The validation errors for this input. Will render a hint under the input\n   * with the translated error message(s) `error.${key}`. If an object is\n   * passed, the keys will be used as error keys and the values translation\n   * parameters.\n   * If the value is `true`, the input will be marked as invalid without any\n   * hints under the input.\n   */\n  @Prop() errors?: boolean | string[] | ErrorMap;\n\n  /**\n   * Fine-grained control over when the errors are shown. Can be `false` to\n   * never show errors, `true` to show errors on blur, or a number to show\n   * errors on change with the given delay in milliseconds.\n   */\n  @Prop() errorUpdate: boolean | number = 0;\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter<string>;\n\n  /**\n   * Emitted when the input received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the input loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillRender(): void {\n    this.onErrorsChanged(this.errors);\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n  }\n\n  /**\n   * Programmatically move focus to the input. Use this method instead of\n   * `input.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    // hack to make datepicker inputs focusable. The datepicker hides the input\n    // element and dynamically creates a sibling. We need to find the new input\n    // element and focus it instead.\n    const input = this.input.type === 'hidden' ? this.findSiblingInput(this.input.nextSibling) : this.input;\n    input?.focus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the input. Use this method instead of\n   * `input.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.input.blur();\n  }\n\n  /**\n   * Clear the input.\n   */\n  @Method()\n  async clear(): Promise<void> {\n    this.value = '';\n    this.catChange.emit(this.value);\n  }\n\n  /**\n   * Adds a Cleave.js mask to the input.\n   *\n   * @param options The Cleave.js options.\n   */\n  @Method()\n  async mask(options: CleaveOptions): Promise<void> {\n    new Cleave(this.input, options);\n  }\n\n  @Watch('errors')\n  onErrorsChanged(value?: boolean | string[] | ErrorMap) {\n    if (!coerceBoolean(this.errorUpdate)) {\n      this.errorMap = undefined;\n    } else {\n      this.errorMapSrc = Array.isArray(value)\n        ? (value as string[]).reduce((acc, err) => ({ ...acc, [err]: undefined }), {})\n        : value === true\n          ? {}\n          : value || undefined;\n      this.showErrorsIfTimeout() || this.showErrorsIfNoFocus();\n    }\n  }\n\n  render() {\n    return (\n      <div\n        class={{\n          'input-field': true,\n          'input-horizontal': this.horizontal\n        }}\n      >\n        <div class={{ 'label-container': true, hidden: this.labelHidden }}>\n          {(this.hasSlottedLabel || this.label) && (\n            <label htmlFor={this.id} part=\"label\">\n              <span class=\"label-wrapper\">\n                {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n                <div class=\"label-metadata\">\n                  {!this.required && (this.requiredMarker ?? 'optional').startsWith('optional') && (\n                    <span class=\"label-optional\" aria-hidden=\"true\">\n                      ({i18n.t('input.optional')})\n                    </span>\n                  )}\n                  {this.required && this.requiredMarker?.startsWith('required') && (\n                    <span class=\"label-optional\" aria-hidden=\"true\">\n                      ({i18n.t('input.required')})\n                    </span>\n                  )}\n                  {this.maxLength && (\n                    <div class=\"label-character-count\" aria-hidden=\"true\">\n                      {this.value?.toString().length ?? 0}/{this.maxLength}\n                    </div>\n                  )}\n                </div>\n              </span>\n            </label>\n          )}\n        </div>\n        <div class=\"input-container\">\n          <div class=\"input-outer-wrapper\">\n            <div\n              class={{\n                'input-wrapper': true,\n                'input-round': this.round,\n                'input-readonly': this.readonly,\n                'input-disabled': this.disabled,\n                'input-invalid': this.invalid\n              }}\n              onClick={() => this.input.focus()}\n            >\n              {this.textPrefix && (\n                <span class=\"text-prefix\" part=\"prefix\">\n                  {this.textPrefix}\n                </span>\n              )}\n              {this.icon && !this.iconRight && (\n                <cat-icon icon={this.icon} class=\"icon-prefix\" size=\"l\" onClick={() => this.doFocus()}></cat-icon>\n              )}\n              <div class=\"input-inner-wrapper\">\n                <input\n                  {...this.nativeAttributes}\n                  part=\"input\"\n                  ref={el => (this.input = el as HTMLInputElement)}\n                  id={this.id}\n                  class={{\n                    'has-clearable': this.clearable && !this.disabled && !this.readonly && !!this.value,\n                    'has-toggle-password': this.togglePassword && !this.disabled && !this.readonly && !!this.value\n                  }}\n                  autocomplete={this.autoComplete}\n                  disabled={this.disabled}\n                  max={this.max}\n                  maxlength={this.maxLength}\n                  min={this.min}\n                  minlength={this.minLength}\n                  name={this.name}\n                  placeholder={this.placeholder}\n                  readonly={this.readonly}\n                  required={this.required}\n                  type={this.isPasswordShown ? 'text' : this.type}\n                  value={this.value}\n                  onInput={this.onInput.bind(this)}\n                  onFocus={this.onFocus.bind(this)}\n                  onBlur={this.onBlur.bind(this)}\n                  aria-invalid={this.invalid ? 'true' : undefined}\n                  aria-describedby={this.hasHint ? this.id + '-hint' : undefined}\n                ></input>\n                {this.clearable && !this.disabled && !this.readonly && this.value && (\n                  <cat-button\n                    class=\"clearable\"\n                    icon=\"$cat:input-close\"\n                    icon-only=\"true\"\n                    size=\"s\"\n                    variant=\"text\"\n                    a11y-label={i18n.t('input.clear')}\n                    onClick={this.clear.bind(this)}\n                    data-dropdown-no-close\n                  ></cat-button>\n                )}\n                {this.togglePassword && !this.disabled && !this.readonly && this.value && (\n                  <cat-button\n                    class=\"toggle-password\"\n                    icon={this.isPasswordShown ? '$cat:input-password-hide' : '$cat:input-password-show'}\n                    icon-only=\"true\"\n                    size=\"s\"\n                    variant=\"text\"\n                    a11y-label={i18n.t(this.isPasswordShown ? 'input.hidePassword' : 'input.showPassword')}\n                    onClick={this.doTogglePassword.bind(this)}\n                  ></cat-button>\n                )}\n              </div>\n              {!this.invalid && this.icon && this.iconRight && (\n                <cat-icon icon={this.icon} class=\"icon-suffix\" size=\"l\" onClick={() => this.doFocus()}></cat-icon>\n              )}\n              {this.invalid && (\n                <cat-icon icon=\"$cat:input-error\" class=\"icon-suffix cat-text-danger\" size=\"l\"></cat-icon>\n              )}\n              {this.textSuffix && (\n                <span class=\"text-suffix\" part=\"suffix\">\n                  {this.textSuffix}\n                </span>\n              )}\n            </div>\n            <slot name=\"addon\"></slot>\n          </div>\n          {this.hasHint && (\n            <CatFormHint\n              id={this.id}\n              hint={this.hint}\n              slottedHint={this.hasSlottedHint && <slot name=\"hint\"></slot>}\n              errorMap={this.errorMap}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  private get hasHint() {\n    return !!this.hint || !!this.hasSlottedHint || this.invalid;\n  }\n\n  private get invalid() {\n    return !!Object.keys(this.errorMap || {}).length;\n  }\n\n  private onInput() {\n    this.value = this.input.value;\n    this.catChange.emit(this.value);\n    this.showErrorsIfTimeout();\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n    if (coerceBoolean(this.errorUpdate)) {\n      this.showErrors();\n    }\n  }\n\n  private doTogglePassword() {\n    this.isPasswordShown = !this.isPasswordShown;\n  }\n\n  private showErrors() {\n    this.errorMap = this.errorMapSrc;\n  }\n\n  private errorUpdateTimeoutId?: number;\n  private showErrorsIfTimeout() {\n    const errorUpdate = coerceNumber(this.errorUpdate, null);\n    if (errorUpdate !== null) {\n      typeof this.errorUpdateTimeoutId === 'number' && window.clearTimeout(this.errorUpdateTimeoutId);\n      this.errorUpdateTimeoutId = window.setTimeout(() => this.showErrors(), errorUpdate);\n      return true;\n    }\n    return false;\n  }\n\n  private showErrorsIfNoFocus() {\n    const hasFocus = document.activeElement === this.hostElement || document.activeElement === this.input;\n    if (!hasFocus) {\n      this.showErrors();\n    }\n  }\n\n  private findSiblingInput(node: Node | null): HTMLInputElement | undefined {\n    if (node instanceof HTMLInputElement) {\n      return node;\n    } else if (node?.nextSibling) {\n      return this.findSiblingInput(node.nextSibling);\n    }\n    return undefined;\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n$button-sizes: (\n  'xl': 3.5rem,\n  'l': 3rem,\n  'm': 2.5rem,\n  's': 2rem,\n  'xs': 1.5rem\n);\n\n:host {\n  display: inline-block;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nol {\n  display: flex;\n  flex-wrap: wrap;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\nli {\n  display: inline-flex;\n  justify-content: center;\n\n  &.dots {\n    @include cat-select(none);\n  }\n}\n\n// ----- variant\n\n:host([variant='outlined']) {\n  ol {\n    gap: 0.75rem;\n  }\n}\n\n// ----- size\n\n@mixin size($size, $fontSize) {\n  .cat-pagination-#{$size} {\n    li.dots,\n    li.text {\n      height: map.get($button-sizes, $size);\n      line-height: map.get($button-sizes, $size);\n      font-size: cat-body-font-size($fontSize);\n    }\n\n    li.dots {\n      width: map.get($button-sizes, $size);\n    }\n  }\n\n  :host([variant='outlined']) {\n    .cat-pagination-#{$size} {\n      gap: map.get($button-sizes, $size) * 0.25;\n    }\n  }\n}\n\n@include size('xs', 's');\n@include size('s', 'm');\n@include size('m', 'm');\n@include size('l', 'm');\n@include size('xl', 'l');\n","import { Component, Event, EventEmitter, h, Prop } from '@stencil/core';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\n/**\n * A navigation component to switch between different pages of paged chunks of\n * data such as a table. Pagination is built with list HTML elements and a\n * wrapping `<nav>` element to identify it as a navigation section to screen\n * readers and other assistive technologies. Furthermore, the current page is\n * correctly highlighted using `aria-current`.\n */\n@Component({\n  tag: 'cat-pagination',\n  styleUrl: 'cat-pagination.scss',\n  shadow: true\n})\nexport class CatPagination {\n  /**\n   * The current page.\n   */\n  @Prop({ mutable: true }) page = 0;\n\n  /**\n   * The total number of pages.\n   */\n  @Prop() pageCount = 1;\n\n  /**\n   * The number of pages to be shown around the current page.\n   */\n  @Prop() activePadding = 1;\n\n  /**\n   * The number of pages to be shown at the edges.\n   */\n  @Prop() sidePadding = 1;\n\n  /**\n   * The size of the buttons.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' = 'm';\n\n  /**\n   * The rendering style of the buttons.\n   */\n  @Prop() variant: 'filled' | 'outlined' | 'text' = 'text';\n\n  /**\n   * Use round button edges.\n   */\n  @Prop() round = false;\n\n  /**\n   * Use compact pagination mode.\n   */\n  @Prop() compact = false;\n\n  /**\n   * The icon of the \"previous\" button.\n   */\n  @Prop() iconPrev = '$cat:pagination-left';\n\n  /**\n   * The icon of the \"next\" button.\n   */\n  @Prop() iconNext = '$cat:pagination-right';\n\n  /**\n   * Emitted when the page of the pagination has changed.\n   */\n  @Event() catChange!: EventEmitter<number>;\n\n  render() {\n    return (\n      <nav role=\"navigation\">\n        <ol\n          class={{\n            [`cat-pagination-${this.size}`]: Boolean(this.size)\n          }}\n        >\n          <li>\n            <cat-button\n              variant={this.variant}\n              size={this.size}\n              round={this.round}\n              disabled={this.isFirst}\n              a11yLabel={i18n.t('pagination.prev')}\n              icon={this.iconPrev}\n              iconOnly\n              onClick={() => this.setPage(this.page - 1)}\n            ></cat-button>\n          </li>\n          {this.content}\n          <li>\n            <cat-button\n              variant={this.variant}\n              size={this.size}\n              round={this.round}\n              disabled={this.isLast}\n              a11yLabel={i18n.t('pagination.next')}\n              icon={this.iconNext}\n              iconOnly\n              onClick={() => this.setPage(this.page + 1)}\n            ></cat-button>\n          </li>\n        </ol>\n      </nav>\n    );\n  }\n\n  get isFirst() {\n    return this.page === 0;\n  }\n\n  get isLast() {\n    return this.page === this.pageCount - 1;\n  }\n\n  private setPage(value: number) {\n    this.page = value;\n    this.catChange.emit(this.page);\n  }\n\n  get pages() {\n    if (!this.sidePadding && !this.activePadding) {\n      return [this.page];\n    }\n\n    const result = new Set<number>();\n    const minPage = this.page <= this.sidePadding + this.activePadding + 1;\n    const minActivepage = minPage ? this.sidePadding + 2 * this.activePadding + 2 : this.sidePadding;\n    const maxPage = this.page >= this.pageCount - this.sidePadding - this.activePadding - 2;\n    const maxActivepage = maxPage\n      ? this.pageCount - this.sidePadding - 2 * this.activePadding - 2\n      : this.pageCount - this.sidePadding;\n\n    this.addSeq(result, 0, minActivepage);\n    if (!minPage && !maxPage) {\n      this.addSeq(result, this.page - this.activePadding, this.page + this.activePadding + 1);\n    }\n    this.addSeq(result, maxActivepage, this.pageCount);\n\n    return [...result];\n  }\n\n  private addSeq(set: Set<number>, start: number, end: number) {\n    const _start = this.clamp(start, 0, this.pageCount);\n    const _end = this.clamp(end, 0, this.pageCount);\n    Array(_end - _start)\n      .fill(0)\n      .forEach((_, i) => set.add(_start + i));\n  }\n\n  private clamp(num: number, min: number, max: number) {\n    return Math.min(Math.max(num, min), max);\n  }\n\n  private get content() {\n    if (this.compact) {\n      return (\n        <li class=\"text\">\n          {this.page + 1}/{this.pageCount}\n        </li>\n      );\n    }\n\n    return this.pages.map((page, i) => [\n      i > 0 && this.pages[i - 1] !== page - 1 ? <li class=\"dots\"></li> : null,\n      <li>\n        <cat-button\n          variant={this.variant}\n          size={this.size}\n          round={this.round}\n          color={this.page === page ? 'primary' : undefined}\n          active={this.page === page}\n          a11yLabel={i18n.t('pagination.page', { page: page + 1 })}\n          a11yCurrent={this.page === page ? 'step' : undefined}\n          onClick={() => this.setPage(page)}\n        >\n          {page + 1}\n        </cat-button>\n      </li>\n    ]);\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n\n$radio-width: 1.25rem;\n$radio-height: 1.25rem;\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nlabel {\n  display: flex;\n  gap: 0.5rem;\n  @include cat-body('m');\n  cursor: pointer;\n}\n\n.label-left {\n  flex-direction: row-reverse;\n}\n\n.radio {\n  display: flex;\n  position: relative;\n  align-self: flex-start;\n}\n\n.circle-placeholder {\n  width: calc($radio-width + 1px);\n  flex-shrink: 0;\n}\n\n.circle {\n  position: absolute;\n  width: 0.75rem;\n  height: 0.75rem;\n  background-color: cat-token('color.theme.primary.bg');\n  border-radius: 10rem;\n  top: calc(50% - 0.375rem);\n  left: calc(50% - 0.375rem);\n  visibility: hidden;\n  pointer-events: none;\n}\n\ninput {\n  margin: 0;\n  width: $radio-width;\n  height: $radio-height;\n  appearance: none;\n  background-color: cat-token('color.ui.background.input');\n  border: 1px solid cat-token('color.ui.border.dark');\n  border-radius: 10rem;\n  cursor: inherit;\n\n  &:checked {\n    border-color: cat-token('color.theme.primary.bg');\n\n    + .circle {\n      visibility: visible;\n    }\n  }\n\n  &:focus-visible {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: 1px;\n  }\n}\n\n:host(.cat-error) {\n  input {\n    border-color: cat-token('color.theme.danger.bg');\n  }\n\n  .circle {\n    background-color: cat-token('color.theme.danger.bg');\n  }\n}\n\n.label {\n  flex: 1 1 auto;\n\n  .is-hidden & {\n    @include cat-visually-hidden;\n  }\n}\n\n.is-disabled {\n  cursor: not-allowed;\n  color: cat-token('color.ui.font.muted');\n\n  input {\n    background-color: cat-token('color.ui.background.muted');\n\n    &:checked {\n      border-color: cat-token('color.ui.border.dark');\n    }\n  }\n\n  .circle {\n    background-color: cat-token('color.ui.border.dark');\n  }\n}\n\n.align-center .radio {\n  align-self: center;\n}\n\n.align-end .radio {\n  align-self: flex-end;\n}\n","import { Component, Element, Event, EventEmitter, h, Host, Method, Prop, State } from '@stencil/core';\nimport { CatFormHint } from '../cat-form-hint/cat-form-hint';\n\nlet nextUniqueId = 0;\n\n/**\n * Radio Buttons are graphical interface elements that allow user to choose\n * only one of a predefined set of mutually exclusive options.\n *\n * @slot hint - Optional hint element to be displayed with the radio.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part label - The label content.\n * @part input - The native input element.\n */\n@Component({\n  tag: 'cat-radio',\n  styleUrl: 'cat-radio.scss',\n  shadow: true\n})\nexport class CatRadio {\n  private readonly _id = `cat-radio-${++nextUniqueId}`;\n  private get id() {\n    return this.identifier || this._id;\n  }\n\n  private input!: HTMLInputElement;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  @State() hasSlottedHint = false;\n\n  /**\n   * Whether this radio is checked.\n   */\n  @Prop({ mutable: true }) checked = false;\n\n  /**\n   * Whether this radio is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label of the radio that is visible.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * The name of the radio component.\n   */\n  @Prop() name?: string;\n\n  /**\n   * Whether the radio is required.\n   */\n  @Prop() required = false;\n\n  /**\n   * The value of the radio component.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Prop() value: any = '';\n\n  /**\n   * Optional hint text(s) to be displayed with the radio.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * Whether the label should appear to the left of the radio component.\n   */\n  @Prop() labelLeft = false;\n\n  /**\n   * The alignment of the checkbox.\n   */\n  @Prop() alignment: 'center' | 'top' | 'bottom' = 'top';\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * Emitted when the radio is changed.\n   */\n  @Event() catChange!: EventEmitter<boolean | string>;\n\n  /**\n   * Emitted when the radio received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the radio loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillRender(): void {\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n  }\n\n  /**\n   * Programmatically move focus to the radio button. Use this method instead of\n   * `input.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this.input.focus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the radio button. Use this method\n   * instead of `input.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.input.blur();\n  }\n\n  render() {\n    return (\n      <Host>\n        <label\n          htmlFor={this.id}\n          class={{\n            'is-hidden': this.labelHidden,\n            'is-disabled': this.disabled,\n            'label-left': this.labelLeft,\n            'align-center': this.alignment === 'center',\n            'align-end': this.alignment === 'bottom'\n          }}\n          role=\"radio\"\n          aria-checked={this.checked ? 'true' : 'false'}\n        >\n          <span class=\"radio\">\n            <input\n              {...this.nativeAttributes}\n              part=\"input\"\n              ref={el => (this.input = el as HTMLInputElement)}\n              id={this.identifier || this.id}\n              type=\"radio\"\n              name={this.name}\n              value={this.value}\n              checked={this.checked}\n              required={this.required}\n              disabled={this.disabled}\n              onInput={this.onInput.bind(this)}\n              onFocus={this.onFocus.bind(this)}\n              onBlur={this.onBlur.bind(this)}\n              aria-describedby={this.hasHint ? this.id + '-hint' : undefined}\n            />\n            <span class=\"circle\"></span>\n          </span>\n          <span class=\"label\" part=\"label\">\n            {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n          </span>\n        </label>\n        {this.hasHint && (\n          <div class={{ 'hint-wrapper': true, 'label-left': this.labelLeft }}>\n            <div class=\"circle-placeholder\"></div>\n            <CatFormHint id={this.id} hint={this.hint} slottedHint={this.hasSlottedHint && <slot name=\"hint\"></slot>} />\n          </div>\n        )}\n      </Host>\n    );\n  }\n\n  private get hasHint() {\n    return !!this.hint || !!this.hasSlottedHint;\n  }\n\n  private onInput() {\n    this.checked = true;\n    this.catChange.emit(this.value);\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n:host {\n  display: block;\n}\n\n:host([hidden]) {\n  display: none;\n}\n","import { Component, Element, Event, EventEmitter, h, Listen, Prop, Watch } from '@stencil/core';\n\n/**\n * A group of radio buttons.\n */\n@Component({\n  tag: 'cat-radio-group',\n  styleUrl: 'cat-radio-group.scss',\n  shadow: true\n})\nexport class CatRadioGroup {\n  private catRadioGroup: HTMLCatRadioElement[] = [];\n  private mutationObserver?: MutationObserver;\n\n  @Element() hostElement!: HTMLElement;\n\n  /**\n   * The name of the radio group component.\n   */\n  @Prop() name?: string;\n\n  /**\n   * The value of the radio group.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Prop({ mutable: true }) value?: any;\n\n  /**\n   * Whether this radio group is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Adds an accessible label for the radio group that\n   * it is only shown in assistive technologies, like screen readers.\n   */\n  @Prop({ attribute: 'a11y-label' }) a11yLabel?: string;\n\n  /**\n   * Whether the label of the radios should appear to the left of them.\n   */\n  @Prop() labelLeft = false;\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter<boolean | string>;\n\n  /**\n   * Emitted when the radio group received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the radio group loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  @Watch('name')\n  onNameChanged(newName?: string) {\n    this.catRadioGroup.forEach(catRadio => (catRadio.name = newName));\n  }\n\n  @Watch('value')\n  onValueChanged(newValue?: string) {\n    this.catRadioGroup.forEach(catRadio => (catRadio.checked = catRadio.value === newValue));\n    this.updateTabIndex();\n  }\n\n  @Watch('disabled')\n  onDisabledChanged(disabled: boolean) {\n    this.catRadioGroup.forEach(catRadio => (catRadio.disabled = catRadio.disabled || disabled));\n  }\n\n  @Watch('labelLeft')\n  onLabelLeftChanged(labelLeft: boolean) {\n    this.catRadioGroup.forEach(catRadio => (catRadio.labelLeft = catRadio.labelLeft || labelLeft));\n  }\n\n  componentDidLoad(): void {\n    this.init();\n    this.mutationObserver = new MutationObserver(\n      mutations => mutations.some(value => value.target.nodeName === 'CAT-RADIO') && this.init()\n    );\n    this.mutationObserver?.observe(this.hostElement, {\n      childList: true,\n      attributes: true,\n      subtree: true\n    });\n  }\n\n  disconnectedCallback() {\n    this.mutationObserver?.disconnect();\n  }\n\n  @Listen('keydown')\n  onKeydown(event: KeyboardEvent): void {\n    if (['ArrowDown', 'ArrowUp', 'ArrowRight', 'ArrowLeft'].includes(event.key) && this.catRadioGroup.length) {\n      const targetElements = this.catRadioGroup.filter(catRadio => !catRadio.disabled);\n      const activeElement = document.activeElement as HTMLCatRadioElement;\n      const activeIdx = this.catRadioGroup.findIndex(catRadio => catRadio === activeElement);\n      const activeOff = ['ArrowDown', 'ArrowRight'].includes(event.key) ? 1 : -1;\n      const targetIdx = activeIdx < 0 ? 0 : (activeIdx + activeOff + targetElements.length) % targetElements.length;\n      targetElements[targetIdx].doFocus();\n      targetElements[targetIdx].shadowRoot?.querySelector('input')?.click();\n      this.updateTabIndex();\n      event.preventDefault();\n    }\n  }\n\n  @Listen('input')\n  onInput(event: MouseEvent): void {\n    const radio = this.catRadioGroup.find(radio => radio === event.target);\n    if (radio?.localName === 'cat-radio') {\n      this.value = radio?.checked ? radio?.value : undefined;\n      this.catChange.emit(this.value);\n    }\n  }\n\n  @Listen('focus', { capture: true })\n  onFocus(event: FocusEvent): void {\n    if (!event.relatedTarget) {\n      this.catBlur.emit(event);\n    }\n  }\n\n  @Listen('blur', { capture: true })\n  onBlur(event: FocusEvent): void {\n    if (!event.relatedTarget) {\n      this.catBlur.emit(event);\n    }\n  }\n\n  render() {\n    return (\n      <div role=\"radiogroup\" aria-label={this.a11yLabel}>\n        <slot></slot>\n      </div>\n    );\n  }\n\n  private init() {\n    this.catRadioGroup = Array.from(this.hostElement.querySelectorAll(`cat-radio`));\n    this.onNameChanged(this.name);\n    this.onValueChanged(this.value);\n    this.onDisabledChanged(this.disabled);\n    this.onLabelLeftChanged(this.labelLeft);\n  }\n\n  private updateTabIndex() {\n    if (this.catRadioGroup.length) {\n      this.catRadioGroup.forEach(value => value.shadowRoot?.querySelector('input')?.setAttribute('tabindex', '-1'));\n      const checkedRadioIndex = this.catRadioGroup.findIndex(value => value.checked);\n      this.catRadioGroup[checkedRadioIndex >= 0 ? checkedRadioIndex : 0].shadowRoot\n        ?.querySelector('input')\n        ?.setAttribute('tabindex', '0');\n    }\n  }\n}\n","@import 'variables';\n\n// -----\n\n$-shadow: 0 0 4px 1px rgba(16, 29, 48, 20%);\n$-shadow-transition: box-shadow 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n\n// -----\n\n:host {\n  overflow: hidden;\n  position: relative;\n  display: flex;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n// ----- Scroll shadows\n\n%shadow {\n  position: absolute;\n  transition: $-shadow-transition;\n}\n\n.shadow-top {\n  @extend %shadow;\n  z-index: 2;\n  width: 100%;\n  top: 0;\n}\n\n.shadow-left {\n  @extend %shadow;\n  z-index: 4;\n  height: 100%;\n  left: 0;\n}\n\n.shadow-right {\n  @extend %shadow;\n  z-index: 4;\n  height: 100%;\n  right: 0;\n}\n\n.shadow-bottom {\n  @extend %shadow;\n  z-index: 2;\n  width: 100%;\n  bottom: 0;\n}\n\n// ----- Component\n\n.scrollable-wrapper {\n  position: absolute;\n  inset: 0;\n  pointer-events: none;\n\n  &.cat-scrollable-top .shadow-top,\n  &.cat-scrollable-bottom .shadow-bottom,\n  &.cat-scrollable-left .shadow-left,\n  &.cat-scrollable-right .shadow-right {\n    box-shadow: $-shadow;\n  }\n}\n\n.scrollable-content {\n  width: 100%;\n  overflow: hidden;\n  // white-space: nowrap;\n\n  &.scroll-x {\n    overflow-x: auto;\n  }\n\n  &.scroll-y {\n    overflow-y: auto;\n  }\n\n  &.no-overscroll {\n    overscroll-behavior: contain;\n  }\n}\n","import { Component, Event, EventEmitter, h, Prop } from '@stencil/core';\nimport { fromEvent, merge, Observable, Subject } from 'rxjs';\nimport { auditTime, distinctUntilChanged, filter, map, takeUntil } from 'rxjs/operators';\n\n/**\n * An element to display scrollable content.\n */\n@Component({\n  tag: 'cat-scrollable',\n  styleUrl: 'cat-scrollable.scss',\n  shadow: true\n})\nexport class CatScrollable {\n  private static readonly THROTTLE = 50;\n  scrollElement?: HTMLElement;\n  scrollWrapperElement?: HTMLElement;\n  private readonly init = new Subject<void>();\n  private readonly destroyed = new Subject<void>();\n  private readonly resizedEntries = new Subject<ResizeObserverEntry[]>();\n  private readonly resizedObserver = new ResizeObserver(entries => this.resizedEntries.next(entries));\n  private scrolled!: Observable<Event>;\n\n  /** Flags to disable/enable scroll shadowX. */\n  @Prop()\n  noShadowX = false;\n\n  /** Flags to disable/enable scroll shadowY. */\n  @Prop()\n  noShadowY = false;\n\n  /** Flags to disable/enable overflowX. */\n  @Prop()\n  noOverflowX = false;\n\n  /** Flags to disable/enable overflowY. */\n  @Prop()\n  noOverflowY = false;\n\n  /** Flag to disable/enable overscroll behavior. */\n  @Prop()\n  noOverscroll = false;\n\n  /**\n   * Flag to not fire an initial event after content initialization.\n   */\n  @Prop() noScrolledInit = false;\n\n  /**\n   * Buffer to be used to calculate the scroll distance.\n   */\n  @Prop() scrolledBuffer = 0;\n\n  /**\n   * Emitted when the content is fully scrolled to the top.\n   */\n  @Event() scrolledTop!: EventEmitter<void>;\n\n  /**\n   * Emitted when the content is fully scrolled to the left.\n   */\n  @Event() scrolledLeft!: EventEmitter<void>;\n\n  /**\n   * Emitted when the content is fully scrolled to the right.\n   */\n  @Event() scrolledRight!: EventEmitter<void>;\n\n  /**\n   * Emitted when the content is fully scrolled to the bottom.\n   */\n  @Event() scrolledBottom!: EventEmitter<void>;\n\n  componentDidRender() {\n    if (this.scrollElement) {\n      this.scrolled = fromEvent(this.scrollElement, 'scroll').pipe(takeUntil(this.destroyed));\n      this.resizedObserver.observe(this.scrollElement);\n    }\n    if (this.scrollWrapperElement) {\n      this.resizedObserver.observe(this.scrollWrapperElement);\n    }\n    this.attachEmitter('left', this.scrolledLeft);\n    this.attachEmitter('right', this.scrolledRight);\n    this.attachEmitter('bottom', this.scrolledBottom);\n    this.attachEmitter('top', this.scrolledTop);\n    merge(this.init, this.scrolled, this.resizedEntries)\n      .pipe(\n        auditTime(CatScrollable.THROTTLE),\n        map(() => ({\n          top: this.getScrollOffset('top') > 0,\n          left: this.getScrollOffset('left') > 0,\n          right: this.getScrollOffset('right') > 0,\n          bottom: this.getScrollOffset('bottom') > 0\n        })),\n        distinctUntilChanged(),\n        takeUntil(this.destroyed)\n      )\n      .subscribe(({ top, left, right, bottom }) => {\n        this.toggleClass('cat-scrollable-top', top);\n        this.toggleClass('cat-scrollable-left', left);\n        this.toggleClass('cat-scrollable-right', right);\n        this.toggleClass('cat-scrollable-bottom', bottom);\n      });\n  }\n\n  componentDidLoad() {\n    if (!this.noScrolledInit) {\n      this.init.next();\n    }\n  }\n\n  disconnectedCallback() {\n    this.init.complete();\n    this.destroyed.next();\n    this.destroyed.complete();\n    this.resizedObserver.disconnect();\n  }\n\n  render() {\n    return [\n      <div class=\"scrollable-wrapper\" ref={el => (this.scrollWrapperElement = el)}>\n        {!this.noShadowY && <div class=\"shadow-top\"></div>}\n        {!this.noShadowX && <div class=\"shadow-left\"></div>}\n        {!this.noShadowX && <div class=\"shadow-right\"></div>}\n        {!this.noShadowY && <div class=\"shadow-bottom\"></div>}\n      </div>,\n      <div\n        ref={el => (this.scrollElement = el)}\n        class={{\n          'scrollable-content': true,\n          'scroll-x': !this.noOverflowX,\n          'scroll-y': !this.noOverflowY,\n          'no-overscroll': this.noOverscroll\n        }}\n      >\n        <slot></slot>\n      </div>\n    ];\n  }\n\n  private attachEmitter(from: 'top' | 'left' | 'right' | 'bottom', emitter: EventEmitter<void>) {\n    merge(this.init, this.scrolled, this.resizedEntries)\n      .pipe(\n        auditTime(CatScrollable.THROTTLE),\n        map(() => this.getScrollOffset(from)),\n        map(offset => offset <= this.scrolledBuffer),\n        distinctUntilChanged(),\n        filter(isLower => isLower),\n        takeUntil(this.destroyed)\n      )\n      .subscribe(() => emitter.emit());\n  }\n\n  private getScrollOffset(from: 'top' | 'left' | 'right' | 'bottom') {\n    if (this.scrollElement) {\n      switch (from) {\n        case 'top':\n          return this.scrollElement.scrollTop;\n        case 'left':\n          return this.scrollElement.scrollLeft;\n        case 'right':\n          return this.scrollElement.scrollWidth - this.scrollElement.clientWidth - this.scrollElement.scrollLeft;\n        case 'bottom':\n          return this.scrollElement.scrollHeight - this.scrollElement.clientHeight - this.scrollElement.scrollTop;\n        default:\n          return 0;\n      }\n    }\n    return 0;\n  }\n\n  private toggleClass(name: string, value: boolean) {\n    if (value) {\n      this.scrollWrapperElement?.classList.add(name);\n    } else {\n      this.scrollWrapperElement?.classList.remove(name);\n    }\n  }\n}\n","var GHOST_ELEMENT_ID = '__autosizeInputGhost'\n\nvar characterEntities = {\n  ' ': 'nbsp',\n  '<': 'lt',\n  '>': 'gt'\n}\nfunction mapSpecialCharacterToCharacterEntity (specialCharacter) {\n  return '&' + characterEntities[specialCharacter] + ';'\n}\nfunction escapeSpecialCharacters (string) {\n  return string.replace(/\\s|<|>/g, mapSpecialCharacterToCharacterEntity)\n}\n\n// Create `ghostElement`, with inline styles to hide it and ensure that the text is all\n// on a single line.\nfunction createGhostElement () {\n  var ghostElement = document.createElement('div')\n  ghostElement.id = GHOST_ELEMENT_ID\n  ghostElement.style.cssText =\n    'display:inline-block;height:0;overflow:hidden;position:absolute;top:0;visibility:hidden;white-space:nowrap;'\n  document.body.appendChild(ghostElement)\n  return ghostElement\n}\n\nmodule.exports = function (element, options) {\n  var elementStyle = window.getComputedStyle(element)\n  // prettier-ignore\n  var elementCssText = 'box-sizing:' + elementStyle.boxSizing +\n                      ';border-left:' + elementStyle.borderLeftWidth + ' solid red' +\n                      ';border-right:' + elementStyle.borderRightWidth + ' solid red' +\n                      ';font-family:' + elementStyle.fontFamily +\n                      ';font-feature-settings:' + elementStyle.fontFeatureSettings +\n                      ';font-kerning:' + elementStyle.fontKerning +\n                      ';font-size:' + elementStyle.fontSize +\n                      ';font-stretch:' + elementStyle.fontStretch +\n                      ';font-style:' + elementStyle.fontStyle +\n                      ';font-variant:' + elementStyle.fontVariant +\n                      ';font-variant-caps:' + elementStyle.fontVariantCaps +\n                      ';font-variant-ligatures:' + elementStyle.fontVariantLigatures +\n                      ';font-variant-numeric:' + elementStyle.fontVariantNumeric +\n                      ';font-weight:' + elementStyle.fontWeight +\n                      ';letter-spacing:' + elementStyle.letterSpacing +\n                      ';margin-left:' + elementStyle.marginLeft +\n                      ';margin-right:' + elementStyle.marginRight +\n                      ';padding-left:' + elementStyle.paddingLeft +\n                      ';padding-right:' + elementStyle.paddingRight +\n                      ';text-indent:' + elementStyle.textIndent +\n                      ';text-transform:' + elementStyle.textTransform\n\n  // Assigns an appropriate width to the given `element` based on its contents.\n  function setWidth () {\n    var string = element.value || element.getAttribute('placeholder') || ''\n    // Check if the `ghostElement` exists. If no, create it.\n    var ghostElement =\n      document.getElementById(GHOST_ELEMENT_ID) || createGhostElement()\n    // Copy all width-affecting styles to the `ghostElement`.\n    ghostElement.style.cssText += elementCssText\n    ghostElement.innerHTML = escapeSpecialCharacters(string)\n    // Copy the width of `ghostElement` to `element`.\n    var width = window.getComputedStyle(ghostElement).width\n    element.style.width = width\n    return width\n  }\n\n  element.addEventListener('input', setWidth)\n\n  var width = setWidth()\n\n  // Set `min-width` only if `options.minWidth` was set, and only if the initial\n  // width is non-zero.\n  if (options && options.minWidth && width !== '0px') {\n    element.style.minWidth = width\n  }\n\n  // Return a function for unbinding the event listener and removing the `ghostElement`.\n  return function () {\n    element.removeEventListener('input', setWidth)\n    var ghostElement = document.getElementById(GHOST_ELEMENT_ID)\n    if (ghostElement) {\n      ghostElement.parentNode.removeChild(ghostElement)\n    }\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n@use 'utils/color';\n@use '_snippets/form-label';\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  line-height: 1.25rem;\n  position: relative;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nlabel {\n  align-self: flex-start;\n\n  &.hidden {\n    @include cat-visually-hidden;\n  }\n}\n\n.select-field,\n.select-container {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  flex: 1 1 auto;\n}\n\n.select-field.select-horizontal {\n  flex-direction: row;\n  gap: 1rem;\n}\n\n.select-wrapper {\n  display: flex;\n  align-items: flex-start;\n  background: cat-token('color.ui.background.input');\n  border-radius: cat-border-radius('m');\n  box-shadow: inset 0 0 0 1px rgb(var(--border-color));\n  transition: box-shadow cat-token('time.transition.s') linear;\n  padding: 0.25rem;\n  --border-color: #{cat-token('color.ui.border.dark', $wrap: false)};\n\n  &:not(.select-disabled):hover {\n    box-shadow:\n      inset 0 0 0 1px rgb(var(--border-color)),\n      0 0 0 1px rgb(var(--border-color));\n  }\n\n  &:focus-within {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: -1px;\n  }\n\n  &.select-invalid {\n    --border-color: #{cat-token('color.theme.danger.bg', 0.2, $wrap: false)};\n  }\n\n  /* stylelint-disable property-no-vendor-prefix */\n  &:has(input:-webkit-autofill) {\n    &,\n    &:hover,\n    &:focus {\n      background-color: cat-token('color.ui.background.inputAutofill');\n    }\n  }\n  /* stylelint-enable property-no-vendor-prefix */\n}\n\n:host(.cat-error) {\n  .select-wrapper {\n    box-shadow: 0 0 0 1px cat-token('color.theme.danger.bg');\n\n    &:not(.input-disabled):hover {\n      box-shadow: 0 0 0 2px cat-token('color.theme.danger.bg');\n    }\n  }\n}\n\n.select-disabled {\n  background: cat-token('color.ui.background.muted');\n  cursor: not-allowed;\n  color: cat-token('color.ui.font.muted');\n  pointer-events: none;\n}\n\n.select-wrapper-inner {\n  display: flex;\n  flex: 1 1 auto;\n  align-items: center;\n  gap: 0.25rem;\n  min-width: 0;\n\n  > cat-avatar {\n    display: inline-block;\n    padding-left: 0.5rem;\n\n    & + .select-input {\n      padding-left: 0.25rem;\n    }\n  }\n\n  cat-avatar {\n    --cat-avatar-size: 1.25rem;\n    --cat-avatar-font-size: 0.5rem;\n  }\n\n  .select-multiple & {\n    flex-wrap: wrap;\n  }\n}\n\n.select-input {\n  font: inherit;\n  background: none;\n  border: none;\n  outline: none;\n  padding: 0.375rem 0.5rem;\n  flex: 1 1 auto;\n  @include cat-ellipsis;\n\n  &::placeholder {\n    color: cat-token('color.ui.font.muted');\n  }\n\n  .select-disabled & {\n    cursor: inherit;\n  }\n}\n\n.select-pills {\n  display: contents;\n}\n\n.pill {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.25rem 0.5rem;\n  background: cat-token('color.ui.background.muted');\n  border-radius: cat-border-radius('s');\n  white-space: nowrap;\n  min-width: 0;\n\n  > span {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    flex: 1 1 0%;\n  }\n\n  > cat-button {\n    margin-right: -0.25rem;\n    margin-left: -0.25rem;\n  }\n}\n\n.select-btn {\n  transition: transform cat-token('time.transition.s') linear;\n\n  &::part(button) {\n    outline: none;\n  }\n}\n\ncat-spinner {\n  padding: 0.375rem;\n}\n\n.icon-suffix {\n  padding: 0.25rem;\n}\n\n.select-btn-open {\n  transform: rotate(180deg);\n}\n\n.select-dropdown {\n  position: fixed;\n  right: 0;\n  background: cat-token('color.ui.background.surface');\n  display: none;\n  overflow: auto;\n  // -webkit-overflow-scrolling: touch;\n  @include cat-elevation(4);\n  border-radius: cat-border-radius('m');\n  border: 1px solid cat-token('color.ui.border.default');\n  z-index: cat-z-index('dropdown');\n\n  /* Avoid layout interference */\n  width: max-content;\n  top: 0;\n  left: 0;\n}\n\n.select-options-wrapper {\n  max-height: 16rem;\n  width: 100%;\n}\n\n.select-empty {\n  margin: 1rem 0;\n  padding: 0 1.25rem;\n}\n\n.select-options {\n  list-style-type: none;\n  margin: 0;\n  padding: 0.5rem 0;\n\n  cat-checkbox,\n  .select-option-single {\n    margin: 0;\n    padding: 0.5rem 1rem;\n  }\n}\n\n.select-option-inner {\n  display: flex;\n  gap: 0.5rem;\n\n  cat-avatar {\n    --cat-avatar-size: 1.25rem;\n    --cat-avatar-font-size: 0.5rem;\n  }\n}\n\n.select-option-text {\n  flex: 1 1 0%;\n  min-width: 0;\n}\n\n.select-option-single {\n  cursor: pointer;\n}\n\n.select-input-transparent-caret {\n  caret-color: transparent;\n}\n\n.select-option-empty,\n.select-option-loading {\n  padding: 0.5rem 1rem;\n}\n\n.select-option:hover {\n  background-color: cat-token('color.theme.secondary.bg', 0.05);\n}\n\n.select-option-active {\n  outline: 2px solid cat-token('color.ui.border.focus');\n  outline-offset: -2px;\n}\n\n.select-option-label {\n  @include cat-ellipsis(2);\n  @include cat-break-word;\n}\n\n.select-option-description {\n  @include cat-ellipsis(2);\n  color: cat-token('color.ui.font.muted');\n}\n","import { autoUpdate, computePosition, flip, offset, Placement } from '@floating-ui/dom';\nimport { Component, Element, Event, EventEmitter, h, Host, Listen, Method, Prop, State, Watch } from '@stencil/core';\nimport autosizeInput from 'autosize-input';\nimport {\n  catchError,\n  debounce,\n  distinctUntilChanged,\n  filter,\n  first,\n  Observable,\n  of,\n  scan,\n  startWith,\n  Subject,\n  Subscription,\n  switchMap,\n  takeWhile,\n  tap,\n  timer\n} from 'rxjs';\nimport { coerceBoolean, coerceNumber } from '../../utils/coerce';\nimport { CatFormHint, ErrorMap } from '../cat-form-hint/cat-form-hint';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\nexport interface Item {\n  id: string;\n}\n\nexport interface Page<T> {\n  content: T[];\n  last: boolean;\n  totalElements?: number;\n}\n\nexport interface RenderInfo {\n  label: string;\n  description?: string;\n  avatar?: {\n    src?: string;\n    round?: boolean;\n    initials?: string;\n    icon?: string;\n  };\n}\n\n/**\n * @property customId - Change the ID of item for the given one.\n * @property resolve - Resolves the value of the select.\n * @property retrieve - Retrieves the options of the select.\n * @property render - Renders the items of the select.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport interface CatSelectConnector<T extends Item = any> {\n  customId?: (item: T) => string;\n  resolve: (ids: string[]) => Observable<T[]>;\n  retrieve: (term: string, page: number) => Observable<Page<T>>;\n  render: (item: T) => RenderInfo;\n}\n\nexport interface CatSelectState {\n  term: string;\n  isOpen: boolean;\n  isLoading: boolean;\n  isFirstLoading: boolean;\n  isResolving: boolean;\n  options: { item: Item; render: RenderInfo }[];\n  tempSelection: { item: Item; render: RenderInfo }[];\n  selection: { item: Item; render: RenderInfo }[];\n  activeOptionIndex: number;\n  activeSelectionIndex: number;\n  totalElements?: number;\n}\n\nexport interface CatSelectMultipleTaggingValue {\n  ids: string[];\n  tags: string[];\n}\n\nexport interface CatSelectTaggingValue {\n  id: string;\n  tag: string;\n}\n\nconst INIT_STATE: CatSelectState = {\n  term: '',\n  isOpen: false,\n  isLoading: false,\n  isFirstLoading: true,\n  isResolving: false,\n  options: [],\n  selection: [],\n  tempSelection: [],\n  activeOptionIndex: -1,\n  activeSelectionIndex: -1\n};\n\nlet nextUniqueId = 0;\nlet nextTagUniqueId = 0;\n\n/**\n * Select lets user choose one option from an options' menu. Consider using\n * select when you have 6 or more options. Select component supports any content\n * type.\n *\n * @slot hint - Optional hint element to be displayed with the select.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part label - The native label element.\n * @part input - The native input element.\n */\n@Component({\n  tag: 'cat-select',\n  styleUrl: 'cat-select.scss',\n  shadow: true\n})\nexport class CatSelect {\n  private static readonly SKELETON_COUNT = 4;\n  private static readonly DROPDOWN_OFFSET = 4;\n  private readonly _id = `cat-input-${nextUniqueId++}`;\n  private get id() {\n    return this.identifier || this._id;\n  }\n\n  private dropdown?: HTMLElement;\n  private trigger?: HTMLElement;\n  private input?: HTMLInputElement;\n  private errorMapSrc?: ErrorMap;\n\n  private subscription?: Subscription;\n  private term$: Subject<string> = new Subject();\n  private more$: Subject<void> = new Subject();\n  private valueChangedBySelection = false;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() connector?: CatSelectConnector;\n\n  @State() state: CatSelectState = INIT_STATE;\n\n  @State() hasSlottedLabel = false;\n\n  @State() hasSlottedHint = false;\n\n  @State() errorMap?: ErrorMap;\n\n  /**\n   * Whether the label need a marker to shown if the select is required or optional.\n   */\n  @Prop() requiredMarker?: 'none' | 'required' | 'optional' | 'none!' | 'optional!' | 'required!' = 'optional';\n\n  /**\n   * Whether the label is on top or left.\n   */\n  @Prop() horizontal = false;\n\n  /**\n   * Enable multiple selection.\n   */\n  @Prop() multiple = false;\n\n  /**\n   * The debounce time for the search.\n   */\n  @Prop() debounce = 250;\n\n  /**\n   * The placement of the select.\n   */\n  @Prop() placement: Placement = 'bottom-start';\n\n  /**\n   * The value of the select. <br />\n   * <br />\n   * The value of the select depends on whether it is allowed to choose a single item or several items. <br />\n   * When only one item can be selected, the value is the id of the item, in case several items can be selected, the value is an array of ids of the selected items. <br />\n   * <br />\n   * In case the user can add new items to the select (tags activated), the value in the single select is an object (CatSelectTaggingValue) with the id of the item or the name of the created item,\n   * in the case of multiple select, it is an object (CatSelectMultipleTaggingValue) with the array of the ids of the items selected and the array of the names of the items created\n   */\n  @Prop({ mutable: true }) value?: string | string[] | CatSelectTaggingValue | CatSelectMultipleTaggingValue;\n\n  /**\n   * Whether the select is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * The placeholder text to display within the select.\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * Optional hint text(s) to be displayed with the select.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label for the select.\n   */\n  @Prop() label = '';\n\n  /**\n   * The name of the form control. Submitted with the form as part of a name/value pair.\n   */\n  @Prop() name?: string;\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A value is required or must be checked for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * Whether the select should show a clear button.\n   */\n  @Prop() clearable = false;\n\n  /**\n   * Whether the select should add new items.\n   */\n  @Prop() tags = false;\n\n  /**\n   * Optional hint text to be displayed on the new item to be added.\n   */\n  @Prop() tagHint?: string;\n\n  /**\n   * The text to display in the dropdown if no results are found.\n   */\n  @Prop() noItems?: string;\n\n  /**\n   * The validation errors for this input. Will render a hint under the input\n   * with the translated error message(s) `error.${key}`. If an object is\n   * passed, the keys will be used as error keys and the values translation\n   * parameters.\n   * If the value is `true`, the input will be marked as invalid without any\n   * hints under the input.\n   */\n  @Prop() errors?: boolean | string[] | ErrorMap;\n\n  /**\n   * Fine-grained control over when the errors are shown. Can be `false` to\n   * never show errors, `true` to show errors on blur, or a number to show\n   * errors on change with the given delay in milliseconds.\n   */\n  @Prop() errorUpdate: boolean | number = 0;\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  @Watch('connector')\n  onConnectorChanged(connector: CatSelectConnector) {\n    this.reset(connector);\n    this.resolve();\n  }\n\n  @Watch('value')\n  onValueChanged() {\n    !this.valueChangedBySelection ? this.resolve() : (this.valueChangedBySelection = false);\n  }\n\n  @Watch('errors')\n  onErrorsChanged(value?: boolean | string[] | ErrorMap) {\n    if (!coerceBoolean(this.errorUpdate)) {\n      this.errorMap = undefined;\n    } else {\n      this.errorMapSrc = Array.isArray(value)\n        ? (value as string[]).reduce((acc, err) => ({ ...acc, [err]: undefined }), {})\n        : value === true\n          ? {}\n          : value || undefined;\n      this.showErrorsIfTimeout() || this.showErrorsIfNoFocus();\n    }\n  }\n\n  @Watch('state')\n  onStateChanged(newState: CatSelectState, oldState: CatSelectState) {\n    const changed = (key: keyof CatSelectState) => newState[key] !== oldState[key];\n    if (changed('isOpen')) {\n      this.update();\n    }\n    if (changed('activeOptionIndex') && this.state.activeOptionIndex >= 0) {\n      this.dropdown\n        ?.querySelector(`#select-${this.id}-option-${this.state.activeOptionIndex}`)\n        ?.scrollIntoView({ block: 'nearest' });\n    }\n\n    if (changed('selection')) {\n      let newValue;\n      if (!this.multiple && this.state.selection.length) {\n        this.hide();\n      }\n      const idsSelected = this.state.selection.map(item => item.item.id);\n      if (!this.tags) {\n        if (this.multiple) {\n          newValue = idsSelected;\n        } else {\n          newValue = idsSelected.length ? idsSelected[0] : '';\n        }\n      } else {\n        const ids = idsSelected.filter(id => !id.startsWith(`select-${this.id}-tag`));\n        const tags = this.state.selection\n          .filter(item => item.item.id.startsWith(`select-${this.id}-tag`))\n          .map(item => item.render.label);\n        if (this.multiple) {\n          newValue = { ids, tags };\n        } else {\n          newValue = { id: ids.length ? ids[0] : '', tag: tags.length ? tags[0] : '' };\n        }\n      }\n\n      if (!oldState.isResolving) {\n        this.valueChangedBySelection = true;\n        this.value = newValue;\n      }\n      this.catChange.emit();\n      this.showErrorsIfTimeout();\n    }\n  }\n\n  /**\n   * Emitted when the select dropdown is opened.\n   */\n  @Event() catOpen!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the select dropdown is closed.\n   */\n  @Event() catClose!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter<InputEvent>;\n\n  /**\n   * Emitted when the select loses the focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentDidLoad(): void {\n    if (this.input) {\n      autosizeInput(this.input, { minWidth: true });\n    }\n    if (this.trigger && this.dropdown) {\n      autoUpdate(this.trigger, this.dropdown, () => this.update());\n    }\n  }\n\n  componentWillRender(): void {\n    this.onErrorsChanged(this.errors);\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n  }\n\n  @Listen('blur')\n  onBlur(event: FocusEvent): void {\n    if (!this.multiple && this.state.activeOptionIndex >= 0) {\n      if (this.tags && this.state.options[this.state.activeOptionIndex].item.id === `select-${this.id}-option-tag`) {\n        this.createTag(this.state.term);\n      } else {\n        this.select(this.state.options[this.state.activeOptionIndex]);\n      }\n    }\n    this.hide();\n    // Conditionally remove selection if the option was not manually selected through click or enter key press\n    if (!this.multiple && (!this.tags || !this.state.selection?.length)) {\n      if (this.state.tempSelection?.length) {\n        this.patchState({\n          activeSelectionIndex: -1,\n          selection: this.state.tempSelection,\n          tempSelection: [],\n          options: [],\n          term: this.state.tempSelection[0].render.label\n        });\n      } else if (!this.state.selection?.length) {\n        this.patchState({\n          activeSelectionIndex: -1,\n          selection: [],\n          tempSelection: [],\n          options: [],\n          term: ''\n        });\n      }\n    } else {\n      this.patchState({ activeSelectionIndex: -1 });\n    }\n\n    this.catBlur.emit(event);\n    if (coerceBoolean(this.errorUpdate)) {\n      this.showErrors();\n    }\n  }\n\n  @Listen('keydown')\n  onKeyDown(event: KeyboardEvent): void {\n    const isInputFocused = this.hostElement.shadowRoot?.activeElement === this.input;\n\n    if (['ArrowDown', 'ArrowUp', 'ArrowLeft', 'ArrowRight'].includes(event.key)) {\n      this.onArrowKeyDown(event);\n    } else if (['Enter', ' '].includes(event.key) && isInputFocused) {\n      if (\n        this.tags &&\n        this.state.activeOptionIndex === 0 &&\n        this.state.options[0].item.id === `select-${this.id}-option-tag`\n      ) {\n        event.preventDefault();\n        if (this.multiple) {\n          this.toggleTag(this.state.options[0]);\n        } else {\n          this.createTag(this.state.options[0].render.label);\n        }\n      } else if (this.state.activeOptionIndex >= 0) {\n        event.preventDefault();\n        if (this.multiple) {\n          this.toggle(this.state.options[this.state.activeOptionIndex]);\n        } else {\n          this.select(this.state.options[this.state.activeOptionIndex]);\n        }\n      } else if (this.tags && event.key === 'Enter' && this.state.activeOptionIndex < 0) {\n        this.createTag(this.state.term);\n      }\n    } else if (event.key === 'Escape') {\n      if (this.hide()) {\n        event.stopPropagation();\n      }\n    } else if (event.key === 'Backspace' || event.key === 'Delete') {\n      this.input?.focus();\n      if (!this.multiple || !this.state.term || (this.input?.selectionStart === 0 && event.key === 'Backspace')) {\n        if (this.state.activeSelectionIndex >= 0) {\n          this.deselect(this.state.selection[this.state.activeSelectionIndex].item.id);\n        } else if (this.state.selection.length) {\n          const selectionClone = [...this.state.selection];\n          selectionClone.pop();\n          this.patchState({\n            selection: selectionClone,\n            tempSelection: this.state.term ? [...this.state.selection] : []\n          });\n        }\n      }\n    } else if (event.key === 'Tab') {\n      this.trigger?.setAttribute('tabindex', '-1');\n      if (this.multiple) {\n        this.patchState({ activeSelectionIndex: -1, activeOptionIndex: -1 });\n      } else if (this.state.activeOptionIndex >= 0) {\n        if (this.tags && this.state.options[this.state.activeOptionIndex].item.id === `select-${this.id}-option-tag`) {\n          this.createTag(this.state.term);\n        } else {\n          this.select(this.state.options[this.state.activeOptionIndex]);\n        }\n      }\n    } else if (event.key.length === 1) {\n      this.input?.focus();\n    }\n  }\n\n  @Listen('keyup')\n  onKeyUp(event: KeyboardEvent): void {\n    if (event.key === 'Tab' && !event.shiftKey) {\n      this.hostElement.shadowRoot?.activeElement === this.trigger && this.input?.focus();\n      if (this.hostElement.shadowRoot?.activeElement === this.input) {\n        this.show();\n      }\n    } else if (event.key === 'Tab' && event.shiftKey) {\n      const clearButton = this.trigger?.querySelector(`#select-clear-btn-${this.id}`);\n\n      if (clearButton) {\n        this.hostElement.shadowRoot?.activeElement === clearButton && this.show();\n      } else {\n        this.show();\n      }\n    }\n  }\n\n  /**\n   * Programmatically move focus to the input. Use this method instead of\n   * `input.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this.input?.focus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the input. Use this method instead of\n   * `input.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.input?.blur();\n  }\n\n  /**\n   * Clear the input.\n   */\n  @Method()\n  async clear(): Promise<void> {\n    this.clearInput();\n  }\n\n  /**\n   * Connect the functions of the select\n   *\n   * @param connector - The {@link CatSelectConnector} of the select.\n   */\n  @Method()\n  async connect(connector: CatSelectConnector): Promise<void> {\n    this.connector = connector;\n    let number$: Observable<number>;\n    this.subscription?.unsubscribe();\n    this.subscription = this.term$\n      .asObservable()\n      .pipe(\n        debounce(term => (term ? timer(this.debounce) : of(0))),\n        distinctUntilChanged(),\n        tap(\n          () =>\n            (number$ = this.more$.pipe(\n              filter(() => !this.state.isLoading),\n              scan(n => n + 1, 0),\n              startWith(0)\n            ))\n        ),\n        switchMap(term =>\n          number$.pipe(\n            tap(() => this.patchState({ isLoading: true })),\n            switchMap(number => connector.retrieve(term, number)),\n            tap(page =>\n              this.patchState({ isLoading: false, totalElements: page.totalElements, isFirstLoading: false })\n            ),\n            takeWhile(page => !page.last, true),\n            scan((items, page) => [...items, ...page.content], [] as Item[])\n          )\n        )\n      )\n      .subscribe(items => {\n        const options = this.toSelectItems(connector, items);\n\n        if (\n          this.tags &&\n          this.state.term.trim().length &&\n          !options.find(value1 => value1.render.label.toLowerCase() === this.state.term.toLowerCase())\n        ) {\n          let label;\n          if (this.isTagSelected(this.state.term)) {\n            label = this.state.selection.find(item => item.render.label.toLowerCase() === this.state.term.toLowerCase())\n              ?.render.label;\n          }\n          options.unshift({\n            item: { id: `select-${this.id}-option-tag` },\n            render: { label: label ? label : this.state.term }\n          });\n        }\n        this.patchState({\n          options\n        });\n      });\n  }\n\n  render() {\n    return (\n      <Host>\n        <div\n          class={{\n            'select-field': true,\n            'select-horizontal': this.horizontal,\n            'select-multiple': this.multiple\n          }}\n        >\n          <div class={{ 'label-container': true, hidden: this.labelHidden }}>\n            {(this.hasSlottedLabel || this.label) && (\n              <label htmlFor={`select-${this.id}-input`} part=\"label\">\n                <span class=\"label-wrapper\">\n                  {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n                  <div class=\"label-metadata\">\n                    {!this.required && (this.requiredMarker ?? 'optional').startsWith('optional') && (\n                      <span class=\"label-optional\" aria-hidden=\"true\">\n                        ({i18n.t('input.optional')})\n                      </span>\n                    )}\n                    {this.required && this.requiredMarker?.startsWith('required') && (\n                      <span class=\"label-optional\" aria-hidden=\"true\">\n                        ({i18n.t('input.required')})\n                      </span>\n                    )}\n                  </div>\n                </span>\n              </label>\n            )}\n          </div>\n\n          <div class=\"select-container\">\n            <div\n              class={{ 'select-wrapper': true, 'select-disabled': this.disabled, 'select-invalid': this.invalid }}\n              ref={el => (this.trigger = el)}\n              id={this.id}\n              role=\"combobox\"\n              aria-expanded={this.state.isOpen || this.isPillboxActive()}\n              aria-controls={this.isPillboxActive() ? `select-pillbox-${this.id}` : `select-listbox-${this.id}`}\n              aria-required={this.required ? 'true' : false}\n              aria-activedescendant={this.activeDescendant}\n              onClick={e => this.onClick(e)}\n            >\n              <div class=\"select-wrapper-inner\">\n                {this.multiple && this.state.selection.length ? (\n                  <div\n                    id={`select-pillbox-${this.id}`}\n                    role=\"listbox\"\n                    aria-orientation=\"horizontal\"\n                    class=\"select-pills\"\n                  >\n                    {this.state.selection.map((item, i) => (\n                      <span\n                        class={{\n                          pill: true,\n                          'select-no-open': true,\n                          'select-option-active': this.state.activeSelectionIndex === i\n                        }}\n                        role=\"option\"\n                        aria-selected=\"true\"\n                        id={`select-${this.id}-selection-${i}`}\n                      >\n                        {item.render.avatar ? (\n                          <cat-avatar\n                            label={item.render.label}\n                            round={item.render.avatar.round}\n                            src={item.render.avatar.src}\n                            icon={item.render.avatar.icon}\n                            initials={item.render.avatar.initials ?? ''}\n                          ></cat-avatar>\n                        ) : null}\n                        <span>{item.render.label}</span>\n                        {!this.disabled && (\n                          <cat-button\n                            size=\"xs\"\n                            variant=\"text\"\n                            icon=\"$cat:select-clear\"\n                            iconOnly\n                            a11yLabel={i18n.t('select.deselect')}\n                            onClick={() => this.deselect(item.item.id)}\n                            tabIndex={-1}\n                            data-dropdown-no-close\n                          ></cat-button>\n                        )}\n                      </span>\n                    ))}\n                  </div>\n                ) : this.state.selection.length && this.state.selection[0].render.avatar ? (\n                  <cat-avatar\n                    label={this.state.selection[0].render.label}\n                    round={this.state.selection[0].render.avatar.round}\n                    src={this.state.selection[0].render.avatar.src}\n                    icon={this.state.selection[0].render.avatar.icon}\n                    initials={this.state.selection[0].render.avatar.initials ?? ''}\n                  ></cat-avatar>\n                ) : null}\n                <input\n                  {...this.nativeAttributes}\n                  part=\"input\"\n                  id={`select-${this.id}-input`}\n                  class=\"select-input\"\n                  role=\"combobox\"\n                  ref={el => (this.input = el)}\n                  aria-controls={this.isPillboxActive() ? `select-pillbox-${this.id}` : `select-listbox-${this.id}`}\n                  aria-activedescendant={this.activeDescendant}\n                  aria-invalid={this.invalid ? 'true' : undefined}\n                  aria-describedby={this.hasHint ? this.id + '-hint' : undefined}\n                  aria-autocomplete=\"list\"\n                  onInput={this.onInput.bind(this)}\n                  value={!this.multiple ? this.state.term : undefined}\n                  placeholder={this.placeholder}\n                  disabled={this.disabled || this.state.isResolving}\n                ></input>\n              </div>\n              {this.state.isResolving && <cat-spinner></cat-spinner>}\n              {this.invalid && (\n                <cat-icon icon=\"$cat:input-error\" class=\"icon-suffix cat-text-danger\" size=\"l\"></cat-icon>\n              )}\n              {(this.state.selection.length || this.state.term.length) &&\n              !this.disabled &&\n              !this.state.isResolving &&\n              this.clearable ? (\n                <cat-button\n                  id={`select-clear-btn-${this.id}`}\n                  iconOnly\n                  icon=\"$cat:input-close\"\n                  variant=\"text\"\n                  size=\"s\"\n                  a11yLabel={i18n.t('input.clear')}\n                  onCatClick={() => this.clearInput()}\n                  data-dropdown-no-close\n                ></cat-button>\n              ) : null}\n              {!this.state.isResolving && (\n                <cat-button\n                  iconOnly\n                  icon=\"$cat:select-open\"\n                  class={{ 'select-btn': true, 'select-btn-open': this.state.isOpen }}\n                  variant=\"text\"\n                  size=\"s\"\n                  a11yLabel={this.state.isOpen ? i18n.t('select.close') : i18n.t('select.open')}\n                  aria-controls={`select-listbox-${this.id}`}\n                  aria-expanded={this.state.isOpen}\n                  tabIndex={-1}\n                  disabled={this.disabled || this.state.isResolving}\n                  data-dropdown-no-close\n                ></cat-button>\n              )}\n            </div>\n            {this.hasHint && (\n              <CatFormHint\n                id={this.id}\n                hint={this.hint}\n                slottedHint={this.hasSlottedHint && <slot name=\"hint\"></slot>}\n                errorMap={this.errorMap}\n              />\n            )}\n          </div>\n        </div>\n\n        <div\n          class=\"select-dropdown\"\n          ref={el => (this.dropdown = el)}\n          style={{ display: this.state.isOpen ? 'block' : undefined }}\n        >\n          {this.state.isOpen && (\n            <cat-scrollable\n              class=\"select-options-wrapper\"\n              scrolledBuffer={56}\n              noOverflowX\n              noOverscroll\n              noScrolledInit\n              onScrolledBottom={() => this.more$.next()}\n            >\n              <ul\n                class=\"select-options\"\n                role=\"listbox\"\n                aria-multiselectable={this.multiple}\n                aria-setsize={this.state.totalElements}\n                id={`select-listbox-${this.id}`}\n              >\n                {this.optionsList}\n                {this.state.isFirstLoading\n                  ? Array.from(Array(CatSelect.SKELETON_COUNT)).map(() => (\n                      <li class=\"select-option-loading\">\n                        <cat-skeleton variant=\"body\" lines={1}></cat-skeleton>\n                        <cat-skeleton variant=\"body\" lines={1}></cat-skeleton>\n                      </li>\n                    ))\n                  : !this.state.options.length &&\n                    !this.tags && (\n                      <li class=\"select-option-empty\">{this.noItems ? this.noItems : i18n.t('select.empty')}</li>\n                    )}\n              </ul>\n            </cat-scrollable>\n          )}\n        </div>\n      </Host>\n    );\n  }\n\n  private get hasHint() {\n    return !!this.hint || !!this.hasSlottedHint || this.invalid;\n  }\n\n  private get invalid() {\n    return !!Object.keys(this.errorMap || {}).length;\n  }\n\n  private get optionsList() {\n    return this.state.options.map((item, i) => {\n      const isTagOption = this.tags && item.item.id === `select-${this.id}-option-tag`;\n\n      const isOptionSelected = this.isSelected(item.item.id) || (this.tags && this.isTagSelected(item.render.label));\n\n      const getLabel = () => {\n        if (isTagOption) {\n          return item.render.label + this.tagTextHelp;\n        }\n        return item.render.label;\n      };\n\n      return (\n        <li\n          role=\"option\"\n          class=\"select-option\"\n          id={`select-${this.id}-option-${i}`}\n          aria-selected={isOptionSelected ? 'true' : 'false'}\n        >\n          {this.multiple ? (\n            <cat-checkbox\n              class={{ 'select-option-active': this.state.activeOptionIndex === i }}\n              checked={isOptionSelected}\n              tabIndex={-1}\n              labelLeft\n              onFocus={() => this.input?.focus()}\n              onCatChange={e => {\n                !isTagOption ? this.toggle(item) : this.toggleTag(item);\n                e.stopPropagation();\n              }}\n            >\n              <span slot=\"label\" class=\"select-option-inner\">\n                {item.render.avatar ? (\n                  <cat-avatar\n                    label={item.render.label}\n                    round={item.render.avatar.round}\n                    src={item.render.avatar.src}\n                    icon={item.render.avatar.icon}\n                    initials={item.render.avatar.initials ?? ''}\n                  ></cat-avatar>\n                ) : null}\n                <span class=\"select-option-text\">\n                  <span class=\"select-option-label\">{getLabel()}</span>\n                  <span class=\"select-option-description\">{item.render.description}</span>\n                </span>\n              </span>\n            </cat-checkbox>\n          ) : (\n            <div\n              class={{\n                'select-option-inner': true,\n                'select-option-single': true,\n                'select-option-active': this.state.activeOptionIndex === i\n              }}\n              onFocus={() => this.input?.focus()}\n              onClick={() => (isTagOption ? this.createTag(item.render.label) : this.select(item))}\n              tabIndex={-1}\n            >\n              {item.render.avatar ? (\n                <cat-avatar\n                  label={item.render.label}\n                  round={item.render.avatar.round}\n                  src={item.render.avatar.src}\n                  icon={item.render.avatar.icon}\n                  initials={item.render.avatar.initials ?? ''}\n                ></cat-avatar>\n              ) : null}\n              <span class=\"select-option-text\">\n                <span class=\"select-option-label\">{getLabel()}</span>\n                <span class=\"select-option-description\">{item.render.description}</span>\n              </span>\n            </div>\n          )}\n        </li>\n      );\n    });\n  }\n\n  private resolve() {\n    const connector = this.connector;\n    if (!connector) {\n      return;\n    }\n    this.patchState({ isResolving: true });\n\n    const ids = this.initIds();\n    let tags: string[];\n\n    if (this.tags) {\n      tags = this.initTags();\n    }\n\n    const data$ = ids.length ? connector.resolve(ids).pipe(first()) : of([]);\n    data$.pipe(catchError(() => of([]))).subscribe(items => {\n      const selection = this.toSelectItems(connector, items);\n      if (this.tags) {\n        tags\n          .filter(tag => !this.isTagSelected(tag, selection))\n          .forEach((tag, index) => {\n            const item = { id: `select-${this.id}-tag-${index}`, name: tag };\n            selection.push({ item, render: { label: item.name } });\n          });\n      }\n      const term = !this.multiple && selection.length ? selection[0].render.label : '';\n      this.patchState({ isResolving: false, selection, term, activeOptionIndex: -1 });\n      this.term$.next(term);\n      this.input && (this.input.value = term);\n    });\n  }\n\n  private toSelectItems(connector: CatSelectConnector, items: Item[]) {\n    return items.map(item => ({\n      item: { ...item, id: connector.customId ? connector.customId(item) : item.id },\n      render: connector.render(item)\n    }));\n  }\n\n  private show() {\n    if (!this.state.isOpen && this.connector) {\n      // reconnect to reset the connection, i.e. the pagination\n      this.connect(this.connector);\n      this.patchState({ isOpen: true, isFirstLoading: true, options: [] });\n      this.catOpen.emit();\n      this.term$.next('');\n      this.input?.classList.remove('select-input-transparent-caret');\n    }\n  }\n\n  private hide() {\n    if (this.state.isOpen) {\n      this.patchState({ isOpen: false, activeOptionIndex: -1 });\n      this.catClose.emit();\n      return true;\n    }\n    return false;\n  }\n\n  private search(term: string) {\n    this.patchState({ term, activeOptionIndex: -1, activeSelectionIndex: -1 });\n    this.term$.next(term);\n  }\n\n  private isSelected(id: string) {\n    return this.state.selection.findIndex(s => s.item.id === id) >= 0;\n  }\n\n  private select(item: { item: Item; render: RenderInfo }) {\n    if (!this.isSelected(item.item.id)) {\n      let newSelection;\n      if (this.multiple) {\n        newSelection = [...this.state.selection, item];\n      } else {\n        newSelection = [item];\n        this.patchState({ term: item.render.label, activeOptionIndex: -1, activeSelectionIndex: -1 });\n      }\n      this.patchState({ selection: newSelection, tempSelection: [] });\n\n      if (this.multiple && this.state.term.trim() && this.input) {\n        this.patchState({ term: '', activeOptionIndex: -1 });\n        this.term$.next('');\n        this.input.value = '';\n      }\n    }\n    this.setTransparentCaret();\n  }\n\n  private deselect(id: string) {\n    if (this.isSelected(id)) {\n      this.patchState({\n        selection: this.state.selection.filter(item => item.item.id !== id),\n        activeSelectionIndex: -1\n      });\n    }\n  }\n\n  private toggle(item: { item: Item; render: RenderInfo }) {\n    this.isSelected(item.item.id)\n      ? this.deselect(item.item.id)\n      : this.tags && this.isTagSelected(item.render.label)\n        ? this.removeTag(item.render.label)\n        : this.select(item);\n  }\n\n  private clearInput() {\n    if (this.input && this.state.term) {\n      this.patchState({ selection: [], term: '', activeOptionIndex: -1, tempSelection: [] });\n      this.term$.next('');\n      this.input.value = '';\n    } else {\n      this.patchState({ selection: [], tempSelection: [] });\n    }\n  }\n\n  private reset(connector?: CatSelectConnector) {\n    this.connector = connector ?? this.connector;\n    this.subscription?.unsubscribe();\n    this.subscription = undefined;\n    this.state = INIT_STATE;\n  }\n\n  private onClick(event: MouseEvent) {\n    if (this.disabled) {\n      return;\n    }\n    const elem = event.target as Element;\n    this.trigger?.setAttribute('tabindex', '0');\n    this.input?.focus();\n    if (\n      elem === this.trigger ||\n      elem === this.input ||\n      elem.classList.contains('select-btn') ||\n      elem.nodeName === 'SPAN'\n    ) {\n      this.state.isOpen ? this.hide() : this.show();\n    }\n  }\n\n  private onInput() {\n    this.search(this.input?.value.trim() || '');\n    if (!this.multiple) {\n      if (this.state.selection.length) {\n        const selectionClone = [...this.state.selection];\n        selectionClone.pop();\n        this.patchState({ selection: selectionClone, tempSelection: [...this.state.selection] });\n      }\n      if (!this.required && !this.input?.value.trim()) {\n        this.patchState({ tempSelection: [] });\n      }\n    }\n    this.show();\n  }\n\n  private update() {\n    if (this.trigger && this.dropdown) {\n      computePosition(this.trigger, this.dropdown, {\n        strategy: 'fixed',\n        placement: this.placement,\n        middleware: [offset(CatSelect.DROPDOWN_OFFSET), flip()]\n      }).then(({ x, y, placement }) => {\n        if (this.dropdown) {\n          this.dropdown.dataset.placement = placement;\n          Object.assign(this.dropdown.style, {\n            width: `${this.trigger?.clientWidth}px`,\n            left: `${x}px`,\n            top: `${y}px`\n          });\n        }\n      });\n    }\n  }\n\n  private patchState(update: Partial<CatSelectState>) {\n    this.state = { ...this.state, ...update };\n  }\n\n  private isPillboxActive() {\n    return this.state.activeSelectionIndex >= 0;\n  }\n\n  private get activeDescendant() {\n    let activeDescendant = undefined;\n    if (this.state.activeOptionIndex >= 0) {\n      activeDescendant = `select-${this.id}-option-${this.state.activeOptionIndex}`;\n    } else if (this.state.activeSelectionIndex >= 0) {\n      activeDescendant = `select-${this.id}-selection-${this.state.activeSelectionIndex}`;\n    }\n    return activeDescendant;\n  }\n\n  private onArrowKeyDown(event: KeyboardEvent) {\n    let preventDefault = false;\n    this.input?.focus();\n\n    switch (event.key) {\n      case 'ArrowDown':\n        preventDefault = true;\n        this.state.isOpen\n          ? this.patchState({\n              activeOptionIndex: Math.min(this.state.activeOptionIndex + 1, this.state.options.length - 1),\n              activeSelectionIndex: -1\n            })\n          : this.show();\n        break;\n      case 'ArrowUp':\n        preventDefault = true;\n        this.state.activeOptionIndex >= 0\n          ? this.patchState({\n              activeOptionIndex: Math.max(this.state.activeOptionIndex - 1, -1),\n              activeSelectionIndex: -1\n            })\n          : this.hide();\n        break;\n      case 'ArrowLeft':\n        if (this.input?.selectionStart === 0) {\n          preventDefault = true;\n          let index;\n          this.state.activeSelectionIndex > 0\n            ? (index = Math.max(this.state.activeSelectionIndex - 1, -1))\n            : (index = this.state.selection.length - 1);\n          this.patchState({ activeSelectionIndex: index, activeOptionIndex: -1 });\n        }\n        break;\n      case 'ArrowRight':\n        if (this.state.activeSelectionIndex >= 0) {\n          preventDefault = true;\n          let index = -1;\n          if (this.state.activeSelectionIndex < this.state.selection.length - 1) {\n            index = Math.min(this.state.activeSelectionIndex + 1, this.state.selection.length - 1);\n          } else if (!this.state.term) {\n            index = 0;\n          }\n          this.patchState({ activeSelectionIndex: index, activeOptionIndex: -1 });\n        }\n    }\n\n    if (preventDefault) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n\n  private get tagTextHelp() {\n    return this.tagHint && !this.isTagSelected(this.state.term) ? ' (' + this.tagHint + ')' : '';\n  }\n\n  private isTagSelected(term: string, selection: { item: Item; render: RenderInfo }[] = this.state.selection) {\n    return selection.findIndex(item => item.render.label.toLowerCase() === term.toLowerCase()) >= 0;\n  }\n\n  private createTag(term: string) {\n    if (term.trim().length && !this.isTagSelected(term)) {\n      const value = this.value as CatSelectMultipleTaggingValue;\n      const tags = value?.tags;\n      const tag = { id: `select-${this.id}-tag-${tags?.length ? tags?.length + nextTagUniqueId++ : 0}`, name: term };\n      this.select({ item: tag, render: { label: tag.name } });\n    }\n    this.setTransparentCaret();\n  }\n\n  private removeTag(label: string) {\n    if (this.isTagSelected(label)) {\n      const item = this.state.selection.find(item => item.render.label.toLowerCase() === label.toLowerCase());\n      item && this.deselect(item.item.id);\n    }\n  }\n\n  private toggleTag(item: { item: Item; render: RenderInfo }) {\n    this.isTagSelected(item.render.label) ? this.removeTag(item.render.label) : this.createTag(item.render.label);\n  }\n\n  private initIds() {\n    let ids: string[] = [];\n    if (this.value) {\n      if (!this.tags) {\n        if (this.multiple) {\n          ids = this.value as string[];\n        } else {\n          ids = [this.value as string];\n        }\n      } else {\n        if (this.multiple) {\n          const value = this.value as CatSelectMultipleTaggingValue;\n          ids = value.ids ? value.ids : [];\n        } else {\n          const value = this.value as CatSelectTaggingValue;\n          ids = value.id ? [value.id] : [];\n        }\n      }\n    }\n    return ids;\n  }\n\n  private initTags() {\n    let tags: string[] = [];\n    if (this.value) {\n      if (this.multiple) {\n        const value = this.value as CatSelectMultipleTaggingValue;\n        tags = value.tags ? value.tags : [];\n      } else {\n        const value = this.value as CatSelectTaggingValue;\n        tags = value.tag ? [value.tag] : [];\n      }\n    }\n    return tags;\n  }\n\n  private setTransparentCaret() {\n    if (!this.multiple) {\n      this.hide();\n      this.input?.classList.add('select-input-transparent-caret');\n    }\n  }\n\n  private showErrors() {\n    this.errorMap = this.errorMapSrc;\n  }\n\n  private errorUpdateTimeoutId?: number;\n  private showErrorsIfTimeout() {\n    const errorUpdate = coerceNumber(this.errorUpdate, null);\n    if (errorUpdate !== null) {\n      typeof this.errorUpdateTimeoutId === 'number' && window.clearTimeout(this.errorUpdateTimeoutId);\n      this.errorUpdateTimeoutId = window.setTimeout(() => this.showErrors(), errorUpdate);\n      return true;\n    }\n    return false;\n  }\n\n  private showErrorsIfNoFocus() {\n    const hasFocus = document.activeElement === this.hostElement || document.activeElement === this.input;\n    if (!hasFocus) {\n      this.showErrors();\n    }\n  }\n}\n","import { Component, h, Host } from '@stencil/core';\nimport { of, delay } from 'rxjs';\n\ninterface User {\n  id: string;\n  firstName: string;\n  lastName: string;\n  desc: string;\n}\n\ninterface Country {\n  id: string;\n  country: string;\n  capital?: string;\n}\n\n@Component({\n  tag: 'cat-select-demo'\n})\nexport class CatSelectTest {\n  private multipleSelect?: HTMLCatSelectElement;\n  private multipleSelectAvatar?: HTMLCatSelectElement;\n  private multipleSelectAvatarInitials?: HTMLCatSelectElement;\n  private multipleSelectTagging?: HTMLCatSelectElement;\n  private singleSelect?: HTMLCatSelectElement;\n  private singleSelectAvatar?: HTMLCatSelectElement;\n  private singleSelectAvatarInitials?: HTMLCatSelectElement;\n  private singleSelectTagging?: HTMLCatSelectElement;\n\n  componentDidLoad(): void {\n    this.multipleSelect?.connect({\n      resolve: (ids: string[]) => {\n        return of(\n          ids.map(id => ({\n            id,\n            firstName: 'John',\n            lastName: `Doe (${id})`,\n            desc: 'resolved'\n          }))\n        ).pipe(delay(500));\n      },\n      retrieve: (term: string, page: number) => {\n        return term === 'no'\n          ? of({ last: true, content: [], totalElements: 0 })\n          : of({\n              last: false,\n              totalElements: 10000,\n              content: Array.from({ length: 10 }, (_, i) => ({\n                id: '' + (i + page * 10),\n                firstName: 'John',\n                lastName: `Doe (${i + page * 10})`,\n                desc: `\"${term}\": page ${page}`\n              }))\n            }).pipe(delay(500));\n      },\n      render: (user: User) => ({\n        label: `${user.firstName} ${user.lastName}`,\n        description: user.desc\n      })\n    });\n    this.multipleSelectAvatar?.connect({\n      resolve: (ids: string[]) => {\n        return of(\n          ids.map(id => ({\n            id,\n            firstName: 'John',\n            lastName: `Doe (${id})`,\n            desc: 'resolved'\n          }))\n        ).pipe(delay(500));\n      },\n      retrieve: (term: string, page: number) => {\n        return term === 'no'\n          ? of({ last: true, content: [], totalElements: 0 })\n          : of({\n              last: false,\n              totalElements: 10000,\n              content: Array.from({ length: 10 }, (_, i) => ({\n                id: '' + (i + page * 10),\n                firstName: 'John',\n                lastName: `Doe (${i + page * 10})`,\n                desc: `\"${term}\": page ${page}`\n              }))\n            }).pipe(delay(500));\n      },\n      render: (user: User) => ({\n        label: `${user.firstName} ${user.lastName}`,\n        description: user.desc,\n        avatar: {\n          src: `https://picsum.photos/id/${Math.floor(Math.random() * 100)}/200`,\n          round: true\n        }\n      })\n    });\n    this.multipleSelectAvatarInitials?.connect({\n      resolve: (ids: string[]) => {\n        return of(\n          ids.map(id => ({\n            id,\n            firstName: 'John',\n            lastName: `Doe (${id})`,\n            desc: 'resolved'\n          }))\n        ).pipe(delay(500));\n      },\n      retrieve: (term: string, page: number) => {\n        return term === 'no'\n          ? of({ last: true, content: [], totalElements: 0 })\n          : of({\n              last: false,\n              totalElements: 10000,\n              content: Array.from({ length: 10 }, (_, i) => ({\n                id: '' + (i + page * 10),\n                firstName: 'John',\n                lastName: `Doe (${i + page * 10})`,\n                desc: `\"${term}\": page ${page}`\n              }))\n            }).pipe(delay(500));\n      },\n      render: (user: User) => ({\n        label: `${user.firstName} ${user.lastName}`,\n        description: user.desc,\n        avatar: {\n          round: true,\n          initials: `JD`\n        }\n      })\n    });\n    this.multipleSelectTagging?.connect(this.countryConnector);\n    this.singleSelect?.connect({\n      resolve: (ids: string[]) => {\n        return of(\n          ids.map(id => ({\n            id,\n            firstName: 'John',\n            lastName: `Doe (${id})`,\n            desc: 'resolved'\n          }))\n        ).pipe(delay(500));\n      },\n      retrieve: (term: string, page: number) => {\n        return term === 'no'\n          ? of({ last: true, content: [], totalElements: 0 })\n          : of({\n              last: false,\n              totalElements: 10000,\n              content: Array.from({ length: 10 }, (_, i) => ({\n                id: '' + (i + page * 10),\n                firstName: 'John',\n                lastName: `Doe (${i + page * 10})`,\n                desc: `\"${term}\": page ${page}`\n              }))\n            }).pipe(delay(500));\n      },\n      render: (user: User) => ({\n        label: `${user.firstName} ${user.lastName}`,\n        description: user.desc\n      })\n    });\n    this.singleSelectAvatar?.connect(this.countryConnector);\n    this.singleSelectAvatarInitials?.connect({\n      ...this.countryConnector,\n      render: (country: Country) => ({\n        label: country.country,\n        description: country.capital || 'No capital',\n        avatar: {\n          round: true,\n          initials: `${country.country.charAt(0)?.toUpperCase() ?? 'J'}${\n            country.capital?.charAt(0)?.toUpperCase() ?? 'D'\n          }`\n        }\n      })\n    });\n    this.singleSelectTagging?.connect(this.countryConnector);\n    setTimeout(() => this.multipleSelect && (this.multipleSelect.value = []), 5000);\n  }\n\n  render() {\n    return (\n      <Host style={{ display: 'flex', flexDirection: 'column' }} class=\"cat-form\">\n        <cat-select\n          label=\"Multiple Select\"\n          hint=\"This is a hint!\"\n          ref={el => (this.multipleSelect = el)}\n          value={['1']}\n          placeholder=\"Hello World\"\n          onCatChange={() => console.log('Multiple change', this.multipleSelect?.value)}\n          onCatBlur={e => console.log('Multiple blur', e)}\n          multiple\n          noItems=\"No results\"\n          clearable\n          errorUpdate={false}\n        >\n          <span slot=\"hint\">Searching for \"no\" -{'>'} no options are returned!</span>\n        </cat-select>\n        <cat-select\n          label=\"Multiple with img\"\n          ref={el => (this.multipleSelectAvatar = el)}\n          value={['1']}\n          placeholder=\"Hello World\"\n          multiple\n          clearable\n          errorUpdate={false}\n        ></cat-select>\n        <cat-select\n          label=\"Multiple with initials\"\n          ref={el => (this.multipleSelectAvatarInitials = el)}\n          value={['1']}\n          placeholder=\"Hello World\"\n          multiple\n          clearable\n          errorUpdate={false}\n        ></cat-select>\n        <cat-select\n          label=\"Multiple with tagging support\"\n          hint=\"This is a hint!\"\n          ref={el => (this.multipleSelectTagging = el)}\n          value={{ ids: ['1'], tags: ['Test', 'Albania', 'Algeria'] }}\n          placeholder=\"Select country\"\n          onCatChange={() => console.log('Multiple tagging change', this.multipleSelectTagging?.value)}\n          multiple\n          tags\n          clearable\n          errorUpdate={false}\n        ></cat-select>\n        <cat-select\n          label=\"Single Select\"\n          hint=\"This is a hint!\"\n          ref={el => (this.singleSelect = el)}\n          placeholder=\"Search for a country or capital\"\n          onCatBlur={e => console.log('Single blur', e)}\n          clearable\n          errorUpdate={false}\n        ></cat-select>\n        <cat-select\n          label=\"Single with img\"\n          ref={el => (this.singleSelectAvatar = el)}\n          value={'1'}\n          placeholder=\"Search for a country or capital\"\n          clearable\n          errorUpdate={false}\n        ></cat-select>\n        <cat-select\n          label=\"Single with initials\"\n          ref={el => (this.singleSelectAvatarInitials = el)}\n          placeholder=\"Hello World\"\n          clearable\n          errorUpdate={false}\n        ></cat-select>\n        <cat-dropdown overflow>\n          <cat-button slot=\"trigger\" style={{ width: '50%' }}>\n            Open select\n          </cat-button>\n          <div slot=\"content\" style={{ width: '400px' }}>\n            <cat-select\n              label=\"Single with tagging support\"\n              ref={el => (this.singleSelectTagging = el)}\n              value={{ id: '', tag: 'Albania' }}\n              placeholder=\"Search for a country or capital\"\n              onCatChange={() => console.log('Single change', this.singleSelectTagging?.value)}\n              tagHint=\"new country\"\n              tags\n              clearable\n              errorUpdate={false}\n              style={{ width: '90%' }}\n            ></cat-select>\n          </div>\n        </cat-dropdown>\n      </Host>\n    );\n  }\n\n  private get countryConnector() {\n    return {\n      resolve: (ids: string[]) => {\n        return of(ids.map(id => countries.find(value => value.id === id))).pipe(delay(500));\n      },\n      retrieve: (term: string, page: number) => {\n        const filter = countries.filter(\n          value =>\n            value.country.toLowerCase().indexOf(term.toLowerCase()) === 0 ||\n            value.capital?.toLowerCase().indexOf(term.toLowerCase()) === 0\n        );\n        const slice = filter.slice(page * 10, page * 10 + 10);\n        return of({\n          last: slice.length < 10,\n          totalElements: filter.length,\n          content: slice\n        }).pipe(delay(500));\n      },\n      render: (country: Country) => ({\n        label: country.country,\n        description: country.capital || 'No capital',\n        avatar: {\n          src: `https://picsum.photos/id/${Math.floor(Math.random() * 100)}/200`,\n          round: true\n        }\n      })\n    };\n  }\n}\n\nconst countries: Country[] = [\n  {\n    id: '0',\n    country:\n      'Afghanistan Extra extra large extra large extra large extra large extra large extra large extra large extra large extra large extra large extra large extra large extra large extra large ',\n    capital: 'Kabul'\n  },\n  {\n    id: '1',\n    country: 'Albania',\n    capital: 'Tirana'\n  },\n  {\n    id: '2',\n    country: 'Algeria',\n    capital: 'Alger'\n  },\n  {\n    id: '3',\n    country: 'American Samoa',\n    capital: 'Fagatogo'\n  },\n  {\n    id: '4',\n    country: 'Andorra',\n    capital: 'Andorra la Vella'\n  },\n  {\n    id: '5',\n    country: 'Angola',\n    capital: 'Luanda'\n  },\n  {\n    id: '6',\n    country: 'Anguilla',\n    capital: 'The Valley'\n  },\n  {\n    id: '7',\n    country: 'Antarctica'\n  },\n  {\n    id: '8',\n    country: 'Antigua and Barbuda',\n    capital: \"Saint John's\"\n  },\n  {\n    id: '9',\n    country: 'Argentina',\n    capital: 'Buenos Aires'\n  },\n  {\n    id: '10',\n    country: 'Armenia',\n    capital: 'Yerevan'\n  },\n  {\n    id: '11',\n    country: 'Aruba',\n    capital: 'Oranjestad'\n  },\n  {\n    id: '12',\n    country: 'Australia',\n    capital: 'Canberra'\n  },\n  {\n    id: '13',\n    country: 'Austria',\n    capital: 'Wien'\n  },\n  {\n    id: '14',\n    country: 'Azerbaijan',\n    capital: 'Baku'\n  },\n  {\n    id: '15',\n    country: 'Bahamas',\n    capital: 'Nassau'\n  },\n  {\n    id: '16',\n    country: 'Bahrain',\n    capital: 'al-Manama'\n  },\n  {\n    id: '17',\n    country: 'Bangladesh',\n    capital: 'Dhaka'\n  },\n  {\n    id: '18',\n    country: 'Barbados',\n    capital: 'Bridgetown'\n  },\n  {\n    id: '19',\n    country: 'Belarus',\n    capital: 'Minsk'\n  },\n  {\n    id: '20',\n    country: 'Belgium',\n    capital: 'Bruxelles [Brussel]'\n  },\n  {\n    id: '21',\n    country: 'Belize',\n    capital: 'Belmopan'\n  },\n  {\n    id: '22',\n    country: 'Benin',\n    capital: 'Porto-Novo'\n  },\n  {\n    id: '23',\n    country: 'Bermuda',\n    capital: 'Hamilton'\n  },\n  {\n    id: '24',\n    country: 'Bhutan',\n    capital: 'Thimphu'\n  },\n  {\n    id: '25',\n    country: 'Bolivia',\n    capital: 'La Paz'\n  },\n  {\n    id: '26',\n    country: 'Bosnia and Herzegovina',\n    capital: 'Sarajevo'\n  },\n  {\n    id: '27',\n    country: 'Botswana',\n    capital: 'Gaborone'\n  },\n  {\n    id: '28',\n    country: 'Bouvet Island'\n  },\n  {\n    id: '29',\n    country: 'Brazil',\n    capital: 'Braslia'\n  },\n  {\n    id: '30',\n    country: 'British Indian Ocean Territory'\n  },\n  {\n    id: '31',\n    country: 'Brunei',\n    capital: 'Bandar Seri Begawan'\n  },\n  {\n    id: '32',\n    country: 'Bulgaria',\n    capital: 'Sofia'\n  },\n  {\n    id: '33',\n    country: 'Burkina Faso',\n    capital: 'Ouagadougou'\n  },\n  {\n    id: '34',\n    country: 'Burundi',\n    capital: 'Bujumbura'\n  },\n  {\n    id: '35',\n    country: 'Cambodia',\n    capital: 'Phnom Penh'\n  },\n  {\n    id: '36',\n    country: 'Cameroon',\n    capital: 'Yaound'\n  },\n  {\n    id: '37',\n    country: 'Canada',\n    capital: 'Ottawa'\n  },\n  {\n    id: '38',\n    country: 'Cape Verde',\n    capital: 'Praia'\n  },\n  {\n    id: '39',\n    country: 'Cayman Islands',\n    capital: 'George Town'\n  },\n  {\n    id: '40',\n    country: 'Central African Republic',\n    capital: 'Bangui'\n  },\n  {\n    id: '41',\n    country: 'Chad',\n    capital: \"N'Djam\"\n  },\n  {\n    id: '42',\n    country: 'Chile',\n    capital: 'Santiago de Chile'\n  },\n  {\n    id: '43',\n    country: 'China',\n    capital: 'Peking'\n  },\n  {\n    id: '44',\n    country: 'Christmas Island',\n    capital: 'Flying Fish Cove'\n  },\n  {\n    id: '45',\n    country: 'Cocos (Keeling) Islands',\n    capital: 'West Island'\n  },\n  {\n    id: '46',\n    country: 'Colombia',\n    capital: 'Santaf'\n  },\n  {\n    id: '47',\n    country: 'Comoros',\n    capital: 'Moroni'\n  },\n  {\n    id: '48',\n    country: 'Congo',\n    capital: 'Brazzaville'\n  },\n  {\n    id: '49',\n    country: 'Cook Islands',\n    capital: 'Avarua'\n  },\n  {\n    id: '50',\n    country: 'Costa Rica',\n    capital: 'San Jos'\n  },\n  {\n    id: '51',\n    country: 'Croatia',\n    capital: 'Zagreb'\n  },\n  {\n    id: '52',\n    country: 'Cuba',\n    capital: 'La Habana'\n  },\n  {\n    id: '53',\n    country: 'Cyprus',\n    capital: 'Nicosia'\n  },\n  {\n    id: '54',\n    country: 'Czech Republic',\n    capital: 'Praha'\n  },\n  {\n    id: '55',\n    country: 'Denmark',\n    capital: 'Copenhagen'\n  },\n  {\n    id: '56',\n    country: 'Djibouti',\n    capital: 'Djibouti'\n  },\n  {\n    id: '57',\n    country: 'Dominica',\n    capital: 'Roseau'\n  },\n  {\n    id: '58',\n    country: 'Dominican Republic',\n    capital: 'Santo Domingo de Guzm'\n  },\n  {\n    id: '59',\n    country: 'East Timor',\n    capital: 'Dili'\n  },\n  {\n    id: '60',\n    country: 'Ecuador',\n    capital: 'Quito'\n  },\n  {\n    id: '61',\n    country: 'Egypt',\n    capital: 'Cairo'\n  },\n  {\n    id: '62',\n    country: 'El Salvador',\n    capital: 'San Salvador'\n  },\n  {\n    id: '63',\n    country: 'England',\n    capital: 'London'\n  },\n  {\n    id: '64',\n    country: 'Equatorial Guinea',\n    capital: 'Malabo'\n  },\n  {\n    id: '65',\n    country: 'Eritrea',\n    capital: 'Asmara'\n  },\n  {\n    id: '66',\n    country: 'Estonia',\n    capital: 'Tallinn'\n  },\n  {\n    id: '67',\n    country: 'Ethiopia',\n    capital: 'Addis Abeba'\n  },\n  {\n    id: '68',\n    country: 'Falkland Islands',\n    capital: 'Stanley'\n  },\n  {\n    id: '69',\n    country: 'Faroe Islands',\n    capital: 'Trshavn'\n  },\n  {\n    id: '70',\n    country: 'Fiji Islands',\n    capital: 'Suva'\n  },\n  {\n    id: '71',\n    country: 'Finland',\n    capital: 'Helsinki [Helsingfors]'\n  },\n  {\n    id: '72',\n    country: 'France',\n    capital: 'Paris'\n  },\n  {\n    id: '73',\n    country: 'French Guiana',\n    capital: 'Cayenne'\n  },\n  {\n    id: '74',\n    country: 'French Polynesia',\n    capital: 'Papeete'\n  },\n  {\n    id: '75',\n    country: 'French Southern territories'\n  },\n  {\n    id: '76',\n    country: 'Gabon',\n    capital: 'Libreville'\n  },\n  {\n    id: '77',\n    country: 'Gambia',\n    capital: 'Banjul'\n  },\n  {\n    id: '78',\n    country: 'Georgia',\n    capital: 'Tbilisi'\n  },\n  {\n    id: '79',\n    country: 'Germany',\n    capital: 'Berlin'\n  },\n  {\n    id: '80',\n    country: 'Ghana',\n    capital: 'Accra'\n  },\n  {\n    id: '81',\n    country: 'Gibraltar',\n    capital: 'Gibraltar'\n  },\n  {\n    id: '82',\n    country: 'Greece',\n    capital: 'Athenai'\n  },\n  {\n    id: '83',\n    country: 'Greenland',\n    capital: 'Nuuk'\n  },\n  {\n    id: '84',\n    country: 'Grenada',\n    capital: \"Saint George's\"\n  },\n  {\n    id: '85',\n    country: 'Guadeloupe',\n    capital: 'Basse-Terre'\n  },\n  {\n    id: '86',\n    country: 'Guam',\n    capital: 'Aga'\n  },\n  {\n    id: '87',\n    country: 'Guatemala',\n    capital: 'Ciudad de Guatemala'\n  },\n  {\n    id: '88',\n    country: 'Guinea',\n    capital: 'Conakry'\n  },\n  {\n    id: '89',\n    country: 'Guinea-Bissau',\n    capital: 'Bissau'\n  },\n  {\n    id: '90',\n    country: 'Guyana',\n    capital: 'Georgetown'\n  },\n  {\n    id: '91',\n    country: 'Haiti',\n    capital: 'Port-au-Prince'\n  },\n  {\n    id: '92',\n    country: 'Heard Island and McDonald Islands'\n  },\n  {\n    id: '93',\n    country: 'Holy See (Vatican City State)',\n    capital: 'Citt'\n  },\n  {\n    id: '94',\n    country: 'Honduras',\n    capital: 'Tegucigalpa'\n  },\n  {\n    id: '95',\n    country: 'Hong Kong',\n    capital: 'Victoria'\n  },\n  {\n    id: '96',\n    country: 'Hungary',\n    capital: 'Budapest'\n  },\n  {\n    id: '97',\n    country: 'Iceland',\n    capital: 'Reykjavk'\n  },\n  {\n    id: '98',\n    country: 'India',\n    capital: 'New Delhi'\n  },\n  {\n    id: '99',\n    country: 'Indonesia',\n    capital: 'Jakarta'\n  },\n  {\n    id: '100',\n    country: 'Iran',\n    capital: 'Tehran'\n  },\n  {\n    id: '101',\n    country: 'Iraq',\n    capital: 'Baghdad'\n  },\n  {\n    id: '102',\n    country: 'Ireland',\n    capital: 'Dublin'\n  },\n  {\n    id: '103',\n    country: 'Israel',\n    capital: 'Jerusalem'\n  },\n  {\n    id: '104',\n    country: 'Italy',\n    capital: 'Roma'\n  },\n  {\n    id: '105',\n    country: 'Ivory Coast',\n    capital: 'Yamoussoukro'\n  },\n  {\n    id: '106',\n    country: 'Jamaica',\n    capital: 'Kingston'\n  },\n  {\n    id: '107',\n    country: 'Japan',\n    capital: 'Tokyo'\n  },\n  {\n    id: '108',\n    country: 'Jordan',\n    capital: 'Amman'\n  },\n  {\n    id: '109',\n    country: 'Kazakhstan',\n    capital: 'Astana'\n  },\n  {\n    id: '110',\n    country: 'Kenya',\n    capital: 'Nairobi'\n  },\n  {\n    id: '111',\n    country: 'Kiribati',\n    capital: 'Bairiki'\n  },\n  {\n    id: '112',\n    country: 'Kuwait',\n    capital: 'Kuwait'\n  },\n  {\n    id: '113',\n    country: 'Kyrgyzstan',\n    capital: 'Bishkek'\n  },\n  {\n    id: '114',\n    country: 'Laos',\n    capital: 'Vientiane'\n  },\n  {\n    id: '115',\n    country: 'Latvia',\n    capital: 'Riga'\n  },\n  {\n    id: '116',\n    country: 'Lebanon',\n    capital: 'Beirut'\n  },\n  {\n    id: '117',\n    country: 'Lesotho',\n    capital: 'Maseru'\n  },\n  {\n    id: '118',\n    country: 'Liberia',\n    capital: 'Monrovia'\n  },\n  {\n    id: '119',\n    country: 'Libyan Arab Jamahiriya',\n    capital: 'Tripoli'\n  },\n  {\n    id: '120',\n    country: 'Liechtenstein',\n    capital: 'Vaduz'\n  },\n  {\n    id: '121',\n    country: 'Lithuania',\n    capital: 'Vilnius'\n  },\n  {\n    id: '122',\n    country: 'Luxembourg',\n    capital: 'Luxembourg [Luxemburg/L'\n  },\n  {\n    id: '123',\n    country: 'Macao',\n    capital: 'Macao'\n  },\n  {\n    id: '124',\n    country: 'North Macedonia',\n    capital: 'Skopje'\n  },\n  {\n    id: '125',\n    country: 'Madagascar',\n    capital: 'Antananarivo'\n  },\n  {\n    id: '126',\n    country: 'Malawi',\n    capital: 'Lilongwe'\n  },\n  {\n    id: '127',\n    country: 'Malaysia',\n    capital: 'Kuala Lumpur'\n  },\n  {\n    id: '128',\n    country: 'Maldives',\n    capital: 'Male'\n  },\n  {\n    id: '129',\n    country: 'Mali',\n    capital: 'Bamako'\n  },\n  {\n    id: '130',\n    country: 'Malta',\n    capital: 'Valletta'\n  },\n  {\n    id: '131',\n    country: 'Marshall Islands',\n    capital: 'Dalap-Uliga-Darrit'\n  },\n  {\n    id: '132',\n    country: 'Martinique',\n    capital: 'Fort-de-France'\n  },\n  {\n    id: '133',\n    country: 'Mauritania',\n    capital: 'Nouakchott'\n  },\n  {\n    id: '134',\n    country: 'Mauritius',\n    capital: 'Port-Louis'\n  },\n  {\n    id: '135',\n    country: 'Mayotte',\n    capital: 'Mamoutzou'\n  },\n  {\n    id: '136',\n    country: 'Mexico',\n    capital: 'Ciudad de M'\n  },\n  {\n    id: '137',\n    country: 'Micronesia, Federated States of',\n    capital: 'Palikir'\n  },\n  {\n    id: '138',\n    country: 'Moldova',\n    capital: 'Chisinau'\n  },\n  {\n    id: '139',\n    country: 'Monaco',\n    capital: 'Monaco-Ville'\n  },\n  {\n    id: '140',\n    country: 'Mongolia',\n    capital: 'Ulan Bator'\n  },\n  {\n    id: '141',\n    country: 'Montenegro',\n    capital: 'Podgorica'\n  },\n  {\n    id: '142',\n    country: 'Montserrat',\n    capital: 'Plymouth'\n  },\n  {\n    id: '143',\n    country: 'Morocco',\n    capital: 'Rabat'\n  },\n  {\n    id: '144',\n    country: 'Mozambique',\n    capital: 'Maputo'\n  },\n  {\n    id: '145',\n    country: 'Myanmar',\n    capital: 'Rangoon (Yangon)'\n  },\n  {\n    id: '146',\n    country: 'Namibia',\n    capital: 'Windhoek'\n  },\n  {\n    id: '147',\n    country: 'Nauru',\n    capital: 'Yaren'\n  },\n  {\n    id: '148',\n    country: 'Nepal',\n    capital: 'Kathmandu'\n  },\n  {\n    id: '149',\n    country: 'Netherlands',\n    capital: 'Amsterdam'\n  },\n  {\n    id: '150',\n    country: 'Netherlands Antilles',\n    capital: 'Willemstad'\n  },\n  {\n    id: '151',\n    country: 'New Caledonia',\n    capital: 'Noum'\n  },\n  {\n    id: '152',\n    country: 'New Zealand',\n    capital: 'Wellington'\n  },\n  {\n    id: '153',\n    country: 'Nicaragua',\n    capital: 'Managua'\n  },\n  {\n    id: '154',\n    country: 'Niger',\n    capital: 'Niamey'\n  },\n  {\n    id: '155',\n    country: 'Nigeria',\n    capital: 'Abuja'\n  },\n  {\n    id: '156',\n    country: 'Niue',\n    capital: 'Alofi'\n  },\n  {\n    id: '157',\n    country: 'Norfolk Island',\n    capital: 'Kingston'\n  },\n  {\n    id: '158',\n    country: 'North Korea',\n    capital: 'Pyongyang'\n  },\n  {\n    id: '159',\n    country: 'Northern Ireland',\n    capital: 'Belfast'\n  },\n  {\n    id: '160',\n    country: 'Northern Mariana Islands',\n    capital: 'Garapan'\n  },\n  {\n    id: '161',\n    country: 'Norway',\n    capital: 'Oslo'\n  },\n  {\n    id: '162',\n    country: 'Oman',\n    capital: 'Masqat'\n  },\n  {\n    id: '163',\n    country: 'Pakistan',\n    capital: 'Islamabad'\n  },\n  {\n    id: '164',\n    country: 'Palau',\n    capital: 'Koror'\n  },\n  {\n    id: '165',\n    country: 'Palestine',\n    capital: 'Gaza'\n  },\n  {\n    id: '166',\n    country: 'Panama',\n    capital: 'Ciudad de Panam'\n  },\n  {\n    id: '167',\n    country: 'Papua New Guinea',\n    capital: 'Port Moresby'\n  },\n  {\n    id: '168',\n    country: 'Paraguay',\n    capital: 'Asuncin'\n  },\n  {\n    id: '169',\n    country: 'Peru',\n    capital: 'Lima'\n  },\n  {\n    id: '170',\n    country: 'Philippines',\n    capital: 'Manila'\n  },\n  {\n    id: '171',\n    country: 'Pitcairn',\n    capital: 'Adamstown'\n  },\n  {\n    id: '172',\n    country: 'Poland',\n    capital: 'Warszawa'\n  },\n  {\n    id: '173',\n    country: 'Portugal',\n    capital: 'Lisboa'\n  },\n  {\n    id: '174',\n    country: 'Puerto Rico',\n    capital: 'San Juan'\n  },\n  {\n    id: '175',\n    country: 'Qatar',\n    capital: 'Doha'\n  },\n  {\n    id: '176',\n    country: 'Reunion',\n    capital: 'Saint-Denis'\n  },\n  {\n    id: '177',\n    country: 'Romania',\n    capital: 'Bucuresti'\n  },\n  {\n    id: '178',\n    country: 'Russian Federation',\n    capital: 'Moscow'\n  },\n  {\n    id: '179',\n    country: 'Rwanda',\n    capital: 'Kigali'\n  },\n  {\n    id: '180',\n    country: 'Saint Helena',\n    capital: 'Jamestown'\n  },\n  {\n    id: '181',\n    country: 'Saint Kitts and Nevis',\n    capital: 'Basseterre'\n  },\n  {\n    id: '182',\n    country: 'Saint Lucia',\n    capital: 'Castries'\n  },\n  {\n    id: '183',\n    country: 'Saint Pierre and Miquelon',\n    capital: 'Saint-Pierre'\n  },\n  {\n    id: '184',\n    country: 'Saint Vincent and the Grenadines',\n    capital: 'Kingstown'\n  },\n  {\n    id: '185',\n    country: 'Samoa',\n    capital: 'Apia'\n  },\n  {\n    id: '186',\n    country: 'San Marino',\n    capital: 'San Marino'\n  },\n  {\n    id: '187',\n    country: 'Sao Tome and Principe',\n    capital: 'So Tom'\n  },\n  {\n    id: '188',\n    country: 'Saudi Arabia',\n    capital: 'Riyadh'\n  },\n  {\n    id: '189',\n    country: 'Scotland',\n    capital: 'Edinburgh'\n  },\n  {\n    id: '190',\n    country: 'Senegal',\n    capital: 'Dakar'\n  },\n  {\n    id: '191',\n    country: 'Serbia',\n    capital: 'Belgrade'\n  },\n  {\n    id: '192',\n    country: 'Seychelles',\n    capital: 'Victoria'\n  },\n  {\n    id: '193',\n    country: 'Sierra Leone',\n    capital: 'Freetown'\n  },\n  {\n    id: '194',\n    country: 'Singapore',\n    capital: 'Singapore'\n  },\n  {\n    id: '195',\n    country: 'Slovakia',\n    capital: 'Bratislava'\n  },\n  {\n    id: '196',\n    country: 'Slovenia',\n    capital: 'Ljubljana'\n  },\n  {\n    id: '197',\n    country: 'Solomon Islands',\n    capital: 'Honiara'\n  },\n  {\n    id: '198',\n    country: 'Somalia',\n    capital: 'Mogadishu'\n  },\n  {\n    id: '199',\n    country: 'South Africa',\n    capital: 'Pretoria'\n  },\n  {\n    id: '200',\n    country: 'South Georgia and the South Sandwich Islands'\n  },\n  {\n    id: '201',\n    country: 'South Korea',\n    capital: 'Seoul'\n  },\n  {\n    id: '202',\n    country: 'South Sudan',\n    capital: 'Juba'\n  },\n  {\n    id: '203',\n    country: 'Spain',\n    capital: 'Madrid'\n  },\n  {\n    id: '204',\n    country: 'Sri Lanka',\n    capital: 'Colombo, Sri Jayawardenepura Kotte'\n  },\n  {\n    id: '205',\n    country: 'Sudan',\n    capital: 'Khartum'\n  },\n  {\n    id: '206',\n    country: 'Suriname',\n    capital: 'Paramaribo'\n  },\n  {\n    id: '207',\n    country: 'Svalbard and Jan Mayen',\n    capital: 'Longyearbyen'\n  },\n  {\n    id: '208',\n    country: 'Swaziland',\n    capital: 'Mbabane'\n  },\n  {\n    id: '209',\n    country: 'Sweden',\n    capital: 'Stockholm'\n  },\n  {\n    id: '210',\n    country: 'Switzerland',\n    capital: 'Bern'\n  },\n  {\n    id: '211',\n    country: 'Syria',\n    capital: 'Damascus'\n  },\n  {\n    id: '212',\n    country: 'Tajikistan',\n    capital: 'Dushanbe'\n  },\n  {\n    id: '213',\n    country: 'Tanzania',\n    capital: 'Dodoma'\n  },\n  {\n    id: '214',\n    country: 'Thailand',\n    capital: 'Bangkok'\n  },\n  {\n    id: '215',\n    country: 'The Democratic Republic of Congo',\n    capital: 'Kinshasa'\n  },\n  {\n    id: '216',\n    country: 'Togo',\n    capital: 'Lom'\n  },\n  {\n    id: '217',\n    country: 'Tokelau',\n    capital: 'Fakaofo'\n  },\n  {\n    id: '218',\n    country: 'Tonga',\n    capital: \"Nuku'alofa\"\n  },\n  {\n    id: '219',\n    country: 'Trinidad and Tobago',\n    capital: 'Port-of-Spain'\n  },\n  {\n    id: '220',\n    country: 'Tunisia',\n    capital: 'Tunis'\n  },\n  {\n    id: '221',\n    country: 'Turkey',\n    capital: 'Ankara'\n  },\n  {\n    id: '222',\n    country: 'Turkmenistan',\n    capital: 'Ashgabat'\n  },\n  {\n    id: '223',\n    country: 'Turks and Caicos Islands',\n    capital: 'Cockburn Town'\n  },\n  {\n    id: '224',\n    country: 'Tuvalu',\n    capital: 'Funafuti'\n  },\n  {\n    id: '225',\n    country: 'Uganda',\n    capital: 'Kampala'\n  },\n  {\n    id: '226',\n    country: 'Ukraine',\n    capital: 'Kyiv'\n  },\n  {\n    id: '227',\n    country: 'United Arab Emirates',\n    capital: 'Abu Dhabi'\n  },\n  {\n    id: '228',\n    country: 'United Kingdom',\n    capital: 'London'\n  },\n  {\n    id: '229',\n    country: 'United States',\n    capital: 'Washington'\n  },\n  {\n    id: '230',\n    country: 'United States Minor Outlying Islands'\n  },\n  {\n    id: '231',\n    country: 'Uruguay',\n    capital: 'Montevideo'\n  },\n  {\n    id: '232',\n    country: 'Uzbekistan',\n    capital: 'Toskent'\n  },\n  {\n    id: '233',\n    country: 'Vanuatu',\n    capital: 'Port-Vila'\n  },\n  {\n    id: '234',\n    country: 'Venezuela',\n    capital: 'Caracas'\n  },\n  {\n    id: '235',\n    country: 'Vietnam',\n    capital: 'Hanoi'\n  },\n  {\n    id: '236',\n    country: 'Virgin Islands, British',\n    capital: 'Road Town'\n  },\n  {\n    id: '237',\n    country: 'Virgin Islands, U.S.',\n    capital: 'Charlotte Amalie'\n  },\n  {\n    id: '238',\n    country: 'Wales',\n    capital: 'Cardiff'\n  },\n  {\n    id: '239',\n    country: 'Wallis and Futuna',\n    capital: 'Mata-Utu'\n  },\n  {\n    id: '240',\n    country: 'Western Sahara',\n    capital: 'El-Aai'\n  },\n  {\n    id: '241',\n    country: 'Yemen',\n    capital: 'Sanaa'\n  },\n  {\n    id: '242',\n    country: 'Zambia',\n    capital: 'Lusaka'\n  },\n  {\n    id: '243',\n    country: 'Zimbabwe',\n    capital: 'Harare'\n  }\n];\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n$skeleton-sizes: (\n  'xl': 3.5rem,\n  'l': 3rem,\n  'm': 2.5rem,\n  's': 2rem,\n  'xs': 1.5rem\n);\n\n:host {\n  /**\n   * @prop --background: The background color of the skeleton.\n   * @prop --highlight: The highlight color of the skeleton.\n   * @prop --speed: The animation speed.\n   */\n  display: flex;\n  flex-direction: column;\n  position: relative;\n\n  --background: #{cat-token('color.ui.background.skeleton')};\n  --highlight: #{cat-token('color.ui.background.skeletonHighlight')};\n  --speed: 2s;\n}\n\n:host([variant='square']),\n:host([variant='circle']) {\n  display: inline-flex;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n:host([variant='head']:not(:last-child)) {\n  margin-bottom: $cat-head-margin-bottom;\n}\n\n:host([variant='body']:not(:last-child)) {\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n.skeleton {\n  display: block;\n  border-radius: cat-border-radius('m');\n  background: var(--background);\n}\n\n.skeleton-circle {\n  border-radius: 10rem;\n}\n\n// ----- size\n\n@mixin size($size, $lvl) {\n  $-text-offset: 4px;\n  .skeleton-#{$size} {\n    &.skeleton-rectangle {\n      width: var(--width, 100%);\n      height: var(--height, map.get($skeleton-sizes, $size));\n    }\n\n    &.skeleton-square,\n    &.skeleton-circle {\n      width: var(--width, map.get($skeleton-sizes, $size));\n      height: var(--height, map.get($skeleton-sizes, $size));\n    }\n\n    &.skeleton-head,\n    &.skeleton-body {\n      width: var(--width, var(--line-width, 100%));\n    }\n\n    &.skeleton-head {\n      height: calc(#{cat-head-font-size($lvl)} - #{$-text-offset});\n      margin: calc((#{cat-head-line-height($lvl)} - #{cat-head-font-size($lvl)} + #{$-text-offset}) * 0.5) 0;\n    }\n\n    &.skeleton-body {\n      height: calc(#{cat-body-font-size($size)} - #{$-text-offset});\n      margin: calc((#{cat-body-line-height($size)} - #{cat-body-font-size($size)} + #{$-text-offset}) * 0.5) 0;\n    }\n  }\n}\n\n@include size('xs', 5);\n@include size('s', 4);\n@include size('m', 3);\n@include size('l', 2);\n@include size('xl', 1);\n\n// ----- animation\n\n.skeleton-sheen {\n  background: linear-gradient(90deg, var(--background) 33%, var(--highlight) 50%, var(--background) 66%)\n    var(--background);\n  background-size: 300% 100%;\n  animation: sheen var(--speed) ease-in-out infinite;\n}\n\n.skeleton-pulse {\n  position: relative;\n  overflow: hidden;\n\n  &::before {\n    content: '';\n    display: block;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-color: var(--highlight);\n    animation: var(--speed) ease-in-out 0.5s infinite normal none running pulse;\n    opacity: 0;\n  }\n}\n\n@keyframes sheen {\n  0% {\n    background-position: right;\n  }\n}\n\n@keyframes pulse {\n  50% {\n    opacity: 1;\n  }\n}\n","import { Component, Host, h, Prop } from '@stencil/core';\n\n/**\n * Skeletons are used to show where content will eventually be drawn.\n */\n@Component({\n  tag: 'cat-skeleton',\n  styleUrl: 'cat-skeleton.scss',\n  shadow: true\n})\nexport class CatSkeleton {\n  /**\n   * The animation style of the skeleton.\n   */\n  @Prop() effect: 'plain' | 'sheen' | 'pulse' = 'sheen';\n\n  /**\n   * The rendering style of the skeleton.\n   */\n  @Prop() variant: 'rectangle' | 'square' | 'circle' | 'head' | 'body' = 'rectangle';\n\n  /**\n   * The size of the skeleton. If the variant is set to \"head\", the size values\n   * \"xs\" to \"xl\" translate to the head levels `h1` to `h5`.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' = 'm';\n\n  /**\n   * The number of text lines to be rendered for \"head\" and \"body\" variants.\n   * Defaults to 1 for \"head\" and 3 for \"body\". Will be ignored for other\n   * variants.\n   */\n  @Prop() lines?: number;\n\n  render() {\n    return (\n      <Host>\n        {Array.from(Array(this.count)).map(() => (\n          <div\n            style={this.style}\n            class={{\n              skeleton: true,\n              [`skeleton-${this.effect}`]: Boolean(this.effect),\n              [`skeleton-${this.variant}`]: Boolean(this.variant),\n              [`skeleton-${this.size}`]: Boolean(this.size)\n            }}\n          ></div>\n        ))}\n      </Host>\n    );\n  }\n\n  private get count() {\n    switch (this.variant) {\n      case 'head':\n        return Math.max(1, this.lines || 1);\n      case 'body':\n        return Math.max(1, this.lines || 3);\n      default:\n        return 1;\n    }\n  }\n\n  private get style() {\n    return this.variant === 'head' || this.variant === 'body'\n      ? {\n          '--line-width': `${this.random(50, 100)}%`\n        }\n      : undefined;\n  }\n\n  private random(min: number, max: number) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n$spinner-sizes: (\n  'xl': 1.75rem,\n  'l': 1.5rem,\n  'm': 1.25rem,\n  's': 1rem,\n  'xs': 0.75rem\n);\n\n:host {\n  display: inline-flex;\n  vertical-align: middle;\n  @include cat-select(none);\n\n  &[hidden] {\n    display: none;\n  }\n}\n\nspan {\n  display: inline-flex;\n}\n\nsvg {\n  fill: none;\n  stroke: currentColor;\n  stroke-dasharray: 135px;\n  stroke-dashoffset: 95px;\n  stroke-linecap: round;\n  stroke-width: 5px;\n  transform-origin: center center;\n  animation: spin 0.75s cubic-bezier(0.4, 0.15, 0.6, 0.85) infinite;\n  width: 1em;\n  height: 1em;\n}\n\n// ----- sizes\n\n@mixin size($size) {\n  .spinner-#{$size} svg {\n    font-size: map.get($spinner-sizes, $size);\n  }\n}\n\n@include size('xs');\n@include size('s');\n@include size('m');\n@include size('l');\n@include size('xl');\n\n// ----- animation\n\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n}\n","import { Component, h, Prop } from '@stencil/core';\n\n/**\n * Spinners are used to indicate users that their action is being processed.\n */\n@Component({\n  tag: 'cat-spinner',\n  styleUrl: 'cat-spinner.scss',\n  shadow: true\n})\nexport class CatSpinner {\n  /**\n   * The size of the spinner.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' | 'inline' = 'm';\n\n  /**\n   * Adds accessible label for the spinner that is only shown for screen\n   * readers. The `aria-hidden` attribute will be set if no label is present.\n   */\n  @Prop({ attribute: 'a11y-label' }) a11yLabel?: string;\n\n  render() {\n    return (\n      <span\n        aria-label={this.a11yLabel}\n        aria-hidden={this.a11yLabel ? null : 'true'}\n        class={{\n          [`spinner-${this.size}`]: this.size !== 'inline'\n        }}\n      >\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\">\n          <circle cx=\"24\" cy=\"24\" r=\"21.5\"></circle>\n        </svg>\n      </span>\n    );\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n:host {\n  display: block;\n}\n\n:host([hidden]) {\n  display: none;\n}\n","import { Component, h, Prop, Event, EventEmitter, Listen, Host, Element } from '@stencil/core';\nimport { Breakpoint } from '../../utils/breakpoints';\n\nlet nextUniqueId = 0;\n\n/**\n * A single tab inside a tabs component.\n */\n@Component({\n  tag: 'cat-tab',\n  styleUrl: 'cat-tab.scss',\n  shadow: true\n})\nexport class CatTab {\n  @Element() hostElement!: HTMLElement;\n\n  /**\n   * The label of the tab.\n   */\n  @Prop({ reflect: true }) label = '';\n\n  /**\n   * The name of an icon to be displayed in the tab.\n   */\n  @Prop({ reflect: true }) icon?: string;\n\n  /**\n   * Hide the actual button content and only display the tab.\n   */\n  @Prop({ reflect: true }) iconOnly: boolean | Breakpoint = false;\n\n  /**\n   * Display the icon on the right.\n   */\n  @Prop({ reflect: true }) iconRight = false;\n\n  /**\n   * A destination to link to, rendered in the href attribute of a link.\n   */\n  @Prop({ reflect: true }) url?: string;\n\n  /**\n   * Specifies where to open the linked document.\n   */\n  @Prop({ reflect: true }) urlTarget?: '_blank' | '_self';\n\n  /**\n   * Specifies that the tab should be deactivated.\n   */\n  @Prop({ reflect: true }) deactivated = false;\n\n  /**\n   * Specifies that the tab content pane contains an error. This will color\n   * the tab in an error state and also switch to an error icon if an icon\n   * is specified.\n   */\n  @Prop({ reflect: true }) error = false;\n\n  /**\n   * Attributes that will be added to the native HTML button element\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * Emitted when tab is clicked.\n   */\n  @Event() catClick!: EventEmitter<MouseEvent>;\n\n  connectedCallback() {\n    if (!this.hostElement.id) {\n      this.hostElement.id = `cat-tab-${nextUniqueId++}`;\n    }\n  }\n\n  @Listen('click')\n  onClick(event: MouseEvent) {\n    this.catClick.emit(event);\n  }\n\n  render() {\n    return <Host></Host>;\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n:host {\n  display: flex;\n  flex-direction: row;\n  box-shadow: inset 0 -1px 0 0 cat-token('color.ui.border.default');\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n:host([tabs-align='center']) {\n  justify-content: center;\n}\n\n:host([tabs-align='right']) {\n  justify-content: end;\n}\n\n:host([tabs-align='justify']) {\n  cat-button {\n    flex: 1 0 auto;\n  }\n}\n\n.cat-tab {\n  display: inline-flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  position: relative;\n  transition: none;\n\n  &:first-of-type {\n    margin-left: -0.75rem;\n  }\n\n  &:last-of-type {\n    margin-right: -0.75rem;\n  }\n\n  &::after {\n    opacity: 0;\n    content: '';\n    position: absolute;\n    background: currentColor;\n    left: 0.75rem;\n    right: 0.75rem;\n    bottom: 0;\n    height: 2px;\n  }\n\n  &:hover::after {\n    opacity: 0.25;\n  }\n\n  &.cat-tab-active {\n    font-weight: 700;\n    color: cat-token('color.theme.primary.textActive');\n  }\n\n  &.cat-tab-error {\n    color: cat-token('color.theme.danger.textActive');\n  }\n\n  &.cat-tab-active::after {\n    opacity: 1;\n  }\n}\n","import { Component, Element, Event, EventEmitter, Host, Listen, Method, Prop, State, Watch, h } from '@stencil/core';\n\n/**\n * Tabs are used to display multiple panels to be contained within a single\n * window, using tabs as a navigational element.\n *\n * @part tab - The header of the tab.\n */\n@Component({\n  tag: 'cat-tabs',\n  styleUrl: 'cat-tabs.scss',\n  shadow: true\n})\nexport class CatTabs {\n  private mutationObserver?: MutationObserver;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() tabs: HTMLCatTabElement[] = [];\n\n  /**\n   * The ID of the active tab.\n   */\n  @Prop({ mutable: true, reflect: true }) activeTab = '';\n\n  /**\n   * The alignment of the tabs.\n   */\n  @Prop() tabsAlign: 'left' | 'center' | 'right' | 'justify' = 'left';\n\n  componentWillLoad(): void {\n    this.syncTabs();\n  }\n\n  componentDidLoad() {\n    this.mutationObserver = new MutationObserver(\n      mutations => mutations.some(value => value.target.nodeName === 'CAT-TAB') && this.syncTabs()\n    );\n    this.mutationObserver?.observe(this.hostElement, {\n      childList: true,\n      attributes: true,\n      subtree: true\n    });\n  }\n\n  disconnectedCallback() {\n    this.mutationObserver?.disconnect();\n  }\n\n  @Watch('activeTab')\n  onActiveTabChange(id: string) {\n    const index = this.tabs.findIndex(tab => tab.id === id);\n    this.catChange.emit({ id, index });\n  }\n\n  @Listen('keydown')\n  onKeydown(event: KeyboardEvent): void {\n    if (['ArrowDown', 'ArrowUp', 'ArrowRight', 'ArrowLeft'].includes(event.key)) {\n      const elements = this.hostElement.shadowRoot?.querySelectorAll<HTMLCatButtonElement>('cat-button[role=\"tab\"]');\n      const targetElements = Array.from(elements ?? []).filter(button => !button.disabled);\n      const activeElement = this.hostElement.shadowRoot?.activeElement as HTMLCatButtonElement;\n      const activeIdx = activeElement ? targetElements.indexOf(activeElement) : -1;\n      const activeOff = ['ArrowDown', 'ArrowRight'].includes(event.key) ? 1 : -1;\n      const targetIdx = activeIdx < 0 ? 0 : (activeIdx + activeOff + targetElements.length) % targetElements.length;\n      targetElements[targetIdx].doFocus();\n      event.preventDefault();\n    }\n  }\n\n  /**\n   * Activates the tab with the given id.\n   *\n   * @param id The tab id.\n   */\n  @Method()\n  async setActive(id: string): Promise<void> {\n    this.activate(this.tabs.find(tab => tab.id === id));\n  }\n\n  /**\n   * Activates the tab with the given index.\n   *\n   * @param index The tab index.\n   */\n  @Method()\n  async setActiveIndex(index: number): Promise<void> {\n    this.activate(this.tabs[index]);\n  }\n\n  /**\n   * Emitted when active tab is changed.\n   */\n  @Event() catChange!: EventEmitter<{ id: string; index: number }>;\n\n  render() {\n    return (\n      <Host>\n        {this.tabs.map((tab: HTMLCatTabElement) => {\n          return (\n            <cat-button\n              buttonId={tab.id}\n              role=\"tab\"\n              part=\"tab\"\n              class={{\n                'cat-tab': true,\n                'cat-tab-active': tab.id === this.activeTab,\n                'cat-tab-error': tab.error\n              }}\n              active={tab.id === this.activeTab}\n              color={tab.error ? 'danger' : tab.id === this.activeTab ? 'primary' : 'secondary'}\n              variant=\"text\"\n              icon={tab.icon ? (tab.error ? '$cat:input-error' : tab.icon) : undefined}\n              iconOnly={tab.iconOnly}\n              iconRight={tab.iconRight}\n              url={tab.url}\n              disabled={tab.deactivated}\n              urlTarget={tab.urlTarget}\n              onCatClick={() => this.click(tab)}\n              nativeAttributes={{ ...tab.nativeAttributes }}\n              nativeContentAttributes={{ 'data-text': tab.label }}\n              data-dropdown-no-close\n            >\n              {tab.label}\n            </cat-button>\n          );\n        })}\n      </Host>\n    );\n  }\n\n  private syncTabs() {\n    this.tabs = Array.from(this.hostElement.querySelectorAll('cat-tab'));\n    this.activeTab = this.activeTab || this.tabs.filter(tab => this.canActivate(tab))[0]?.id;\n  }\n\n  private canActivate(tab?: HTMLCatTabElement): tab is HTMLCatTabElement {\n    return !!tab && !tab.deactivated && !tab.url && tab.id !== this.activeTab;\n  }\n\n  private click(tab?: HTMLCatTabElement) {\n    if (this.canActivate(tab)) {\n      tab.click();\n      this.activate(tab);\n    }\n  }\n\n  private activate(tab?: HTMLCatTabElement) {\n    if (this.canActivate(tab)) {\n      this.activeTab = tab.id;\n    }\n  }\n}\n","@use '_snippets/form-label';\n@use 'variables' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n@use 'utils/color';\n@use 'mixins' as *;\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\ninput {\n  font: inherit;\n  margin: 0;\n  min-width: 20rem;\n  padding: 0.375rem 0;\n  flex: 1 1 auto;\n  border: none;\n  outline: none;\n  background: none;\n  @include cat-ellipsis;\n\n  .input-disabled & {\n    cursor: not-allowed;\n    color: cat-token('color.ui.font.muted');\n  }\n\n  &::placeholder {\n    color: cat-token('color.ui.font.muted');\n  }\n\n  /* stylelint-disable property-no-vendor-prefix */\n  &:-webkit-autofill {\n    &,\n    &:hover,\n    &:focus {\n      -webkit-box-shadow: 0 0 0 9999px cat-token('color.ui.background.inputAutofill') inset;\n    }\n  }\n  /* stylelint-enable property-no-vendor-prefix */\n}\n\n.input-wrapper {\n  flex: 1 1 auto;\n  display: flex;\n  align-items: stretch;\n  gap: 0.25rem;\n  padding: 0.25rem 0.75rem;\n  min-height: 2rem;\n  background: cat-token('color.ui.background.input');\n  border-radius: cat-border-radius('m');\n  box-shadow: inset 0 0 0 1px rgb(var(--border-color));\n  transition: box-shadow cat-token('time.transition.s') linear;\n  --border-color: #{cat-token('color.ui.border.dark', $wrap: false)};\n  flex-wrap: wrap;\n\n  &.input-disabled {\n    background: cat-token('color.ui.background.muted');\n    cursor: not-allowed;\n    color: cat-token('color.ui.font.muted');\n  }\n\n  &:not(.input-disabled):hover {\n    box-shadow:\n      inset 0 0 0 1px rgb(var(--border-color)),\n      0 0 0 1px rgb(var(--border-color));\n  }\n\n  &:focus-within {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: -1px;\n\n    &:has(.clearable:focus) {\n      outline: none;\n    }\n  }\n\n  &.input-invalid {\n    --border-color: #{cat-token('color.theme.danger.bg', 0.2, $wrap: false)};\n  }\n\n  /* stylelint-disable property-no-vendor-prefix */\n  &:has(input:-webkit-autofill) {\n    &,\n    &:hover,\n    &:focus {\n      background-color: cat-token('color.ui.background.inputAutofill');\n    }\n  }\n  /* stylelint-enable property-no-vendor-prefix */\n}\n\n.tag-pill {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.25rem 0.5rem;\n  background: cat-token('color.ui.background.muted');\n  border-radius: cat-border-radius('s');\n  white-space: nowrap;\n  min-width: 0;\n\n  > span {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    flex: 1 1 0;\n  }\n\n  > cat-button {\n    margin-right: -0.25rem;\n    margin-left: -0.25rem;\n  }\n}\n\n.icon-suffix {\n  align-self: center;\n}\n\n.input-inner-wrapper {\n  flex: 1 1 auto;\n  display: flex;\n}\n","import { Component, Host, h, State, Prop, Event, EventEmitter, Listen, Element, Watch } from '@stencil/core';\nimport { coerceBoolean, coerceNumber } from '../../utils/coerce';\nimport { CatFormHint, ErrorMap } from '../cat-form-hint/cat-form-hint';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\nlet nextUniqueId = 0;\n\n@Component({\n  tag: 'cat-tag',\n  styleUrl: 'cat-tag.scss',\n  shadow: true\n})\nexport class CatTag {\n  private readonly _id = `cat-input-${nextUniqueId++}`;\n\n  private input?: HTMLInputElement;\n  private errorMapSrc?: ErrorMap;\n\n  private get id() {\n    return this.identifier || this._id;\n  }\n\n  private get invalid() {\n    return !!Object.keys(this.errorMap || {}).length;\n  }\n\n  private get hasHint() {\n    return !!this.hint || this.invalid;\n  }\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n  @State() hasSlottedHint = false;\n\n  @State() tags: string[] = [];\n\n  @State() errorMap?: ErrorMap;\n\n  /**\n   * Whether the label need a marker to shown if the select is required or optional.\n   */\n  @Prop() requiredMarker?: 'none' | 'required' | 'optional' | 'none!' | 'optional!' | 'required!' = 'optional';\n\n  /**\n   * Whether the select is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * The placeholder text to display within the select.\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * Optional hint text(s) to be displayed with the select.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label for the select.\n   */\n  @Prop() label = '';\n\n  /**\n   * The name of the form control. Submitted with the form as part of a name/value pair.\n   */\n  @Prop() name?: string;\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A value is required or must be checked for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * The value of the control.\n   */\n  @Prop({ mutable: true }) value?: string[];\n\n  /**\n   * Whether the input should show a clear button.\n   */\n  @Prop() clearable = false;\n\n  /**\n   * The validation errors for this input. Will render a hint under the input\n   * with the translated error message(s) `error.${key}`. If an object is\n   * passed, the keys will be used as error keys and the values translation\n   * parameters.\n   * If the value is `true`, the input will be marked as invalid without any\n   * hints under the input.\n   */\n  @Prop() errors?: boolean | string[] | ErrorMap;\n\n  /**\n   * Fine-grained control over when the errors are shown. Can be `false` to\n   * never show errors, `true` to show errors on blur, or a number to show\n   * errors on change with the given delay in milliseconds.\n   */\n  @Prop() errorUpdate: boolean | number = 0;\n\n  /**\n   * List of characters that should create a new tag. This need to be comparable to `keydownEvent.key`.\n   * Pasted values will also be split by those chars.\n   * Defaults to `[' ']`.\n   */\n  @Prop() tagCreationChars: string[] = [' '];\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter<string[]>;\n\n  /**\n   * Emitted when the input received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the input loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  @Listen('keydown')\n  onKeyDown(event: KeyboardEvent): void {\n    const isInputFocused = this.hostElement.shadowRoot?.activeElement === this.input;\n    if (['Enter', ...this.tagCreationChars].includes(event.key) && isInputFocused) {\n      event.preventDefault();\n      if (this.input?.value.trim() && !this.value?.includes(this.input?.value.trim())) {\n        this.value = [...(this.value ?? []), this.input.value.trim()];\n        this.catChange.emit(this.value);\n      }\n      if (this.input) {\n        this.input.value = '';\n      }\n    } else if (\n      ['Backspace'].includes(event.key) &&\n      this.input?.selectionStart === 0 &&\n      (this.value?.length ?? 0) > 0 &&\n      isInputFocused\n    ) {\n      this.value = this.value?.slice(0, -1) ?? [];\n      this.catChange.emit(this.value);\n    }\n  }\n\n  @Watch('errors')\n  onErrorsChanged(value?: boolean | string[] | ErrorMap) {\n    if (!coerceBoolean(this.errorUpdate)) {\n      this.errorMap = undefined;\n    } else {\n      this.errorMapSrc = Array.isArray(value)\n        ? (value as string[]).reduce((acc, err) => ({ ...acc, [err]: undefined }), {})\n        : value === true\n          ? {}\n          : value || undefined;\n      this.showErrorsIfTimeout() || this.showErrorsIfNoFocus();\n    }\n  }\n\n  componentWillRender(): void {\n    this.onErrorsChanged(this.errors);\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n  }\n\n  render() {\n    return (\n      <Host>\n        <div class={{ 'label-container': true, hidden: this.labelHidden }}>\n          {(this.hasSlottedLabel || this.label) && (\n            <label htmlFor={`tags-${this.id}-input`} part=\"label\">\n              <span class=\"label-wrapper\">\n                {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n                <div class=\"label-metadata\">\n                  {!this.required && (this.requiredMarker ?? 'optional').startsWith('optional') && (\n                    <span class=\"label-optional\" aria-hidden=\"true\">\n                      ({i18n.t('input.optional')})\n                    </span>\n                  )}\n                  {this.required && this.requiredMarker?.startsWith('required') && (\n                    <span class=\"label-optional\" aria-hidden=\"true\">\n                      ({i18n.t('input.required')})\n                    </span>\n                  )}\n                </div>\n              </span>\n            </label>\n          )}\n        </div>\n        <div class={{ 'input-wrapper': true, 'input-disabled': this.disabled, 'input-invalid': this.invalid }}>\n          {this.value?.map(value => (\n            <div class=\"tag-pill\">\n              <span>{value}</span>\n              {!this.disabled && (\n                <cat-button\n                  size=\"xs\"\n                  variant=\"text\"\n                  icon=\"$cat:select-clear\"\n                  iconOnly\n                  a11yLabel={i18n.t('select.deselect')}\n                  onClick={() => this.deselect(value)}\n                  tabIndex={-1}\n                ></cat-button>\n              )}\n            </div>\n          ))}\n          <div class=\"input-inner-wrapper\">\n            <input\n              {...this.nativeAttributes}\n              part=\"input\"\n              id={`tags-${this.id}-input`}\n              class=\"tags-input\"\n              role=\"combobox\"\n              ref={el => (this.input = el)}\n              aria-invalid={this.invalid ? 'true' : undefined}\n              aria-describedby={this.hasHint ? this.id + '-hint' : undefined}\n              onInput={this.onInput.bind(this)}\n              placeholder={this.placeholder}\n              disabled={this.disabled}\n            ></input>\n            {this.clearable && !this.disabled && (this.value?.length ?? 0) > 0 && (\n              <cat-button\n                class=\"clearable\"\n                icon=\"$cat:input-close\"\n                icon-only=\"true\"\n                size=\"s\"\n                variant=\"text\"\n                a11y-label={i18n.t('input.clear')}\n                onClick={this.clear.bind(this)}\n                data-dropdown-no-close\n              ></cat-button>\n            )}\n            {this.invalid && <cat-icon icon=\"$cat:input-error\" class=\"icon-suffix cat-text-danger\" size=\"l\"></cat-icon>}\n          </div>\n        </div>\n        {this.hasHint && (\n          <CatFormHint\n            id={this.id}\n            hint={this.hint}\n            slottedHint={this.hasSlottedHint && <slot name=\"hint\"></slot>}\n            errorMap={this.errorMap}\n          />\n        )}\n      </Host>\n    );\n  }\n\n  private onInput() {\n    const currentValue = [\n      ...new Set(this.input?.value?.split(this.createSplitRegex(this.tagCreationChars)) ?? [])\n    ].filter(value => !!value && !this.value?.includes(value));\n    if (currentValue.length > 1) {\n      this.value = [...(this.value ?? []), ...currentValue];\n      this.catChange.emit(this.value);\n      if (this.input) {\n        this.input.value = '';\n      }\n    }\n  }\n\n  private clear() {\n    this.value = [];\n    this.catChange.emit(this.value);\n    if (this.input) {\n      this.input.value = '';\n    }\n  }\n\n  private deselect(value: string) {\n    this.value = this.value?.filter(element => element !== value);\n  }\n\n  private showErrors() {\n    this.errorMap = this.errorMapSrc;\n  }\n\n  private errorUpdateTimeoutId?: number;\n  private showErrorsIfTimeout() {\n    const errorUpdate = coerceNumber(this.errorUpdate, null);\n    if (errorUpdate !== null) {\n      typeof this.errorUpdateTimeoutId === 'number' && window.clearTimeout(this.errorUpdateTimeoutId);\n      this.errorUpdateTimeoutId = window.setTimeout(() => this.showErrors(), errorUpdate);\n      return true;\n    }\n    return false;\n  }\n\n  private showErrorsIfNoFocus() {\n    const hasFocus = document.activeElement === this.hostElement || document.activeElement === this.input;\n    if (!hasFocus) {\n      this.showErrors();\n    }\n  }\n\n  private createSplitRegex(delimiters: string[]): RegExp {\n    // Escape special regex characters in the array\n    const escapedDelimiters = delimiters.map(delimiter => delimiter.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'));\n\n    // Add newline characters to the list of delimiters\n    escapedDelimiters.push('\\\\n', '\\\\r');\n\n    // Join the escaped delimiters to create a character class\n    const regexPattern = `[${escapedDelimiters.join('')}]`;\n\n    // Return a new RegExp object with the global flag for splitting\n    return new RegExp(regexPattern, 'g');\n  }\n}\n","var e=new Map;function t(t){var o=e.get(t);o&&o.destroy()}function o(t){var o=e.get(t);o&&o.update()}var r=null;\"undefined\"==typeof window?((r=function(e){return e}).destroy=function(e){return e},r.update=function(e){return e}):((r=function(t,o){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return function(t){if(t&&t.nodeName&&\"TEXTAREA\"===t.nodeName&&!e.has(t)){var o,r=null,n=window.getComputedStyle(t),i=(o=t.value,function(){a({testForHeightReduction:\"\"===o||!t.value.startsWith(o),restoreTextAlign:null}),o=t.value}),l=function(o){t.removeEventListener(\"autosize:destroy\",l),t.removeEventListener(\"autosize:update\",s),t.removeEventListener(\"input\",i),window.removeEventListener(\"resize\",s),Object.keys(o).forEach(function(e){return t.style[e]=o[e]}),e.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,textAlign:t.style.textAlign,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener(\"autosize:destroy\",l),t.addEventListener(\"autosize:update\",s),t.addEventListener(\"input\",i),window.addEventListener(\"resize\",s),t.style.overflowX=\"hidden\",t.style.wordWrap=\"break-word\",e.set(t,{destroy:l,update:s}),s()}function a(e){var o,i,l=e.restoreTextAlign,s=void 0===l?null:l,d=e.testForHeightReduction,u=void 0===d||d,c=n.overflowY;if(0!==t.scrollHeight&&(\"vertical\"===n.resize?t.style.resize=\"none\":\"both\"===n.resize&&(t.style.resize=\"horizontal\"),u&&(o=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push([e.parentNode,e.parentNode.scrollTop]),e=e.parentNode;return function(){return t.forEach(function(e){var t=e[0],o=e[1];t.style.scrollBehavior=\"auto\",t.scrollTop=o,t.style.scrollBehavior=null})}}(t),t.style.height=\"\"),i=\"content-box\"===n.boxSizing?t.scrollHeight-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)):t.scrollHeight+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),\"none\"!==n.maxHeight&&i>parseFloat(n.maxHeight)?(\"hidden\"===n.overflowY&&(t.style.overflow=\"scroll\"),i=parseFloat(n.maxHeight)):\"hidden\"!==n.overflowY&&(t.style.overflow=\"hidden\"),t.style.height=i+\"px\",s&&(t.style.textAlign=s),o&&o(),r!==i&&(t.dispatchEvent(new Event(\"autosize:resized\",{bubbles:!0})),r=i),c!==n.overflow&&!s)){var v=n.textAlign;\"hidden\"===n.overflow&&(t.style.textAlign=\"start\"===v?\"end\":\"start\"),a({restoreTextAlign:v,testForHeightReduction:!0})}}function s(){a({testForHeightReduction:!0,restoreTextAlign:null})}}(t)}),t}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],t),e},r.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e});var n=r;export default n;\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n@use 'utils/color';\n@use '_snippets/form-label';\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  @include cat-body('m');\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.textarea-field,\n.textarea-container {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  flex: 1 1 auto;\n}\n\n.textarea-field.textarea-horizontal {\n  flex-direction: row;\n  gap: 1rem;\n}\n\n.textarea-readonly {\n  pointer-events: none;\n}\n\n.textarea-wrapper {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}\n\n.icon-suffix {\n  position: absolute;\n  top: calc(0.625rem - 2px);\n  right: 0.75rem;\n  background: cat-token('color.ui.background.input', 0.75);\n  border-radius: 100rem;\n\n  .textarea-disabled & {\n    background: cat-token('color.ui.background.muted', 0.75);\n  }\n}\n\ntextarea {\n  margin: 0;\n  padding: 0.625rem 0.75rem;\n  box-sizing: border-box;\n  min-height: form-label.$cat-input-height;\n  font: inherit;\n  background: cat-token('color.ui.background.input');\n  border-radius: cat-border-radius('m');\n  border: none;\n  box-shadow: inset 0 0 0 1px rgb(var(--border-color));\n  transition: box-shadow cat-token('time.transition.s') linear;\n  resize: vertical;\n  --border-color: #{cat-token('color.ui.border.dark', $wrap: false)};\n\n  &:disabled {\n    background: cat-token('color.ui.background.muted');\n    cursor: not-allowed;\n    color: cat-token('color.ui.font.muted');\n    resize: none;\n  }\n\n  &:not(:disabled):hover {\n    box-shadow:\n      inset 0 0 0 1px rgb(var(--border-color)),\n      0 0 0 1px rgb(var(--border-color));\n  }\n\n  &:focus {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: -1px;\n  }\n\n  .textarea-invalid & {\n    --border-color: #{cat-token('color.theme.danger.bg', 0.2, $wrap: false)};\n  }\n\n  &::placeholder {\n    color: cat-token('color.ui.font.muted');\n  }\n\n  /* stylelint-disable property-no-vendor-prefix */\n  &:-webkit-autofill {\n    &,\n    &:hover,\n    &:focus {\n      -webkit-box-shadow: 0 0 0 9999px cat-token('color.ui.background.inputAutofill') inset;\n    }\n  }\n  /* stylelint-enable property-no-vendor-prefix */\n}\n","import { Component, Element, Event, EventEmitter, h, Host, Method, Prop, State, Watch } from '@stencil/core';\nimport autosize from 'autosize';\nimport { coerceBoolean, coerceNumber } from '../../utils/coerce';\nimport { CatFormHint, ErrorMap } from '../cat-form-hint/cat-form-hint';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\nlet nextUniqueId = 0;\n\n/**\n * Textarea specifies a control that allows user to write text over multiple\n * rows. Used when the expected user input is long. For shorter input, use the\n * input component.\n *\n * @slot hint - Optional hint element to be displayed with the textarea.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part label - The native label element.\n * @part textarea - The native textarea element.\n */\n@Component({\n  tag: 'cat-textarea',\n  styleUrl: 'cat-textarea.scss',\n  shadow: true\n})\nexport class CatTextarea {\n  private readonly _id = `cat-textarea-${nextUniqueId++}`;\n  private get id() {\n    return this.identifier || this._id;\n  }\n\n  private textarea!: HTMLTextAreaElement;\n  private errorMapSrc?: ErrorMap;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  @State() hasSlottedHint = false;\n\n  @State() errorMap?: ErrorMap;\n\n  /**\n   * Whether the label need a marker to shown if the textarea is required or optional.\n   */\n  @Prop() requiredMarker?: 'none' | 'required' | 'optional' | 'none!' | 'optional!' | 'required!' = 'optional';\n\n  /**\n   * Whether the label is on top or left.\n   */\n  @Prop() horizontal = false;\n\n  /**\n   * Whether the textarea is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Optional hint text(s) to be displayed with the textarea.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label for the textarea.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A maximum length (number of characters) for textual values.\n   */\n  @Prop() maxLength?: number;\n\n  /**\n   * A minimum length (number of characters) for textual values.\n   */\n  @Prop() minLength?: number;\n\n  /**\n   * The name of the form control. Submitted with the form as part of a name/value pair.\n   */\n  @Prop() name?: string;\n\n  /**\n   * The placeholder text to display within the input.\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * The value is not editable.\n   */\n  @Prop() readonly = false;\n\n  /**\n   * A value is required or must be check for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * Specifies the initial number of lines in the textarea.\n   */\n  @Prop() rows = 3;\n\n  /**\n   * The initial value of the control.\n   */\n  @Prop({ mutable: true }) value?: string;\n\n  /**\n   * The validation errors for this input. Will render a hint under the input\n   * with the translated error message(s) `error.${key}`. If an object is\n   * passed, the keys will be used as error keys and the values translation\n   * parameters.\n   * If the value is `true`, the input will be marked as invalid without any\n   * hints under the input.\n   */\n  @Prop() errors?: boolean | string[] | ErrorMap;\n\n  /**\n   * Fine-grained control over when the errors are shown. Can be `false` to\n   * never show errors, `true` to show errors on blur, or a number to show\n   * errors on change with the given delay in milliseconds.\n   */\n  @Prop() errorUpdate: boolean | number = 0;\n\n  /**\n   * Attributes that will be added to the native HTML textarea element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter<string>;\n\n  /**\n   * Emitted when the textarea received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the textarea loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillRender(): void {\n    this.onErrorsChanged(this.errors);\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n  }\n\n  componentDidLoad(): void {\n    autosize(this.textarea);\n  }\n\n  /**\n   * Programmatically move focus to the textarea. Use this method instead of\n   * `textarea.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this.textarea.focus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the textarea. Use this method instead of\n   * `textarea.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.textarea.blur();\n  }\n\n  /**\n   * Clear the textarea.\n   */\n  @Method()\n  async clear(): Promise<void> {\n    this.value = '';\n    this.catChange.emit(this.value);\n  }\n\n  @Watch('errors')\n  onErrorsChanged(value?: boolean | string[] | ErrorMap) {\n    if (!coerceBoolean(this.errorUpdate)) {\n      this.errorMap = undefined;\n    } else {\n      this.errorMapSrc = Array.isArray(value)\n        ? (value as string[]).reduce((acc, err) => ({ ...acc, [err]: undefined }), {})\n        : value === true\n          ? {}\n          : value || undefined;\n      this.showErrorsIfTimeout() || this.showErrorsIfNoFocus();\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <div\n          class={{\n            'textarea-field': true,\n            'textarea-horizontal': this.horizontal\n          }}\n        >\n          <div class={{ 'label-container': true, hidden: this.labelHidden }}>\n            {(this.hasSlottedLabel || this.label) && (\n              <label htmlFor={this.id} part=\"label\">\n                <span class=\"label-wrapper\">\n                  {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n                  <div class=\"label-metadata\">\n                    {!this.required && (this.requiredMarker ?? 'optional').startsWith('optional') && (\n                      <span class=\"label-optional\" aria-hidden=\"true\">\n                        ({i18n.t('input.optional')})\n                      </span>\n                    )}\n                    {this.required && this.requiredMarker?.startsWith('required') && (\n                      <span class=\"label-optional\" aria-hidden=\"true\">\n                        ({i18n.t('input.required')})\n                      </span>\n                    )}\n                    {this.maxLength && (\n                      <div class=\"label-character-count\" aria-hidden=\"true\">\n                        {this.value?.length ?? 0}/{this.maxLength}\n                      </div>\n                    )}\n                  </div>\n                </span>\n              </label>\n            )}\n          </div>\n          <div class=\"textarea-container\">\n            <div\n              class={{\n                'textarea-wrapper': true,\n                'textarea-readonly': this.readonly,\n                'textarea-disabled': this.disabled,\n                'textarea-invalid': this.invalid\n              }}\n            >\n              <textarea\n                {...this.nativeAttributes}\n                part=\"textarea\"\n                ref={el => (this.textarea = el as HTMLTextAreaElement)}\n                id={this.id}\n                disabled={this.disabled}\n                maxlength={this.maxLength}\n                minlength={this.minLength}\n                name={this.name}\n                placeholder={this.placeholder}\n                readonly={this.readonly}\n                required={this.required}\n                rows={this.rows}\n                value={this.value}\n                onInput={this.onInput.bind(this)}\n                onFocus={this.onFocus.bind(this)}\n                onBlur={this.onBlur.bind(this)}\n                aria-invalid={this.invalid ? 'true' : undefined}\n                aria-describedby={this.hasHint ? this.id + '-hint' : undefined}\n              ></textarea>\n              {this.invalid && (\n                <cat-icon\n                  icon=\"$cat:input-error\"\n                  class=\"icon-suffix cat-text-danger\"\n                  size=\"l\"\n                  onClick={() => this.textarea.focus()}\n                ></cat-icon>\n              )}\n            </div>\n            {this.hasHint && (\n              <CatFormHint\n                id={this.id}\n                hint={this.hint}\n                slottedHint={this.hasSlottedHint && <slot name=\"hint\"></slot>}\n                errorMap={this.errorMap}\n              />\n            )}\n          </div>\n        </div>\n      </Host>\n    );\n  }\n\n  private get hasHint() {\n    return !!this.hint || !!this.hasSlottedHint || this.invalid;\n  }\n\n  private get invalid() {\n    return !!Object.keys(this.errorMap || {}).length;\n  }\n\n  private onInput() {\n    this.value = this.textarea.value;\n    this.catChange.emit(this.value);\n    this.showErrorsIfTimeout();\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n    if (coerceBoolean(this.errorUpdate)) {\n      this.showErrors();\n    }\n  }\n\n  private showErrors() {\n    this.errorMap = this.errorMapSrc;\n  }\n\n  private errorUpdateTimeoutId?: number;\n  private showErrorsIfTimeout() {\n    const errorUpdate = coerceNumber(this.errorUpdate, null);\n    if (errorUpdate !== null) {\n      typeof this.errorUpdateTimeoutId === 'number' && window.clearTimeout(this.errorUpdateTimeoutId);\n      this.errorUpdateTimeoutId = window.setTimeout(() => this.showErrors(), errorUpdate);\n      return true;\n    }\n    return false;\n  }\n\n  private showErrorsIfNoFocus() {\n    const hasFocus = document.activeElement === this.hostElement || document.activeElement === this.textarea;\n    if (!hasFocus) {\n      this.showErrors();\n    }\n  }\n}\n","import { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\nexport function getHour12(language: string): boolean {\n  const dateStr = new Intl.DateTimeFormat(language, { hour: '2-digit', minute: '2-digit' })\n    .format(new Date())\n    .toLowerCase();\n  return dateStr.includes('am') || dateStr.includes('pm');\n}\n\nexport function getLocale(language: string) {\n  return {\n    change: i18n.t('timepicker.change'),\n    choose: i18n.t('timepicker.choose'),\n    timeFormat: getHour12(language) ? '12' : '24'\n  };\n}\n\nexport function formatIso(date: Date) {\n  return `${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`;\n}\n","export function clampTime(min: string | null, date: Date, max: string | null): Date {\n  const [, hhMin, mmMin] = min?.match(/(\\d{2}):(\\d{2})/)?.map(Number) ?? [];\n  const [, hhMax, mmMax] = max?.match(/(\\d{2}):(\\d{2})/)?.map(Number) ?? [];\n  let minTime = -Infinity;\n  let maxTime = Infinity;\n  if (hhMin !== undefined && mmMin !== undefined) {\n    minTime = new Date(date.getFullYear(), date.getMonth(), date.getDate(), hhMin, mmMin).getTime();\n  }\n  if (hhMax !== undefined && mmMax !== undefined) {\n    maxTime = new Date(date.getFullYear(), date.getMonth(), date.getDate(), hhMax, mmMax).getTime();\n  }\n  return new Date(Math.min(Math.max(date.getTime(), minTime), maxTime));\n}\n\nexport function isBefore(date: Date, time: string | null): boolean {\n  const [, hh, mm] = time?.match(/(\\d{2}):(\\d{2})/)?.map(Number) ?? [];\n  if (hh === undefined || mm === undefined) {\n    return false;\n  }\n  return date.getHours() < hh || (date.getHours() === hh && date.getMinutes() < mm);\n}\n\nexport function isAfter(date: Date, time: string | null): boolean {\n  const [, hh, mm] = time?.match(/(\\d{2}):(\\d{2})/)?.map(Number) ?? [];\n  if (hh === undefined || mm === undefined) {\n    return false;\n  }\n  return date.getHours() > hh || (date.getHours() === hh && date.getMinutes() > mm);\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n:host {\n  display: block;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.label-aria {\n  @include cat-visually-hidden;\n}\n\n.cat-time-addon {\n  margin-left: -1px;\n}\n\nnav {\n  max-height: 16rem;\n\n  ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n}\n\n.time-disabled {\n  opacity: 0.25;\n}\n","import { Placement } from '@floating-ui/dom';\nimport { Component, Element, Event, EventEmitter, Host, Listen, Method, Prop, State, Watch, h } from '@stencil/core';\nimport { ErrorMap } from '../cat-form-hint/cat-form-hint';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\nimport { formatIso, getLocale } from './cat-time-locale';\nimport { clampTime, isAfter, isBefore } from './cat-time-math';\n\n/**\n * A time input component to select a time in a dropdown.\n */\n@Component({\n  tag: 'cat-time',\n  styleUrl: 'cat-time.scss',\n  shadow: true\n})\nexport class CatTime {\n  private readonly language = i18n.getLocale();\n  private readonly locale = getLocale(this.language);\n  private input?: HTMLCatInputElement;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  @State() hasSlottedHint = false;\n\n  @State() selectionTime: Date | null = null;\n\n  @State() isAm = true;\n\n  @State() valueChangedBySelection = false;\n\n  /**\n   * Whether the label need a marker to shown if the input is required or optional.\n   */\n  @Prop() requiredMarker?: 'none' | 'required' | 'optional' | 'none!' | 'optional!' | 'required!' = 'optional';\n\n  /**\n   * Whether the label is on top or left.\n   */\n  @Prop() horizontal = false;\n\n  /**\n   * Hint for form autofill feature.\n   */\n  @Prop() autoComplete?: string;\n\n  /**\n   * Whether the input should show a clear button.\n   */\n  @Prop() clearable = false;\n\n  /**\n   * Whether the input is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Optional hint text(s) to be displayed with the input.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * The name of an icon to be displayed in the input.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * Display the icon on the right.\n   */\n  @Prop() iconRight = false;\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label for the input.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A maximum time value given in HH:mm format.\n   */\n  @Prop() max?: string;\n\n  /**\n   * A minimum value given in HH:mm format.\n   */\n  @Prop() min?: string;\n\n  /**\n   * The name of the form control. Submitted with the form as part of a name/value pair.\n   */\n  @Prop() name?: string;\n\n  /**\n   * The placeholder text to display within the input.\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * A textual prefix to be displayed in the input.\n   */\n  @Prop() textPrefix?: string;\n\n  /**\n   * A textual suffix to be displayed in the input.\n   */\n  @Prop() textSuffix?: string;\n\n  /**\n   * The value is not editable.\n   */\n  @Prop() readonly = false;\n\n  /**\n   * A value is required or must be check for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * The value of the control given in HH:mm format\n   */\n  @Prop({ mutable: true }) value?: string;\n\n  /**\n   * The validation errors for this input. Will render a hint under the input\n   * with the translated error message(s) `error.${key}`. If an object is\n   * passed, the keys will be used as error keys and the values translation\n   * parameters.\n   * If the value is `true`, the input will be marked as invalid without any\n   * hints under the input.\n   */\n  @Prop() errors?: boolean | string[] | ErrorMap;\n\n  /**\n   * Fine-grained control over when the errors are shown. Can be `false` to\n   * never show errors, `true` to show errors on blur, or a number to show\n   * errors on change with the given delay in milliseconds.\n   */\n  @Prop() errorUpdate: boolean | number = 0;\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * The placement of the dropdown.\n   */\n  @Prop() placement: Placement = 'bottom-end';\n\n  /**\n   * The step size for times in minutes.\n   */\n  @Prop() step = 30;\n\n  @Watch('min')\n  onMinChanged(min?: string, oldMin?: string) {\n    if (min !== oldMin) {\n      this.reclamp('min', min);\n    }\n  }\n\n  @Watch('max')\n  onMaxChanged(max?: string, oldMax?: string) {\n    if (max !== oldMax) {\n      this.reclamp('max', max);\n    }\n  }\n\n  @Watch('value')\n  onValueChanged(value: string, oldValue: string) {\n    if (this.valueChangedBySelection) {\n      this.valueChangedBySelection = false;\n    } else if (value !== oldValue) {\n      this.set12hFormat();\n      this.syncValue(value);\n    }\n  }\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter<string>;\n\n  /**\n   * Emitted when the input received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the input loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillLoad() {\n    this.set12hFormat();\n    this.syncValue(this.value ?? '');\n  }\n\n  componentWillRender(): void {\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n  }\n\n  componentDidLoad() {\n    this.input?.mask({\n      time: true,\n      timeFormat: this.locale.timeFormat,\n      timePattern: ['h', 'm']\n    });\n  }\n\n  @Listen('catOpen')\n  onOpen() {\n    const query = (selector: string) => this.hostElement.shadowRoot?.querySelector<HTMLCatButtonElement>(selector);\n    const time = clampTime(this.min ?? null, this.selectionTime ?? new Date(2000, 5, 1, 8), this.max ?? null);\n    const elem1 = query(`[data-time=\"${formatIso(time)}\"]`);\n    time.setMinutes(Math.floor(time.getMinutes() / this.step) * this.step);\n    const elem2 = query(`[data-time=\"${formatIso(time)}\"]`);\n    setTimeout(() => {\n      (elem2 ?? elem1)?.doFocus();\n      (elem2 ?? elem1)?.scrollIntoView(this.selectionTime ? { block: 'center' } : undefined);\n    }); // not entirely sure why this is necessary\n  }\n\n  /**\n   * Select a time in the picker.\n   *\n   * @param date The time to select.\n   */\n  @Method()\n  async select(date: Date | null): Promise<void> {\n    const oldValue = this.value;\n    let newValue = this.value;\n    if (!date) {\n      this.selectionTime = null;\n      this.value = undefined;\n    } else {\n      const time = clampTime(this.min ?? null, date, this.max ?? null);\n      this.isAm = this.format(time).toLowerCase().includes('am');\n      this.selectionTime = time;\n      newValue = formatIso(time);\n    }\n    // we need to set the input explicitly to sync the input even without a\n    // rerender (if the value is not changed)\n    if (this.input) {\n      this.input.value = this.format(this.selectionTime, false);\n    }\n    if (oldValue !== newValue) {\n      this.valueChangedBySelection = true;\n      this.value = newValue;\n      this.catChange.emit(this.value);\n    } else {\n      this.valueChangedBySelection = false;\n    }\n  }\n\n  /**\n   * Programmatically move focus to the input. Use this method instead of\n   * `input.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this.input?.doFocus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the input. Use this method instead of\n   * `input.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.input?.doBlur();\n  }\n\n  /**\n   * Clear the input.\n   */\n  @Method()\n  async clear(): Promise<void> {\n    this.input?.clear();\n  }\n\n  render() {\n    return (\n      <Host>\n        <cat-input\n          class=\"cat-time-input\"\n          ref={el => (this.input = el as HTMLCatInputElement)}\n          requiredMarker={this.requiredMarker}\n          horizontal={this.horizontal}\n          autoComplete={this.autoComplete}\n          clearable={this.clearable}\n          disabled={this.disabled}\n          hint={this.hint}\n          icon={this.icon}\n          iconRight={this.iconRight}\n          identifier={this.identifier}\n          label={this.label}\n          labelHidden={this.labelHidden}\n          name={this.name}\n          placeholder={this.placeholder}\n          textPrefix={this.textPrefix}\n          textSuffix={this.textSuffix}\n          readonly={this.readonly}\n          required={this.required}\n          value={this.format(this.selectionTime, false)}\n          errors={this.errors}\n          errorUpdate={this.errorUpdate}\n          nativeAttributes={this.nativeAttributes}\n          onCatFocus={e => this.catFocus.emit(e.detail)}\n          onCatBlur={e => this.onInputBlur(e.detail)}\n        >\n          <span slot=\"label\">\n            {this.hasSlottedLabel && <slot name=\"label\"></slot>}\n            {!this.hasSlottedLabel && this.label}\n            <span class=\"label-aria\"> (HH:mm)</span>\n          </span>\n          <div slot=\"addon\" class=\"cat-time-addon\">\n            {this.locale.timeFormat === '12' && (\n              <cat-button\n                class=\"cat-time-format\"\n                disabled={this.disabled || this.readonly}\n                onCatClick={() => this.toggleAm()}\n              >\n                {this.isAm ? 'AM' : 'PM'}\n              </cat-button>\n            )}\n            <cat-dropdown slot=\"addon\" placement={this.placement}>\n              <cat-button\n                slot=\"trigger\"\n                class=\"cat-time-toggle\"\n                disabled={this.disabled || this.readonly}\n                icon=\"$cat:timepicker-clock\"\n                iconOnly\n                a11yLabel={\n                  this.selectionTime ? `${this.locale.change}, ${this.format(this.selectionTime)}` : this.locale.choose\n                }\n              ></cat-button>\n              <nav slot=\"content\" class=\"cat-nav\">\n                <ul>\n                  {this.timeArray().map(time => {\n                    const isoTime = formatIso(time);\n                    const disabled = isBefore(time, this.min ?? null) || isAfter(time, this.max ?? null);\n                    return (\n                      <li>\n                        <cat-button\n                          class={{\n                            'cat-nav-item': true,\n                            'time-disabled': disabled\n                          }}\n                          disabled={disabled}\n                          active={isoTime === this.value}\n                          color={isoTime === this.value ? 'primary' : 'secondary'}\n                          variant={isoTime === this.value ? 'filled' : 'outlined'}\n                          onCatClick={() => this.select(time)}\n                          data-time={isoTime}\n                        >\n                          {this.format(time)}\n                        </cat-button>\n                      </li>\n                    );\n                  })}\n                </ul>\n              </nav>\n            </cat-dropdown>\n          </div>\n          {this.hasSlottedHint && (\n            <span slot=\"hint\">\n              <slot name=\"hint\"></slot>\n            </span>\n          )}\n        </cat-input>\n      </Host>\n    );\n  }\n\n  private timeArray() {\n    const result = [];\n    const start = new Date(2000, 5, 1, 0, 0, 0);\n    let time = new Date(start.getTime());\n    while (time.getDate() === start.getDate()) {\n      result.push(time);\n      time = new Date(time.getTime() + this.step * 60000);\n    }\n    return result;\n  }\n\n  private syncValue(value: string) {\n    const [, hh, mm] = value.match(/(\\d{2}):(\\d{2})/)?.map(Number) ?? [];\n    if (hh === undefined || mm === undefined) {\n      this.select(null);\n      return;\n    }\n\n    this.select(\n      this.locale.timeFormat === '24'\n        ? new Date(2000, 5, 1, hh, mm, 0)\n        : new Date(2000, 5, 1, (hh % 12) + (this.isAm ? 0 : 12), mm, 0)\n    );\n  }\n\n  private set12hFormat() {\n    const [, hh] = this.value?.match(/(\\d{2}):(\\d{2})/)?.map(Number) ?? [];\n    if (this.locale.timeFormat === '12') {\n      this.isAm = hh === 0 || hh < 12;\n    }\n  }\n\n  private toggleAm() {\n    if (this.selectionTime) {\n      this.select(new Date(this.selectionTime.getTime() + (this.isAm ? 12 : -12) * 3600000));\n    } else {\n      this.isAm = !this.isAm;\n    }\n  }\n\n  private onInputBlur(e: FocusEvent) {\n    this.syncValue(this.input?.value ?? '');\n    this.catBlur.emit(e);\n  }\n\n  private format(date: Date | null, includeAmPm = true) {\n    const str = date\n      ? new Intl.DateTimeFormat(this.language, {\n          hour: '2-digit',\n          minute: '2-digit'\n        }).format(date)\n      : '';\n    return includeAmPm ? str : str.replace(/\\s?(am|pm)/i, '');\n  }\n\n  private reclamp(mode: 'min' | 'max', limit: string | undefined) {\n    if (!this.value) return;\n    const min = (mode === 'min' ? limit : this.min) ?? null;\n    const max = (mode === 'max' ? limit : this.max) ?? null;\n    const [match, hh, mm] = this.value.match(/(\\d{2}):(\\d{2})/) ?? [];\n    const newValue = match ? formatIso(clampTime(min, new Date(2000, 5, 1, Number(hh), Number(mm)), max)) : undefined;\n    if (this.value !== newValue) {\n      this.syncValue(newValue ?? '');\n      this.catChange.emit(newValue);\n    }\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n\n$toggle-width: 2rem;\n$toggle-height: 1.25rem;\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nlabel {\n  flex: 0 1 auto;\n  display: flex;\n  gap: 0.5rem;\n  @include cat-body('m');\n  @include cat-select(none);\n  cursor: pointer;\n}\n\n.label-left {\n  flex-direction: row-reverse;\n}\n\ninput {\n  position: absolute;\n  margin: 0;\n  width: $toggle-width;\n  height: $toggle-height;\n  opacity: 0;\n  cursor: inherit;\n}\n\n.toggle-placeholder {\n  width: calc($toggle-width + 1px);\n  flex-shrink: 0;\n}\n\n.toggle {\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  width: $toggle-width;\n  height: $toggle-height;\n  border-radius: 10rem;\n  background-color: cat-token('color.ui.border.dark');\n  transition: background-color cat-token('time.transition.s') ease;\n  pointer-events: none;\n\n  :checked + & {\n    background-color: cat-token('color.theme.primary.bg');\n  }\n\n  :focus-visible + & {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: 1px;\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    width: 1rem;\n    height: 1rem;\n    background: #fff;\n    border-radius: 10rem;\n    transform: translateX(calc(2px - 0.5rem));\n    transition: transform cat-token('time.transition.s') linear;\n    @include cat-elevation(2);\n\n    :checked + & {\n      transform: translateX(calc(-2px + 0.5rem));\n      background: cat-token('color.theme.primary.fill');\n    }\n  }\n\n  .is-disabled & {\n    background-color: cat-token('color.ui.border.dark');\n  }\n}\n\n:host(.cat-error) {\n  .toggle {\n    background-color: cat-token('color.theme.danger.bg', 0.2);\n  }\n\n  :checked + .toggle {\n    background-color: cat-token('color.theme.danger.bg');\n\n    &::after {\n      background: cat-token('color.theme.danger.fill');\n    }\n  }\n}\n\n.label {\n  flex: 1 1 auto;\n\n  .is-hidden & {\n    @include cat-visually-hidden;\n  }\n}\n\n.is-disabled {\n  cursor: not-allowed;\n  color: cat-token('color.ui.font.muted');\n}\n\n.align-center {\n  align-items: center;\n}\n\n.align-end {\n  align-items: flex-end;\n}\n","import { Component, Element, Event, EventEmitter, h, Host, Method, Prop, State } from '@stencil/core';\nimport { CatFormHint } from '../cat-form-hint/cat-form-hint';\n\nlet nextUniqueId = 0;\n\n/**\n * Toggles are graphical interface switches that give user control over a\n * feature or option that can be turned on or off.\n *\n * @slot hint - Optional hint element to be displayed with the toggle.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part label - The label content.\n * @part input - The native input element.\n */\n@Component({\n  tag: 'cat-toggle',\n  styleUrls: ['cat-toggle.scss'],\n  shadow: true\n})\nexport class CatToggle {\n  private readonly _id = `cat-toggle-${nextUniqueId++}`;\n  private get id() {\n    return this.identifier || this._id;\n  }\n\n  private input!: HTMLInputElement;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  @State() hasSlottedHint = false;\n\n  /**\n   * Checked state of the toggle.\n   */\n  @Prop({ mutable: true }) checked = false;\n\n  /**\n   * Disabled state of the toggle.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label of the toggle that is visible.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * The name of the input.\n   */\n  @Prop() name?: string;\n\n  /**\n   * Required state of the toggle.\n   */\n  @Prop() required = false;\n\n  /**\n   * The value of the checked toggle.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Prop() value?: any;\n\n  /**\n   * The value of the unchecked toggle.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Prop() noValue?: any;\n\n  /**\n   * The resolved value of the toggle, based on the checked state, value and noValue.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Prop({ mutable: true }) resolvedValue: any = null;\n\n  /**\n   * Optional hint text(s) to be displayed with the toggle.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * Whether the label should appear to the left of the toggle.\n   */\n  @Prop() labelLeft = false;\n\n  /**\n   * The alignment of the checkbox.\n   */\n  @Prop() alignment: 'center' | 'top' | 'bottom' = 'top';\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * Emitted when the checked status of the toggle is changed.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  @Event() catChange!: EventEmitter<any>;\n\n  /**\n   * Emitted when the toggle received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the toggle loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillLoad() {\n    this.updateResolved();\n  }\n\n  componentWillRender(): void {\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n  }\n\n  /**\n   * Programmatically move focus to the toggle. Use this method instead of\n   * `input.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this.input.focus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the toggle. Use this method instead of\n   * `input.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.input.blur();\n  }\n\n  render() {\n    return (\n      <Host>\n        <label\n          htmlFor={this.id}\n          class={{\n            'is-hidden': this.labelHidden,\n            'is-disabled': this.disabled,\n            'label-left': this.labelLeft,\n            'align-center': this.alignment === 'center',\n            'align-end': this.alignment === 'bottom'\n          }}\n        >\n          <input\n            {...this.nativeAttributes}\n            part=\"input\"\n            ref={el => (this.input = el as HTMLInputElement)}\n            id={this.id}\n            type=\"checkbox\"\n            name={this.name}\n            value={this.value}\n            checked={this.checked}\n            required={this.required}\n            disabled={this.disabled}\n            class=\"form-check-input\"\n            role=\"switch\"\n            onInput={this.onInput.bind(this)}\n            onFocus={this.onFocus.bind(this)}\n            onBlur={this.onBlur.bind(this)}\n            aria-describedby={this.hasHint ? this.id + '-hint' : undefined}\n          />\n          <span class=\"toggle\"></span>\n          <span class=\"label\" part=\"label\">\n            {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n          </span>\n        </label>\n        {this.hasHint && (\n          <div class={{ 'hint-wrapper': true, 'label-left': this.labelLeft }}>\n            <div class=\"toggle-placeholder\"></div>\n            <CatFormHint id={this.id} hint={this.hint} slottedHint={this.hasSlottedHint && <slot name=\"hint\"></slot>} />\n          </div>\n        )}\n      </Host>\n    );\n  }\n\n  private get hasHint() {\n    return !!this.hint || !!this.hasSlottedHint;\n  }\n\n  private onInput() {\n    this.checked = this.input.checked;\n    this.updateResolved();\n    this.catChange.emit(this.resolvedValue);\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n  }\n\n  private updateResolved() {\n    this.resolvedValue = this.checked ? this.value ?? true : this.noValue ?? false;\n  }\n}\n","const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;\n\nexport default isTouchDevice;\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n$-max-width: 20rem;\n$-box-shadow: rgb(0 0 0 / 8%) 0 1px 8px 0;\n$-shift-padding: 0.25rem; // padding given to the shift() middleware\n\n:host {\n  display: contents;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.tooltip {\n  --cat-font-color-head: #{cat-token('color.ui.font.tooltip', $wrap: false)};\n  --cat-font-color-body: #{cat-token('color.ui.font.tooltip', $wrap: false)};\n  position: fixed;\n  width: max-content;\n  top: 0;\n  left: 0;\n  box-sizing: border-box;\n  @include cat-body('s', 500);\n  background-color: cat-token('color.ui.background.tooltip');\n  border-radius: cat-border-radius('m');\n  color: cat-token('color.ui.font.tooltip');\n  transition:\n    opacity cat-token('time.transition.m') linear,\n    visibility cat-token('time.transition.m') linear;\n  visibility: hidden;\n  opacity: 0;\n  box-shadow: $-box-shadow;\n  z-index: cat-z-index('tooltip');\n  max-width: min(calc(100vw - 2 * $-shift-padding), $-max-width);\n\n  &-hidden {\n    @include cat-visually-hidden;\n  }\n\n  &-show {\n    opacity: 1;\n    visibility: visible;\n  }\n\n  p {\n    margin: 0;\n  }\n}\n\n// ----- round\n\n.tooltip-round {\n  border-radius: 10rem;\n}\n\n// ----- size\n\n.tooltip-s {\n  padding: 0.375rem 0.5rem;\n\n  &.tooltip-round {\n    padding: 0.375rem 0.75rem;\n  }\n}\n\n.tooltip-m {\n  padding: 0.75rem;\n\n  &.tooltip-round {\n    padding: 0.75rem 1rem;\n  }\n}\n\n.tooltip-l {\n  padding: 1rem;\n\n  &.tooltip-round {\n    padding: 1rem 1.5rem;\n  }\n}\n","import { autoUpdate, computePosition, flip, offset, shift } from '@floating-ui/dom';\nimport { Placement } from '@floating-ui/utils';\nimport { Component, Element, h, Host, Listen, Prop, State } from '@stencil/core';\nimport isTouchScreen from '../../utils/is-touch-screen';\n\nlet nextUniqueId = 0;\n\nexport type TooltipPlacement = Placement;\n\n/**\n * Tooltips display additional information when the user hovers over or\n * interacts with a trigger element. The tooltip can be customized with\n * different placements, sizes, and styles.\n */\n@Component({\n  tag: 'cat-tooltip',\n  styleUrl: 'cat-tooltip.scss',\n  shadow: true\n})\nexport class CatTooltip {\n  private static readonly OFFSET = 4;\n  private static readonly SHIFT_PADDING = 4;\n  private readonly id = `cat-tooltip-${nextUniqueId++}`;\n  private tooltip?: HTMLElement;\n  private trigger?: Element;\n  private showTimeout?: number;\n  private hideTimeout?: number;\n  private touchTimeout?: number;\n  private inactive = false;\n  private cleanupFloatingUi?: () => void;\n\n  private readonly boundShowListener: () => void;\n  private readonly boundHideListener: () => void;\n  private readonly boundWindowTouchStartListener: () => void;\n  private readonly boundTouchStartListener: (event: Event) => void;\n  private readonly boundTouchEndListener: () => void;\n\n  constructor() {\n    this.boundShowListener = this.showListener.bind(this);\n    this.boundHideListener = this.hideListener.bind(this);\n    this.boundWindowTouchStartListener = this.windowTouchStartListener.bind(this);\n    this.boundTouchStartListener = this.touchStartListener.bind(this);\n    this.boundTouchEndListener = this.touchEndListener.bind(this);\n  }\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() open = false;\n\n  /**\n   * The content of the tooltip.\n   */\n  @Prop() content = '';\n\n  /**\n   * Specifies that the tooltip should be disabled. A disabled tooltip is unusable,\n   * and invisible. Corresponds with the native HTML disabled attribute.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * The placement of the tooltip.\n   */\n  @Prop() placement: TooltipPlacement = 'top';\n\n  /**\n   * Use round tooltip edges.\n   */\n  @Prop() round = false;\n\n  /**\n   * The size of the tooltip.\n   */\n  @Prop() size: 's' | 'm' | 'l' = 'm';\n\n  /**\n   * The delay time for showing tooltip in ms.\n   */\n  @Prop() showDelay = 250;\n\n  /**\n   * The delay time for hiding tooltip in ms.\n   */\n  @Prop() hideDelay = 0;\n\n  /**\n   * The duration of tap to show the tooltip.\n   */\n  @Prop() longTouchDuration = 1000;\n\n  @Listen('keydown', { target: 'window' })\n  handleKeyDown({ key }: KeyboardEvent) {\n    key === 'Escape' && this.hideTooltip();\n  }\n\n  componentDidLoad(): void {\n    const slot = this.hostElement.shadowRoot?.querySelector('slot');\n    this.trigger = slot?.assignedElements?.()?.[0];\n    if (this.trigger && !this.trigger.hasAttribute('aria-describedby')) {\n      this.trigger.setAttribute('aria-describedby', this.id);\n    }\n\n    if (isTouchScreen) {\n      window.addEventListener('touchstart', this.boundWindowTouchStartListener);\n      this.trigger?.addEventListener('touchstart', this.boundTouchStartListener);\n      this.trigger?.addEventListener('touchend', this.boundTouchEndListener);\n    } else {\n      this.trigger?.addEventListener('focusin', this.boundShowListener);\n      this.trigger?.addEventListener('focusout', this.boundHideListener);\n      this.trigger?.addEventListener('mouseenter', this.boundShowListener);\n      this.trigger?.addEventListener('mouseleave', this.boundHideListener);\n    }\n  }\n\n  componentWillRender(): void {\n    this.inactive = this.disabled || (!this.content && !this.hostElement.querySelector('[slot=\"content\"]'));\n  }\n\n  disconnectedCallback(): void {\n    if (isTouchScreen) {\n      window.removeEventListener('touchstart', this.boundWindowTouchStartListener);\n      this.trigger?.removeEventListener('touchstart', this.boundTouchStartListener);\n      this.trigger?.removeEventListener('touchend', this.boundTouchEndListener);\n    } else {\n      this.trigger?.removeEventListener('mouseenter', this.boundShowListener);\n      this.trigger?.removeEventListener('mouseleave', this.boundHideListener);\n      this.trigger?.removeEventListener('focusin', this.boundShowListener);\n      this.trigger?.removeEventListener('focusout', this.boundHideListener);\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <slot />\n        <div\n          ref={el => (this.tooltip = el)}\n          id={this.id}\n          role=\"tooltip\"\n          aria-hidden={!this.open}\n          aria-live={this.open ? 'polite' : 'off'}\n          class={{\n            tooltip: true,\n            'tooltip-hidden': this.inactive,\n            'tooltip-round': this.round,\n            [`tooltip-${this.size}`]: Boolean(this.size)\n          }}\n        >\n          <slot name=\"content\">\n            {/* The paragraph is needed here to make aria-live work properly. */}\n            <p>{this.content}</p>\n          </slot>\n        </div>\n      </Host>\n    );\n  }\n\n  private async update() {\n    if (this.trigger && this.tooltip) {\n      await computePosition(this.trigger, this.tooltip, {\n        strategy: 'fixed',\n        placement: this.placement,\n        middleware: [\n          offset(CatTooltip.OFFSET),\n          flip({ fallbackAxisSideDirection: 'start' }),\n          shift({ padding: CatTooltip.SHIFT_PADDING })\n        ]\n      }).then(({ x, y }) => {\n        if (this.tooltip) {\n          Object.assign(this.tooltip.style, {\n            left: `${Math.max(0, x)}px`,\n            top: `${y}px`\n          });\n        }\n      });\n    }\n  }\n\n  private showListener() {\n    window.clearTimeout(this.hideTimeout);\n    this.hideTimeout = undefined;\n    if (!this.showTimeout) {\n      this.showTimeout = window.setTimeout(() => {\n        this.showTimeout = undefined;\n        this.showTooltip();\n      }, this.showDelay);\n    }\n  }\n\n  private hideListener() {\n    window.clearTimeout(this.showTimeout);\n    this.showTimeout = undefined;\n    if (!this.hideTimeout) {\n      this.hideTimeout = window.setTimeout(() => {\n        this.hideTimeout = undefined;\n        this.hideTooltip();\n      }, this.hideDelay);\n    }\n  }\n\n  private touchStartListener(event: Event) {\n    event.stopPropagation();\n    if (!this.touchTimeout) {\n      this.touchTimeout = window.setTimeout(() => {\n        this.touchTimeout = undefined;\n        this.showTooltip();\n      }, this.longTouchDuration);\n    }\n  }\n\n  private touchEndListener() {\n    window.clearTimeout(this.touchTimeout);\n    this.touchTimeout = undefined;\n    this.hideTooltip();\n  }\n\n  private windowTouchStartListener() {\n    this.hideTooltip();\n  }\n\n  private showTooltip() {\n    if (this.trigger && this.tooltip) {\n      this.cleanupFloatingUi = autoUpdate(this.trigger, this.tooltip, () => this.update());\n    }\n    if (!this.inactive) {\n      this.open = true;\n      this.tooltip?.classList.add('tooltip-show');\n    }\n  }\n\n  private hideTooltip() {\n    this.open = false;\n    this.tooltip?.classList.remove('tooltip-show');\n    this.cleanupFloatingUi?.();\n    this.cleanupFloatingUi = undefined;\n  }\n}\n"],"mappings":"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AAK,EAErBkM,OAAS+gE,IAAgB,CACvBn/D,MAAOm/D,EAAQA,QACfzB,YAAayB,EAAQC,SAAW,aAChCj/D,OAAQ,CACNtB,IAAK,4BAA4BuP,KAAKwa,MAAMxa,KAAKwwD,SAAW,WAC5Dx+D,MAAO,Q,GAOjB,MAAMm/D,GAAuB,CAC3B,CACE3sE,GAAI,IACJusE,QACE,6LACFC,QAAS,SAEX,CACExsE,GAAI,IACJusE,QAAS,UACTC,QAAS,UAEX,CACExsE,GAAI,IACJusE,QAAS,UACTC,QAAS,SAEX,CACExsE,GAAI,IACJusE,QAAS,iBACTC,QAAS,YAEX,CACExsE,GAAI,IACJusE,QAAS,UACTC,QAAS,oBAEX,CACExsE,GAAI,IACJusE,QAAS,SACTC,QAAS,UAEX,CACExsE,GAAI,IACJusE,QAAS,WACTC,QAAS,cAEX,CACExsE,GAAI,IACJusE,QAAS,cAEX,CACEvsE,GAAI,IACJusE,QAAS,sBACTC,QAAS,gBAEX,CACExsE,GAAI,IACJusE,QAAS,YACTC,QAAS,gBAEX,CACExsE,GAAI,KACJusE,QAAS,UACTC,QAAS,WAEX,CACExsE,GAAI,KACJusE,QAAS,QACTC,QAAS,cAEX,CACExsE,GAAI,KACJusE,QAAS,YACTC,QAAS,YAEX,CACExsE,GAAI,KACJusE,QAAS,UACTC,QAAS,QAEX,CACExsE,GAAI,KACJusE,QAAS,aACTC,QAAS,QAEX,CACExsE,GAAI,KACJusE,QAAS,UACTC,QAAS,UAEX,CACExsE,GAAI,KACJusE,QAAS,UACTC,QAAS,aAEX,CACExsE,GAAI,KACJusE,QAAS,aACTC,QAAS,SAEX,CACExsE,GAAI,KACJusE,QAAS,WACTC,QAAS,cAEX,CACExsE,GAAI,KACJusE,QAAS,UACTC,QAAS,SAEX,CACExsE,GAAI,KACJusE,QAAS,UACTC,QAAS,uBAEX,CACExsE,GAAI,KACJusE,QAAS,SACTC,QAAS,YAEX,CACExsE,GAAI,KACJusE,QAAS,QACTC,QAAS,cAEX,CACExsE,GAAI,KACJusE,QAAS,UACTC,QAAS,YAEX,CACExsE,GAAI,KACJusE,QAAS,SACTC,QAAS,WAEX,CACExsE,GAAI,KACJusE,QAAS,UACTC,QAAS,UAEX,CACExsE,GAAI,KACJusE,QAAS,yBACTC,QAAS,YAEX,CACExsE,GAAI,KACJusE,QAAS,WACTC,QAAS,YAEX,CACExsE,GAAI,KACJusE,QAAS,iBAEX,CACEvsE,GAAI,KACJusE,QAAS,SACTC,QAAS,YAEX,CACExsE,GAAI,KACJusE,QAAS,kCAEX,CACEvsE,GAAI,KACJusE,QAAS,SACTC,QAAS,uBAEX,CACExsE,GAAI,KACJusE,QAAS,WACTC,QAAS,SAEX,CACExsE,GAAI,KACJusE,QAAS,eACTC,QAAS,eAEX,CACExsE,GAAI,KACJusE,QAAS,UACTC,QAAS,aAEX,CACExsE,GAAI,KACJusE,QAAS,WACTC,QAAS,cAEX,CACExsE,GAAI,KACJusE,QAAS,WACTC,QAAS,UAEX,CACExsE,GAAI,KACJusE,QAAS,SACTC,QAAS,UAEX,CACExsE,GAAI,KACJusE,QAAS,aACTC,QAAS,SAEX,CACExsE,GAAI,KACJusE,QAAS,iBACTC,QAAS,eAEX,CACExsE,GAAI,KACJusE,QAAS,2BACTC,QAAS,UAEX,CACExsE,GAAI,KACJusE,QAAS,OACTC,QAAS,UAEX,CACExsE,GAAI,KACJusE,QAAS,QACTC,QAAS,qBAEX,CACExsE,GAAI,KACJusE,QAAS,QACTC,QAAS,UAEX,CACExsE,GAAI,KACJusE,QAAS,mBACTC,QAAS,oBAEX,CACExsE,GAAI,KACJusE,QAAS,0BACTC,QAAS,eAEX,CACExsE,GAAI,KACJusE,QAAS,WACTC,QAAS,UAEX,CACExsE,GAAI,KACJusE,QAAS,UACTC,QAAS,UAEX,CACExsE,GAAI,KACJusE,QAAS,QACTC,QAAS,eAEX,CACExsE,GAAI,KACJusE,QAAS,eACTC,QAAS,UAEX,CACExsE,GAAI,KACJusE,QAAS,aACTC,QAAS,YAEX,CACExsE,GAAI,KACJusE,QAAS,UACTC,QAAS,UAEX,CACExsE,GAAI,KACJusE,QAAS,OACTC,QAAS,aAEX,CACExsE,GAAI,KACJusE,QAAS,SACTC,QAAS,WAEX,CACExsE,GAAI,KACJusE,QAAS,iBACTC,QAAS,SAEX,CACExsE,GAAI,KACJusE,QAAS,UACTC,QAAS,cAEX,CACExsE,GAAI,KACJusE,QAAS,WACTC,QAAS,YAEX,CACExsE,GAAI,KACJusE,QAAS,WACTC,QAAS,UAEX,CACExsE,GAAI,KACJusE,QAAS,qBACTC,QAAS,yBAEX,CACExsE,GAAI,KACJusE,QAAS,aACTC,QAAS,QAEX,CACExsE,GAAI,KACJusE,QAAS,UACTC,QAAS,SAEX,CACExsE,GAAI,KACJusE,QAAS,QACTC,QAAS,SAEX,CACExsE,GAAI,KACJusE,QAAS,cACTC,QAAS,gBAEX,CACExsE,GAAI,KACJusE,QAAS,UACTC,QAAS,UAEX,CACExsE,GAAI,KACJusE,QAAS,oBACTC,QAAS,UAEX,CACExsE,GAAI,KACJusE,QAAS,UACTC,QAAS,UAEX,CACExsE,GAAI,KACJusE,QAAS,UACTC,QAAS,WAEX,CACExsE,GAAI,KACJusE,QAAS,WACTC,QAAS,eAEX,CACExsE,GAAI,KACJusE,QAAS,mBACTC,QAAS,WAEX,CACExsE,GAAI,KACJusE,QAAS,gBACTC,QAAS,YAEX,CACExsE,GAAI,KACJusE,QAAS,eACTC,QAAS,QAEX,CACExsE,GAAI,KACJusE,QAAS,UACTC,QAAS,0BAEX,CACExsE,GAAI,KACJusE,QAAS,SACTC,QAAS,SAEX,CACExsE,GAAI,KACJusE,QAAS,gBACTC,QAAS,WAEX,CACExsE,GAAI,KACJusE,QAAS,mBACTC,QAAS,WAEX,CACExsE,GAAI,KACJusE,QAAS,+BAEX,CACEvsE,GAAI,KACJusE,QAAS,QACTC,QAAS,cAEX,CACExsE,GAAI,KACJusE,QAAS,SACTC,QAAS,UAEX,CACExsE,GAAI,KACJusE,QAAS,UACTC,QAAS,WAEX,CACExsE,GAAI,KACJusE,QAAS,UACTC,QAAS,UAEX,CACExsE,GAAI,KACJusE,QAAS,QACTC,QAAS,SAEX,CACExsE,GAAI,KACJusE,QAAS,YACTC,QAAS,aAEX,CACExsE,GAAI,KACJusE,QAAS,SACTC,QAAS,WAEX,CACExsE,GAAI,KACJusE,QAAS,YACTC,QAAS,QAEX,CACExsE,GAAI,KACJusE,QAAS,UACTC,QAAS,kBAEX,CACExsE,GAAI,KACJusE,QAAS,aACTC,QAAS,eAEX,CACExsE,GAAI,KACJusE,QAAS,OACTC,QAAS,OAEX,CACExsE,GAAI,KACJusE,QAAS,YACTC,QAAS,uBAEX,CACExsE,GAAI,KACJusE,QAAS,SACTC,QAAS,WAEX,CACExsE,GAAI,KACJusE,QAAS,gBACTC,QAAS,UAEX,CACExsE,GAAI,KACJusE,QAAS,SACTC,QAAS,cAEX,CACExsE,GAAI,KACJusE,QAAS,QACTC,QAAS,kBAEX,CACExsE,GAAI,KACJusE,QAAS,qCAEX,CACEvsE,GAAI,KACJusE,QAAS,gCACTC,QAAS,QAEX,CACExsE,GAAI,KACJusE,QAAS,WACTC,QAAS,eAEX,CACExsE,GAAI,KACJusE,QAAS,YACTC,QAAS,YAEX,CACExsE,GAAI,KACJusE,QAAS,UACTC,QAAS,YAEX,CACExsE,GAAI,KACJusE,QAAS,UACTC,QAAS,aAEX,CACExsE,GAAI,KACJusE,QAAS,QACTC,QAAS,aAEX,CACExsE,GAAI,KACJusE,QAAS,YACTC,QAAS,WAEX,CACExsE,GAAI,MACJusE,QAAS,OACTC,QAAS,UAEX,CACExsE,GAAI,MACJusE,QAAS,OACTC,QAAS,WAEX,CACExsE,GAAI,MACJusE,QAAS,UACTC,QAAS,UAEX,CACExsE,GAAI,MACJusE,QAAS,SACTC,QAAS,aAEX,CACExsE,GAAI,MACJusE,QAAS,QACTC,QAAS,QAEX,CACExsE,GAAI,MACJusE,QAAS,cACTC,QAAS,gBAEX,CACExsE,GAAI,MACJusE,QAAS,UACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,QACTC,QAAS,SAEX,CACExsE,GAAI,MACJusE,QAAS,SACTC,QAAS,SAEX,CACExsE,GAAI,MACJusE,QAAS,aACTC,QAAS,UAEX,CACExsE,GAAI,MACJusE,QAAS,QACTC,QAAS,WAEX,CACExsE,GAAI,MACJusE,QAAS,WACTC,QAAS,WAEX,CACExsE,GAAI,MACJusE,QAAS,SACTC,QAAS,UAEX,CACExsE,GAAI,MACJusE,QAAS,aACTC,QAAS,WAEX,CACExsE,GAAI,MACJusE,QAAS,OACTC,QAAS,aAEX,CACExsE,GAAI,MACJusE,QAAS,SACTC,QAAS,QAEX,CACExsE,GAAI,MACJusE,QAAS,UACTC,QAAS,UAEX,CACExsE,GAAI,MACJusE,QAAS,UACTC,QAAS,UAEX,CACExsE,GAAI,MACJusE,QAAS,UACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,yBACTC,QAAS,WAEX,CACExsE,GAAI,MACJusE,QAAS,gBACTC,QAAS,SAEX,CACExsE,GAAI,MACJusE,QAAS,YACTC,QAAS,WAEX,CACExsE,GAAI,MACJusE,QAAS,aACTC,QAAS,2BAEX,CACExsE,GAAI,MACJusE,QAAS,QACTC,QAAS,SAEX,CACExsE,GAAI,MACJusE,QAAS,kBACTC,QAAS,UAEX,CACExsE,GAAI,MACJusE,QAAS,aACTC,QAAS,gBAEX,CACExsE,GAAI,MACJusE,QAAS,SACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,WACTC,QAAS,gBAEX,CACExsE,GAAI,MACJusE,QAAS,WACTC,QAAS,QAEX,CACExsE,GAAI,MACJusE,QAAS,OACTC,QAAS,UAEX,CACExsE,GAAI,MACJusE,QAAS,QACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,mBACTC,QAAS,sBAEX,CACExsE,GAAI,MACJusE,QAAS,aACTC,QAAS,kBAEX,CACExsE,GAAI,MACJusE,QAAS,aACTC,QAAS,cAEX,CACExsE,GAAI,MACJusE,QAAS,YACTC,QAAS,cAEX,CACExsE,GAAI,MACJusE,QAAS,UACTC,QAAS,aAEX,CACExsE,GAAI,MACJusE,QAAS,SACTC,QAAS,eAEX,CACExsE,GAAI,MACJusE,QAAS,kCACTC,QAAS,WAEX,CACExsE,GAAI,MACJusE,QAAS,UACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,SACTC,QAAS,gBAEX,CACExsE,GAAI,MACJusE,QAAS,WACTC,QAAS,cAEX,CACExsE,GAAI,MACJusE,QAAS,aACTC,QAAS,aAEX,CACExsE,GAAI,MACJusE,QAAS,aACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,UACTC,QAAS,SAEX,CACExsE,GAAI,MACJusE,QAAS,aACTC,QAAS,UAEX,CACExsE,GAAI,MACJusE,QAAS,UACTC,QAAS,oBAEX,CACExsE,GAAI,MACJusE,QAAS,UACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,QACTC,QAAS,SAEX,CACExsE,GAAI,MACJusE,QAAS,QACTC,QAAS,aAEX,CACExsE,GAAI,MACJusE,QAAS,cACTC,QAAS,aAEX,CACExsE,GAAI,MACJusE,QAAS,uBACTC,QAAS,cAEX,CACExsE,GAAI,MACJusE,QAAS,gBACTC,QAAS,QAEX,CACExsE,GAAI,MACJusE,QAAS,cACTC,QAAS,cAEX,CACExsE,GAAI,MACJusE,QAAS,YACTC,QAAS,WAEX,CACExsE,GAAI,MACJusE,QAAS,QACTC,QAAS,UAEX,CACExsE,GAAI,MACJusE,QAAS,UACTC,QAAS,SAEX,CACExsE,GAAI,MACJusE,QAAS,OACTC,QAAS,SAEX,CACExsE,GAAI,MACJusE,QAAS,iBACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,cACTC,QAAS,aAEX,CACExsE,GAAI,MACJusE,QAAS,mBACTC,QAAS,WAEX,CACExsE,GAAI,MACJusE,QAAS,2BACTC,QAAS,WAEX,CACExsE,GAAI,MACJusE,QAAS,SACTC,QAAS,QAEX,CACExsE,GAAI,MACJusE,QAAS,OACTC,QAAS,UAEX,CACExsE,GAAI,MACJusE,QAAS,WACTC,QAAS,aAEX,CACExsE,GAAI,MACJusE,QAAS,QACTC,QAAS,SAEX,CACExsE,GAAI,MACJusE,QAAS,YACTC,QAAS,QAEX,CACExsE,GAAI,MACJusE,QAAS,SACTC,QAAS,oBAEX,CACExsE,GAAI,MACJusE,QAAS,mBACTC,QAAS,gBAEX,CACExsE,GAAI,MACJusE,QAAS,WACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,OACTC,QAAS,QAEX,CACExsE,GAAI,MACJusE,QAAS,cACTC,QAAS,UAEX,CACExsE,GAAI,MACJusE,QAAS,WACTC,QAAS,aAEX,CACExsE,GAAI,MACJusE,QAAS,SACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,WACTC,QAAS,UAEX,CACExsE,GAAI,MACJusE,QAAS,cACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,QACTC,QAAS,QAEX,CACExsE,GAAI,MACJusE,QAAS,UACTC,QAAS,eAEX,CACExsE,GAAI,MACJusE,QAAS,UACTC,QAAS,aAEX,CACExsE,GAAI,MACJusE,QAAS,qBACTC,QAAS,UAEX,CACExsE,GAAI,MACJusE,QAAS,SACTC,QAAS,UAEX,CACExsE,GAAI,MACJusE,QAAS,eACTC,QAAS,aAEX,CACExsE,GAAI,MACJusE,QAAS,wBACTC,QAAS,cAEX,CACExsE,GAAI,MACJusE,QAAS,cACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,4BACTC,QAAS,gBAEX,CACExsE,GAAI,MACJusE,QAAS,mCACTC,QAAS,aAEX,CACExsE,GAAI,MACJusE,QAAS,QACTC,QAAS,QAEX,CACExsE,GAAI,MACJusE,QAAS,aACTC,QAAS,cAEX,CACExsE,GAAI,MACJusE,QAAS,wBACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,eACTC,QAAS,UAEX,CACExsE,GAAI,MACJusE,QAAS,WACTC,QAAS,aAEX,CACExsE,GAAI,MACJusE,QAAS,UACTC,QAAS,SAEX,CACExsE,GAAI,MACJusE,QAAS,SACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,aACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,eACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,YACTC,QAAS,aAEX,CACExsE,GAAI,MACJusE,QAAS,WACTC,QAAS,cAEX,CACExsE,GAAI,MACJusE,QAAS,WACTC,QAAS,aAEX,CACExsE,GAAI,MACJusE,QAAS,kBACTC,QAAS,WAEX,CACExsE,GAAI,MACJusE,QAAS,UACTC,QAAS,aAEX,CACExsE,GAAI,MACJusE,QAAS,eACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,gDAEX,CACEvsE,GAAI,MACJusE,QAAS,cACTC,QAAS,SAEX,CACExsE,GAAI,MACJusE,QAAS,cACTC,QAAS,QAEX,CACExsE,GAAI,MACJusE,QAAS,QACTC,QAAS,UAEX,CACExsE,GAAI,MACJusE,QAAS,YACTC,QAAS,sCAEX,CACExsE,GAAI,MACJusE,QAAS,QACTC,QAAS,WAEX,CACExsE,GAAI,MACJusE,QAAS,WACTC,QAAS,cAEX,CACExsE,GAAI,MACJusE,QAAS,yBACTC,QAAS,gBAEX,CACExsE,GAAI,MACJusE,QAAS,YACTC,QAAS,WAEX,CACExsE,GAAI,MACJusE,QAAS,SACTC,QAAS,aAEX,CACExsE,GAAI,MACJusE,QAAS,cACTC,QAAS,QAEX,CACExsE,GAAI,MACJusE,QAAS,QACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,aACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,WACTC,QAAS,UAEX,CACExsE,GAAI,MACJusE,QAAS,WACTC,QAAS,WAEX,CACExsE,GAAI,MACJusE,QAAS,mCACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,OACTC,QAAS,QAEX,CACExsE,GAAI,MACJusE,QAAS,UACTC,QAAS,WAEX,CACExsE,GAAI,MACJusE,QAAS,QACTC,QAAS,cAEX,CACExsE,GAAI,MACJusE,QAAS,sBACTC,QAAS,iBAEX,CACExsE,GAAI,MACJusE,QAAS,UACTC,QAAS,SAEX,CACExsE,GAAI,MACJusE,QAAS,SACTC,QAAS,UAEX,CACExsE,GAAI,MACJusE,QAAS,eACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,2BACTC,QAAS,iBAEX,CACExsE,GAAI,MACJusE,QAAS,SACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,SACTC,QAAS,WAEX,CACExsE,GAAI,MACJusE,QAAS,UACTC,QAAS,QAEX,CACExsE,GAAI,MACJusE,QAAS,uBACTC,QAAS,aAEX,CACExsE,GAAI,MACJusE,QAAS,iBACTC,QAAS,UAEX,CACExsE,GAAI,MACJusE,QAAS,gBACTC,QAAS,cAEX,CACExsE,GAAI,MACJusE,QAAS,wCAEX,CACEvsE,GAAI,MACJusE,QAAS,UACTC,QAAS,cAEX,CACExsE,GAAI,MACJusE,QAAS,aACTC,QAAS,WAEX,CACExsE,GAAI,MACJusE,QAAS,UACTC,QAAS,aAEX,CACExsE,GAAI,MACJusE,QAAS,YACTC,QAAS,WAEX,CACExsE,GAAI,MACJusE,QAAS,UACTC,QAAS,SAEX,CACExsE,GAAI,MACJusE,QAAS,0BACTC,QAAS,aAEX,CACExsE,GAAI,MACJusE,QAAS,uBACTC,QAAS,oBAEX,CACExsE,GAAI,MACJusE,QAAS,QACTC,QAAS,WAEX,CACExsE,GAAI,MACJusE,QAAS,oBACTC,QAAS,YAEX,CACExsE,GAAI,MACJusE,QAAS,iBACTC,QAAS,UAEX,CACExsE,GAAI,MACJusE,QAAS,QACTC,QAAS,SAEX,CACExsE,GAAI,MACJusE,QAAS,SACTC,QAAS,UAEX,CACExsE,GAAI,MACJusE,QAAS,WACTC,QAAS,WC3+Cb,MAAMI,GAAiB,+5GACvB,MAAAC,GAAeD,G,MCSFE,GAAW,M,qCAIwB,Q,aAKyB,Y,UAMzB,I,qBAS9C,MAAAthE,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACF3O,MAAMC,KAAKD,MAAMrB,KAAKwM,QAAQvG,KAAI,IACjC6J,EAAA,OACEwB,MAAOtR,KAAKsR,MACZlB,MAAO,CACLghE,SAAU,KACV,CAAC,YAAYpxE,KAAKqxE,UAAWv/D,QAAQ9R,KAAKqxE,QAC1C,CAAC,YAAYrxE,KAAKgY,WAAYlG,QAAQ9R,KAAKgY,SAC3C,CAAC,YAAYhY,KAAKkQ,QAAS4B,QAAQ9R,KAAKkQ,W,CAQpD,SAAY1D,GACV,OAAQxM,KAAKgY,SACX,IAAK,OACH,OAAO6H,KAAKQ,IAAI,EAAGrgB,KAAK4uE,OAAS,GACnC,IAAK,OACH,OAAO/uD,KAAKQ,IAAI,EAAGrgB,KAAK4uE,OAAS,GACnC,QACE,OAAO,E,CAIb,SAAYt9D,GACV,OAAOtR,KAAKgY,UAAY,QAAUhY,KAAKgY,UAAY,OAC/C,CACE,eAAgB,GAAGhY,KAAKqwE,OAAO,GAAI,SAErChtE,S,CAGE,MAAAgtE,CAAOvwD,EAAaO,GAC1B,OAAOR,KAAKwa,MAAMxa,KAAKwwD,UAAYhwD,EAAMP,EAAM,GAAKA,E,eCxExD,MAAMwxD,GAAgB,8nBACtB,MAAAC,GAAeD,G,MCSFE,GAAU,M,mCAIoC,I,yBAQzD,MAAA3hE,GACE,OACEC,EAAA,QAAAE,IAAA,wDACchQ,KAAK0X,UAAS,cACb1X,KAAK0X,UAAY,KAAO,OACrCtH,MAAO,CACL,CAAC,WAAWpQ,KAAKkQ,QAASlQ,KAAKkQ,OAAS,WAG1CJ,EAAA,OAAAE,IAAA,2CAAKyhE,MAAM,6BAA6B71D,QAAQ,aAC9C9L,EAAA,UAAAE,IAAA,2CAAQ0hE,GAAG,KAAKC,GAAG,KAAKxqD,EAAE,U,eChCpC,MAAMyqD,GAAY,oDAClB,MAAAC,GAAeD,GCEf,IAAIj3D,GAAe,E,MAUNm3D,GAAM,M,uEAMgB,G,kCAUyB,M,eAKrB,M,6DAeE,M,WAON,M,gCAYjC,iBAAApiE,GACE,IAAK1P,KAAKgP,YAAY3K,GAAI,CACxBrE,KAAKgP,YAAY3K,GAAK,WAAWsW,M,EAKrC,OAAA1C,CAAQjC,GACNhW,KAAK4Y,SAASzM,KAAK6J,E,CAGrB,MAAAnG,GACE,OAAOC,EAACC,EAAI,CAAAC,IAAA,4C,gDChFhB,MAAM+hE,GAAa,s3BACnB,MAAAC,GAAeD,G,MCYFE,GAAO,M,wEAKmB,G,eAKe,G,eAKS,M,CAE7D,iBAAA/gE,GACElR,KAAKkyE,U,CAGP,gBAAAv4D,GACE3Z,KAAKgyD,iBAAmB,IAAIC,kBAC1BL,GAAaA,EAAUxqC,MAAKjmB,GAASA,EAAM0H,OAAO4lC,WAAa,aAAczuC,KAAKkyE,aAEpFlyE,KAAKgyD,kBAAkB3K,QAAQrnD,KAAKgP,YAAa,CAC/CojD,UAAW,KACXwU,WAAY,KACZzU,QAAS,M,CAIb,oBAAA0U,GACE7mE,KAAKgyD,kBAAkBzL,Y,CAIzB,iBAAA4rB,CAAkB9tE,GAChB,MAAMgC,EAAQrG,KAAKoyE,KAAK5lB,WAAU6lB,GAAOA,EAAIhuE,KAAOA,IACpDrE,KAAKgc,UAAU7P,KAAK,CAAE9H,KAAIgC,S,CAI5B,SAAAygE,CAAU9wD,GACR,GAAI,CAAC,YAAa,UAAW,aAAc,aAAanD,SAASmD,EAAMhG,KAAM,CAC3E,MAAMyV,EAAWzlB,KAAKgP,YAAYmX,YAAY7M,iBAAuC,0BACrF,MAAMytD,EAAiB1lE,MAAMC,KAAKmkB,GAAY,IAAI9a,QAAOqM,IAAWA,EAAOT,WAC3E,MAAMooB,EAAgB3+B,KAAKgP,YAAYmX,YAAYwY,cACnD,MAAMqoC,EAAYroC,EAAgBooC,EAAevjD,QAAQmb,IAAkB,EAC3E,MAAMsoC,EAAY,CAAC,YAAa,cAAcp0D,SAASmD,EAAMhG,KAAO,GAAK,EACzE,MAAMk3D,EAAYF,EAAY,EAAI,GAAKA,EAAYC,EAAYF,EAAerlE,QAAUqlE,EAAerlE,OACvGqlE,EAAeG,GAAWjwD,UAC1BjB,EAAMS,gB,EAUV,eAAM67D,CAAUjuE,GACdrE,KAAKqyD,SAASryD,KAAKoyE,KAAK31B,MAAK41B,GAAOA,EAAIhuE,KAAOA,I,CASjD,oBAAMkuE,CAAelsE,GACnBrG,KAAKqyD,SAASryD,KAAKoyE,KAAK/rE,G,CAQ1B,MAAAwJ,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACFhQ,KAAKoyE,KAAKnsE,KAAKosE,GAEZviE,EAAA,cACE8H,SAAUy6D,EAAIhuE,GACd8U,KAAK,MACLtB,KAAK,MACLzH,MAAO,CACL,UAAW,KACX,iBAAkBiiE,EAAIhuE,KAAOrE,KAAKwyE,UAClC,gBAAiBH,EAAI7wE,OAEvB0F,OAAQmrE,EAAIhuE,KAAOrE,KAAKwyE,UACxB5iE,MAAOyiE,EAAI7wE,MAAQ,SAAW6wE,EAAIhuE,KAAOrE,KAAKwyE,UAAY,UAAY,YACtEx6D,QAAQ,OACR7H,KAAMkiE,EAAIliE,KAAQkiE,EAAI7wE,MAAQ,mBAAqB6wE,EAAIliE,KAAQ9M,UAC/D6S,SAAUm8D,EAAIn8D,SACduC,UAAW45D,EAAI55D,UACftH,IAAKkhE,EAAIlhE,IACToF,SAAU87D,EAAII,YACdphE,UAAWghE,EAAIhhE,UACfm9D,WAAY,IAAMxuE,KAAKsX,MAAM+6D,GAC7B96D,iBAAkB,IAAK86D,EAAI96D,kBAC3BoB,wBAAyB,CAAE,YAAa05D,EAAI5gE,OAAO,+BAGlD4gE,EAAI5gE,S,CAQT,QAAAygE,GACNlyE,KAAKoyE,KAAO/wE,MAAMC,KAAKtB,KAAKgP,YAAYsK,iBAAiB,YACzDtZ,KAAKwyE,UAAYxyE,KAAKwyE,WAAaxyE,KAAKoyE,KAAKznE,QAAO0nE,GAAOryE,KAAK0yE,YAAYL,KAAM,IAAIhuE,E,CAGhF,WAAAquE,CAAYL,GAClB,QAASA,IAAQA,EAAII,cAAgBJ,EAAIlhE,KAAOkhE,EAAIhuE,KAAOrE,KAAKwyE,S,CAG1D,KAAAl7D,CAAM+6D,GACZ,GAAIryE,KAAK0yE,YAAYL,GAAM,CACzBA,EAAI/6D,QACJtX,KAAKqyD,SAASggB,E,EAIV,QAAAhgB,CAASggB,GACf,GAAIryE,KAAK0yE,YAAYL,GAAM,CACzBryE,KAAKwyE,UAAYH,EAAIhuE,E,+GCpJ3B,MAAMsuE,GAAY,q1aAClB,MAAAC,GAAeD,GCIf,IAAIh4D,GAAe,E,MAONk4D,GAAM,M,kIACA7yE,KAAAwE,IAAM,aAAamW,O,qBAmBT,M,oBACD,M,UAEA,G,4CAOwE,W,cAK/E,M,oFAoBH,G,qCAUM,M,cAKH,M,oEAeC,M,uCAiBoB,E,sBAOH,CAAC,I,CAvGtC,MAAYtW,GACV,OAAOrE,KAAK6a,YAAc7a,KAAKwE,G,CAGjC,WAAYq/D,GACV,QAAS1pD,OAAOyC,KAAK5c,KAAKia,UAAY,IAAIvY,M,CAG5C,WAAYia,GACV,QAAS3b,KAAK+Z,MAAQ/Z,KAAK6jE,O,CAgH7B,SAAAj4C,CAAU5V,GACR,MAAM+2D,EAAiB/sE,KAAKgP,YAAYmX,YAAYwY,gBAAkB3+B,KAAKkb,MAC3E,GAAI,CAAC,WAAYlb,KAAK8yE,kBAAkBjgE,SAASmD,EAAMhG,MAAQ+8D,EAAgB,CAC7E/2D,EAAMS,iBACN,GAAIzW,KAAKkb,OAAO/Z,MAAM+3B,SAAWl5B,KAAKmB,OAAO0R,SAAS7S,KAAKkb,OAAO/Z,MAAM+3B,QAAS,CAC/El5B,KAAKmB,MAAQ,IAAKnB,KAAKmB,OAAS,GAAKnB,KAAKkb,MAAM/Z,MAAM+3B,QACtDl5B,KAAKgc,UAAU7P,KAAKnM,KAAKmB,M,CAE3B,GAAInB,KAAKkb,MAAO,CACdlb,KAAKkb,MAAM/Z,MAAQ,E,OAEhB,GACL,CAAC,aAAa0R,SAASmD,EAAMhG,MAC7BhQ,KAAKkb,OAAOgyD,iBAAmB,IAC9BltE,KAAKmB,OAAOO,QAAU,GAAK,GAC5BqrE,EACA,CACA/sE,KAAKmB,MAAQnB,KAAKmB,OAAOkkB,MAAM,GAAI,IAAM,GACzCrlB,KAAKgc,UAAU7P,KAAKnM,KAAKmB,M,EAK7B,eAAAoiE,CAAgBpiE,GACd,IAAK6hE,GAAchjE,KAAKgiB,aAAc,CACpChiB,KAAKia,SAAW5W,S,KACX,CACLrD,KAAKyjE,YAAcpiE,MAAMkF,QAAQpF,GAC5BA,EAAmBmpB,QAAO,CAACC,EAAK9oB,KAAG,IAAW8oB,EAAK9oB,CAACA,GAAM4B,aAAc,IACzElC,IAAU,KACR,GACAA,GAASkC,UACfrD,KAAK0jE,uBAAyB1jE,KAAK2jE,qB,EAIvC,mBAAAxtD,GACEnW,KAAKujE,gBAAgBvjE,KAAKka,QAC1Bla,KAAK+a,kBAAoB/a,KAAKgP,YAAYgM,cAAc,kBACxDhb,KAAKib,iBAAmBjb,KAAKgP,YAAYgM,cAAc,gB,CAGzD,MAAAnL,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACHF,EAAA,OAAAE,IAAA,2CAAKI,MAAO,CAAE,kBAAmB,KAAMwzD,OAAQ5jE,KAAKob,eAChDpb,KAAK+a,iBAAmB/a,KAAKyR,QAC7B3B,EAAA,SAAAE,IAAA,2CAAOmL,QAAS,QAAQnb,KAAKqE,WAAYwT,KAAK,SAC5C/H,EAAA,QAAAE,IAAA,2CAAMI,MAAM,iBACRpQ,KAAK+a,iBAAmBjL,EAAA,QAAAE,IAAA,2CAAM/P,KAAK,WAAoBD,KAAKyR,MAC9D3B,EAAA,OAAAE,IAAA,2CAAKI,MAAM,mBACPpQ,KAAKwb,WAAaxb,KAAK8b,gBAAkB,YAAYC,WAAW,aAChEjM,EAAA,QAAAE,IAAA,2CAAMI,MAAM,iBAAgB,cAAa,QAAM,IAC3CkK,EAAKC,EAAE,kBAAiB,KAG7Bva,KAAKwb,UAAYxb,KAAK8b,gBAAgBC,WAAW,aAChDjM,EAAA,QAAAE,IAAA,2CAAMI,MAAM,iBAAgB,cAAa,QAAM,IAC3CkK,EAAKC,EAAE,kBAAiB,SAQxCzK,EAAA,OAAAE,IAAA,2CAAKI,MAAO,CAAE,gBAAiB,KAAM,iBAAkBpQ,KAAKuW,SAAU,gBAAiBvW,KAAK6jE,UACzF7jE,KAAKmB,OAAO8E,KAAI9E,GACf2O,EAAA,OAAKM,MAAM,YACTN,EAAA,YAAO3O,IACLnB,KAAKuW,UACLzG,EAAA,cACEI,KAAK,KACL8H,QAAQ,OACR7H,KAAK,oBACL+F,SAAQ,KACRwB,UAAW4C,EAAKC,EAAE,mBAClBtC,QAAS,IAAMjY,KAAKmtE,SAAShsE,GAC7BwlB,UAAW,OAKnB7W,EAAA,OAAAE,IAAA,2CAAKI,MAAM,uBACTN,EAAA,SAAAE,IAAA,8CACMhQ,KAAKuX,iBACTM,KAAK,QACLxT,GAAI,QAAQrE,KAAKqE,WACjB+L,MAAM,aACN+I,KAAK,WACL3B,IAAKC,GAAOzX,KAAKkb,MAAQzD,EAAG,eACdzX,KAAK6jE,QAAU,OAASxgE,UAAS,mBAC7BrD,KAAK2b,QAAU3b,KAAKqE,GAAK,QAAUhB,UACrDqY,QAAS1b,KAAK0b,QAAQhX,KAAK1E,MAC3B4hB,YAAa5hB,KAAK4hB,YAClBrL,SAAUvW,KAAKuW,WAEhBvW,KAAK2hB,YAAc3hB,KAAKuW,WAAavW,KAAKmB,OAAOO,QAAU,GAAK,GAC/DoO,EAAA,cAAAE,IAAA,2CACEI,MAAM,YACND,KAAK,mBAAkB,YACb,OACVD,KAAK,IACL8H,QAAQ,OAAM,aACFsC,EAAKC,EAAE,eACnBtC,QAASjY,KAAKse,MAAM5Z,KAAK1E,MAAK,gCAIjCA,KAAK6jE,SAAW/zD,EAAA,YAAAE,IAAA,2CAAUG,KAAK,mBAAmBC,MAAM,8BAA8BF,KAAK,QAG/FlQ,KAAK2b,SACJ7L,EAAC+J,GAAW,CAAA7J,IAAA,2CACV3L,GAAIrE,KAAKqE,GACT0V,KAAM/Z,KAAK+Z,KACXC,YAAaha,KAAKib,gBAAkBnL,EAAA,QAAM7P,KAAK,SAC/Cga,SAAUja,KAAKia,W,CAOjB,OAAAyB,GACN,MAAMq3D,EAAe,IAChB,IAAI9+D,IAAIjU,KAAKkb,OAAO/Z,OAAO6Q,MAAMhS,KAAKgzE,iBAAiBhzE,KAAK8yE,oBAAsB,KACrFnoE,QAAOxJ,KAAWA,IAAUnB,KAAKmB,OAAO0R,SAAS1R,KACnD,GAAI4xE,EAAarxE,OAAS,EAAG,CAC3B1B,KAAKmB,MAAQ,IAAKnB,KAAKmB,OAAS,MAAQ4xE,GACxC/yE,KAAKgc,UAAU7P,KAAKnM,KAAKmB,OACzB,GAAInB,KAAKkb,MAAO,CACdlb,KAAKkb,MAAM/Z,MAAQ,E,GAKjB,KAAAmd,GACNte,KAAKmB,MAAQ,GACbnB,KAAKgc,UAAU7P,KAAKnM,KAAKmB,OACzB,GAAInB,KAAKkb,MAAO,CACdlb,KAAKkb,MAAM/Z,MAAQ,E,EAIf,QAAAgsE,CAAShsE,GACfnB,KAAKmB,MAAQnB,KAAKmB,OAAOwJ,QAAOuK,GAAWA,IAAY/T,G,CAGjD,UAAAkjE,GACNrkE,KAAKia,SAAWja,KAAKyjE,W,CAIf,mBAAAC,GACN,MAAM1hD,EAAcihD,GAAajjE,KAAKgiB,YAAa,MACnD,GAAIA,IAAgB,KAAM,QACjBhiB,KAAKskE,uBAAyB,UAAY9wD,OAAOkgB,aAAa1zB,KAAKskE,sBAC1EtkE,KAAKskE,qBAAuB9wD,OAAOmgB,YAAW,IAAM3zB,KAAKqkE,cAAcriD,GACvE,OAAO,I,CAET,OAAO,K,CAGD,mBAAA2hD,GACN,MAAMY,EAAW7vD,SAASiqB,gBAAkB3+B,KAAKgP,aAAe0F,SAASiqB,gBAAkB3+B,KAAKkb,MAChG,IAAKqpD,EAAU,CACbvkE,KAAKqkE,Y,EAID,gBAAA2O,CAAiBrW,GAEvB,MAAMsW,EAAoBtW,EAAW12D,KAAIsb,GAAaA,EAAU3D,QAAQ,sBAAuB,UAG/Fq1D,EAAkB3wE,KAAK,MAAO,OAG9B,MAAM4wE,EAAe,IAAID,EAAkBhhE,KAAK,OAGhD,OAAO,IAAIkkB,OAAO+8C,EAAc,I,yGCjUpC,IAAIhuE,GAAE,IAAIsK,IAAI,SAAS+K,GAAEA,GAAG,IAAImwC,EAAExlD,GAAEyK,IAAI4K,GAAGmwC,GAAGA,EAAE5tB,SAAS,CAAC,SAAS4tB,GAAEnwC,GAAG,IAAImwC,EAAExlD,GAAEyK,IAAI4K,GAAGmwC,GAAGA,EAAEnD,QAAQ,CAAC,IAAIpgC,GAAE,KAAK,oBAAoB3T,SAAS2T,GAAE,SAASjiB,GAAG,OAAOA,CAAC,GAAG43B,QAAQ,SAAS53B,GAAG,OAAOA,CAAC,EAAEiiB,GAAEogC,OAAO,SAASriD,GAAG,OAAOA,CAAC,KAAKiiB,GAAE,SAAS5M,EAAEmwC,GAAG,OAAOnwC,GAAGlZ,MAAM6iB,UAAU3K,QAAQxW,KAAKwX,EAAE7Y,OAAO6Y,EAAE,CAACA,IAAG,SAASA,GAAG,OAAO,SAASA,GAAG,GAAGA,GAAGA,EAAEk0B,UAAU,aAAal0B,EAAEk0B,WAAWvpC,GAAEuP,IAAI8F,GAAG,CAAC,IAAImwC,EAAEvjC,EAAE,KAAK5c,EAAEiJ,OAAO4V,iBAAiB7O,GAAGtS,GAAGyiD,EAAEnwC,EAAEpZ,MAAM,WAAW6G,EAAE,CAACmrE,uBAAuB,KAAKzoB,IAAInwC,EAAEpZ,MAAM4a,WAAW2uC,GAAG0oB,iBAAiB,OAAO1oB,EAAEnwC,EAAEpZ,KAAK,GAAGuR,EAAE,SAASg4C,GAAGnwC,EAAEvQ,oBAAoB,mBAAmB0I,GAAG6H,EAAEvQ,oBAAoB,kBAAkBwI,GAAG+H,EAAEvQ,oBAAoB,QAAQ/B,GAAGuL,OAAOxJ,oBAAoB,SAASwI,GAAG2H,OAAOyC,KAAK8tC,GAAGnxC,SAAQ,SAASrU,GAAG,OAAOqV,EAAEjJ,MAAMpM,GAAGwlD,EAAExlD,EAAE,IAAGA,GAAEmuE,OAAO94D,EAAE,EAAE7V,KAAK6V,EAAE,CAACyO,OAAOzO,EAAEjJ,MAAM0X,OAAO8rC,OAAOv6C,EAAEjJ,MAAMwjD,OAAOwe,UAAU/4D,EAAEjJ,MAAMgiE,UAAUzzB,UAAUtlC,EAAEjJ,MAAMuuC,UAAUD,UAAUrlC,EAAEjJ,MAAMsuC,UAAU2zB,SAASh5D,EAAEjJ,MAAMiiE,WAAWh5D,EAAExQ,iBAAiB,mBAAmB2I,GAAG6H,EAAExQ,iBAAiB,kBAAkByI,GAAG+H,EAAExQ,iBAAiB,QAAQ9B,GAAGuL,OAAOzJ,iBAAiB,SAASyI,GAAG+H,EAAEjJ,MAAMsuC,UAAU,SAASrlC,EAAEjJ,MAAMiiE,SAAS,aAAaruE,GAAEk4B,IAAI7iB,EAAE,CAACuiB,QAAQpqB,EAAE60C,OAAO/0C,IAAIA,GAAG,CAAC,SAASxK,EAAE9C,GAAG,IAAIwlD,EAAEziD,EAAEyK,EAAExN,EAAEkuE,iBAAiB5gE,OAAO,IAAIE,EAAE,KAAKA,EAAEukB,EAAE/xB,EAAEiuE,uBAAuB97C,OAAO,IAAIJ,GAAGA,EAAEuB,EAAEjuB,EAAEs1C,UAAU,GAAG,IAAItlC,EAAE0pC,eAAe,aAAa15C,EAAEuqD,OAAOv6C,EAAEjJ,MAAMwjD,OAAO,OAAO,SAASvqD,EAAEuqD,SAASv6C,EAAEjJ,MAAMwjD,OAAO,cAAcz9B,IAAIqzB,EAAE,SAASxlD,GAAG,IAAI,IAAIqV,EAAE,GAAGrV,GAAGA,EAAE4f,YAAY5f,EAAE4f,sBAAsB3P,SAASjQ,EAAE4f,WAAWk8B,WAAWzmC,EAAEjY,KAAK,CAAC4C,EAAE4f,WAAW5f,EAAE4f,WAAWk8B,YAAY97C,EAAEA,EAAE4f,WAAW,OAAO,WAAW,OAAOvK,EAAEhB,SAAQ,SAASrU,GAAG,IAAIqV,EAAErV,EAAE,GAAGwlD,EAAExlD,EAAE,GAAGqV,EAAEjJ,MAAMkiE,eAAe,OAAOj5D,EAAEymC,UAAU0J,EAAEnwC,EAAEjJ,MAAMkiE,eAAe,IAAI,GAAE,CAAC,CAA3S,CAA6Sj5D,GAAGA,EAAEjJ,MAAM0X,OAAO,IAAI/gB,EAAE,gBAAgBsC,EAAEo/D,UAAUpvD,EAAE0pC,cAAcluB,WAAWxrB,EAAE84C,YAAYttB,WAAWxrB,EAAEkpE,gBAAgBl5D,EAAE0pC,aAAaluB,WAAWxrB,EAAEmpE,gBAAgB39C,WAAWxrB,EAAEopE,mBAAmB,SAASppE,EAAE0qD,WAAWhtD,EAAE8tB,WAAWxrB,EAAE0qD,YAAY,WAAW1qD,EAAEs1C,YAAYtlC,EAAEjJ,MAAMooC,SAAS,UAAUzxC,EAAE8tB,WAAWxrB,EAAE0qD,YAAY,WAAW1qD,EAAEs1C,YAAYtlC,EAAEjJ,MAAMooC,SAAS,UAAUn/B,EAAEjJ,MAAM0X,OAAO/gB,EAAE,KAAKuK,IAAI+H,EAAEjJ,MAAMgiE,UAAU9gE,GAAGk4C,GAAGA,IAAIvjC,IAAIlf,IAAIsS,EAAE1D,cAAc,IAAI+8D,MAAM,mBAAmB,CAACC,SAAS,KAAK1sD,EAAElf,GAAGuwB,IAAIjuB,EAAEmvC,WAAWlnC,GAAG,CAAC,IAAI7E,EAAEpD,EAAE+oE,UAAU,WAAW/oE,EAAEmvC,WAAWn/B,EAAEjJ,MAAMgiE,UAAU,UAAU3lE,EAAE,MAAM,SAAS3F,EAAE,CAACorE,iBAAiBzlE,EAAEwlE,wBAAwB,GAAG,CAAC,CAAC,SAAS3gE,IAAIxK,EAAE,CAACmrE,wBAAwB,EAAEC,iBAAiB,MAAM,CAAC,CAAnmE,CAAqmE74D,EAAE,IAAGA,CAAC,GAAGuiB,QAAQ,SAAS53B,GAAG,OAAOA,GAAG7D,MAAM6iB,UAAU3K,QAAQxW,KAAKmC,EAAExD,OAAOwD,EAAE,CAACA,GAAGqV,IAAGrV,CAAC,EAAEiiB,GAAEogC,OAAO,SAASriD,GAAG,OAAOA,GAAG7D,MAAM6iB,UAAU3K,QAAQxW,KAAKmC,EAAExD,OAAOwD,EAAE,CAACA,GAAGwlD,IAAGxlD,CAAC,GAAG,IAAIqF,GAAE4c,GCArlF,MAAM2sD,GAAiB,khaACvB,MAAAC,GAAeD,GCKf,IAAIn5D,GAAe,E,MAiBNq5D,GAAW,M,kIACLh0E,KAAAwE,IAAM,gBAAgBmW,O,qBAUZ,M,oBAED,M,4CAOwE,W,gBAK7E,M,cAKF,M,yDAeH,G,iBAKM,M,+GAyBH,M,cAKA,M,UAKJ,E,4DAsByB,E,gCAzGxC,MAAYtW,GACV,OAAOrE,KAAK6a,YAAc7a,KAAKwE,G,CA8HjC,mBAAA2R,GACEnW,KAAKujE,gBAAgBvjE,KAAKka,QAC1Bla,KAAK+a,kBAAoB/a,KAAKgP,YAAYgM,cAAc,kBACxDhb,KAAKib,iBAAmBjb,KAAKgP,YAAYgM,cAAc,gB,CAGzD,gBAAArB,GACEs6D,GAASj0E,KAAKk0E,S,CAWhB,aAAMj9D,CAAQlO,GACZ/I,KAAKk0E,SAASh9D,MAAMnO,E,CAQtB,YAAMoO,GACJnX,KAAKk0E,SAAS98D,M,CAOhB,WAAMkH,GACJte,KAAKmB,MAAQ,GACbnB,KAAKgc,UAAU7P,KAAKnM,KAAKmB,M,CAI3B,eAAAoiE,CAAgBpiE,GACd,IAAK6hE,GAAchjE,KAAKgiB,aAAc,CACpChiB,KAAKia,SAAW5W,S,KACX,CACLrD,KAAKyjE,YAAcpiE,MAAMkF,QAAQpF,GAC5BA,EAAmBmpB,QAAO,CAACC,EAAK9oB,KAAG,IAAW8oB,EAAK9oB,CAACA,GAAM4B,aAAc,IACzElC,IAAU,KACR,GACAA,GAASkC,UACfrD,KAAK0jE,uBAAyB1jE,KAAK2jE,qB,EAIvC,MAAA9zD,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACHF,EAAA,OAAAE,IAAA,2CACEI,MAAO,CACL,iBAAkB,KAClB,sBAAuBpQ,KAAKyhB,aAG9B3R,EAAA,OAAAE,IAAA,2CAAKI,MAAO,CAAE,kBAAmB,KAAMwzD,OAAQ5jE,KAAKob,eAChDpb,KAAK+a,iBAAmB/a,KAAKyR,QAC7B3B,EAAA,SAAAE,IAAA,2CAAOmL,QAASnb,KAAKqE,GAAIwT,KAAK,SAC5B/H,EAAA,QAAAE,IAAA,2CAAMI,MAAM,iBACRpQ,KAAK+a,iBAAmBjL,EAAA,QAAAE,IAAA,2CAAM/P,KAAK,WAAoBD,KAAKyR,MAC9D3B,EAAA,OAAAE,IAAA,2CAAKI,MAAM,mBACPpQ,KAAKwb,WAAaxb,KAAK8b,gBAAkB,YAAYC,WAAW,aAChEjM,EAAA,QAAAE,IAAA,2CAAMI,MAAM,iBAAgB,cAAa,QAAM,IAC3CkK,EAAKC,EAAE,kBAAiB,KAG7Bva,KAAKwb,UAAYxb,KAAK8b,gBAAgBC,WAAW,aAChDjM,EAAA,QAAAE,IAAA,2CAAMI,MAAM,iBAAgB,cAAa,QAAM,IAC3CkK,EAAKC,EAAE,kBAAiB,KAG7Bva,KAAKsgE,WACJxwD,EAAA,OAAAE,IAAA,2CAAKI,MAAM,wBAAuB,cAAa,QAC5CpQ,KAAKmB,OAAOO,QAAU,EAAC,IAAG1B,KAAKsgE,eAQ9CxwD,EAAA,OAAAE,IAAA,2CAAKI,MAAM,sBACTN,EAAA,OAAAE,IAAA,2CACEI,MAAO,CACL,mBAAoB,KACpB,oBAAqBpQ,KAAK+hB,SAC1B,oBAAqB/hB,KAAKuW,SAC1B,mBAAoBvW,KAAK6jE,UAG3B/zD,EAAA,YAAAE,IAAA,8CACMhQ,KAAKuX,iBACTM,KAAK,WACLL,IAAKC,GAAOzX,KAAKk0E,SAAWz8D,EAC5BpT,GAAIrE,KAAKqE,GACTkS,SAAUvW,KAAKuW,SACfytD,UAAWhkE,KAAKsgE,UAChB2D,UAAWjkE,KAAKkkE,UAChBjkE,KAAMD,KAAKC,KACX2hB,YAAa5hB,KAAK4hB,YAClBG,SAAU/hB,KAAK+hB,SACfvG,SAAUxb,KAAKwb,SACf24D,KAAMn0E,KAAKm0E,KACXhzE,MAAOnB,KAAKmB,MACZua,QAAS1b,KAAK0b,QAAQhX,KAAK1E,MAC3BkY,QAASlY,KAAKkY,QAAQxT,KAAK1E,MAC3BmY,OAAQnY,KAAKmY,OAAOzT,KAAK1E,MAAK,eAChBA,KAAK6jE,QAAU,OAASxgE,UAAS,mBAC7BrD,KAAK2b,QAAU3b,KAAKqE,GAAK,QAAUhB,YAEtDrD,KAAK6jE,SACJ/zD,EAAA,YAAAE,IAAA,2CACEG,KAAK,mBACLC,MAAM,8BACNF,KAAK,IACL+H,QAAS,IAAMjY,KAAKk0E,SAASh9D,WAIlClX,KAAK2b,SACJ7L,EAAC+J,GAAW,CAAA7J,IAAA,2CACV3L,GAAIrE,KAAKqE,GACT0V,KAAM/Z,KAAK+Z,KACXC,YAAaha,KAAKib,gBAAkBnL,EAAA,QAAM7P,KAAK,SAC/Cga,SAAUja,KAAKia,a,CAS7B,WAAY0B,GACV,QAAS3b,KAAK+Z,QAAU/Z,KAAKib,gBAAkBjb,KAAK6jE,O,CAGtD,WAAYA,GACV,QAAS1pD,OAAOyC,KAAK5c,KAAKia,UAAY,IAAIvY,M,CAGpC,OAAAga,GACN1b,KAAKmB,MAAQnB,KAAKk0E,SAAS/yE,MAC3BnB,KAAKgc,UAAU7P,KAAKnM,KAAKmB,OACzBnB,KAAK0jE,qB,CAGC,OAAAxrD,CAAQlC,GACdhW,KAAK6Y,SAAS1M,KAAK6J,E,CAGb,MAAAmC,CAAOnC,GACbhW,KAAK8Y,QAAQ3M,KAAK6J,GAClB,GAAIgtD,GAAchjE,KAAKgiB,aAAc,CACnChiB,KAAKqkE,Y,EAID,UAAAA,GACNrkE,KAAKia,SAAWja,KAAKyjE,W,CAIf,mBAAAC,GACN,MAAM1hD,EAAcihD,GAAajjE,KAAKgiB,YAAa,MACnD,GAAIA,IAAgB,KAAM,QACjBhiB,KAAKskE,uBAAyB,UAAY9wD,OAAOkgB,aAAa1zB,KAAKskE,sBAC1EtkE,KAAKskE,qBAAuB9wD,OAAOmgB,YAAW,IAAM3zB,KAAKqkE,cAAcriD,GACvE,OAAO,I,CAET,OAAO,K,CAGD,mBAAA2hD,GACN,MAAMY,EAAW7vD,SAASiqB,gBAAkB3+B,KAAKgP,aAAe0F,SAASiqB,gBAAkB3+B,KAAKk0E,SAChG,IAAK3P,EAAU,CACbvkE,KAAKqkE,Y,mHC9UKlyB,GAAU/1B,GACxB,MAAMs1B,EAAU,IAAI3+B,KAAK4J,eAAeP,EAAU,CAAEyZ,KAAM,UAAWkc,OAAQ,YAC1Er1B,OAAO,IAAItZ,MACXmmC,cACH,OAAOmI,EAAQ7+B,SAAS,OAAS6+B,EAAQ7+B,SAAS,KACpD,C,SAEgBgL,GAAUzB,GACxB,MAAO,CACLgC,OAAQ9D,EAAKC,EAAE,qBACf8D,OAAQ/D,EAAKC,EAAE,qBACf++C,WAAYnnB,GAAU/1B,GAAY,KAAO,KAE7C,C,SAEgBg4D,GAAU93D,GACxB,MAAO,GAAGA,EAAKwZ,WAAW3W,WAAWC,SAAS,EAAG,QAAQ9C,EAAKub,aAAa1Y,WAAWC,SAAS,EAAG,MACpG,C,SCnBgBi1D,GAAUv0D,EAAoBxD,EAAY+D,GACxD,MAAM,CAAGi0D,EAAOC,GAASz0D,GAAKd,MAAM,oBAAoB/Y,IAAIgZ,SAAW,GACvE,MAAM,CAAGu1D,EAAOC,GAASp0D,GAAKrB,MAAM,oBAAoB/Y,IAAIgZ,SAAW,GACvE,IAAIihB,GAAWp4B,SACf,IAAIu4B,EAAUv4B,SACd,GAAIwsE,IAAUjxE,WAAakxE,IAAUlxE,UAAW,CAC9C68B,EAAU,IAAI98B,KAAKkZ,EAAKsC,cAAetC,EAAKuC,WAAYvC,EAAKwC,UAAWw1D,EAAOC,GAAOz3D,S,CAExF,GAAI03D,IAAUnxE,WAAaoxE,IAAUpxE,UAAW,CAC9Cg9B,EAAU,IAAIj9B,KAAKkZ,EAAKsC,cAAetC,EAAKuC,WAAYvC,EAAKwC,UAAW01D,EAAOC,GAAO33D,S,CAExF,OAAO,IAAI1Z,KAAKyc,KAAKC,IAAID,KAAKQ,IAAI/D,EAAKQ,UAAWojB,GAAUG,GAC9D,C,SAEgBq0C,GAASp4D,EAAY01B,GACnC,MAAM,CAAG2iC,EAAIC,GAAM5iC,GAAMhzB,MAAM,oBAAoB/Y,IAAIgZ,SAAW,GAClE,GAAI01D,IAAOtxE,WAAauxE,IAAOvxE,UAAW,CACxC,OAAO,K,CAET,OAAOiZ,EAAKwZ,WAAa6+C,GAAOr4D,EAAKwZ,aAAe6+C,GAAMr4D,EAAKub,aAAe+8C,CAChF,C,SAEgBC,GAAQv4D,EAAY01B,GAClC,MAAM,CAAG2iC,EAAIC,GAAM5iC,GAAMhzB,MAAM,oBAAoB/Y,IAAIgZ,SAAW,GAClE,GAAI01D,IAAOtxE,WAAauxE,IAAOvxE,UAAW,CACxC,OAAO,K,CAET,OAAOiZ,EAAKwZ,WAAa6+C,GAAOr4D,EAAKwZ,aAAe6+C,GAAMr4D,EAAKub,aAAe+8C,CAChF,CC5BA,MAAME,GAAa,8ZACnB,MAAAC,GAAeD,G,MCcFE,GAAO,M,kIACDh1E,KAAAoc,SAAW9B,EAAKuD,YAChB7d,KAAAod,OAASS,GAAU7d,KAAKoc,U,qBAKd,M,oBAED,M,mBAEY,K,UAEtB,K,6BAEmB,M,oBAK+D,W,gBAK7E,M,2CAUD,M,cAKD,M,uDAeC,M,qCAUJ,G,iBAKM,M,uJAmCH,M,cAKA,M,4DAsBqB,E,+CAUT,a,UAKhB,E,CAGf,YAAAqE,CAAaX,EAAcY,GACzB,GAAIZ,IAAQY,EAAQ,CAClB1gB,KAAK2gB,QAAQ,MAAOb,E,EAKxB,YAAAc,CAAaP,EAAcQ,GACzB,GAAIR,IAAQQ,EAAQ,CAClB7gB,KAAK2gB,QAAQ,MAAON,E,EAKxB,cAAAupC,CAAezoD,EAAe+hB,GAC5B,GAAIljB,KAAKgsE,wBAAyB,CAChChsE,KAAKgsE,wBAA0B,K,MAC1B,GAAI7qE,IAAU+hB,EAAU,CAC7BljB,KAAKi1E,eACLj1E,KAAKk1E,UAAU/zE,E,EAmBnB,iBAAA+P,GACElR,KAAKi1E,eACLj1E,KAAKk1E,UAAUl1E,KAAKmB,OAAS,G,CAG/B,mBAAAgV,GACEnW,KAAK+a,kBAAoB/a,KAAKgP,YAAYgM,cAAc,kBACxDhb,KAAKib,iBAAmBjb,KAAKgP,YAAYgM,cAAc,gB,CAGzD,gBAAArB,GACE3Z,KAAKkb,OAAOkG,KAAK,CACf4wB,KAAM,KACNsnB,WAAYt5D,KAAKod,OAAOk8C,WACxBD,YAAa,CAAC,IAAK,M,CAKvB,MAAAhoC,GACE,MAAM9c,EAAShJ,GAAqBvL,KAAKgP,YAAYmX,YAAYnL,cAAoCzP,GACrG,MAAMymC,EAAOqiC,GAAUr0E,KAAK8f,KAAO,KAAM9f,KAAKm1E,eAAiB,IAAI/xE,KAAK,IAAM,EAAG,EAAG,GAAIpD,KAAKqgB,KAAO,MACpG,MAAM+0D,EAAQ7gE,EAAM,eAAe6/D,GAAUpiC,QAC7CA,EAAK7a,WAAWtX,KAAKwa,MAAM2X,EAAKna,aAAe73B,KAAK4uC,MAAQ5uC,KAAK4uC,MACjE,MAAMymC,EAAQ9gE,EAAM,eAAe6/D,GAAUpiC,QAC7Cre,YAAW,MACR0hD,GAASD,IAAQn+D,WACjBo+D,GAASD,IAAQ5I,eAAexsE,KAAKm1E,cAAgB,CAAElZ,MAAO,UAAa54D,UAAU,G,CAU1F,YAAMggB,CAAO/G,GACX,MAAM4G,EAAWljB,KAAKmB,MACtB,IAAI2iB,EAAW9jB,KAAKmB,MACpB,IAAKmb,EAAM,CACTtc,KAAKm1E,cAAgB,KACrBn1E,KAAKmB,MAAQkC,S,KACR,CACL,MAAM2uC,EAAOqiC,GAAUr0E,KAAK8f,KAAO,KAAMxD,EAAMtc,KAAKqgB,KAAO,MAC3DrgB,KAAKs1E,KAAOt1E,KAAK0c,OAAOs1B,GAAMzI,cAAc12B,SAAS,MACrD7S,KAAKm1E,cAAgBnjC,EACrBluB,EAAWswD,GAAUpiC,E,CAIvB,GAAIhyC,KAAKkb,MAAO,CACdlb,KAAKkb,MAAM/Z,MAAQnB,KAAK0c,OAAO1c,KAAKm1E,cAAe,M,CAErD,GAAIjyD,IAAaY,EAAU,CACzB9jB,KAAKgsE,wBAA0B,KAC/BhsE,KAAKmB,MAAQ2iB,EACb9jB,KAAKgc,UAAU7P,KAAKnM,KAAKmB,M,KACpB,CACLnB,KAAKgsE,wBAA0B,K,EAYnC,aAAM/0D,CAAQlO,GACZ/I,KAAKkb,OAAOjE,QAAQlO,E,CAQtB,YAAMoO,GACJnX,KAAKkb,OAAO/D,Q,CAOd,WAAMmH,GACJte,KAAKkb,OAAOoD,O,CAGd,MAAAzO,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACHF,EAAA,aAAAE,IAAA,2CACEI,MAAM,iBACNoH,IAAKC,GAAOzX,KAAKkb,MAAQzD,EACzBqE,eAAgB9b,KAAK8b,eACrB2F,WAAYzhB,KAAKyhB,WACjBC,aAAc1hB,KAAK0hB,aACnBC,UAAW3hB,KAAK2hB,UAChBpL,SAAUvW,KAAKuW,SACfwD,KAAM/Z,KAAK+Z,KACX5J,KAAMnQ,KAAKmQ,KACXsI,UAAWzY,KAAKyY,UAChBoC,WAAY7a,KAAK6a,WACjBpJ,MAAOzR,KAAKyR,MACZ2J,YAAapb,KAAKob,YAClBnb,KAAMD,KAAKC,KACX2hB,YAAa5hB,KAAK4hB,YAClBC,WAAY7hB,KAAK6hB,WACjBC,WAAY9hB,KAAK8hB,WACjBC,SAAU/hB,KAAK+hB,SACfvG,SAAUxb,KAAKwb,SACfra,MAAOnB,KAAK0c,OAAO1c,KAAKm1E,cAAe,OACvCj7D,OAAQla,KAAKka,OACb8H,YAAahiB,KAAKgiB,YAClBzK,iBAAkBvX,KAAKuX,iBACvB0K,WAAY/c,GAAKlF,KAAK6Y,SAAS1M,KAAKjH,EAAEid,QACtCC,UAAWld,GAAKlF,KAAKqiB,YAAYnd,EAAEid,SAEnCrS,EAAA,QAAAE,IAAA,2CAAMsS,KAAK,SACRtiB,KAAK+a,iBAAmBjL,EAAA,QAAAE,IAAA,2CAAM/P,KAAK,WAClCD,KAAK+a,iBAAmB/a,KAAKyR,MAC/B3B,EAAA,QAAAE,IAAA,2CAAMI,MAAM,cAAY,aAE1BN,EAAA,OAAAE,IAAA,2CAAKsS,KAAK,QAAQlS,MAAM,kBACrBpQ,KAAKod,OAAOk8C,aAAe,MAC1BxpD,EAAA,cAAAE,IAAA,2CACEI,MAAM,kBACNmG,SAAUvW,KAAKuW,UAAYvW,KAAK+hB,SAChCysD,WAAY,IAAMxuE,KAAKu1E,YAEtBv1E,KAAKs1E,KAAO,KAAO,MAGxBxlE,EAAA,gBAAAE,IAAA,2CAAcsS,KAAK,QAAQC,UAAWviB,KAAKuiB,WACzCzS,EAAA,cAAAE,IAAA,2CACEsS,KAAK,UACLlS,MAAM,kBACNmG,SAAUvW,KAAKuW,UAAYvW,KAAK+hB,SAChC5R,KAAK,wBACL+F,SAAQ,KACRwB,UACE1X,KAAKm1E,cAAgB,GAAGn1E,KAAKod,OAAOgB,WAAWpe,KAAK0c,OAAO1c,KAAKm1E,iBAAmBn1E,KAAKod,OAAOiB,SAGnGvO,EAAA,OAAAE,IAAA,2CAAKsS,KAAK,UAAUlS,MAAM,WACxBN,EAAA,MAAAE,IAAA,4CACGhQ,KAAKw1E,YAAYvvE,KAAI+rC,IACpB,MAAMyjC,EAAUrB,GAAUpiC,GAC1B,MAAMz7B,EAAWm+D,GAAS1iC,EAAMhyC,KAAK8f,KAAO,OAAS+0D,GAAQ7iC,EAAMhyC,KAAKqgB,KAAO,MAC/E,OACEvQ,EAAA,UACEA,EAAA,cACEM,MAAO,CACL,eAAgB,KAChB,gBAAiBmG,GAEnBA,SAAUA,EACVrP,OAAQuuE,IAAYz1E,KAAKmB,MACzByO,MAAO6lE,IAAYz1E,KAAKmB,MAAQ,UAAY,YAC5C6W,QAASy9D,IAAYz1E,KAAKmB,MAAQ,SAAW,WAC7CqtE,WAAY,IAAMxuE,KAAKqjB,OAAO2uB,GAAK,YACxByjC,GAEVz1E,KAAK0c,OAAOs1B,IAEZ,QAOhBhyC,KAAKib,gBACJnL,EAAA,QAAAE,IAAA,2CAAMsS,KAAK,QACTxS,EAAA,QAAAE,IAAA,2CAAM/P,KAAK,W,CAQf,SAAAu1E,GACN,MAAMjnE,EAAS,GACf,MAAMojC,EAAQ,IAAIvuC,KAAK,IAAM,EAAG,EAAG,EAAG,EAAG,GACzC,IAAI4uC,EAAO,IAAI5uC,KAAKuuC,EAAM70B,WAC1B,MAAOk1B,EAAKlzB,YAAc6yB,EAAM7yB,UAAW,CACzCvQ,EAAOjM,KAAK0vC,GACZA,EAAO,IAAI5uC,KAAK4uC,EAAKl1B,UAAY9c,KAAK4uC,KAAO,I,CAE/C,OAAOrgC,C,CAGD,SAAA2mE,CAAU/zE,GAChB,MAAM,CAAGwzE,EAAIC,GAAMzzE,EAAM6d,MAAM,oBAAoB/Y,IAAIgZ,SAAW,GAClE,GAAI01D,IAAOtxE,WAAauxE,IAAOvxE,UAAW,CACxCrD,KAAKqjB,OAAO,MACZ,M,CAGFrjB,KAAKqjB,OACHrjB,KAAKod,OAAOk8C,aAAe,KACvB,IAAIl2D,KAAK,IAAM,EAAG,EAAGuxE,EAAIC,EAAI,GAC7B,IAAIxxE,KAAK,IAAM,EAAG,EAAIuxE,EAAK,IAAO30E,KAAKs1E,KAAO,EAAI,IAAKV,EAAI,G,CAI3D,YAAAK,GACN,MAAM,CAAGN,GAAM30E,KAAKmB,OAAO6d,MAAM,oBAAoB/Y,IAAIgZ,SAAW,GACpE,GAAIjf,KAAKod,OAAOk8C,aAAe,KAAM,CACnCt5D,KAAKs1E,KAAOX,IAAO,GAAKA,EAAK,E,EAIzB,QAAAY,GACN,GAAIv1E,KAAKm1E,cAAe,CACtBn1E,KAAKqjB,OAAO,IAAIjgB,KAAKpD,KAAKm1E,cAAcr4D,WAAa9c,KAAKs1E,KAAO,IAAM,IAAM,M,KACxE,CACLt1E,KAAKs1E,MAAQt1E,KAAKs1E,I,EAId,WAAAjzD,CAAYnd,GAClBlF,KAAKk1E,UAAUl1E,KAAKkb,OAAO/Z,OAAS,IACpCnB,KAAK8Y,QAAQ3M,KAAKjH,E,CAGZ,MAAAwX,CAAOJ,EAAmBo5D,EAAc,MAC9C,MAAMnY,EAAMjhD,EACR,IAAIvJ,KAAK4J,eAAe3c,KAAKoc,SAAU,CACrCyZ,KAAM,UACNkc,OAAQ,YACPr1B,OAAOJ,GACV,GACJ,OAAOo5D,EAAcnY,EAAMA,EAAI3/C,QAAQ,cAAe,G,CAGhD,OAAA+C,CAAQ+C,EAAqBC,GACnC,IAAK3jB,KAAKmB,MAAO,OACjB,MAAM2e,GAAO4D,IAAS,MAAQC,EAAQ3jB,KAAK8f,MAAQ,KACnD,MAAMO,GAAOqD,IAAS,MAAQC,EAAQ3jB,KAAKqgB,MAAQ,KACnD,MAAOrB,EAAO21D,EAAIC,GAAM50E,KAAKmB,MAAM6d,MAAM,oBAAsB,GAC/D,MAAM8E,EAAW9E,EAAQo1D,GAAUC,GAAUv0D,EAAK,IAAI1c,KAAK,IAAM,EAAG,EAAG6b,OAAO01D,GAAK11D,OAAO21D,IAAMv0D,IAAQhd,UACxG,GAAIrD,KAAKmB,QAAU2iB,EAAU,CAC3B9jB,KAAKk1E,UAAUpxD,GAAY,IAC3B9jB,KAAKgc,UAAU7P,KAAK2X,E,kJCpc1B,MAAM6xD,GAAe,s0EACrB,MAAAC,GAAeD,GCEf,IAAIh7D,GAAe,E,MAgBNk7D,GAAS,M,kIACH71E,KAAAwE,IAAM,cAAcmW,O,qBASV,M,oBAED,M,aAKS,M,cAKhB,M,qCAUH,G,iBAKM,M,kCAUH,M,+DAkB2B,K,mCAU1B,M,eAK6B,M,gCA9EjD,MAAYtW,GACV,OAAOrE,KAAK6a,YAAc7a,KAAKwE,G,CAoGjC,iBAAA0M,GACElR,KAAK8a,gB,CAGP,mBAAA3E,GACEnW,KAAK+a,kBAAoB/a,KAAKgP,YAAYgM,cAAc,kBACxDhb,KAAKib,iBAAmBjb,KAAKgP,YAAYgM,cAAc,gB,CAWzD,aAAM/D,CAAQlO,GACZ/I,KAAKkb,MAAMhE,MAAMnO,E,CAQnB,YAAMoO,GACJnX,KAAKkb,MAAM9D,M,CAGb,MAAAvH,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACHF,EAAA,SAAAE,IAAA,2CACEmL,QAASnb,KAAKqE,GACd+L,MAAO,CACL,YAAapQ,KAAKob,YAClB,cAAepb,KAAKuW,SACpB,aAAcvW,KAAKqb,UACnB,eAAgBrb,KAAKsb,YAAc,SACnC,YAAatb,KAAKsb,YAAc,WAGlCxL,EAAA,SAAAE,IAAA,8CACMhQ,KAAKuX,iBACTM,KAAK,QACLL,IAAKC,GAAOzX,KAAKkb,MAAQzD,EACzBpT,GAAIrE,KAAKqE,GACT+T,KAAK,WACLnY,KAAMD,KAAKC,KACXkB,MAAOnB,KAAKmB,MACZoa,QAASvb,KAAKub,QACdC,SAAUxb,KAAKwb,SACfjF,SAAUvW,KAAKuW,SACfnG,MAAM,mBACN+I,KAAK,SACLuC,QAAS1b,KAAK0b,QAAQhX,KAAK1E,MAC3BkY,QAASlY,KAAKkY,QAAQxT,KAAK1E,MAC3BmY,OAAQnY,KAAKmY,OAAOzT,KAAK1E,MAAK,mBACZA,KAAK2b,QAAU3b,KAAKqE,GAAK,QAAUhB,YAEvDyM,EAAA,QAAAE,IAAA,2CAAMI,MAAM,WACZN,EAAA,QAAAE,IAAA,2CAAMI,MAAM,QAAQyH,KAAK,SACrB7X,KAAK+a,iBAAmBjL,EAAA,QAAAE,IAAA,2CAAM/P,KAAK,WAAoBD,KAAKyR,QAGjEzR,KAAK2b,SACJ7L,EAAA,OAAAE,IAAA,2CAAKI,MAAO,CAAE,eAAgB,KAAM,aAAcpQ,KAAKqb,YACrDvL,EAAA,OAAAE,IAAA,2CAAKI,MAAM,uBACXN,EAAC+J,GAAW,CAAA7J,IAAA,2CAAC3L,GAAIrE,KAAKqE,GAAI0V,KAAM/Z,KAAK+Z,KAAMC,YAAaha,KAAKib,gBAAkBnL,EAAA,QAAM7P,KAAK,Y,CAOpG,WAAY0b,GACV,QAAS3b,KAAK+Z,QAAU/Z,KAAKib,c,CAGvB,OAAAS,GACN1b,KAAKub,QAAUvb,KAAKkb,MAAMK,QAC1Bvb,KAAK8a,iBACL9a,KAAKgc,UAAU7P,KAAKnM,KAAKic,c,CAGnB,OAAA/D,CAAQlC,GACdhW,KAAK6Y,SAAS1M,KAAK6J,E,CAGb,MAAAmC,CAAOnC,GACbhW,KAAK8Y,QAAQ3M,KAAK6J,E,CAGZ,cAAA8E,GACN9a,KAAKic,cAAgBjc,KAAKub,QAAUvb,KAAKmB,OAAS,KAAOnB,KAAKkc,SAAW,K,gDCzN7E,MAAM45D,GAAgB,iBAAkBtiE,QAAUJ,UAAU2iE,eAAiB,ECA7E,MAAMC,GAAgB,0uCACtB,MAAAC,GAAeD,GCIf,IAAIr7D,GAAe,E,MAcNu7D,GAAU,MAkBrB,WAAA71E,CAAA81E,G,UAfiBn2E,KAAAqE,GAAK,eAAesW,OAM7B3a,KAAAo2E,SAAW,M,UAmBH,M,aAKE,G,cAMC,M,eAKmB,M,WAKtB,M,UAKgB,I,eAKZ,I,eAKA,E,uBAKQ,IAlD1Bp2E,KAAKq2E,kBAAoBr2E,KAAKs2E,aAAa5xE,KAAK1E,MAChDA,KAAKu2E,kBAAoBv2E,KAAKw2E,aAAa9xE,KAAK1E,MAChDA,KAAKy2E,8BAAgCz2E,KAAK02E,yBAAyBhyE,KAAK1E,MACxEA,KAAK22E,wBAA0B32E,KAAK42E,mBAAmBlyE,KAAK1E,MAC5DA,KAAK62E,sBAAwB72E,KAAK82E,iBAAiBpyE,KAAK1E,K,CAiD1D,aAAA+2E,EAAc/mE,IAAEA,IACdA,IAAQ,UAAYhQ,KAAKg3E,a,CAG3B,gBAAAr9D,GACE,MAAM2I,EAAOtiB,KAAKgP,YAAYmX,YAAYnL,cAAc,QACxDhb,KAAK6zD,QAAUvxC,GAAMuD,uBAAuB,GAC5C,GAAI7lB,KAAK6zD,UAAY7zD,KAAK6zD,QAAQ5kD,aAAa,oBAAqB,CAClEjP,KAAK6zD,QAAQ3kD,aAAa,mBAAoBlP,KAAKqE,G,CAGrD,GAAI4yE,GAAe,CACjBzjE,OAAOzJ,iBAAiB,aAAc/J,KAAKy2E,+BAC3Cz2E,KAAK6zD,SAAS9pD,iBAAiB,aAAc/J,KAAK22E,yBAClD32E,KAAK6zD,SAAS9pD,iBAAiB,WAAY/J,KAAK62E,sB,KAC3C,CACL72E,KAAK6zD,SAAS9pD,iBAAiB,UAAW/J,KAAKq2E,mBAC/Cr2E,KAAK6zD,SAAS9pD,iBAAiB,WAAY/J,KAAKu2E,mBAChDv2E,KAAK6zD,SAAS9pD,iBAAiB,aAAc/J,KAAKq2E,mBAClDr2E,KAAK6zD,SAAS9pD,iBAAiB,aAAc/J,KAAKu2E,kB,EAItD,mBAAApgE,GACEnW,KAAKo2E,SAAWp2E,KAAKuW,WAAcvW,KAAK0R,UAAY1R,KAAKgP,YAAYgM,cAAc,mB,CAGrF,oBAAA6rD,GACE,GAAIoQ,GAAe,CACjBzjE,OAAOxJ,oBAAoB,aAAchK,KAAKy2E,+BAC9Cz2E,KAAK6zD,SAAS7pD,oBAAoB,aAAchK,KAAK22E,yBACrD32E,KAAK6zD,SAAS7pD,oBAAoB,WAAYhK,KAAK62E,sB,KAC9C,CACL72E,KAAK6zD,SAAS7pD,oBAAoB,aAAchK,KAAKq2E,mBACrDr2E,KAAK6zD,SAAS7pD,oBAAoB,aAAchK,KAAKu2E,mBACrDv2E,KAAK6zD,SAAS7pD,oBAAoB,UAAWhK,KAAKq2E,mBAClDr2E,KAAK6zD,SAAS7pD,oBAAoB,WAAYhK,KAAKu2E,kB,EAIvD,MAAA1mE,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACHF,EAAA,QAAAE,IAAA,6CACAF,EAAA,OAAAE,IAAA,2CACEwH,IAAKC,GAAOzX,KAAKk3E,QAAUz/D,EAC3BpT,GAAIrE,KAAKqE,GACT8U,KAAK,UAAS,eACAnZ,KAAKk9B,KAAI,YACZl9B,KAAKk9B,KAAO,SAAW,MAClC9sB,MAAO,CACL8mE,QAAS,KACT,iBAAkBl3E,KAAKo2E,SACvB,gBAAiBp2E,KAAK6R,MACtB,CAAC,WAAW7R,KAAKkQ,QAAS4B,QAAQ9R,KAAKkQ,QAGzCJ,EAAA,QAAAE,IAAA,2CAAM/P,KAAK,WAET6P,EAAA,KAAAE,IAAA,4CAAIhQ,KAAK0R,W,CAOX,YAAM61C,GACZ,GAAIvnD,KAAK6zD,SAAW7zD,KAAKk3E,QAAS,OAC1BxhC,GAAgB11C,KAAK6zD,QAAS7zD,KAAKk3E,QAAS,CAChDvhC,SAAU,QACVpzB,UAAWviB,KAAKuiB,UAChBqzB,WAAY,CACVlR,GAAOwxC,GAAWnhB,QAClBza,GAAK,CAAES,0BAA2B,UAClCp5C,GAAM,CAAEmzC,QAASohC,GAAWiB,mBAE7BnmE,MAAK,EAAGkd,IAAGsJ,QACZ,GAAIx3B,KAAKk3E,QAAS,CAChB/8D,OAAO0gB,OAAO76B,KAAKk3E,QAAQ5lE,MAAO,CAChCm7B,KAAM,GAAG5sB,KAAKQ,IAAI,EAAG6N,OACrBqe,IAAK,GAAG/U,O,MAOV,YAAA8+C,GACN9iE,OAAOkgB,aAAa1zB,KAAKo3E,aACzBp3E,KAAKo3E,YAAc/zE,UACnB,IAAKrD,KAAKq3E,YAAa,CACrBr3E,KAAKq3E,YAAc7jE,OAAOmgB,YAAW,KACnC3zB,KAAKq3E,YAAch0E,UACnBrD,KAAKs3E,aAAa,GACjBt3E,KAAKu3E,U,EAIJ,YAAAf,GACNhjE,OAAOkgB,aAAa1zB,KAAKq3E,aACzBr3E,KAAKq3E,YAAch0E,UACnB,IAAKrD,KAAKo3E,YAAa,CACrBp3E,KAAKo3E,YAAc5jE,OAAOmgB,YAAW,KACnC3zB,KAAKo3E,YAAc/zE,UACnBrD,KAAKg3E,aAAa,GACjBh3E,KAAKw3E,U,EAIJ,kBAAAZ,CAAmB5gE,GACzBA,EAAMkM,kBACN,IAAKliB,KAAKy3E,aAAc,CACtBz3E,KAAKy3E,aAAejkE,OAAOmgB,YAAW,KACpC3zB,KAAKy3E,aAAep0E,UACpBrD,KAAKs3E,aAAa,GACjBt3E,KAAK03E,kB,EAIJ,gBAAAZ,GACNtjE,OAAOkgB,aAAa1zB,KAAKy3E,cACzBz3E,KAAKy3E,aAAep0E,UACpBrD,KAAKg3E,a,CAGC,wBAAAN,GACN12E,KAAKg3E,a,CAGC,WAAAM,GACN,GAAIt3E,KAAK6zD,SAAW7zD,KAAKk3E,QAAS,CAChCl3E,KAAK23E,kBAAoBrwB,GAAWtnD,KAAK6zD,QAAS7zD,KAAKk3E,SAAS,IAAMl3E,KAAKunD,U,CAE7E,IAAKvnD,KAAKo2E,SAAU,CAClBp2E,KAAKk9B,KAAO,KACZl9B,KAAKk3E,SAASjjD,UAAUhrB,IAAI,e,EAIxB,WAAA+tE,GACNh3E,KAAKk9B,KAAO,MACZl9B,KAAKk3E,SAASjjD,UAAU/qB,OAAO,gBAC/BlJ,KAAK23E,sBACL33E,KAAK23E,kBAAoBt0E,S,oCAtNH6yE,GAAAnhB,OAAS,EACTmhB,GAAAiB,cAAgB,E","ignoreList":[]}