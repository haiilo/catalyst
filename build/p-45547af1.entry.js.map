{"version":3,"sources":["src/components/cat-alert/cat-alert.scss?tag=cat-alert&encapsulation=shadow","src/components/cat-alert/cat-alert.tsx","src/utils/load-img.ts","src/components/cat-avatar/cat-avatar.scss?tag=cat-avatar&encapsulation=shadow","src/components/cat-avatar/cat-avatar.tsx","src/components/cat-badge/cat-badge.scss?tag=cat-badge&encapsulation=shadow","src/components/cat-badge/cat-badge.tsx","src/utils/breakpoints.ts","src/utils/platform.ts","src/utils/media-matcher.ts","src/components/cat-button/cat-button.scss?tag=cat-button&encapsulation=shadow","src/components/cat-button/cat-button.tsx","src/components/cat-card/cat-card.scss?tag=cat-card&encapsulation=shadow","src/components/cat-card/cat-card.tsx","src/components/cat-form-hint/cat-form-hint.tsx","src/components/cat-checkbox/cat-checkbox.scss?tag=cat-checkbox&encapsulation=shadow","src/components/cat-checkbox/cat-checkbox.tsx","src/components/cat-icon/cat-icon.scss?tag=cat-icon&encapsulation=shadow","src/components/cat-icon/cat-icon.tsx","src/components/cat-input/cat-input.scss?tag=cat-input&encapsulation=shadow","src/components/cat-input/cat-input.tsx","../node_modules/@floating-ui/core/dist/floating-ui.core.esm.js","../node_modules/@floating-ui/dom/dist/floating-ui.dom.esm.js","../node_modules/tabbable/dist/index.esm.js","../node_modules/focus-trap/dist/focus-trap.esm.js","src/utils/first-tabbable.ts","src/components/cat-menu/cat-menu.scss?tag=cat-menu&encapsulation=shadow","src/components/cat-menu/cat-menu.tsx","src/components/cat-modal/cat-modal.scss?tag=cat-modal&encapsulation=shadow","src/components/cat-modal/cat-modal.tsx","src/components/cat-radio/cat-radio.scss?tag=cat-radio&encapsulation=shadow","src/components/cat-radio/cat-radio.tsx","src/components/cat-radio-group/cat-radio-group.scss?tag=cat-radio-group&encapsulation=shadow","src/components/cat-radio-group/cat-radio-group.tsx","node_modules/rxjs/dist/esm/internal/util/isFunction.js","node_modules/rxjs/dist/esm/internal/util/createErrorClass.js","node_modules/rxjs/dist/esm/internal/util/UnsubscriptionError.js","node_modules/rxjs/dist/esm/internal/util/arrRemove.js","node_modules/rxjs/dist/esm/internal/Subscription.js","node_modules/rxjs/dist/esm/internal/config.js","node_modules/rxjs/dist/esm/internal/scheduler/timeoutProvider.js","node_modules/rxjs/dist/esm/internal/util/reportUnhandledError.js","node_modules/rxjs/dist/esm/internal/util/noop.js","node_modules/rxjs/dist/esm/internal/NotificationFactories.js","node_modules/rxjs/dist/esm/internal/util/errorContext.js","node_modules/rxjs/dist/esm/internal/Subscriber.js","node_modules/rxjs/dist/esm/internal/symbol/observable.js","node_modules/rxjs/dist/esm/internal/util/identity.js","node_modules/rxjs/dist/esm/internal/util/pipe.js","node_modules/rxjs/dist/esm/internal/Observable.js","node_modules/rxjs/dist/esm/internal/util/lift.js","node_modules/rxjs/dist/esm/internal/operators/OperatorSubscriber.js","node_modules/rxjs/dist/esm/internal/util/ObjectUnsubscribedError.js","node_modules/rxjs/dist/esm/internal/Subject.js","node_modules/rxjs/dist/esm/internal/observable/empty.js","node_modules/rxjs/dist/esm/internal/util/isScheduler.js","node_modules/rxjs/dist/esm/internal/util/args.js","../node_modules/tslib/tslib.es6.js","node_modules/rxjs/dist/esm/internal/util/isArrayLike.js","node_modules/rxjs/dist/esm/internal/util/isPromise.js","node_modules/rxjs/dist/esm/internal/util/isInteropObservable.js","node_modules/rxjs/dist/esm/internal/util/isAsyncIterable.js","node_modules/rxjs/dist/esm/internal/util/throwUnobservableError.js","node_modules/rxjs/dist/esm/internal/symbol/iterator.js","node_modules/rxjs/dist/esm/internal/util/isIterable.js","node_modules/rxjs/dist/esm/internal/util/isReadableStreamLike.js","node_modules/rxjs/dist/esm/internal/observable/innerFrom.js","node_modules/rxjs/dist/esm/internal/util/executeSchedule.js","node_modules/rxjs/dist/esm/internal/operators/observeOn.js","node_modules/rxjs/dist/esm/internal/operators/subscribeOn.js","node_modules/rxjs/dist/esm/internal/scheduled/scheduleObservable.js","node_modules/rxjs/dist/esm/internal/scheduled/schedulePromise.js","node_modules/rxjs/dist/esm/internal/scheduled/scheduleArray.js","node_modules/rxjs/dist/esm/internal/scheduled/scheduleIterable.js","node_modules/rxjs/dist/esm/internal/scheduled/scheduleAsyncIterable.js","node_modules/rxjs/dist/esm/internal/scheduled/scheduleReadableStreamLike.js","node_modules/rxjs/dist/esm/internal/scheduled/scheduled.js","node_modules/rxjs/dist/esm/internal/observable/from.js","node_modules/rxjs/dist/esm/internal/operators/map.js","node_modules/rxjs/dist/esm/internal/util/mapOneOrManyArgs.js","node_modules/rxjs/dist/esm/internal/operators/mergeInternals.js","node_modules/rxjs/dist/esm/internal/operators/mergeMap.js","node_modules/rxjs/dist/esm/internal/operators/mergeAll.js","node_modules/rxjs/dist/esm/internal/observable/fromEvent.js","node_modules/rxjs/dist/esm/internal/observable/merge.js","node_modules/rxjs/dist/esm/internal/operators/filter.js","node_modules/rxjs/dist/esm/internal/operators/distinctUntilChanged.js","node_modules/rxjs/dist/esm/internal/operators/takeUntil.js","src/components/cat-scrollable/cat-scrollable.scss?tag=cat-scrollable&encapsulation=shadow","src/components/cat-scrollable/cat-scrollable.tsx","../node_modules/choices.js/public/assets/scripts/choices.js","src/components/cat-select/cat-select.scss?tag=cat-select&encapsulation=shadow","src/components/cat-select/cat-select.tsx","src/components/cat-skeleton/cat-skeleton.scss?tag=cat-skeleton&encapsulation=shadow","src/components/cat-skeleton/cat-skeleton.tsx","src/components/cat-spinner/cat-spinner.scss?tag=cat-spinner&encapsulation=shadow","src/components/cat-spinner/cat-spinner.tsx","src/components/cat-tab/cat-tab.scss?tag=cat-tab&encapsulation=shadow","src/components/cat-tab/cat-tab.tsx","src/components/cat-tabs/cat-tabs.scss?tag=cat-tabs&encapsulation=shadow","src/components/cat-tabs/cat-tabs.tsx","../node_modules/autosize/dist/autosize.esm.js","src/components/cat-textarea/cat-textarea.scss?tag=cat-textarea&encapsulation=shadow","src/components/cat-textarea/cat-textarea.tsx","src/components/cat-toast-demo/cat-toast-demo.scss?tag=cat-toast-demo","src/components/cat-toast-demo/cat-toast-demo.tsx","src/components/cat-toggle/cat-toggle.scss?tag=cat-toggle&encapsulation=shadow","src/components/cat-toggle/cat-toggle.tsx","src/utils/is-touch-screen.ts","src/components/cat-tooltip/cat-tooltip.scss?tag=cat-tooltip&encapsulation=shadow","src/components/cat-tooltip/cat-tooltip.tsx"],"names":["catAlertCss","CatAlert","[object Object]","hostRef","this","mapIcon","Map","color","noIcon","h","Host","tabindex","role","part","class","alert","Boolean","size","icon","get","loadImg","src","Promise","resolve","reject","image","Image","addEventListener","catAvatarCss","CatAvatar","round","label","value","then","backgroundImage","undefined","onSrcChanged","log","warn","url","href","target","urlTarget","style","cssStyle","cssClass","aria-label","content","getInitials","background-image","avatar","avatar-round","_a","initials","_b","split","map","n","join","catBadgeCss","CatBadge","variant","pulse","badge","badge-round","badge-pulse","_breakpoints","Breakpoints","xs","s","m","l","xl","isBreakpoint","includes","hasV8BreakIterator","Intl","v8BreakIterator","Platform","EDGE","test","navigator","userAgent","TRIDENT","BLINK","window","chrome","CSS","WEBKIT","IOS","FIREFOX","ANDROID","SAFARI","mediaQueriesForWebkitCompatibility","Set","mediaQueryStyleNode","MediaMatcher","_platform","_matchMedia","matchMedia","bind","query","createEmptyStyleRule","has","document","createElement","setAttribute","head","appendChild","sheet","insertRule","add","e","error","catButtonCss","CatButton","_iconOnly","active","disabled","loading","submit","noEllipsis","iconOnly","iconRight","mediaQueryList","removeEventListener","mediaQueryListener","mediaMatcher","event","matches","onIconOnlyChanged","isIconButton","a11yLabel","preventDefault","stopImmediatePropagation","options","button","focus","ref","el","aria-disabled","id","buttonId","cat-button","cat-button-icon","cat-button-round","cat-button-loading","cat-button-disabled","cat-button-ellipsed","onClick","onFocus","onBlur","type","name","cat-button-active","iconSize","spinnerSize","hasPrefixIcon","hasSuffixIcon","catClick","emit","catFocus","catBlur","catCardCss","CatCard","CatFormHint","props","hint","slottedHint","Array","isArray","item","catCheckboxCss","nextUniqueId","CatCheckbox","hasSlottedLabel","checked","indeterminate","labelHidden","required","labelLeft","input","hostElement","querySelector","htmlFor","is-hidden","is-disabled","label-left","String","onInput","aria-hidden","viewBox","points","hintSection","hasSlottedHint","catChange","catIconCss","CatIcon","iconRegistry","CatIconRegistry","getInstance","innerHTML","getIcon","catInputCss","CatInput","i18n","CatI18nRegistry","clearable","readonly","hidden","t","input-wrapper","input-round","input-disabled","textPrefix","has-clearable","autocomplete","autoComplete","max","maxlength","maxLength","min","minlength","minLength","placeholder","icon-only","a11y-label","clear","textSuffix","getSide","placement","getAlignment","getMainAxisFromPlacement","getLengthFromAxis","axis","computeCoordsFromPlacement","_ref","rtl","reference","floating","commonX","x","width","commonY","y","height","mainAxis","length","commonAlign","side","isVertical","coords","computePosition","async","config","strategy","middleware","platform","isRTL","rects","getElementRects","statefulPlacement","middlewareData","i","fn","nextX","nextY","data","reset","initialPlacement","elements","expandPaddingObject","padding","top","right","bottom","left","getSideObjectFromPadding","rectToClientRect","rect","detectOverflow","middlewareArguments","_await$platform$isEle","boundary","rootBoundary","elementContext","altBoundary","paddingObject","altContext","element","clippingClientRect","getClippingRect","isElement","contextElement","getDocumentElement","elementClientRect","convertOffsetParentRelativeRectToViewportRelativeRect","offsetParent","getOffsetParent","hash$1","getOppositePlacement","replace","matched","getAlignmentSides","alignment","mainAlignmentSide","main","cross","hash","start","end","getOppositeAlignmentPlacement","getExpandedPlacements","oppositePlacement","flip","_middlewareData$flip","checkMainAxis","crossAxis","checkCrossAxis","fallbackPlacements","specifiedFallbackPlacements","fallbackStrategy","flipAlignment","detectOverflowOptions","isBasePlacement","placements","overflow","overflows","overflowsData","push","every","_middlewareData$flip$","_middlewareData$flip2","nextIndex","index","nextPlacement","resetPlacement","_overflowsData$map$so","d","filter","reduce","acc","sort","a","b","convertValueToCoords","mainAxisMulti","crossAxisMulti","rawValue","alignmentAxis","offset","diffCoords","isWindow","toString","getWindow","node","ownerDocument","defaultView","getComputedStyle$1","getComputedStyle","getNodeName","nodeName","toLowerCase","isHTMLElement","HTMLElement","Element","isNode","Node","isShadowRoot","OwnElement","ShadowRoot","isOverflowElement","overflowX","overflowY","isTableElement","isContainingBlock","isFirefox","css","transform","perspective","contain","willChange","isLayoutViewport","Math","getBoundingClientRect","includeScale","isFixedStrategy","clientRect","scaleX","scaleY","offsetWidth","offsetHeight","win","addVisualOffsets","visualViewport","offsetLeft","offsetTop","documentElement","getNodeScroll","scrollLeft","pageXOffset","scrollTop","pageYOffset","getWindowScrollBarX","isScaled","getRectRelativeToOffsetParent","isOffsetParentAnElement","scroll","offsets","offsetRect","clientLeft","clientTop","getParentNode","assignedSlot","parentNode","host","getTrueOffsetParent","position","getContainingBlock","currentNode","getDimensions","getViewportRect","html","clientWidth","clientHeight","layoutViewport","getDocumentRect","_element$ownerDocumen","body","scrollWidth","scrollHeight","direction","getNearestOverflowAncestor","getOverflowAncestors","list","_node$ownerDocument","scrollableAncestor","isBody","concat","updatedList","contains","parent","child","rootNode","getRootNode","next","getInnerBoundingClientRect","getClientRectFromClippingAncestor","clippingParent","getClippingAncestors","clippingAncestors","canEscapeClipping","clipperElement","mainClippingAncestors","firstClippingAncestor","clippingRect","accRect","clippingAncestor","getClientRects","from","autoUpdate","update","ancestorScroll","_ancestorScroll","ancestorResize","_ancestorResize","elementResize","_elementResize","animationFrame","cleanedUp","ancestors","forEach","ancestor","passive","observer","ResizeObserver","observe","frameId","prevRefRect","frameLoop","nextRefRect","requestAnimationFrame","_observer","disconnect","cancelAnimationFrame","computePosition$1","candidateSelectors","candidateSelector","NoElement","prototype","msMatchesSelector","webkitMatchesSelector","getCandidates","includeContainer","candidates","slice","apply","querySelectorAll","call","unshift","getCandidatesIteratively","elementsToCheck","shift","tagName","assigned","assignedElements","children","nestedCandidates","flatten","scope","validCandidate","shadowRoot","getShadowRoot","_nestedCandidates","getTabindex","isScope","tabIndex","isContentEditable","isNaN","parseInt","getAttribute","sortOrderedTabbables","documentOrder","isInput","isHiddenInput","isDetailsWithSummary","r","some","getCheckedRadio","nodes","form","isTabbableRadio","radioScope","queryRadios","radioSet","escape","err","console","message","isRadio","isNonTabbableRadio","isZeroArea","_node$getBoundingClie","isHidden","displayCheck","visibility","isDirectSummary","nodeUnderDetails","parentElement","originalNode","isDisabledFromFieldset","isNodeMatchingSelectorFocusable","isNodeMatchingSelectorTabbable","sortByOrder","regularTabbables","orderedTabbables","candidateTabindex","sortable","tabbable","focusable","isTabbable","Error","focusableCandidateSelector","isFocusable","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","_objectSpread2","arguments","source","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","activeFocusTraps","trapQueue","activateTrap","trap","activeTrap","pause","trapIndex","indexOf","splice","deactivateTrap","unpause","isSelectableInput","select","isEscapeEvent","keyCode","isTabEvent","delay","setTimeout","findIndex","arr","idx","valueOrHandler","_len","params","_key","getActualTarget","composedPath","createFocusTrap","userOptions","doc","returnFocusOnDeactivate","escapeDeactivates","delayInitialFocus","state","containers","containerGroups","tabbableGroups","nodeFocusedBeforeActivation","mostRecentlyFocusedNode","paused","delayInitialFocusTimer","getOption","configOverrideOptions","optionName","configOptionName","findContainerIndex","container","tabbableNodes","find","getNodeForOption","optionValue","_len2","_key2","getInitialFocusNode","activeElement","firstTabbableGroup","firstTabbableNode","updateTabbableNodes","tabbableOptions","focusableNodes","lastTabbableNode","nextTabbableNode","forward","nodeIdx","reverse","group","tryFocus","preventScroll","getReturnFocusNode","previousActiveElement","checkPointerDown","clickOutsideDeactivates","deactivate","returnFocus","allowOutsideClick","checkFocusIn","targetContained","Document","checkTab","destinationNode","containerIndex","containerGroup","shiftKey","startOfGroupIndex","_ref2","destinationGroupIndex","destinationGroup","lastOfGroupIndex","_ref3","_destinationGroupIndex","_destinationGroup","checkKey","checkClick","addListeners","capture","removeListeners","activate","activateOptions","onActivate","onPostActivate","checkCanFocusTrap","finishActivation","deactivateOptions","clearTimeout","onDeactivate","onPostDeactivate","checkCanReturnFocus","finishDeactivation","updateContainerElements","containerElements","elementsAsArray","firstTabbable","catMenuCss","CatMenu","hide","trigger","triggerSlot","_c","contentId","_d","_e","show","keyListener","targetElements","activeIdx","activeOff","targetIdx","display","catOpen","focusTrap.createFocusTrap","catClose","OFFSET","assign","catModalCss","CatModal","isVisible","modal","initialFocus","closeButton","setReturnFocus","updateAccessibility","aria-modal","onCatClick","elementSibling","removeAttribute","catRadioCss","CatRadio","aria-checked","onChange","catRadioGroupCss","CatRadioGroup","catRadioGroup","newName","catRadio","newValue","updateTabIndex","onNameChanged","onValueChanged","onDisabledChanged","onLabelLeftChanged","setFocus","click","catRadioElement","relatedTarget","checkedRadioIndex","isFunction","createErrorClass","createImpl","_super","instance","stack","ctorFunc","create","constructor","UnsubscriptionError","UnsubscriptionErrorImpl","errors","arrRemove","Subscription","initialTeardown","closed","_parentage","_finalizers","remove","initialFinalizer","finalizer","execFinalizer","teardown","_hasParent","_addParent","_removeParent","EMPTY","empty","EMPTY_SUBSCRIPTION","isSubscription","unsubscribe","onUnhandledError","onStoppedNotification","useDeprecatedSynchronousErrorHandling","useDeprecatedNextContext","timeoutProvider","handler","timeout","args","delegate","handle","reportUnhandledError","noop","COMPLETE_NOTIFICATION","createNotification","errorNotification","nextNotification","kind","errorContext","cb","Subscriber","destination","super","isStopped","EMPTY_OBSERVER","complete","SafeSubscriber","handleStoppedNotification","_next","_error","_complete","_bind","Function","thisArg","ConsumerObserver","partialObserver","handleUnhandledError","observerOrNext","context","defaultErrorHandler","notification","subscriber","observable","Symbol","identity","pipeFromArray","fns","piped","prev","Observable","subscribe","_subscribe","operator","isSubscriber","_trySubscribe","sink","promiseCtor","getPromiseCtor","Symbol_observable","operations","isObserver","hasLift","lift","operate","init","liftedSource","TypeError","createOperatorSubscriber","onNext","onComplete","onError","onFinalize","OperatorSubscriber","shouldUnsubscribe","ObjectUnsubscribedError","ObjectUnsubscribedErrorImpl","Subject","currentObservers","observers","hasError","thrownError","subject","AnonymousSubject","_throwIfClosed","observed","_checkFinalizedStatuses","_innerSubscribe","isScheduler","schedule","last","popScheduler","pop","popNumber","defaultValue","__awaiter","_arguments","P","generator","adopt","fulfilled","step","rejected","result","done","__values","o","iterator","__await","v","__asyncGenerator","asyncIterator","g","q","verb","resume","settle","fulfill","f","__asyncValues","isArrayLike","isPromise","isInteropObservable","isAsyncIterable","createInvalidObservableTypeError","getSymbolIterator","isIterable","Symbol_iterator","readableStreamLikeToAsyncGenerator","readableStream","readableStreamLikeToAsyncGenerator_1","reader","getReader","read","releaseLock","isReadableStreamLike","innerFrom","fromInteropObservable","fromArrayLike","fromPromise","fromAsyncIterable","fromIterable","fromReadableStreamLike","obs","array","promise","iterable","asyncIterable","process","catch","asyncIterable_1","asyncIterable_1_1","e_1","e_1_1","return","executeSchedule","parentSubscription","scheduler","work","repeat","scheduleSubscription","observeOn","subscribeOn","scheduleObservable","pipe","schedulePromise","scheduleArray","scheduleIterable","scheduleAsyncIterable","scheduleReadableStreamLike","scheduled","project","callOrApply","mapOneOrManyArgs","mergeInternals","concurrent","onBeforeNext","expand","innerSubScheduler","additionalFinalizer","buffer","isComplete","checkComplete","outerNext","doInnerSub","innerComplete","innerValue","bufferedValue","mergeMap","resultSelector","Infinity","ii","mergeAll","nodeEventEmitterMethods","eventTargetMethods","jqueryMethods","fromEvent","eventName","isEventTarget","methodName","isNodeStyleEventEmitter","toCommonHandlerRegistry","isJQueryStyleEventEmitter","subTarget","addListener","removeListener","on","off","merge","sources","predicate","distinctUntilChanged","comparator","keySelector","defaultCompare","previousKey","first","currentKey","takeUntil","notifier","catScrollableCss","CatScrollable","destroyed","noShadowX","noShadowY","noOverflowX","noOverflowY","noOverscroll","noScrolledInit","scrolledBuffer","scrollElement","scrolled","attachEmitter","scrolledLeft","scrolledRight","scrolledBottom","scrolledTop","getScrollOffset","toggleClass","scrollWrapperElement","scrollable-content","scroll-x","scroll-y","no-overscroll","emitter","isLower","classList","webpackUniversalModuleDefinition","root","factory","module","exports","__webpack_modules__","282","__unused_webpack_module","__webpack_require__","clearChoices","activateChoices","filterChoices","addChoice","constants_1","groupId","elementId","customProperties","ACTION_TYPES","ADD_CHOICE","results","FILTER_CHOICES","ACTIVATE_CHOICES","CLEAR_CHOICES","783","addGroup","ADD_GROUP","464","highlightItem","removeItem","addItem","choiceId","ADD_ITEM","REMOVE_ITEM","highlighted","HIGHLIGHT_ITEM","137","setIsLoading","resetTo","clearAll","CLEAR_ALL","RESET_TO","isLoading","SET_IS_LOADING","373","__spreadArray","to","pack","ar","__importDefault","mod","__esModule","default","deepmerge_1","fuse_js_1","choices_1","groups_1","items_1","misc_1","components_1","defaults_1","utils_1","reducers_1","store_1","templates_1","IS_IE11","USER_DEFAULTS","Choices","userConfig","_this","allowHTML","all","DEFAULT_CONFIG","defaults","arrayMerge","_","sourceArray","invalidConfigOptions","diff","passedElement","HTMLInputElement","HTMLSelectElement","_isTextElement","TEXT_TYPE","_isSelectOneElement","SELECT_ONE_TYPE","_isSelectMultipleElement","SELECT_MULTIPLE_TYPE","_isSelectElement","searchEnabled","renderSelectedChoices","addItemFilter","re","RegExp","WrappedInput","classNames","delimiter","WrappedSelect","template","_templates","option","initialised","_store","_initialState","defaultState","_currentState","_prevState","_currentValue","_canSearch","_isScrollingOnIe","_highlightPosition","_wasTap","_placeholderValue","_generatePlaceholderValue","_baseId","generateId","_direction","dir","elementDirection","documentDirection","_idNames","itemChoice","_presetGroups","optionGroups","_presetOptions","_presetChoices","choices","_presetItems","items","splitValues","selected","hasAttribute","dataset","_render","_onFocus","_onBlur","_onKeyUp","_onKeyDown","_onClick","_onTouchMove","_onTouchEnd","_onMouseDown","_onMouseOver","_onFormReset","_onSelectKey","_onEnterKey","_onEscapeKey","_onDirectionKey","_onDeleteKey","isActive","silent","preventExtensions","templates","_createTemplates","_createElements","_createStructure","_addEventListeners","shouldDisable","addItems","disable","callbackOnInit","destroy","_removeEventListeners","reveal","containerOuter","unwrap","clearStore","enable","isDisabled","runEvent","getGroupById","dispatch","triggerEvent","EVENTS","groupValue","unhighlightItem","highlightAll","unhighlightAll","removeActiveItemsByValue","activeItems","_removeItem","removeActiveItems","excludedId","removeHighlightedItems","highlightedActiveItems","_triggerChange","showDropdown","preventInputFocus","dropdown","open","distanceFromTopWindow","hideDropdown","preventInputBlur","close","removeActiveDescendant","blur","getValue","valueOnly","values","selectedItems","itemValue","setValue","_setChoiceOrItem","setChoiceByValue","choiceValue","val","_findAndSelectChoiceByValue","setChoices","choicesArrayOrFetcher","replaceChoices","ReferenceError","fetcher_1","_handleLoadingState","removeLoadingState","_startLoading","groupOrChoice","_addGroup","valueKey","labelKey","choice","_addChoice","isSelected","_stopLoading","clearInput","shouldSetInputWidth","_isSearching","stateChanged","groups","shouldRenderChoices","shouldRenderItems","_renderChoices","_renderItems","activeGroups","activeChoices","choiceListFragment","createDocumentFragment","choiceList","resetScrollPosition","scrollToTop","activePlaceholders","activeChoice","_createChoicesFragment","_createGroupsFragment","childNodes","canAddItem","_canAddItem","response","append","_highlightChoice","notice","_getTemplate","dropdownItem","noResultsText","noChoicesText","itemList","itemListFragment","_createItemsFragment","fragment","getGroupChoices","shouldSort","sorter","groupChoices","dropdownGroup","withinGroup","searchResultLimit","renderChoiceLimit","sortByScore","appendChoice","shouldRender","itemSelectText","rendererableChoices","placeholderChoices","normalChoices","choiceLimit","sortedChoices","shouldSortItems","removeItemButton","addItemToFragment","listItem","change","_selectPlaceholderChoice","placeholderChoice","_addItem","_handleButtonAction","removeItems","itemId","itemToRemove","_handleItemAction","hasShiftKey","passedId","_handleChoiceAction","getChoiceById","passedKeyCode","hasActiveDropdown","_handleBackspace","lastItem","hasHighlightedItems","editItems","setWidth","setLoading","placeholderItem","getChild","addLoadingState","loadingText","_handleSearch","isFocussed","searchFloor","searchChoices","hasUnactiveChoices","resultCount","_searchChoices","search","addItemText","isDuplicateValue","existsInArray","maxItemCount","maxItemText","duplicateItemsAllowed","uniqueItemText","customAddItemText","trim","currentValue","haystack","searchableChoices","needle","fuseOptions","searchFields","includeMatches","fuse","addEventListeners","removeEventListeners","hasFocusedInput","hasItems","hasChildren","keyString","fromCharCode","wasAlphaNumericChar","BACK_KEY","KEY_CODES","DELETE_KEY","ENTER_KEY","A_KEY","ESC_KEY","UP_KEY","DOWN_KEY","PAGE_UP_KEY","PAGE_DOWN_KEY","backKey","deleteKey","canShowDropdownNotice","outerHTML","wasRemovalKeyCode","userHasRemovedValue","canReactivateChoices","canSearch","ctrlKey","metaKey","hasCtrlDownKeyPressed","shouldHightlightAll","enterKey","targetWasButton","highlightedChoice","highlightedState","downKey","pageUpKey","pageDownKey","directionInt","skipKey","selectableChoiceIdentifier","nextEl","currentEl","getAdjacentEl","isScrolledIntoView","scrollToChildElement","touches","touchWasWithinContainer","containerWasExactTarget","containerInner","stopPropagation","firstChoice","firstElementChild","isOnScrollbar","offsetX","closest","clickWasWithinContainer","removeFocusState","focusWasWithinContainer","focusActions","addFocusState","blurWasWithinContainer","hasHighlightedItems_1","blurActions","passedEl","highlightedChoices","highlightChoice","setActiveDescendant","_f","_g","passedValue","passedLabel","passedOptionId","prependValue","appendValue","_h","choiceLabel","choiceElementId","isType","getElementsByTagName","floor","Date","valueOf","random","addGroupChoices","isOptDisabled","_i","callbackOnCreateTemplates","userTemplates","strToEl","Container","labelId","Input","preventPaste","paste","List","Dropdown","conceal","wrap","searchPlaceholderValue","insertBefore","firstChild","_addPredefinedGroups","_addPredefinedChoices","_addPredefinedItems","placeholderOption","hasSelectedChoice","firstEnabledChoiceIndex","shouldPreselect","itemType","getType","handleType","string","foundChoice","valueComparer","text","placeholderValue","613","isOpen","isFlipped","shouldFlip","dropdownPos","activeDescendantID","openState","flippedState","focusState","disabledState","removeChild","loadingState","217","selector","activeState","520","dropdown_1","container_1","input_1","list_1","wrapped_input_1","wrapped_select_1","11","isEqualNode","_onPaste","_onInput","set","sanitise","minWidth","624","scrollPos","hasChildNodes","listHeight","listScrollPosition","elementHeight","elementPos","_animateScroll","_scrollDown","strength","easing","distance","_scrollUp","SCROLLING_SPEED","choiceListScrollTop","continueAnimation","730","WrappedElement","origStyle","eventType","dispatchEvent","541","__extends","extendStatics","setPrototypeOf","__proto__","p","hasOwnProperty","__","wrapped_element_1","982","addOptionToFragment","optionData","appendDocFragment","883","789","DEFAULT_CLASSNAMES","inputCloned","listItems","listSingle","listDropdown","itemSelectable","itemDisabled","groupHeading","selectedState","noResults","noChoices","sortByAlpha","value1","value2","includeScore","18","978","948","359","285","533","187","__createBinding","k","k2","__exportStar","287","132","837","598","37","369","47","923","876","799","cloneObject","generateChars","getRandomNumber","prefix","wrapper","nextSibling","startEl","prop","sibling","tmpEl","str","cleanedInput","firldChild","label2","localeCompare","sensitivity","ignorePunctuation","numeric","score","scoreA","scoreB","customArgs","CustomEvent","detail","bubbles","cancelable","JSON","parse","stringify","aKeys","bKeys","273","action","addChoiceAction","addItemAction_1","removeItemAction_1","filterChoicesAction_1","activateChoicesAction_1","871","addGroupAction","655","redux_1","loading_1","appReducer","combineReducers","rootReducer","passedState","52","addItemAction","newState","highlightItemAction_1","502","general","744","index_1","Store","createStore","__REDUX_DEVTOOLS_EXTENSION__","getState","selectableChoices","hasActiveOptions","686","isSelectElement","isSelectOneElement","passedElementType","div","className","isPlaceholder","deletable","REMOVE_ITEM_TEXT","removeButton","choiceGroup","selectText","choiceDisabled","choiceSelectable","inp","autocapitalize","spellcheck","innerText","classes","opt","Option","996","isMergeableObject","isNonNullObject","isSpecial","stringValue","isReactElement","canUseSymbol","for","REACT_ELEMENT_TYPE","$$typeof","emptyTarget","cloneUnlessOtherwiseSpecified","clone","deepmerge","defaultArrayMerge","getMergeFunction","customMerge","getEnumerableOwnPropertySymbols","symbol","propertyIsEnumerable","getKeys","propertyIsOnObject","property","propertyIsUnsafe","mergeObject","sourceIsArray","targetIsArray","sourceAndTargetTypesMatch","deepmergeAll","221","__webpack_exports__","Fuse","getTag","INFINITY","baseToString","isString","isNumber","isBoolean","isObjectLike","isObject","isDefined","isBlank","INCORRECT_INDEX_TYPE","LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY","PATTERN_LENGTH_TOO_LARGE","MISSING_KEY_PROPERTY","INVALID_KEY_WEIGHT_VALUE","hasOwn","KeyStore","_keys","_keyMap","totalWeight","createKey","weight","keyId","path","createKeyPath","createKeyId","deepGet","len","MatchOptions","findAllMatches","minMatchCharLength","BasicOptions","isCaseSensitive","sortFn","FuzzyOptions","location","threshold","AdvancedOptions","useExtendedSearch","getFn","ignoreLocation","ignoreFieldNorm","fieldNormWeight","Config","SPACE","norm","mantissa","cache","pow","numTokens","match","parseFloat","FuseIndex","isCreated","setIndexRecords","docs","records","_keysMap","docIndex","_addString","_addObject","record","$","keyIndex","subRecords","nestedArrIndex","subRecord","createIndex","myIndex","setKeys","setSources","parseIndex","computeScore$1","pattern","currentLocation","expectedLocation","accuracy","proximity","abs","convertMaskToIndices","matchmask","indices","MAX_BITS","patternAlphabet","patternLen","textLen","currentThreshold","bestLocation","computeMatches","matchMask","lastBitArr","finalScore","binMax","mask","binMin","binMid","finish","bitArr","j","charMatch","charAt","isMatch","createPatternAlphabet","char","BitapSearch","chunks","addChunk","startIndex","alphabet","remainder","substr","allIndices","totalScore","hasMatches","BaseMatch","getMatch","multiRegex","singleRegex","exp","ExactMatch","InverseExactMatch","PrefixExactMatch","startsWith","InversePrefixExactMatch","SuffixExactMatch","endsWith","InverseSuffixExactMatch","FuzzyMatch","_bitapSearch","searchIn","IncludeMatch","searchers","searchersLen","SPACE_RE","OR_TOKEN","parseQuery","queryItem","found","searcher","token","isMultiMatch","isSingleMatch","MultiMatchSet","ExtendedSearch","numMatches","qLen","pLen","registeredSearchers","register","createSearcher","searcherClass","condition","LogicalOperator","AND","OR","KeyType","PATH","PATTERN","isExpression","isPath","isLeaf","convertToExplicit","auto","isQueryPath","computeScore","Number","EPSILON","transformMatches","refIndex","transformScore","format","transformers","transformer","_keyStore","setCollection","_docs","_myIndex","removeAt","limit","_searchStringList","_searchObjectList","_searchLogical","expression","evaluate","_findMatches","getValueForItemAtKeyId","res","resultMap","expResults","version","857","__DO_NOT_USE__ActionTypes","ActionTypes","applyMiddleware","bindActionCreators","compose","formatProdErrorMessage","code","$$observable","randomString","substring","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","proto","getPrototypeOf","reducer","preloadedState","enhancer","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","listener","isSubscribed","listeners","replaceReducer","nextReducer","outerSubscribe","observeState","assertReducerShape","reducers","initialState","reducerKeys","finalReducers","finalReducerKeys","shapeAssertionError","combination","hasChanged","nextState","previousStateForKey","nextStateForKey","bindActionCreator","actionCreator","actionCreators","boundActionCreators","funcs","arg","middlewares","store","_dispatch","middlewareAPI","chain","__webpack_module_cache__","moduleId","cachedModule","getter","definition","toStringTag","_scripts_choices__WEBPACK_IMPORTED_MODULE_0__","_scripts_choices__WEBPACK_IMPORTED_MODULE_0___default","catSelectCss","getOptionTemplate","imageUrl","CatSelect","resetItemsOnNextValueChange","multiple","vItems","vItemsArray","vItemValues","vItem","updateRemoveItemButtonVisibility","attachedInternals","attachInternals","choicesElement","choiceInner","choiceDropdown","resetFocus","showDropdownHandler","selectElement","showMultipleFocus","_j","_k","onSearch","_l","onScrolledBottom","_m","onChoice","createRemoveItemButton","removeElement","component","removeItemText","configSingle","configMultiple","settings","isFocused","customEvent","catSearch","catScrolledBottom","onRemoveItemButtonClick","catSkeletonCss","CatSkeleton","effect","count","skeleton","lines","--line-width","catSpinnerCss","CatSpinner","xmlns","cx","cy","catTabCss","CatTab","deactivated","tabClick","catTabsCss","CatTabs","buttons","tabs","activeTab","tabsAlign","newActiveTab","syncTabs","activeTabId","mutationObserver","MutationObserver","mutations","childList","attributes","subtree","tab","updateButtonsRef","tab-active","delete","Event","createEvent","initEvent","c","resize","wordWrap","boxSizing","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","u","catTextareaCss","CatTextarea","rows","autosize","textarea","catToastDemoCss","CatToastDemo","infoOptions","errorOptions","errorOptions2","successOptions3","successOptions4","primaryOptions","secondaryOptions","NotificationsService","secondary","primary","info","success","catToggleCss","CatToggle","isTouchDevice","maxTouchPoints","catTooltipCss","CatTooltip","showDelay","hideDelay","longTouchDuration","hideListener","triggerElement","tooltip","isTouchScreen","windowTouchStartListener","touchStartListener","touchEndListener","showListener","aria-describedby","hideTimeout","showTimeout","touchTimeout"],"mappings":"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","sourcesContent":["@use 'variables' as *;\n@use 'mixins' as *;\n\n:host {\n  display: block;\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host(:focus-visible) {\n  outline: 2px solid cat-token('color.ui.border.focus');\n  outline-offset: 1px;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.alert {\n  font: inherit;\n  background-color: cat-token-wrap(var(--bg), $alpha: 0.1);\n  border-radius: cat-border-radius('l');\n  padding: 1.25rem;\n  display: flex;\n  flex-direction: row;\n  gap: 0.5rem;\n}\n\n.content {\n  align-self: center;\n}\n\n::slotted(:last-child) {\n  margin-bottom: 0 !important;\n}\n\n// ----- theme\n\n@mixin theme($theme) {\n  .alert-#{$theme} {\n    --bg: #{cat-token('color.theme.#{$theme}.bg', $wrap: false)};\n\n    cat-icon {\n      color: cat-token('color.ui.font.alert.#{$theme}');\n    }\n  }\n}\n\n@include theme('primary');\n@include theme('secondary');\n@include theme('success');\n@include theme('warning');\n@include theme('danger');\n","import { Component, h, Host, Prop } from '@stencil/core';\n\n/**\n * Informs user about important changes or conditions in the interface. Use this\n * component if you need to capture users attention in a prominent way.\n *\n * @part alert - The alert element.\n */\n@Component({\n  tag: 'cat-alert',\n  styleUrl: 'cat-alert.scss',\n  shadow: true\n})\nexport class CatAlert {\n  private readonly mapIcon: Map<string, string> = new Map([\n    ['primary', 'star-circle-filled'],\n    ['secondary', 'clock-filled'],\n    ['success', 'check-circle-filled'],\n    ['warning', 'danger-filled'],\n    ['danger', 'cross-circle-filled']\n  ]);\n\n  /**\n   * The color palette of the alert.\n   */\n  @Prop() color: 'primary' | 'secondary' | 'danger' | 'success' | 'warning' = 'primary';\n\n  /**\n   * The name of an icon to be displayed in the alert.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * Whether the icon of the alert is deactivated.\n   */\n  @Prop() noIcon = false;\n\n  render() {\n    return (\n      <Host tabindex=\"0\" role={this.role}>\n        <div\n          part=\"alert\"\n          class={{\n            alert: true,\n            [`alert-${this.color}`]: Boolean(this.color)\n          }}\n        >\n          {!this.noIcon && <cat-icon size=\"l\" icon={this.icon ? this.icon : this.mapIcon.get(this.color)}></cat-icon>}\n          <div class=\"content\">\n            <slot></slot>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n\n  private get role() {\n    switch (this.color) {\n      case 'danger':\n      case 'warning':\n        return 'alert';\n      default:\n        return 'status';\n    }\n  }\n}\n","/**\n * Loads an image and wraps the result in a promise.\n *\n * @param src the image URL\n * @returns a promise\n */\nconst loadImg = (src: string): Promise<Event> => {\n  return new Promise((resolve, reject) => {\n    const image = new Image();\n    image.addEventListener('load', resolve);\n    image.addEventListener('error', reject);\n    image.src = src;\n  });\n};\n\nexport default loadImg;\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n$avatar-sizes: (\n  'xl': 3.5rem,\n  'l': 3rem,\n  'm': 2.5rem,\n  's': 2rem,\n  'xs': 1.5rem\n);\n\n:host {\n  /**\n   * @prop --cat-avatar-bg: The background color of the avatar.\n   * @prop --cat-avatar-fill: The text color of the avatar.\n   * @prop --cat-avatar-size: The size of the avatar.\n   * @prop --cat-avatar-font-size: The font size of the avatar.\n   */\n  display: inline-block;\n  vertical-align: middle;\n  @include cat-select(none);\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.avatar {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: cat-border-radius('m');\n  text-decoration: inherit;\n  color: var(--cat-avatar-fill, cat-token('color.ui.font.avatar'));\n  background-color: var(--cat-avatar-bg, cat-token('color.ui.background.avatar'));\n  background-size: cover;\n  background-position: center;\n  white-space: nowrap;\n  overflow: hidden;\n\n  &:focus-visible {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: 1px;\n  }\n}\n\n.avatar-round {\n  border-radius: 50%;\n}\n\n// ----- size\n\n@mixin size($size, $fontSize) {\n  .avatar-#{$size} {\n    width: var(--cat-avatar-size, map.get($avatar-sizes, $size));\n    height: var(--cat-avatar-size, map.get($avatar-sizes, $size));\n    line-height: var(--cat-avatar-size, map.get($avatar-sizes, $size));\n    font-size: var(--cat-avatar-font-size, cat-body-font-size($fontSize));\n  }\n}\n\n@include size('xs', 'xs');\n@include size('s', 's');\n@include size('m', 'm');\n@include size('l', 'l');\n@include size('xl', 'xl');\n","import { Component, h, Prop, State, Watch } from '@stencil/core';\nimport log from 'loglevel';\nimport loadImg from '../../utils/load-img';\n\n/**\n * Avatars are used to represent a person or object.\n */\n@Component({\n  tag: 'cat-avatar',\n  styleUrl: 'cat-avatar.scss',\n  shadow: true\n})\nexport class CatAvatar {\n  @State() backgroundImage?: string;\n\n  /**\n   * The size of the avatar.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' = 'm';\n\n  /**\n   * Use round avatar edges.\n   */\n  @Prop() round = false;\n\n  /**\n   * The label of the avatar.\n   */\n  @Prop() label = '';\n\n  /**\n   * Custom initials for the avatar.\n   */\n  @Prop() initials?: string;\n\n  /**\n   * An optional avatar image.\n   */\n  @Prop() src?: string;\n\n  /**\n   * An icon to be used instead of the initials.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * A destination to link to, rendered in the href attribute of a link.\n   */\n  @Prop() url?: string;\n\n  /**\n   * Specifies where to open the linked document.\n   */\n  @Prop() urlTarget?: '_blank' | '_self';\n\n  @Watch('src')\n  onSrcChanged(value?: string): void {\n    if (value) {\n      loadImg(value).then(\n        () => (this.backgroundImage = `url(${value})`),\n        () => (this.backgroundImage = undefined)\n      );\n    } else {\n      this.backgroundImage = undefined;\n    }\n  }\n\n  componentWillLoad(): void {\n    this.onSrcChanged(this.src);\n  }\n\n  componentWillRender(): void {\n    if (!this.label) {\n      log.warn('[A11y] Missing ARIA label on avatar', this);\n    }\n  }\n\n  render() {\n    if (this.url) {\n      return (\n        <a href={this.url} target={this.urlTarget} style={this.cssStyle} class={this.cssClass} aria-label={this.label}>\n          {this.content}\n        </a>\n      );\n    } else {\n      return (\n        <span style={this.cssStyle} class={this.cssClass} aria-label={this.label}>\n          {this.content}\n        </span>\n      );\n    }\n  }\n\n  private get content() {\n    return !this.backgroundImage\n      ? [this.icon ? <cat-icon icon={this.icon} size={this.size}></cat-icon> : this.getInitials()]\n      : [];\n  }\n\n  private get cssStyle() {\n    return { 'background-image': this.backgroundImage };\n  }\n\n  private get cssClass() {\n    return {\n      avatar: true,\n      'avatar-round': this.round,\n      [`avatar-${this.size}`]: Boolean(this.size)\n    };\n  }\n\n  private getInitials(): string {\n    return (\n      this.initials ??\n      (this.label ?? '')\n        .split(' ')\n        .map(n => n[0])\n        .join('')\n    );\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n$badge-sizes: (\n  'xl': 1.75rem,\n  'l': 1.5rem,\n  'm': 1.25rem,\n  's': 1rem,\n  'xs': 0.75rem\n);\n\n:host {\n  display: inline-flex;\n  max-width: 100%;\n  vertical-align: baseline;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.badge {\n  font: inherit;\n  flex: 1 1 auto;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: cat-border-radius('s');\n  text-decoration: none;\n  width: 100%;\n  box-sizing: border-box;\n  line-height: 1;\n  white-space: nowrap;\n\n  slot {\n    display: inline-block;\n    @include cat-ellipsis;\n  }\n}\n\n// ----- round\n\n.badge-round {\n  border-radius: 10rem;\n}\n\n// ----- theme\n\n.badge-filled {\n  background-color: cat-token-wrap(var(--bg));\n  color: cat-token-wrap(var(--fill));\n  font-weight: 600;\n  @include cat-font-smooth;\n}\n\n$-outline: inset 0 0 0 1px cat-token-wrap(var(--border), $alpha: 0.2);\n\n.badge-outlined {\n  background-color: cat-token('color.ui.background.body');\n  box-shadow: $-outline;\n  color: cat-token-wrap(var(--text));\n}\n\n@mixin theme($theme) {\n  .badge-#{$theme} {\n    --bg: #{cat-token('color.theme.#{$theme}.bg', $wrap: false)};\n    --fill: #{cat-token('color.theme.#{$theme}.fill', $wrap: false)};\n    --text: #{cat-token('color.theme.#{$theme}.text', $wrap: false)};\n    @if $theme == 'secondary' {\n      --border: #{cat-token('color.theme.#{$theme}.bg', $wrap: false)};\n    } @else {\n      --border: #{cat-token('color.theme.#{$theme}.text', $wrap: false)};\n    }\n  }\n}\n\n@include theme('primary');\n@include theme('secondary');\n@include theme('success');\n@include theme('warning');\n@include theme('danger');\n\n// ----- size\n\n@mixin size($size, $fontSize) {\n  .badge-#{$size} {\n    height: cat-token('size.badge.height.#{$size}');\n    min-width: map.get($badge-sizes, $size);\n    font-size: cat-token('size.badge.font.#{$size}');\n    padding: 0 cat-token('size.badge.padding.horizontal.#{$size}');\n  }\n}\n\n@include size('xs', 'xs');\n@include size('s', 's');\n@include size('m', 'm');\n@include size('l', 'l');\n@include size('xl', 'xl');\n\n// ----- pulse\n\n$-pulse-0: 0 0 0 0 cat-token-wrap(var(--bg));\n$-pulse-70: transparent 0 0 0 0.5rem;\n$-pulse-100: transparent 0 0 0 0;\n\n.badge-pulse {\n  &.badge-filled {\n    animation: 1.5s ease 0s infinite normal none running pulse;\n  }\n\n  &.badge-outlined {\n    animation: 1.5s ease 0s infinite normal none running pulse-outlined;\n  }\n}\n\n@keyframes pulse {\n  0% {\n    box-shadow: $-pulse-0;\n  }\n\n  70% {\n    box-shadow: $-pulse-70;\n  }\n\n  100% {\n    box-shadow: $-pulse-100;\n  }\n}\n\n@keyframes pulse-outlined {\n  0% {\n    box-shadow: $-pulse-0, $-outline;\n  }\n\n  70% {\n    box-shadow: $-pulse-70, $-outline;\n  }\n\n  100% {\n    box-shadow: $-pulse-100, $-outline;\n  }\n}\n","import { Component, h, Prop } from '@stencil/core';\n\n/**\n * Badges are used to inform users of the status of an object or of an action\n * thats been taken.\n *\n * @part badge - The badge element.\n */\n@Component({\n  tag: 'cat-badge',\n  styleUrl: 'cat-badge.scss',\n  shadow: true\n})\nexport class CatBadge {\n  /**\n   * The rendering style of the badge.\n   */\n  @Prop() variant: 'filled' | 'outlined' = 'filled';\n\n  /**\n   * The color palette of the badge.\n   */\n  @Prop() color: 'primary' | 'secondary' | 'danger' | 'success' | 'warning' = 'primary';\n\n  /**\n   * The size of the badge.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' = 'm';\n\n  /**\n   * Use round badge edges.\n   */\n  @Prop() round = false;\n\n  /**\n   * Draw attention to the badge with a subtle animation.\n   */\n  @Prop() pulse = false;\n\n  render() {\n    return (\n      <span\n        part=\"badge\"\n        class={{\n          badge: true,\n          'badge-round': this.round,\n          'badge-pulse': this.pulse,\n          [`badge-${this.variant}`]: Boolean(this.variant),\n          [`badge-${this.color}`]: Boolean(this.color),\n          [`badge-${this.size}`]: Boolean(this.size)\n        }}\n      >\n        <slot></slot>\n      </span>\n    );\n  }\n}\n","const _breakpoints = ['xs', 's', 'm', 'l', 'xl'] as const;\n\nexport type Breakpoint = typeof _breakpoints[number];\n\nexport const Breakpoints: { [breakpoint in Breakpoint]: string } = {\n  xs: '(max-width: 539.98px)',\n  s: '(max-width: 767.98px)',\n  m: '(max-width: 991.98px)',\n  l: '(max-width: 1199.98px)',\n  xl: '(max-width: 1399.98px)'\n};\n\nexport function isBreakpoint(value: unknown): value is Breakpoint {\n  return typeof value === 'string' && _breakpoints.includes(value as Breakpoint);\n}\n","// https://github.com/angular/components/blob/master/src/cdk/platform/platform.ts\n\n// Whether the current platform supports the V8 Break Iterator. The V8 check\n// is necessary to detect all Blink based browsers.\nlet hasV8BreakIterator: boolean;\n\n// We need a try/catch around the reference to `Intl`, because accessing it in some cases can\n// cause IE to throw. These cases are tied to particular versions of Windows and can happen if\n// the consumer is providing a polyfilled `Map`. See:\n// https://github.com/Microsoft/ChakraCore/issues/3189\n// https://github.com/angular/components/issues/15687\ntry {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  hasV8BreakIterator = typeof Intl !== 'undefined' && (Intl as any).v8BreakIterator;\n} catch {\n  hasV8BreakIterator = false;\n}\n\nexport class Platform {\n  /** Whether the current browser is Microsoft Edge. */\n  EDGE: boolean = /(edge)/i.test(navigator.userAgent);\n\n  /** Whether the current rendering engine is Microsoft Trident. */\n  TRIDENT: boolean = /(msie|trident)/i.test(navigator.userAgent);\n\n  // EdgeHTML and Trident mock Blink specific things and need to be excluded from this check.\n  /** Whether the current rendering engine is Blink. */\n  BLINK: boolean =\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    !!((window as any).chrome || hasV8BreakIterator) && typeof CSS !== 'undefined' && !this.EDGE && !this.TRIDENT;\n\n  // Webkit is part of the userAgent in EdgeHTML, Blink and Trident. Therefore we need to\n  // ensure that Webkit runs standalone and is not used as another engine's base.\n  /** Whether the current rendering engine is WebKit. */\n  WEBKIT: boolean = /AppleWebKit/i.test(navigator.userAgent) && !this.BLINK && !this.EDGE && !this.TRIDENT;\n\n  /** Whether the current platform is Apple iOS. */\n  IOS: boolean = /iPad|iPhone|iPod/.test(navigator.userAgent) && !('MSStream' in window);\n\n  // It's difficult to detect the plain Gecko engine, because most of the browsers identify\n  // them self as Gecko-like browsers and modify the userAgent's according to that.\n  // Since we only cover one explicit Firefox case, we can simply check for Firefox\n  // instead of having an unstable check for Gecko.\n  /** Whether the current browser is Firefox. */\n  FIREFOX: boolean = /(firefox|minefield)/i.test(navigator.userAgent);\n\n  /** Whether the current platform is Android. */\n  // Trident on mobile adds the android platform to the userAgent to trick detections.\n  ANDROID: boolean = /android/i.test(navigator.userAgent) && !this.TRIDENT;\n\n  // Safari browsers will include the Safari keyword in their userAgent. Some browsers may fake\n  // this and just place the Safari keyword in the userAgent. To be more safe about Safari every\n  // Safari browser should also use Webkit as its layout engine.\n  /** Whether the current browser is Safari. */\n  SAFARI: boolean = /safari/i.test(navigator.userAgent) && this.WEBKIT;\n}\n","import log from 'loglevel';\nimport { Platform } from './platform';\n\n// https://github.com/angular/components/blob/master/src/cdk/layout/media-matcher.ts\n\n/** Global registry for all dynamically-created, injected media queries. */\nconst mediaQueriesForWebkitCompatibility: Set<string> = new Set<string>();\n\n/** Style tag that holds all of the dynamically-created media queries. */\nlet mediaQueryStyleNode: HTMLStyleElement | undefined;\n\n/** A utility for calling matchMedia queries. */\nexport class MediaMatcher {\n  private _platform;\n  private _matchMedia: (query: string) => MediaQueryList;\n\n  constructor() {\n    this._platform = new Platform();\n    this._matchMedia = window.matchMedia.bind(window);\n  }\n\n  /**\n   * Evaluates the given media query and returns the native MediaQueryList from which results\n   * can be retrieved.\n   * Confirms the layout engine will trigger for the selector query provided and returns the\n   * MediaQueryList for the query provided.\n   */\n  matchMedia(query: string): MediaQueryList {\n    if (this._platform.WEBKIT || this._platform.BLINK) {\n      createEmptyStyleRule(query);\n    }\n    return this._matchMedia(query);\n  }\n}\n\n/**\n * Creates an empty stylesheet that is used to work around browser inconsistencies related to\n * `matchMedia`. At the time of writing, it handles the following cases:\n * 1. On WebKit browsers, a media query has to have at least one rule in order for `matchMedia`\n * to fire. We work around it by declaring a dummy stylesheet with a `@media` declaration.\n * 2. In some cases Blink browsers will stop firing the `matchMedia` listener if none of the rules\n * inside the `@media` match existing elements on the page. We work around it by having one rule\n * targeting the `body`. See https://github.com/angular/components/issues/23546.\n */\nfunction createEmptyStyleRule(query: string) {\n  if (mediaQueriesForWebkitCompatibility.has(query)) {\n    return;\n  }\n\n  try {\n    if (!mediaQueryStyleNode) {\n      mediaQueryStyleNode = document.createElement('style');\n      mediaQueryStyleNode.setAttribute('type', 'text/css');\n      document.head.appendChild(mediaQueryStyleNode);\n    }\n    if (mediaQueryStyleNode.sheet) {\n      mediaQueryStyleNode.sheet.insertRule(`@media ${query} {body{ }}`, 0);\n      mediaQueriesForWebkitCompatibility.add(query);\n    }\n  } catch (e) {\n    log.error(e);\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n$button-sizes: (\n  'xl': 3.5rem,\n  'l': 3rem,\n  'm': 2.5rem,\n  's': 2rem,\n  'xs': 1.5rem\n);\n\n:host {\n  display: inline-block;\n  max-width: 100%;\n  vertical-align: middle;\n  @include cat-select(none);\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.cat-button {\n  position: relative;\n  font: inherit;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: none;\n  border-radius: cat-border-radius('m');\n  text-decoration: none;\n  width: 100%;\n  box-sizing: border-box;\n  cursor: pointer;\n  transition: color cat-token('time.transition.s') linear, border-color cat-token('time.transition.s') linear,\n    background-color cat-token('time.transition.s') linear, box-shadow cat-token('time.transition.s') linear;\n\n  &:focus-visible {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: 1px;\n  }\n}\n\n// ----- content\n\n.cat-button-content {\n  // flex: 1 1 auto;\n  // text-align: center;\n\n  .cat-button-ellipsed & {\n    @include cat-ellipsis;\n  }\n}\n\n// ----- disabled\n\n.cat-button-disabled {\n  @include cat-disabled;\n}\n\n// ----- round\n\n.cat-button-round {\n  border-radius: 10rem;\n}\n\n// ----- loading\n\n.cat-button-loading {\n  cursor: default;\n\n  cat-spinner {\n    position: absolute;\n  }\n\n  > *:not(cat-spinner) {\n    visibility: hidden;\n  }\n}\n\n// ----- theme\n\n.cat-button-filled {\n  background-color: cat-token-wrap(var(--bg));\n  color: cat-token-wrap(var(--fill));\n  font-weight: 600;\n  @include cat-font-smooth;\n}\n\n.cat-button-outlined {\n  background-color: cat-token('color.ui.background.body');\n  box-shadow: inset 0 0 0 1px cat-token-wrap(var(--base), $alpha: 0.2);\n  color: cat-token-wrap(var(--text));\n\n  &:hover:not(.cat-button-disabled):not(.cat-button-loading) {\n    background-color: cat-token-wrap(var(--base), $alpha: 0.05);\n  }\n\n  &:active:not(.cat-button-disabled):not(.cat-button-loading) {\n    background-color: cat-token-wrap(var(--base), $alpha: 0.1);\n  }\n}\n\n.cat-button-text {\n  background-color: transparent;\n  color: cat-token-wrap(var(--text));\n  text-decoration: $cat-link-text-decoration;\n\n  &:hover:not(.cat-button-disabled):not(.cat-button-loading) {\n    text-decoration: $cat-button-text-decoration-hover;\n    background-color: rgba(var(--base), 0.05);\n  }\n}\n\n@mixin theme($theme) {\n  .cat-button-#{$theme} {\n    --bg: #{cat-token('color.theme.#{$theme}.bg', $wrap: false)};\n    --fill: #{cat-token('color.theme.#{$theme}.fill', $wrap: false)};\n    --text: #{cat-token('color.theme.#{$theme}.text', $wrap: false)};\n    @if $theme == 'secondary' {\n      --base: #{cat-token('color.theme.#{$theme}.bg', $wrap: false)};\n    } @else {\n      --base: #{cat-token('color.theme.#{$theme}.text', $wrap: false)};\n    }\n\n    &:hover:not(.cat-button-disabled):not(.cat-button-loading) {\n      --bg: #{cat-token('color.theme.#{$theme}.bgHover', $wrap: false)};\n      --fill: #{cat-token('color.theme.#{$theme}.fillHover', $wrap: false)};\n      --text: #{cat-token('color.theme.#{$theme}.textHover', $wrap: false)};\n    }\n\n    &:active:not(.cat-button-disabled):not(.cat-button-loading) {\n      --bg: #{cat-token('color.theme.#{$theme}.bgActive', $wrap: false)};\n      --fill: #{cat-token('color.theme.#{$theme}.fillActive', $wrap: false)};\n      --text: #{cat-token('color.theme.#{$theme}.textActive', $wrap: false)};\n    }\n  }\n}\n\n@include theme('primary');\n@include theme('secondary');\n@include theme('success');\n@include theme('warning');\n@include theme('danger');\n\n// ----- size\n\n@mixin size($size, $fontSize, $padding) {\n  $-line-height: cat-body-line-height($fontSize);\n\n  $-total-height: map.get($button-sizes, $size);\n  $-padding-v: ($-total-height - $-line-height) * 0.5;\n  $-padding-h: $padding;\n\n  .cat-button-#{$size} {\n    min-width: map.get($button-sizes, $size);\n    padding: $-padding-v $-padding-h;\n\n    @include cat-body($fontSize);\n\n    .cat-button-prefix {\n      margin-right: 0.25rem;\n    }\n\n    .cat-button-suffix {\n      margin-left: 0.25rem;\n    }\n\n    // normalize icon size for line height\n    @if $fontSize == 'm' {\n      cat-icon {\n        margin-top: -0.125rem;\n        margin-bottom: -0.125rem;\n      }\n    }\n\n    &.cat-button-icon {\n      width: $-total-height;\n      padding-left: 0;\n      padding-right: 0;\n    }\n\n    :host-context(nav) & {\n      padding-left: $cat-nav-padding-horizontal;\n      padding-right: $cat-nav-padding-horizontal;\n    }\n  }\n\n  :host(.cat-button-pull[size='#{$size}']) {\n    margin: $-padding-v * -1 $-padding-h * -1;\n  }\n\n  :host(.cat-button-pull-h[size='#{$size}']) {\n    margin-left: $-padding-h * -1;\n    margin-right: $-padding-h * -1;\n  }\n\n  :host(.cat-button-pull-v[size='#{$size}']) {\n    margin-top: $-padding-v * -1;\n    margin-bottom: $-padding-v * -1;\n  }\n\n  :host(.cat-button-pull-t[size='#{$size}']) {\n    margin-top: $-padding-v * -1;\n  }\n\n  :host(.cat-button-pull-l[size='#{$size}']) {\n    margin-left: $-padding-h * -1;\n  }\n\n  :host(.cat-button-pull-b[size='#{$size}']) {\n    margin-bottom: $-padding-v * -1;\n  }\n\n  :host(.cat-button-pull-r[size='#{$size}']) {\n    margin-right: $-padding-h * -1;\n  }\n}\n\n:host(.cat-button-pull:not([size])) {\n  margin: -0.625rem -0.75rem;\n}\n\n:host(.cat-button-pull-h:not([size])) {\n  margin-left: -0.75rem;\n  margin-right: -0.75rem;\n}\n\n:host(.cat-button-pull-v:not([size])) {\n  margin-top: -0.625rem;\n  margin-bottom: -0.625rem;\n}\n\n:host(.cat-button-pull-t:not([size])) {\n  margin-top: -0.625rem;\n}\n\n:host(.cat-button-pull-l:not([size])) {\n  margin-left: -0.75rem;\n}\n\n:host(.cat-button-pull-b:not([size])) {\n  margin-bottom: -0.625rem;\n}\n\n:host(.cat-button-pull-r:not([size])) {\n  margin-right: -0.75rem;\n}\n\n@include size('xs', 's', 0.25rem);\n@include size('s', 'm', 0.5rem);\n@include size('m', 'm', 0.75rem);\n@include size('l', 'm', 1rem);\n@include size('xl', 'l', 1.25rem);\n\n// -- active state\n\n.cat-button-active::before {\n  content: '';\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 0.25rem;\n  height: 100%;\n  background: cat-token-wrap(var(--base));\n}\n\n// ----- context\n\n:host-context(nav) {\n  width: 100%;\n\n  .cat-button {\n    box-shadow: none;\n    border-radius: 0;\n    justify-content: left;\n\n    &:focus-visible {\n      outline-offset: -2px;\n    }\n  }\n}\n\n:host(.cat-text-left) .cat-button {\n  justify-content: left;\n}\n\n:host(.cat-text-right) .cat-button {\n  justify-content: right;\n}\n","import { Component, Event, EventEmitter, h, Listen, Method, Prop, State, Watch } from '@stencil/core';\nimport log from 'loglevel';\nimport { Breakpoint, Breakpoints, isBreakpoint } from '../../utils/breakpoints';\nimport { MediaMatcher } from '../../utils/media-matcher';\n\n/**\n * Buttons are used for interface actions. Primary style should be used only\n * once per view for main call-to-action.\n *\n * @part button - The native anchor or button element.\n * @part content - The textual content of the button.\n * @part prefix - The prefix icon.\n * @part suffix - The suffix icon.\n */\n@Component({\n  tag: 'cat-button',\n  styleUrl: 'cat-button.scss',\n  shadow: true\n})\nexport class CatButton {\n  private button!: HTMLButtonElement | HTMLAnchorElement;\n  private mediaMatcher?: MediaMatcher;\n  private mediaQueryList?: MediaQueryList;\n  private mediaQueryListener?: (event: MediaQueryListEvent) => void;\n\n  @State() _iconOnly = true;\n\n  /**\n   * The rendering style of the button.\n   */\n  @Prop() variant: 'filled' | 'outlined' | 'text' = 'outlined';\n\n  /**\n   * The color palette of the button.\n   */\n  @Prop() color: 'primary' | 'secondary' | 'danger' | 'success' | 'warning' = 'secondary';\n\n  /**\n   * Show an active status indicator on the left side of the button.\n   */\n  @Prop() active = false;\n\n  /**\n   * The size of the button.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' = 'm';\n\n  /**\n   * The name of the button, which gets paired with the button's value when\n   * submitted as part of a form. Corresponds with the native HTML name\n   * attribute.\n   */\n  @Prop() name?: string;\n\n  /**\n   * The value of the button, which gets paired with the button's name when\n   * submitted as part of a form. Corresponds with the native HTML value\n   * attribute.\n   */\n  @Prop() value?: string;\n\n  /**\n   * Specifies that the button should be disabled. A disabled button is unusable\n   * and un-clickable. Corresponds with the native HTML disabled attribute.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Displays the button in a loading state with a spinner. Just like a disabled\n   * button, an inactive button is unusable and un-clickable. However, it\n   * retains the current focus state.\n   */\n  @Prop() loading = false;\n\n  /**\n   * Allows the button to submit a form.\n   */\n  @Prop() submit = false;\n\n  /**\n   * Disables ellipse overflowing button content.\n   */\n  @Prop() noEllipsis = false;\n\n  /**\n   * Use round button edges.\n   */\n  @Prop() round = false;\n\n  /**\n   * A destination to link to, rendered in the href attribute of a link.\n   */\n  @Prop() url?: string;\n\n  /**\n   * Specifies where to open the linked document.\n   */\n  @Prop() urlTarget?: '_blank' | '_self';\n\n  /**\n   * The name of an icon to be displayed in the button.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * Hide the actual button content and only display the icon.\n   */\n  @Prop() iconOnly: boolean | Breakpoint = false;\n\n  /**\n   * Display the icon on the right.\n   */\n  @Prop() iconRight = false;\n\n  /**\n   * Adds a unique identifier for the button. Please note that with this\n   * particular component this ID is added inside the web component. If you need\n   * an ID on the HTML element, use the regular `id` attribute instead.\n   */\n  @Prop() buttonId?: string;\n\n  /**\n   * Adds accessible label for the button that is only shown for screen\n   * readers. Typically, this label text replaces the visible text on the\n   * button for users who use assistive technology.\n   */\n  @Prop({ attribute: 'a11y-label' }) a11yLabel?: string;\n\n  @Watch('iconOnly')\n  onIconOnlyChanged(value: boolean | Breakpoint): void {\n    // teardown\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    this.mediaQueryList?.removeEventListener('change', this.mediaQueryListener!);\n    this.mediaQueryList = undefined;\n    this.mediaQueryListener = undefined;\n    // setup\n    if (isBreakpoint(value)) {\n      this.mediaMatcher ??= new MediaMatcher();\n      this.mediaQueryList = this.mediaMatcher.matchMedia(Breakpoints[value]);\n      this.mediaQueryListener = (event: MediaQueryListEvent) => (this._iconOnly = event.matches);\n      this.mediaQueryList.addEventListener('change', this.mediaQueryListener);\n      this._iconOnly = this.mediaQueryList.matches;\n    } else {\n      this._iconOnly = value;\n    }\n  }\n\n  /**\n   * Emitted when the button is clicked.\n   */\n  @Event() catClick!: EventEmitter<MouseEvent>;\n\n  /**\n   * Emitted when the button received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the button loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillLoad(): void {\n    this.onIconOnlyChanged(this.iconOnly);\n  }\n\n  componentWillRender(): void {\n    if (this.isIconButton && !this.a11yLabel) {\n      log.warn('[A11y] Missing ARIA label on icon button', this);\n    }\n  }\n\n  @Listen('click')\n  haltDisabledEvents(event: Event): void {\n    if (this.disabled || this.loading) {\n      event.preventDefault();\n      event.stopImmediatePropagation();\n    }\n  }\n\n  /**\n   * Sets focus on the button. Use this method instead of `button.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async setFocus(options?: FocusOptions): Promise<void> {\n    this.button.focus(options);\n  }\n\n  render() {\n    if (this.url) {\n      return (\n        <a\n          ref={el => (this.button = el as HTMLAnchorElement)}\n          href={this.disabled ? undefined : this.url}\n          target={this.urlTarget}\n          aria-disabled={this.disabled ? 'true' : null}\n          aria-label={this.a11yLabel}\n          id={this.buttonId}\n          part=\"button\"\n          class={{\n            'cat-button': true,\n            'cat-button-icon': this.isIconButton,\n            'cat-button-round': this.round,\n            'cat-button-loading': this.loading,\n            'cat-button-disabled': this.disabled,\n            'cat-button-ellipsed': !this.noEllipsis && !this.isIconButton,\n            [`cat-button-${this.variant}`]: Boolean(this.variant),\n            [`cat-button-${this.color}`]: Boolean(this.color),\n            [`cat-button-${this.size}`]: Boolean(this.size)\n          }}\n          onClick={this.onClick.bind(this)}\n          onFocus={this.onFocus.bind(this)}\n          onBlur={this.onBlur.bind(this)}\n        >\n          {this.content}\n        </a>\n      );\n    } else {\n      return (\n        <button\n          ref={el => (this.button = el as HTMLButtonElement)}\n          type={this.submit ? 'submit' : 'button'}\n          name={this.name}\n          value={this.value}\n          disabled={this.disabled}\n          aria-disabled={this.disabled ? 'true' : null}\n          aria-label={this.a11yLabel}\n          id={this.buttonId}\n          part=\"button\"\n          class={{\n            'cat-button': true,\n            'cat-button-active': this.active,\n            'cat-button-icon': this.isIconButton,\n            'cat-button-round': this.round ?? this.isIconButton,\n            'cat-button-loading': this.loading,\n            'cat-button-disabled': this.disabled,\n            'cat-button-ellipsed': !this.noEllipsis && !this.isIconButton,\n            [`cat-button-${this.variant}`]: Boolean(this.variant),\n            [`cat-button-${this.color}`]: Boolean(this.color),\n            [`cat-button-${this.size}`]: Boolean(this.size)\n          }}\n          onClick={this.onClick.bind(this)}\n          onFocus={this.onFocus.bind(this)}\n          onBlur={this.onBlur.bind(this)}\n        >\n          {this.content}\n        </button>\n      );\n    }\n  }\n\n  private get iconSize(): 'xs' | 's' | 'm' | 'l' | 'xl' {\n    switch (this.size) {\n      case 'xs':\n        return 's';\n      default:\n        return 'l';\n    }\n  }\n\n  private get spinnerSize(): 'xs' | 's' | 'm' | 'l' | 'xl' {\n    switch (this.size) {\n      case 'xs':\n        return 'xs';\n      default:\n        return 'm';\n    }\n  }\n\n  private get isIconButton() {\n    return Boolean(this.icon) && this._iconOnly;\n  }\n\n  private get hasPrefixIcon() {\n    return Boolean(this.icon) && !this._iconOnly && !this.iconRight;\n  }\n\n  private get hasSuffixIcon() {\n    return Boolean(this.icon) && !this._iconOnly && this.iconRight;\n  }\n\n  private get content() {\n    return [\n      this.hasPrefixIcon ? (\n        <cat-icon icon={this.icon} size={this.iconSize} class=\"cat-button-prefix\" part=\"prefix\"></cat-icon>\n      ) : null,\n      this.isIconButton ? (\n        <cat-icon icon={this.icon} size={this.iconSize}></cat-icon>\n      ) : (\n        <span class=\"cat-button-content\" part=\"content\">\n          <slot></slot>\n        </span>\n      ),\n      this.hasSuffixIcon ? (\n        <cat-icon icon={this.icon} size={this.iconSize} class=\"cat-button-suffix\" part=\"suffix\"></cat-icon>\n      ) : null,\n      this.loading ? <cat-spinner size={this.spinnerSize}></cat-spinner> : null\n    ];\n  }\n\n  private onClick(event: MouseEvent) {\n    this.catClick.emit(event);\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n$-padding: 1.25rem;\n\n:host {\n  display: block;\n  margin-bottom: $cat-body-margin-bottom;\n  border-radius: cat-border-radius('l');\n  background-color: cat-token('color.ui.background.body');\n  padding: $-padding;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n::slotted(nav) {\n  margin: #{$cat-body-margin-bottom * 0.5 - $-padding} #{-$-padding} !important;\n}\n\n::slotted(:last-child) {\n  margin-bottom: 0;\n}\n\n// --- pull out helper classes\n\n::slotted(.cat-card-pull) {\n  margin: -$-padding !important;\n  width: calc(100% + #{2 * $-padding}) !important;\n  height: calc(100% + #{2 * $-padding}) !important;\n}\n\n::slotted(.cat-card-pull-h) {\n  margin-left: -$-padding !important;\n  margin-right: -$-padding !important;\n  width: calc(100% + #{2 * $-padding}) !important;\n}\n\n::slotted(.cat-card-pull-v) {\n  margin-top: -$-padding !important;\n  margin-bottom: -$-padding !important;\n  height: calc(100% + #{2 * $-padding}) !important;\n}\n\n::slotted(.cat-card-pull-t) {\n  margin-top: -$-padding !important;\n}\n\n::slotted(.cat-card-pull-l) {\n  margin-left: -$-padding !important;\n}\n\n::slotted(.cat-card-pull-r) {\n  margin-right: -$-padding !important;\n}\n\n::slotted(.cat-card-pull-b) {\n  margin-bottom: -$-padding !important;\n}\n","import { Component, Host, h } from '@stencil/core';\n\n/**\n * Cards are surfaces that display content and actions on a single topic. They\n * should be easy to scan for relevant and actionable information.\n */\n@Component({\n  tag: 'cat-card',\n  styleUrl: 'cat-card.scss',\n  shadow: true\n})\nexport class CatCard {\n  render() {\n    return (\n      <Host>\n        <slot></slot>\n      </Host>\n    );\n  }\n}\n","import { h, FunctionalComponent } from '@stencil/core';\n\n/**\n * Properties of CatFormHint.\n *\n * @property hint - Optional hint text(s) of the form field.\n * @property slottedHint - Optional hint element of the form field.\n */\ninterface CatFormHintProps {\n  hint?: string | string[];\n  slottedHint?: HTMLSlotElement;\n}\n\n/**\n * CatFormHint is a functional component that represents the hint area of form elements.\n *\n * @param props - {@link CatFormHintProps}\n * @return a JSX.Element\n */\nexport const CatFormHint: FunctionalComponent<CatFormHintProps> = props => {\n  const { hint, slottedHint } = props;\n  return (\n    <div class=\"hint-section\">\n      {[\n        hint &&\n          (Array.isArray(hint) ? hint.map(item => <p class=\"input-hint\">{item}</p>) : <p class=\"input-hint\">{hint}</p>),\n        slottedHint\n      ]}\n    </div>\n  );\n};\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n\n$checkbox-width: 1.25rem;\n$checkbox-height: 1.25rem;\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nlabel {\n  flex: 0 1 auto;\n  display: flex;\n  gap: 0.5rem;\n  @include cat-body('m');\n  @include cat-select(none);\n  cursor: pointer;\n  position: relative;\n}\n\n.label-left {\n  flex-direction: row-reverse;\n\n  input {\n    right: 1px;\n    left: unset;\n  }\n}\n\ninput {\n  position: absolute;\n  width: $checkbox-width;\n  height: $checkbox-height;\n  margin: 0;\n  opacity: 0;\n  cursor: inherit;\n  left: 1px;\n  top: 0.5px;\n}\n\n.box {\n  flex: 0 0 auto;\n  display: flex;\n  position: relative;\n  height: $checkbox-height;\n  width: $checkbox-width;\n  background-color: cat-token('color.ui.background.input');\n  border: 1px solid cat-token('color.ui.border.input');\n  border-radius: cat-border-radius(s);\n  transition: background-color cat-token('time.transition.s') ease, border-color cat-token('time.transition.s') ease;\n  pointer-events: none;\n\n  svg {\n    fill: none;\n    stroke-width: 2;\n    stroke-linecap: round;\n    stroke-linejoin: round;\n    stroke-dasharray: 16px;\n    stroke-dashoffset: 16px;\n    transition: all cat-token('time.transition.s') ease;\n    width: 70%;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%) scale(0.99);\n  }\n\n  :checked + & {\n    background-color: cat-token('color.theme.primary.bg');\n    border-color: cat-token('color.theme.primary.bg');\n    stroke: cat-token('color.theme.primary.fill');\n\n    .check {\n      stroke-dashoffset: 0;\n    }\n  }\n\n  :indeterminate + & {\n    background-color: cat-token('color.theme.primary.bg');\n    border-color: cat-token('color.theme.primary.bg');\n    stroke: cat-token('color.theme.primary.fill');\n\n    .dash {\n      stroke-dashoffset: 0;\n    }\n  }\n\n  :focus-visible + & {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: 1px;\n  }\n}\n\n.label {\n  flex: 1 1 auto;\n\n  .is-hidden & {\n    @include cat-visually-hidden;\n  }\n}\n\n.is-disabled {\n  cursor: not-allowed;\n  color: cat-token('color.ui.font.muted');\n}\n","import { Component, Element, Event, EventEmitter, h, Host, Method, Prop, State } from '@stencil/core';\nimport log from 'loglevel';\nimport { CatFormHint } from '../cat-form-hint/cat-form-hint';\n\nlet nextUniqueId = 0;\n\n/**\n * Checkboxes are used to let a user choose one or more options from a limited\n * number of options.\n *\n * @slot hint - Optional hint element to be displayed with the checkbox.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part checkbox - The checkbox element.\n * @part label - The label content.\n */\n@Component({\n  tag: 'cat-checkbox',\n  styleUrls: ['cat-checkbox.scss'],\n  shadow: true\n})\nexport class CatCheckbox {\n  private readonly id = `cat-checkbox-${nextUniqueId++}`;\n  private input!: HTMLInputElement;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  /**\n   * Checked state of the checkbox\n   */\n  @Prop({ mutable: true }) checked = false;\n\n  /**\n   * Disabled state of the checkbox\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Indeterminate state of the checkbox\n   */\n  @Prop() indeterminate = false;\n\n  /**\n   * Label of the checkbox which is presented in the UI\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * The name of the input\n   */\n  @Prop() name?: string;\n\n  /**\n   * Required state of the checkbox\n   */\n  @Prop() required = false;\n\n  /**\n   * The value of the checkbox\n   */\n  @Prop({ mutable: true }) value?: string | boolean;\n\n  /**\n   * Optional hint text(s) to be displayed with the checkbox.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * Whether the label should appear to the left of the checkbox.\n   */\n  @Prop() labelLeft = false;\n\n  /**\n   * Emitted when the checked status of the checkbox is changed.\n   */\n  @Event() catChange!: EventEmitter;\n\n  /**\n   * Emitted when the checkbox received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the checkbox loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentDidLoad() {\n    if (this.input && this.indeterminate) {\n      this.input.indeterminate = true;\n    }\n  }\n\n  componentWillRender(): void {\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    if (!this.label && !this.hasSlottedLabel) {\n      log.error('[A11y] Missing ARIA label on checkbox', this);\n    }\n  }\n\n  /**\n   * Sets focus on the checkbox. Use this method instead of `checkbox.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async setFocus(options?: FocusOptions): Promise<void> {\n    this.input.focus(options);\n  }\n\n  render() {\n    return (\n      <Host>\n        <label\n          htmlFor={this.id}\n          class={{ 'is-hidden': this.labelHidden, 'is-disabled': this.disabled, 'label-left': this.labelLeft }}\n        >\n          <input\n            ref={el => (this.input = el as HTMLInputElement)}\n            id={this.id}\n            type=\"checkbox\"\n            name={this.name}\n            value={this.value !== undefined ? String(this.value) : this.value}\n            checked={this.checked}\n            required={this.required}\n            disabled={this.disabled}\n            onInput={this.onInput.bind(this)}\n            onFocus={this.onFocus.bind(this)}\n            onBlur={this.onBlur.bind(this)}\n          />\n          <span class=\"box\" aria-hidden=\"true\" part=\"checkbox\">\n            <svg class=\"check\" viewBox=\"0 0 12 10\">\n              <polyline points=\"1.5 6 4.5 9 10.5 1\"></polyline>\n            </svg>\n            <svg class=\"dash\" viewBox=\"0 0 12 10\">\n              <polyline points=\"1.5 5 10.5 5\"></polyline>\n            </svg>\n          </span>\n          <span class=\"label\" part=\"label\">\n            {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n          </span>\n        </label>\n        {this.hintSection}\n      </Host>\n    );\n  }\n\n  private get hintSection() {\n    const hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n    return (\n      (this.hint || hasSlottedHint) && (\n        <CatFormHint hint={this.hint} slottedHint={hasSlottedHint && <slot name=\"hint\"></slot>} />\n      )\n    );\n  }\n\n  private onInput(event: Event) {\n    this.checked = this.input.checked;\n\n    if (!this.value || typeof this.value === 'boolean') {\n      this.value = this.checked;\n    }\n    this.catChange.emit(event);\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n$icon-sizes: (\n  'xl': 1.75rem,\n  'l': 1.5rem,\n  'm': 1.25rem,\n  's': 1rem,\n  'xs': 0.75rem\n);\n\n:host {\n  /**\n   * @prop --cat-icon-ratio: The aspect ratio of the avatar.\n   */\n  display: inline-flex;\n  vertical-align: middle;\n  @include cat-select(none);\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nspan {\n  display: inline-flex;\n}\n\nsvg {\n  fill: currentColor;\n  stroke: none;\n  transform-origin: center center;\n  height: 1em;\n  width: calc(var(--cat-icon-ratio, 1) * 1em);\n}\n\n// ----- size\n\n@mixin size($size) {\n  .icon-#{$size} svg {\n    font-size: map.get($icon-sizes, $size);\n  }\n}\n\n@include size('xs');\n@include size('s');\n@include size('m');\n@include size('l');\n@include size('xl');\n","import { Component, h, Prop } from '@stencil/core';\nimport { CatIconRegistry } from './cat-icon-registry';\n\n/**\n * Icons are used to provide additional meaning or in places where text label\n * doesn't fit.\n *\n * @part icon - The span element wrapping the SVG icon.\n */\n@Component({\n  tag: 'cat-icon',\n  styleUrl: 'cat-icon.scss',\n  shadow: true\n})\nexport class CatIcon {\n  private readonly iconRegistry = CatIconRegistry.getInstance();\n\n  /**\n   * The name of the icon.\n   */\n  @Prop() icon = '';\n\n  /**\n   * The size of the icon.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' | 'inline' = 'm';\n\n  /**\n   * Adds accessible label for the icon that is only shown for screen\n   * readers. The `aria-hidden` attribute will be set if no label is present.\n   */\n  @Prop({ attribute: 'a11y-label' }) a11yLabel?: string;\n\n  render() {\n    return (\n      <span\n        innerHTML={this.iconRegistry.getIcon(this.icon)}\n        aria-label={this.a11yLabel}\n        aria-hidden={this.a11yLabel ? null : 'true'}\n        part=\"icon\"\n        class={{\n          icon: true,\n          [`icon-${this.size}`]: this.size !== 'inline'\n        }}\n      ></span>\n    );\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  @include cat-body('m');\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.input-wrapper {\n  display: flex;\n  align-items: stretch;\n  gap: 0.75rem;\n  padding: 0 0.75rem;\n  height: 2.5rem;\n  overflow: hidden;\n  background: cat-token('color.ui.background.input');\n  border-radius: cat-border-radius('m');\n  box-shadow: 0 0 0 1px cat-token('color.ui.border.input');\n  transition: box-shadow cat-token('time.transition.s') linear;\n\n  &.input-round {\n    border-radius: 10rem;\n  }\n\n  &.input-disabled {\n    background: cat-token('color.ui.background.inputDisabled');\n    cursor: not-allowed;\n    color: cat-token('color.ui.font.muted');\n  }\n\n  &:not(.input-disabled) {\n    &:hover {\n      box-shadow: 0 0 0 2px cat-token('color.ui.border.input');\n    }\n\n    &:focus-within {\n      outline: 2px solid cat-token('color.ui.border.focus');\n    }\n  }\n}\n\nlabel {\n  align-self: flex-start;\n\n  &.hidden {\n    @include cat-visually-hidden;\n  }\n}\n\n.input-optional {\n  margin-left: 0.25rem;\n  @include cat-body('xs');\n  color: cat-token('color.ui.font.muted');\n}\n\n.text-prefix,\n.text-suffix {\n  display: inline-flex;\n  align-items: center;\n  @include cat-select(none);\n}\n\n.text-prefix {\n  border-right: 1px solid cat-token('color.ui.border.input');\n  padding-right: 0.75rem;\n}\n\n.text-suffix {\n  border-left: 1px solid cat-token('color.ui.border.input');\n  padding-left: 0.75rem;\n}\n\n.icon-prefix,\n.icon-suffix {\n  align-self: center;\n}\n\n.input-inner-wrapper {\n  display: flex;\n  position: relative;\n  flex: 1 1 auto;\n}\n\ninput {\n  font: inherit;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  min-width: 0;\n  border: none;\n  outline: none;\n  background: none;\n\n  .input-disabled & {\n    cursor: not-allowed;\n    color: cat-token('color.ui.font.muted');\n  }\n\n  &.has-clearable {\n    padding-right: 1.5rem;\n  }\n\n  &::placeholder {\n    color: cat-token('color.ui.font.muted');\n  }\n}\n\n.clearable {\n  position: absolute;\n  top: calc(50% - 1rem);\n  right: -0.5rem;\n}\n","import { Component, Element, Event, EventEmitter, h, Host, Method, Prop, State } from '@stencil/core';\nimport log from 'loglevel';\nimport { CatFormHint } from '../cat-form-hint/cat-form-hint';\nimport { CatI18nRegistry } from '../cat-i18n/cat-i18n-registry';\nimport { InputType } from './input-type';\n\nlet nextUniqueId = 0;\n\n/**\n * Inputs are used to allow users to provide text input when the expected input\n * is short. As well as plain text, Input supports various types of text,\n * including passwords and numbers.\n *\n * @slot hint - Optional hint element to be displayed with the input.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part label - The label content.\n * @part prefix - The text prefix.\n * @part suffix - The text suffix.\n */\n@Component({\n  tag: 'cat-input',\n  styleUrl: 'cat-input.scss',\n  shadow: true\n})\nexport class CatInput {\n  private readonly i18n = CatI18nRegistry.getInstance();\n  private readonly id = `cat-input-${nextUniqueId++}`;\n  private input!: HTMLInputElement;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  /**\n   * Hint for form autofill feature.\n   */\n  @Prop() autoComplete?: string;\n\n  /**\n   * Whether the input should show a clear button.\n   */\n  @Prop() clearable = false;\n\n  /**\n   * Whether the input is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Optional hint text(s) to be displayed with the input.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * The name of an icon to be displayed in the input.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * Display the icon on the right.\n   */\n  @Prop() iconRight = false;\n\n  /**\n   * The label for the input.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A maximum value for date, time and numeric values.\n   */\n  @Prop() max?: number | string;\n\n  /**\n   * A maximum length (number of characters) for textual values.\n   */\n  @Prop() maxLength?: number;\n\n  /**\n   * A minimum value for date, time and numeric values.\n   */\n  @Prop() min?: number | string;\n\n  /**\n   * A minimum length (number of characters) for textual values.\n   */\n  @Prop() minLength?: number;\n\n  /**\n   * The name of the form control. Submitted with the form as part of a name/value pair.\n   */\n  @Prop() name = '';\n\n  /**\n   * The placeholder text to display within the input.\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * A textual prefix to be displayed in the input.\n   */\n  @Prop() textPrefix?: string;\n\n  /**\n   * A textual suffix to be displayed in the input.\n   */\n  @Prop() textSuffix?: string;\n\n  /**\n   * The value is not editable.\n   */\n  @Prop() readonly = false;\n\n  /**\n   * A value is required or must be check for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * Use round input edges.\n   */\n  @Prop() round = false;\n\n  /**\n   * Type of form control.\n   */\n  @Prop() type: InputType = 'text';\n\n  /**\n   * The value of the control.\n   */\n  @Prop({ mutable: true }) value?: string | number;\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter;\n\n  /**\n   * Emitted when the input received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the input loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillRender(): void {\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    if (!this.label && !this.hasSlottedLabel) {\n      log.error('[A11y] Missing ARIA label on input', this);\n    }\n  }\n\n  /**\n   * Sets focus on the input. Use this method instead of `input.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async setFocus(options?: FocusOptions): Promise<void> {\n    this.input.focus(options);\n  }\n\n  /**\n   * Clear the input.\n   */\n  @Method()\n  async clear(): Promise<void> {\n    this.value = '';\n  }\n\n  render() {\n    return (\n      <Host>\n        {(this.hasSlottedLabel || this.label) && (\n          <label htmlFor={this.id} class={{ hidden: this.labelHidden }}>\n            <span part=\"label\">\n              {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n              {!this.required && (\n                <span class=\"input-optional\" aria-hidden=\"true\">\n                  ({this.i18n.t('input.optional')})\n                </span>\n              )}\n            </span>\n          </label>\n        )}\n        <div\n          class={{\n            'input-wrapper': true,\n            'input-round': this.round,\n            'input-disabled': this.disabled\n          }}\n          onClick={() => this.input.focus()}\n        >\n          {this.textPrefix && (\n            <span class=\"text-prefix\" part=\"prefix\">\n              {this.textPrefix}\n            </span>\n          )}\n          {this.icon && !this.iconRight && <cat-icon icon={this.icon} class=\"icon-prefix\" size=\"l\"></cat-icon>}\n          <div class=\"input-inner-wrapper\">\n            <input\n              ref={el => (this.input = el as HTMLInputElement)}\n              id={this.id}\n              class={{\n                'has-clearable': this.clearable && !this.disabled\n              }}\n              autocomplete={this.autoComplete}\n              disabled={this.disabled}\n              max={this.max}\n              maxlength={this.maxLength}\n              min={this.min}\n              minlength={this.minLength}\n              name={this.name}\n              placeholder={this.placeholder}\n              readonly={this.readonly}\n              required={this.required}\n              type={this.type}\n              value={this.value}\n              onInput={this.onInput.bind(this)}\n              onFocus={this.onFocus.bind(this)}\n              onBlur={this.onBlur.bind(this)}\n            ></input>\n            {this.clearable && !this.disabled && this.value && (\n              <cat-button\n                class=\"clearable\"\n                icon=\"cross-circle-outlined\"\n                icon-only=\"true\"\n                size=\"s\"\n                variant=\"text\"\n                a11y-label={this.i18n.t('input.clear')}\n                onClick={this.clear.bind(this)}\n              ></cat-button>\n            )}\n          </div>\n          {this.icon && this.iconRight && <cat-icon icon={this.icon} class=\"icon-suffix\" size=\"l\"></cat-icon>}\n          {this.textSuffix && (\n            <span class=\"text-suffix\" part=\"suffix\">\n              {this.textSuffix}\n            </span>\n          )}\n        </div>\n        {this.hintSection}\n      </Host>\n    );\n  }\n\n  private get hintSection() {\n    const hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n    return (\n      (this.hint || hasSlottedHint) && (\n        <CatFormHint hint={this.hint} slottedHint={hasSlottedHint && <slot name=\"hint\"></slot>} />\n      )\n    );\n  }\n\n  private onInput(event: Event) {\n    this.value = this.input.value;\n    this.catChange.emit(event);\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n  }\n}\n","function getSide(placement) {\n  return placement.split('-')[0];\n}\n\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\n\nfunction getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'x' : 'y';\n}\n\nfunction getLengthFromAxis(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const mainAxis = getMainAxisFromPlacement(placement);\n  const length = getLengthFromAxis(mainAxis);\n  const commonAlign = reference[length] / 2 - floating[length] / 2;\n  const side = getSide(placement);\n  const isVertical = mainAxis === 'x';\n  let coords;\n\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[mainAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n\n    case 'end':\n      coords[mainAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a reference element when it is given a certain positioning strategy.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\n\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (platform == null) {\n      console.error(['Floating UI: `platform` property was not passed to config. If you', 'want to use Floating UI on the web, install @floating-ui/dom', 'instead of the /core package. Otherwise, you can create your own', '`platform`: https://floating-ui.com/docs/platform'].join(' '));\n    }\n\n    if (middleware.filter(_ref => {\n      let {\n        name\n      } = _ref;\n      return name === 'autoPlacement' || name === 'flip';\n    }).length > 1) {\n      throw new Error(['Floating UI: duplicate `flip` and/or `autoPlacement`', 'middleware detected. This will lead to an infinite loop. Ensure only', 'one of either has been passed to the `middleware` array.'].join(' '));\n    }\n  }\n\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let _debug_loop_count_ = 0;\n\n  for (let i = 0; i < middleware.length; i++) {\n    if (process.env.NODE_ENV !== \"production\") {\n      _debug_loop_count_++;\n\n      if (_debug_loop_count_ > 100) {\n        throw new Error(['Floating UI: The middleware lifecycle appears to be', 'running in an infinite loop. This is usually caused by a `reset`', 'continually being returned without a break condition.'].join(' '));\n      }\n    }\n\n    const {\n      name,\n      fn\n    } = middleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = { ...middlewareData,\n      [name]: { ...middlewareData[name],\n        ...data\n      }\n    };\n\n    if (reset) {\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n\n      i = -1;\n      continue;\n    }\n  }\n\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\n\nfunction getSideObjectFromPadding(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\n\nfunction rectToClientRect(rect) {\n  return { ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(middlewareArguments, options) {\n  var _await$platform$isEle;\n\n  if (options === void 0) {\n    options = {};\n  }\n\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = middlewareArguments;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = options;\n  const paddingObject = getSideObjectFromPadding(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    rect: elementContext === 'floating' ? { ...rects.floating,\n      x,\n      y\n    } : rects.reference,\n    offsetParent: await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating)),\n    strategy\n  }) : rects[elementContext]); // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  return {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n}\n\nconst min = Math.min;\nconst max = Math.max;\n\nfunction within(min$1, value, max$1) {\n  return max(min$1, min(value, max$1));\n}\n\n/**\n * Positions an inner element of the floating element such that it is centered\n * to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n\n  async fn(middlewareArguments) {\n    // Since `element` is required, we don't Partial<> the type\n    const {\n      element,\n      padding = 0\n    } = options != null ? options : {};\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform\n    } = middlewareArguments;\n\n    if (element == null) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.warn('Floating UI: No `element` was passed to the `arrow` middleware.');\n      }\n\n      return {};\n    }\n\n    const paddingObject = getSideObjectFromPadding(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getMainAxisFromPlacement(placement);\n    const length = getLengthFromAxis(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const minProp = axis === 'y' ? 'top' : 'left';\n    const maxProp = axis === 'y' ? 'bottom' : 'right';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    const clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n    const centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside of the floating element's bounds\n\n    const min = paddingObject[minProp];\n    const max = clientSize - arrowDimensions[length] - paddingObject[maxProp];\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = within(min, center, max);\n    return {\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset\n      }\n    };\n  }\n\n});\n\nconst hash$1 = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, matched => hash$1[matched]);\n}\n\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n\n  const alignment = getAlignment(placement);\n  const mainAxis = getMainAxisFromPlacement(placement);\n  const length = getLengthFromAxis(mainAxis);\n  let mainAlignmentSide = mainAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n\n  return {\n    main: mainAlignmentSide,\n    cross: getOppositePlacement(mainAlignmentSide)\n  };\n}\n\nconst hash = {\n  start: 'end',\n  end: 'start'\n};\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, matched => hash[matched]);\n}\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst allPlacements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-start\", side + \"-end\"), []);\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n\n    return true;\n  });\n}\n\n/**\n * Automatically chooses the `placement` which has the most space available.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'autoPlacement',\n    options,\n\n    async fn(middlewareArguments) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _middlewareData$autoP3, _middlewareData$autoP4, _placementsSortedByLe;\n\n      const {\n        x,\n        y,\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = middlewareArguments;\n      const {\n        alignment = null,\n        allowedPlacements = allPlacements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = options;\n      const placements = getPlacementList(alignment, autoAlignment, allowedPlacements);\n      const overflow = await detectOverflow(middlewareArguments, detectOverflowOptions);\n      const currentIndex = (_middlewareData$autoP = (_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.index) != null ? _middlewareData$autoP : 0;\n      const currentPlacement = placements[currentIndex];\n\n      if (currentPlacement == null) {\n        return {};\n      }\n\n      const {\n        main,\n        cross\n      } = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))); // Make `computeCoords` start from the right place\n\n      if (placement !== currentPlacement) {\n        return {\n          x,\n          y,\n          reset: {\n            placement: placements[0]\n          }\n        };\n      }\n\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[main], overflow[cross]];\n      const allOverflows = [...((_middlewareData$autoP3 = (_middlewareData$autoP4 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP4.overflows) != null ? _middlewareData$autoP3 : []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements[currentIndex + 1]; // There are more placements to check\n\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n\n      const placementsSortedByLeastOverflow = allOverflows.slice().sort((a, b) => a.overflows[0] - b.overflows[0]);\n      const placementThatFitsOnAllSides = (_placementsSortedByLe = placementsSortedByLeastOverflow.find(_ref => {\n        let {\n          overflows\n        } = _ref;\n        return overflows.every(overflow => overflow <= 0);\n      })) == null ? void 0 : _placementsSortedByLe.placement;\n      const resetPlacement = placementThatFitsOnAllSides != null ? placementThatFitsOnAllSides : placementsSortedByLeastOverflow[0].placement;\n\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n\n      return {};\n    }\n\n  };\n};\n\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\n\n/**\n * Changes the placement of the floating element to one that will fit if the\n * initially specified `placement` does not.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'flip',\n    options,\n\n    async fn(middlewareArguments) {\n      var _middlewareData$flip;\n\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = middlewareArguments;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = options;\n      const side = getSide(placement);\n      const isBasePlacement = side === initialPlacement;\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(middlewareArguments, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n\n      if (checkCrossAxis) {\n        const {\n          main,\n          cross\n        } = getAlignmentSides(placement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n        overflows.push(overflow[main], overflow[cross]);\n      }\n\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }]; // One or more sides is overflowing\n\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip$, _middlewareData$flip2;\n\n        const nextIndex = ((_middlewareData$flip$ = (_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) != null ? _middlewareData$flip$ : 0) + 1;\n        const nextPlacement = placements[nextIndex];\n\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        let resetPlacement = 'bottom';\n\n        switch (fallbackStrategy) {\n          case 'bestFit':\n            {\n              var _overflowsData$map$so;\n\n              const placement = (_overflowsData$map$so = overflowsData.map(d => [d, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0].placement;\n\n              if (placement) {\n                resetPlacement = placement;\n              }\n\n              break;\n            }\n\n          case 'initialPlacement':\n            resetPlacement = initialPlacement;\n            break;\n        }\n\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n\n      return {};\n    }\n\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (_temp) {\n  let {\n    strategy = 'referenceHidden',\n    ...detectOverflowOptions\n  } = _temp === void 0 ? {} : _temp;\n  return {\n    name: 'hide',\n\n    async fn(middlewareArguments) {\n      const {\n        rects\n      } = middlewareArguments;\n\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(middlewareArguments, { ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(middlewareArguments, { ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n\n        default:\n          {\n            return {};\n          }\n      }\n    }\n\n  };\n};\n\nfunction convertValueToCoords(placement, rects, value, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getMainAxisFromPlacement(placement) === 'x';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = typeof value === 'function' ? value({ ...rects,\n    placement\n  }) : value; // eslint-disable-next-line prefer-const\n\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n/**\n * Displaces the floating element from its reference element.\n * @see https://floating-ui.com/docs/offset\n */\n\nconst offset = function (value) {\n  if (value === void 0) {\n    value = 0;\n  }\n\n  return {\n    name: 'offset',\n    options: value,\n\n    async fn(middlewareArguments) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        platform,\n        elements\n      } = middlewareArguments;\n      const diffCoords = convertValueToCoords(placement, rects, value, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: diffCoords\n      };\n    }\n\n  };\n};\n\nfunction getCrossAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\n\n/**\n * Shifts the floating element in order to keep it in view when it will overflow\n * a clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'shift',\n    options,\n\n    async fn(middlewareArguments) {\n      const {\n        x,\n        y,\n        placement\n      } = middlewareArguments;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = options;\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(middlewareArguments, detectOverflowOptions);\n      const mainAxis = getMainAxisFromPlacement(getSide(placement));\n      const crossAxis = getCrossAxis(mainAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = within(min, mainAxisCoord, max);\n      }\n\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = within(min, crossAxisCoord, max);\n      }\n\n      const limitedCoords = limiter.fn({ ...middlewareArguments,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return { ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n\n  };\n};\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    options,\n\n    fn(middlewareArguments) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = middlewareArguments;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = options;\n      const coords = {\n        x,\n        y\n      };\n      const mainAxis = getMainAxisFromPlacement(placement);\n      const crossAxis = getCrossAxis(mainAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = typeof offset === 'function' ? offset({ ...rects,\n        placement\n      }) : offset;\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2, _middlewareData$offse3, _middlewareData$offse4;\n\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? (_middlewareData$offse = (_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) != null ? _middlewareData$offse : 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : (_middlewareData$offse3 = (_middlewareData$offse4 = middlewareData.offset) == null ? void 0 : _middlewareData$offse4[crossAxis]) != null ? _middlewareData$offse3 : 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n\n  };\n};\n\n/**\n * Provides data to change the size of the floating element. For instance,\n * prevent it from overflowing its clipping boundary or match the width of the\n * reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'size',\n    options,\n\n    async fn(middlewareArguments) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = middlewareArguments;\n      const {\n        apply,\n        ...detectOverflowOptions\n      } = options;\n      const overflow = await detectOverflow(middlewareArguments, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      let heightSide;\n      let widthSide;\n\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n\n      const xMin = max(overflow.left, 0);\n      const xMax = max(overflow.right, 0);\n      const yMin = max(overflow.top, 0);\n      const yMax = max(overflow.bottom, 0);\n      const dimensions = {\n        height: rects.floating.height - (['left', 'right'].includes(placement) ? 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom)) : overflow[heightSide]),\n        width: rects.floating.width - (['top', 'bottom'].includes(placement) ? 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right)) : overflow[widthSide])\n      };\n      const prevDimensions = await platform.getDimensions(elements.floating);\n      apply == null ? void 0 : apply({ ...dimensions,\n        ...rects\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n\n      if (prevDimensions.width !== nextDimensions.width || prevDimensions.height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n\n      return {};\n    }\n\n  };\n};\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'inline',\n    options,\n\n    async fn(middlewareArguments) {\n      var _await$platform$getCl;\n\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = middlewareArguments; // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n\n      const {\n        padding = 2,\n        x,\n        y\n      } = options;\n      const fallback = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n        rect: rects.reference,\n        offsetParent: await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating)),\n        strategy\n      }) : rects.reference);\n      const clientRects = (_await$platform$getCl = await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) != null ? _await$platform$getCl : [];\n      const paddingObject = getSideObjectFromPadding(padding);\n\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          var _clientRects$find;\n\n          // Find the first rect in which the point is fully inside\n          return (_clientRects$find = clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom)) != null ? _clientRects$find : fallback;\n        } // There are 2 or more connected rects\n\n\n        if (clientRects.length >= 2) {\n          if (getMainAxisFromPlacement(placement) === 'x') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n\n        return fallback;\n      }\n\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n\n      return {};\n    }\n\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, rectToClientRect, shift, size };\n","import { rectToClientRect, computePosition as computePosition$1 } from '@floating-ui/core';\nexport { arrow, autoPlacement, detectOverflow, flip, hide, inline, limitShift, offset, shift, size } from '@floating-ui/core';\n\nfunction isWindow(value) {\n  return (value == null ? void 0 : value.toString()) === '[object Window]';\n}\nfunction getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (!isWindow(node)) {\n    const ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}\n\nfunction getComputedStyle$1(element) {\n  return getWindow(element).getComputedStyle(element);\n}\n\nfunction getNodeName(node) {\n  return isWindow(node) ? '' : node ? (node.nodeName || '').toLowerCase() : '';\n}\n\nfunction isHTMLElement(value) {\n  return value instanceof getWindow(value).HTMLElement;\n}\nfunction isElement(value) {\n  return value instanceof getWindow(value).Element;\n}\nfunction isNode(value) {\n  return value instanceof getWindow(value).Node;\n}\nfunction isShadowRoot(node) {\n  const OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  const {\n    overflow,\n    overflowX,\n    overflowY\n  } = getComputedStyle$1(element);\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  // TODO: Try and use feature detection here instead\n  const isFirefox = navigator.userAgent.toLowerCase().includes('firefox');\n  const css = getComputedStyle$1(element); // This is non-exhaustive but covers the most common CSS properties that\n  // create a containing block.\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n  return css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].includes(css.willChange) || isFirefox && css.willChange === 'filter' || isFirefox && (css.filter ? css.filter !== 'none' : false);\n}\nfunction isLayoutViewport() {\n  // Not Safari\n  return !/^((?!chrome|android).)*safari/i.test(navigator.userAgent); // Feature detection for this fails in various ways\n  //  Always-visible scrollbar or not\n  //  Width of <html>, etc.\n  // const vV = win.visualViewport;\n  // return vV ? Math.abs(win.innerWidth / vV.scale - vV.width) < 0.5 : true;\n}\n\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n\n  const clientRect = element.getBoundingClientRect();\n  let scaleX = 1;\n  let scaleY = 1;\n\n  if (includeScale && isHTMLElement(element)) {\n    scaleX = element.offsetWidth > 0 ? round(clientRect.width) / element.offsetWidth || 1 : 1;\n    scaleY = element.offsetHeight > 0 ? round(clientRect.height) / element.offsetHeight || 1 : 1;\n  }\n\n  const win = isElement(element) ? getWindow(element) : window;\n  const addVisualOffsets = !isLayoutViewport() && isFixedStrategy;\n  const x = (clientRect.left + (addVisualOffsets ? win.visualViewport.offsetLeft : 0)) / scaleX;\n  const y = (clientRect.top + (addVisualOffsets ? win.visualViewport.offsetTop : 0)) / scaleY;\n  const width = clientRect.width / scaleX;\n  const height = clientRect.height / scaleY;\n  return {\n    width,\n    height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x,\n    x,\n    y\n  };\n}\n\nfunction getDocumentElement(node) {\n  return ((isNode(node) ? node.ownerDocument : node.document) || window.document).documentElement;\n}\n\nfunction getNodeScroll(element) {\n  if (isWindow(element)) {\n    return {\n      scrollLeft: element.pageXOffset,\n      scrollTop: element.pageYOffset\n    };\n  }\n\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\nfunction isScaled(element) {\n  const rect = getBoundingClientRect(element);\n  return round(rect.width) !== element.offsetWidth || round(rect.height) !== element.offsetHeight;\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const rect = getBoundingClientRect(element, isOffsetParentAnElement && isScaled(offsetParent), strategy === 'fixed');\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== 'fixed') {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent, true);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // @ts-ignore\n    node.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    node.parentNode || ( // DOM Element detected\n    isShadowRoot(node) ? node.host : null) || // ShadowRoot detected\n    getDocumentElement(node) // fallback\n\n  );\n}\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n}\n\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n\n  if (isShadowRoot(currentNode)) {\n    currentNode = currentNode.host;\n  }\n\n  while (isHTMLElement(currentNode) && !['html', 'body'].includes(getNodeName(currentNode))) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nfunction getOffsetParent(element) {\n  const window = getWindow(element);\n  let offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nfunction getDimensions(element) {\n  if (isHTMLElement(element)) {\n    return {\n      width: element.offsetWidth,\n      height: element.offsetHeight\n    };\n  }\n\n  const rect = getBoundingClientRect(element);\n  return {\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n\n  if (offsetParent === documentElement) {\n    return rect;\n  }\n\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== 'fixed') {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent, true);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } // This doesn't appear to be need to be negated.\n    // else if (documentElement) {\n    //   offsets.x = getWindowScrollBarX(documentElement);\n    // }\n\n  }\n\n  return { ...rect,\n    x: rect.x - scroll.scrollLeft + offsets.x,\n    y: rect.y - scroll.scrollTop + offsets.y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const layoutViewport = isLayoutViewport();\n\n    if (layoutViewport || !layoutViewport && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nfunction getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  const width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  const height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n\n  if (getComputedStyle$1(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n\n  if (['html', 'body', '#document'].includes(getNodeName(parentNode))) {\n    // @ts-ignore assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n\n  return getNearestOverflowAncestor(parentNode);\n}\n\nfunction getOverflowAncestors(node, list) {\n  var _node$ownerDocument;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.body);\n  const win = getWindow(scrollableAncestor);\n  const target = isBody ? [win].concat(win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : []) : scrollableAncestor;\n  const updatedList = list.concat(target);\n  return isBody ? updatedList : // @ts-ignore: isBody tells us target will be an HTMLElement here\n  updatedList.concat(getOverflowAncestors(getParentNode(target)));\n}\n\nfunction contains(parent, child) {\n  const rootNode = child.getRootNode == null ? void 0 : child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n    let next = child;\n\n    do {\n      // use `===` replace node.isSameNode()\n      if (next && parent === next) {\n        return true;\n      } // @ts-ignore: need a better way to handle this...\n\n\n      next = next.parentNode || next.host;\n    } while (next);\n  }\n\n  return false;\n}\n\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, false, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  return {\n    top,\n    left,\n    x: left,\n    y: top,\n    right: left + element.clientWidth,\n    bottom: top + element.clientHeight,\n    width: element.clientWidth,\n    height: element.clientHeight\n  };\n}\n\nfunction getClientRectFromClippingAncestor(element, clippingParent, strategy) {\n  if (clippingParent === 'viewport') {\n    return rectToClientRect(getViewportRect(element, strategy));\n  }\n\n  if (isElement(clippingParent)) {\n    return getInnerBoundingClientRect(clippingParent, strategy);\n  }\n\n  return rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping ancestor\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingAncestors(element) {\n  const clippingAncestors = getOverflowAncestors(element);\n  const canEscapeClipping = ['absolute', 'fixed'].includes(getComputedStyle$1(element).position);\n  const clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // @ts-ignore isElement check ensures we return Array<Element>\n\n\n  return clippingAncestors.filter(clippingAncestors => isElement(clippingAncestors) && contains(clippingAncestors, clipperElement) && getNodeName(clippingAncestors) !== 'body');\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors\n\n\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const mainClippingAncestors = boundary === 'clippingAncestors' ? getClippingAncestors(element) : [].concat(boundary);\n  const clippingAncestors = [...mainClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nconst platform = {\n  getClippingRect,\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  isElement,\n  getDimensions,\n  getOffsetParent,\n  getDocumentElement,\n  getElementRects: _ref => {\n    let {\n      reference,\n      floating,\n      strategy\n    } = _ref;\n    return {\n      reference: getRectRelativeToOffsetParent(reference, getOffsetParent(floating), strategy),\n      floating: { ...getDimensions(floating),\n        x: 0,\n        y: 0\n      }\n    };\n  },\n  getClientRects: element => Array.from(element.getClientRects()),\n  isRTL: element => getComputedStyle$1(element).direction === 'rtl'\n};\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  const {\n    ancestorScroll: _ancestorScroll = true,\n    ancestorResize: _ancestorResize = true,\n    elementResize: _elementResize = true,\n    animationFrame = false\n  } = options;\n  let cleanedUp = false;\n  const ancestorScroll = _ancestorScroll && !animationFrame;\n  const ancestorResize = _ancestorResize && !animationFrame;\n  const elementResize = _elementResize && !animationFrame;\n  const ancestors = ancestorScroll || ancestorResize ? [...(isElement(reference) ? getOverflowAncestors(reference) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  let observer = null;\n\n  if (elementResize) {\n    observer = new ResizeObserver(update);\n    isElement(reference) && observer.observe(reference);\n    observer.observe(floating);\n  }\n\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n\n  if (animationFrame) {\n    frameLoop();\n  }\n\n  function frameLoop() {\n    if (cleanedUp) {\n      return;\n    }\n\n    const nextRefRect = getBoundingClientRect(reference);\n\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n\n  return () => {\n    var _observer;\n\n    cleanedUp = true;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    (_observer = observer) == null ? void 0 : _observer.disconnect();\n    observer = null;\n\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a reference element when it is given a certain CSS positioning\n * strategy.\n */\n\nconst computePosition = (reference, floating, options) => computePosition$1(reference, floating, {\n  platform,\n  ...options\n});\n\nexport { autoUpdate, computePosition, getOverflowAncestors };\n","/*!\n* tabbable 5.3.1\n* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE\n*/\nvar candidateSelectors = ['input', 'select', 'textarea', 'a[href]', 'button', '[tabindex]:not(slot)', 'audio[controls]', 'video[controls]', '[contenteditable]:not([contenteditable=\"false\"])', 'details>summary:first-of-type', 'details'];\nvar candidateSelector = /* #__PURE__ */candidateSelectors.join(',');\nvar NoElement = typeof Element === 'undefined';\nvar matches = NoElement ? function () {} : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\nvar getRootNode = !NoElement && Element.prototype.getRootNode ? function (element) {\n  return element.getRootNode();\n} : function (element) {\n  return element.ownerDocument;\n};\n/**\n * @param {Element} el container to check in\n * @param {boolean} includeContainer add container to check\n * @param {(node: Element) => boolean} filter filter candidates\n * @returns {Element[]}\n */\n\nvar getCandidates = function getCandidates(el, includeContainer, filter) {\n  var candidates = Array.prototype.slice.apply(el.querySelectorAll(candidateSelector));\n\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n/**\n * @callback GetShadowRoot\n * @param {Element} element to check for shadow root\n * @returns {ShadowRoot|boolean} ShadowRoot if available or boolean indicating if a shadowRoot is attached but not available.\n */\n\n/**\n * @typedef {Object} CandidatesScope\n * @property {Element} scope contains inner candidates\n * @property {Element[]} candidates\n */\n\n/**\n * @typedef {Object} IterativeOptions\n * @property {GetShadowRoot|boolean} getShadowRoot true if shadow support is enabled; falsy if not;\n *  if a function, implies shadow support is enabled and either returns the shadow root of an element\n *  or a boolean stating if it has an undisclosed shadow root\n * @property {(node: Element) => boolean} filter filter candidates\n * @property {boolean} flatten if true then result will flatten any CandidatesScope into the returned list\n */\n\n/**\n * @param {Element[]} elements list of element containers to match candidates from\n * @param {boolean} includeContainer add container list to check\n * @param {IterativeOptions} options\n * @returns {Array.<Element|CandidatesScope>}\n */\n\n\nvar getCandidatesIteratively = function getCandidatesIteratively(elements, includeContainer, options) {\n  var candidates = [];\n  var elementsToCheck = Array.from(elements);\n\n  while (elementsToCheck.length) {\n    var element = elementsToCheck.shift();\n\n    if (element.tagName === 'SLOT') {\n      // add shadow dom slot scope (slot itself cannot be focusable)\n      var assigned = element.assignedElements();\n      var content = assigned.length ? assigned : element.children;\n      var nestedCandidates = getCandidatesIteratively(content, true, options);\n\n      if (options.flatten) {\n        candidates.push.apply(candidates, nestedCandidates);\n      } else {\n        candidates.push({\n          scope: element,\n          candidates: nestedCandidates\n        });\n      }\n    } else {\n      // check candidate element\n      var validCandidate = matches.call(element, candidateSelector);\n\n      if (validCandidate && options.filter(element) && (includeContainer || !elements.includes(element))) {\n        candidates.push(element);\n      } // iterate over shadow content if possible\n\n\n      var shadowRoot = element.shadowRoot || // check for an undisclosed shadow\n      typeof options.getShadowRoot === 'function' && options.getShadowRoot(element);\n\n      if (shadowRoot) {\n        // add shadow dom scope IIF a shadow root node was given; otherwise, an undisclosed\n        //  shadow exists, so look at light dom children as fallback BUT create a scope for any\n        //  child candidates found because they're likely slotted elements (elements that are\n        //  children of the web component element (which has the shadow), in the light dom, but\n        //  slotted somewhere _inside_ the undisclosed shadow) -- the scope is created below,\n        //  _after_ we return from this recursive call\n        var _nestedCandidates = getCandidatesIteratively(shadowRoot === true ? element.children : shadowRoot.children, true, options);\n\n        if (options.flatten) {\n          candidates.push.apply(candidates, _nestedCandidates);\n        } else {\n          candidates.push({\n            scope: element,\n            candidates: _nestedCandidates\n          });\n        }\n      } else {\n        // there's not shadow so just dig into the element's (light dom) children\n        //  __without__ giving the element special scope treatment\n        elementsToCheck.unshift.apply(elementsToCheck, element.children);\n      }\n    }\n  }\n\n  return candidates;\n};\n\nvar getTabindex = function getTabindex(node, isScope) {\n  if (node.tabIndex < 0) {\n    // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n    // `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n    // yet they are still part of the regular tab order; in FF, they get a default\n    // `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n    // order, consider their tab index to be 0.\n    // Also browsers do not return `tabIndex` correctly for contentEditable nodes;\n    // so if they don't have a tabindex attribute specifically set, assume it's 0.\n    //\n    // isScope is positive for custom element with shadow root or slot that by default\n    // have tabIndex -1, but need to be sorted by document order in order for their\n    // content to be inserted in the correct position\n    if ((isScope || /^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName) || node.isContentEditable) && isNaN(parseInt(node.getAttribute('tabindex'), 10))) {\n      return 0;\n    }\n  }\n\n  return node.tabIndex;\n};\n\nvar sortOrderedTabbables = function sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n};\n\nvar isInput = function isInput(node) {\n  return node.tagName === 'INPUT';\n};\n\nvar isHiddenInput = function isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nvar isDetailsWithSummary = function isDetailsWithSummary(node) {\n  var r = node.tagName === 'DETAILS' && Array.prototype.slice.apply(node.children).some(function (child) {\n    return child.tagName === 'SUMMARY';\n  });\n  return r;\n};\n\nvar getCheckedRadio = function getCheckedRadio(nodes, form) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nvar isTabbableRadio = function isTabbableRadio(node) {\n  if (!node.name) {\n    return true;\n  }\n\n  var radioScope = node.form || getRootNode(node);\n\n  var queryRadios = function queryRadios(name) {\n    return radioScope.querySelectorAll('input[type=\"radio\"][name=\"' + name + '\"]');\n  };\n\n  var radioSet;\n\n  if (typeof window !== 'undefined' && typeof window.CSS !== 'undefined' && typeof window.CSS.escape === 'function') {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error('Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s', err.message);\n      return false;\n    }\n  }\n\n  var checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nvar isRadio = function isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nvar isNonTabbableRadio = function isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\nvar isZeroArea = function isZeroArea(node) {\n  var _node$getBoundingClie = node.getBoundingClientRect(),\n      width = _node$getBoundingClie.width,\n      height = _node$getBoundingClie.height;\n\n  return width === 0 && height === 0;\n};\n\nvar isHidden = function isHidden(node, _ref) {\n  var displayCheck = _ref.displayCheck,\n      getShadowRoot = _ref.getShadowRoot;\n\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  var isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  var nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n\n  if (!displayCheck || displayCheck === 'full') {\n    if (typeof getShadowRoot === 'function') {\n      // figure out if we should consider the node to be in an undisclosed shadow and use the\n      //  'non-zero-area' fallback\n      var originalNode = node;\n\n      while (node) {\n        var parentElement = node.parentElement;\n        var rootNode = getRootNode(node);\n\n        if (parentElement && !parentElement.shadowRoot && getShadowRoot(parentElement) === true // check if there's an undisclosed shadow\n        ) {\n          // node has an undisclosed shadow which means we can only treat it as a black box, so we\n          //  fall back to a non-zero-area test\n          return isZeroArea(node);\n        } else if (node.assignedSlot) {\n          // iterate up slot\n          node = node.assignedSlot;\n        } else if (!parentElement && rootNode !== node.ownerDocument) {\n          // cross shadow boundary\n          node = rootNode.host;\n        } else {\n          // iterate up normal dom\n          node = parentElement;\n        }\n      }\n\n      node = originalNode;\n    } // else, `getShadowRoot` might be true, but all that does is enable shadow DOM support\n    //  (i.e. it does not also presume that all nodes might have undisclosed shadows); or\n    //  it might be a falsy value, which means shadow DOM support is disabled\n    // didn't find it sitting in an undisclosed shadow (or shadows are disabled) so now we\n    //  can just test to see if it would normally be visible or not\n    // this works wherever the node is: if there's at least one client rect, it's\n    //  somehow displayed; it also covers the CSS 'display: contents' case where the\n    //  node itself is hidden in place of its contents; and there's no need to search\n    //  up the hierarchy either\n\n\n    return !node.getClientRects().length;\n  } else if (displayCheck === 'non-zero-area') {\n    return isZeroArea(node);\n  }\n\n  return false;\n}; // form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\n\n\nvar isDisabledFromFieldset = function isDisabledFromFieldset(node) {\n  if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {\n    var parentNode = node.parentElement; // check if `node` is contained in a disabled <fieldset>\n\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> among the children of the disabled <fieldset>\n        for (var i = 0; i < parentNode.children.length; i++) {\n          var child = parentNode.children.item(i); // when the first <legend> (in document order) is found\n\n          if (child.tagName === 'LEGEND') {\n            // if its parent <fieldset> is not nested in another disabled <fieldset>,\n            // return whether `node` is a descendant of its first <legend>\n            return matches.call(parentNode, 'fieldset[disabled] *') ? true : !child.contains(node);\n          }\n        } // the disabled <fieldset> containing `node` has no <legend>\n\n\n        return true;\n      }\n\n      parentNode = parentNode.parentElement;\n    }\n  } // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n\n\n  return false;\n};\n\nvar isNodeMatchingSelectorFocusable = function isNodeMatchingSelectorFocusable(options, node) {\n  if (node.disabled || isHiddenInput(node) || isHidden(node, options) || // For a details element with a summary, the summary element gets the focus\n  isDetailsWithSummary(node) || isDisabledFromFieldset(node)) {\n    return false;\n  }\n\n  return true;\n};\n\nvar isNodeMatchingSelectorTabbable = function isNodeMatchingSelectorTabbable(options, node) {\n  if (isNonTabbableRadio(node) || getTabindex(node) < 0 || !isNodeMatchingSelectorFocusable(options, node)) {\n    return false;\n  }\n\n  return true;\n};\n/**\n * @param {Array.<Element|CandidatesScope>} candidates\n * @returns Element[]\n */\n\n\nvar sortByOrder = function sortByOrder(candidates) {\n  var regularTabbables = [];\n  var orderedTabbables = [];\n  candidates.forEach(function (item, i) {\n    var isScope = !!item.scope;\n    var element = isScope ? item.scope : item;\n    var candidateTabindex = getTabindex(element, isScope);\n    var elements = isScope ? sortByOrder(item.candidates) : element;\n\n    if (candidateTabindex === 0) {\n      isScope ? regularTabbables.push.apply(regularTabbables, elements) : regularTabbables.push(element);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        item: item,\n        isScope: isScope,\n        content: elements\n      });\n    }\n  });\n  return orderedTabbables.sort(sortOrderedTabbables).reduce(function (acc, sortable) {\n    sortable.isScope ? acc.push.apply(acc, sortable.content) : acc.push(sortable.content);\n    return acc;\n  }, []).concat(regularTabbables);\n};\n\nvar tabbable = function tabbable(el, options) {\n  options = options || {};\n  var candidates;\n\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([el], options.includeContainer, {\n      filter: isNodeMatchingSelectorTabbable.bind(null, options),\n      flatten: false,\n      getShadowRoot: options.getShadowRoot\n    });\n  } else {\n    candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorTabbable.bind(null, options));\n  }\n\n  return sortByOrder(candidates);\n};\n\nvar focusable = function focusable(el, options) {\n  options = options || {};\n  var candidates;\n\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([el], options.includeContainer, {\n      filter: isNodeMatchingSelectorFocusable.bind(null, options),\n      flatten: true,\n      getShadowRoot: options.getShadowRoot\n    });\n  } else {\n    candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorFocusable.bind(null, options));\n  }\n\n  return candidates;\n};\n\nvar isTabbable = function isTabbable(node, options) {\n  options = options || {};\n\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n\n  return isNodeMatchingSelectorTabbable(options, node);\n};\n\nvar focusableCandidateSelector = /* #__PURE__ */candidateSelectors.concat('iframe').join(',');\n\nvar isFocusable = function isFocusable(node, options) {\n  options = options || {};\n\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { focusable, isFocusable, isTabbable, tabbable };\n//# sourceMappingURL=index.esm.js.map\n","/*!\n* focus-trap 6.8.1\n* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE\n*/\nimport { tabbable, focusable, isTabbable, isFocusable } from 'tabbable';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar activeFocusTraps = function () {\n  var trapQueue = [];\n  return {\n    activateTrap: function activateTrap(trap) {\n      if (trapQueue.length > 0) {\n        var activeTrap = trapQueue[trapQueue.length - 1];\n\n        if (activeTrap !== trap) {\n          activeTrap.pause();\n        }\n      }\n\n      var trapIndex = trapQueue.indexOf(trap);\n\n      if (trapIndex === -1) {\n        trapQueue.push(trap);\n      } else {\n        // move this existing trap to the front of the queue\n        trapQueue.splice(trapIndex, 1);\n        trapQueue.push(trap);\n      }\n    },\n    deactivateTrap: function deactivateTrap(trap) {\n      var trapIndex = trapQueue.indexOf(trap);\n\n      if (trapIndex !== -1) {\n        trapQueue.splice(trapIndex, 1);\n      }\n\n      if (trapQueue.length > 0) {\n        trapQueue[trapQueue.length - 1].unpause();\n      }\n    }\n  };\n}();\n\nvar isSelectableInput = function isSelectableInput(node) {\n  return node.tagName && node.tagName.toLowerCase() === 'input' && typeof node.select === 'function';\n};\n\nvar isEscapeEvent = function isEscapeEvent(e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n};\n\nvar isTabEvent = function isTabEvent(e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n};\n\nvar delay = function delay(fn) {\n  return setTimeout(fn, 0);\n}; // Array.find/findIndex() are not supported on IE; this replicates enough\n//  of Array.findIndex() for our needs\n\n\nvar findIndex = function findIndex(arr, fn) {\n  var idx = -1;\n  arr.every(function (value, i) {\n    if (fn(value)) {\n      idx = i;\n      return false; // break\n    }\n\n    return true; // next\n  });\n  return idx;\n};\n/**\n * Get an option's value when it could be a plain value, or a handler that provides\n *  the value.\n * @param {*} value Option's value to check.\n * @param {...*} [params] Any parameters to pass to the handler, if `value` is a function.\n * @returns {*} The `value`, or the handler's returned value.\n */\n\n\nvar valueOrHandler = function valueOrHandler(value) {\n  for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    params[_key - 1] = arguments[_key];\n  }\n\n  return typeof value === 'function' ? value.apply(void 0, params) : value;\n};\n\nvar getActualTarget = function getActualTarget(event) {\n  // NOTE: If the trap is _inside_ a shadow DOM, event.target will always be the\n  //  shadow host. However, event.target.composedPath() will be an array of\n  //  nodes \"clicked\" from inner-most (the actual element inside the shadow) to\n  //  outer-most (the host HTML document). If we have access to composedPath(),\n  //  then use its first element; otherwise, fall back to event.target (and\n  //  this only works for an _open_ shadow DOM; otherwise,\n  //  composedPath()[0] === event.target always).\n  return event.target.shadowRoot && typeof event.composedPath === 'function' ? event.composedPath()[0] : event.target;\n};\n\nvar createFocusTrap = function createFocusTrap(elements, userOptions) {\n  // SSR: a live trap shouldn't be created in this type of environment so this\n  //  should be safe code to execute if the `document` option isn't specified\n  var doc = (userOptions === null || userOptions === void 0 ? void 0 : userOptions.document) || document;\n\n  var config = _objectSpread2({\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true\n  }, userOptions);\n\n  var state = {\n    // containers given to createFocusTrap()\n    // @type {Array<HTMLElement>}\n    containers: [],\n    // list of objects identifying tabbable nodes in `containers` in the trap\n    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap\n    //  is active, but the trap should never get to a state where there isn't at least one group\n    //  with at least one tabbable node in it (that would lead to an error condition that would\n    //  result in an error being thrown)\n    // @type {Array<{\n    //   container: HTMLElement,\n    //   tabbableNodes: Array<HTMLElement>, // empty if none\n    //   focusableNodes: Array<HTMLElement>, // empty if none\n    //   firstTabbableNode: HTMLElement|null,\n    //   lastTabbableNode: HTMLElement|null,\n    //   nextTabbableNode: (node: HTMLElement, forward: boolean) => HTMLElement|undefined\n    // }>}\n    containerGroups: [],\n    // same order/length as `containers` list\n    // references to objects in `containerGroups`, but only those that actually have\n    //  tabbable nodes in them\n    // NOTE: same order as `containers` and `containerGroups`, but __not necessarily__\n    //  the same length\n    tabbableGroups: [],\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false,\n    // timer ID for when delayInitialFocus is true and initial focus in this trap\n    //  has been delayed during activation\n    delayInitialFocusTimer: undefined\n  };\n  var trap; // eslint-disable-line prefer-const -- some private functions reference it, and its methods reference private functions, so we must declare here and define later\n\n  /**\n   * Gets a configuration option value.\n   * @param {Object|undefined} configOverrideOptions If true, and option is defined in this set,\n   *  value will be taken from this object. Otherwise, value will be taken from base configuration.\n   * @param {string} optionName Name of the option whose value is sought.\n   * @param {string|undefined} [configOptionName] Name of option to use __instead of__ `optionName`\n   *  IIF `configOverrideOptions` is not defined. Otherwise, `optionName` is used.\n   */\n\n  var getOption = function getOption(configOverrideOptions, optionName, configOptionName) {\n    return configOverrideOptions && configOverrideOptions[optionName] !== undefined ? configOverrideOptions[optionName] : config[configOptionName || optionName];\n  };\n  /**\n   * Finds the index of the container that contains the element.\n   * @param {HTMLElement} element\n   * @returns {number} Index of the container in either `state.containers` or\n   *  `state.containerGroups` (the order/length of these lists are the same); -1\n   *  if the element isn't found.\n   */\n\n\n  var findContainerIndex = function findContainerIndex(element) {\n    // NOTE: search `containerGroups` because it's possible a group contains no tabbable\n    //  nodes, but still contains focusable nodes (e.g. if they all have `tabindex=-1`)\n    //  and we still need to find the element in there\n    return state.containerGroups.findIndex(function (_ref) {\n      var container = _ref.container,\n          tabbableNodes = _ref.tabbableNodes;\n      return container.contains(element) || // fall back to explicit tabbable search which will take into consideration any\n      //  web components if the `tabbableOptions.getShadowRoot` option was used for\n      //  the trap, enabling shadow DOM support in tabbable (`Node.contains()` doesn't\n      //  look inside web components even if open)\n      tabbableNodes.find(function (node) {\n        return node === element;\n      });\n    });\n  };\n  /**\n   * Gets the node for the given option, which is expected to be an option that\n   *  can be either a DOM node, a string that is a selector to get a node, `false`\n   *  (if a node is explicitly NOT given), or a function that returns any of these\n   *  values.\n   * @param {string} optionName\n   * @returns {undefined | false | HTMLElement | SVGElement} Returns\n   *  `undefined` if the option is not specified; `false` if the option\n   *  resolved to `false` (node explicitly not given); otherwise, the resolved\n   *  DOM node.\n   * @throws {Error} If the option is set, not `false`, and is not, or does not\n   *  resolve to a node.\n   */\n\n\n  var getNodeForOption = function getNodeForOption(optionName) {\n    var optionValue = config[optionName];\n\n    if (typeof optionValue === 'function') {\n      for (var _len2 = arguments.length, params = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        params[_key2 - 1] = arguments[_key2];\n      }\n\n      optionValue = optionValue.apply(void 0, params);\n    }\n\n    if (!optionValue) {\n      if (optionValue === undefined || optionValue === false) {\n        return optionValue;\n      } // else, empty string (invalid), null (invalid), 0 (invalid)\n\n\n      throw new Error(\"`\".concat(optionName, \"` was specified but was not a node, or did not return a node\"));\n    }\n\n    var node = optionValue; // could be HTMLElement, SVGElement, or non-empty string at this point\n\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue); // resolve to node, or null if fails\n\n      if (!node) {\n        throw new Error(\"`\".concat(optionName, \"` as selector refers to no known node\"));\n      }\n    }\n\n    return node;\n  };\n\n  var getInitialFocusNode = function getInitialFocusNode() {\n    var node = getNodeForOption('initialFocus'); // false explicitly indicates we want no initialFocus at all\n\n    if (node === false) {\n      return false;\n    }\n\n    if (node === undefined) {\n      // option not specified: use fallback options\n      if (findContainerIndex(doc.activeElement) >= 0) {\n        node = doc.activeElement;\n      } else {\n        var firstTabbableGroup = state.tabbableGroups[0];\n        var firstTabbableNode = firstTabbableGroup && firstTabbableGroup.firstTabbableNode; // NOTE: `fallbackFocus` option function cannot return `false` (not supported)\n\n        node = firstTabbableNode || getNodeForOption('fallbackFocus');\n      }\n    }\n\n    if (!node) {\n      throw new Error('Your focus-trap needs to have at least one focusable element');\n    }\n\n    return node;\n  };\n\n  var updateTabbableNodes = function updateTabbableNodes() {\n    state.containerGroups = state.containers.map(function (container) {\n      var tabbableNodes = tabbable(container, config.tabbableOptions); // NOTE: if we have tabbable nodes, we must have focusable nodes; focusable nodes\n      //  are a superset of tabbable nodes\n\n      var focusableNodes = focusable(container, config.tabbableOptions);\n      return {\n        container: container,\n        tabbableNodes: tabbableNodes,\n        focusableNodes: focusableNodes,\n        firstTabbableNode: tabbableNodes.length > 0 ? tabbableNodes[0] : null,\n        lastTabbableNode: tabbableNodes.length > 0 ? tabbableNodes[tabbableNodes.length - 1] : null,\n\n        /**\n         * Finds the __tabbable__ node that follows the given node in the specified direction,\n         *  in this container, if any.\n         * @param {HTMLElement} node\n         * @param {boolean} [forward] True if going in forward tab order; false if going\n         *  in reverse.\n         * @returns {HTMLElement|undefined} The next tabbable node, if any.\n         */\n        nextTabbableNode: function nextTabbableNode(node) {\n          var forward = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n          // NOTE: If tabindex is positive (in order to manipulate the tab order separate\n          //  from the DOM order), this __will not work__ because the list of focusableNodes,\n          //  while it contains tabbable nodes, does not sort its nodes in any order other\n          //  than DOM order, because it can't: Where would you place focusable (but not\n          //  tabbable) nodes in that order? They have no order, because they aren't tabbale...\n          // Support for positive tabindex is already broken and hard to manage (possibly\n          //  not supportable, TBD), so this isn't going to make things worse than they\n          //  already are, and at least makes things better for the majority of cases where\n          //  tabindex is either 0/unset or negative.\n          // FYI, positive tabindex issue: https://github.com/focus-trap/focus-trap/issues/375\n          var nodeIdx = focusableNodes.findIndex(function (n) {\n            return n === node;\n          });\n\n          if (nodeIdx < 0) {\n            return undefined;\n          }\n\n          if (forward) {\n            return focusableNodes.slice(nodeIdx + 1).find(function (n) {\n              return isTabbable(n, config.tabbableOptions);\n            });\n          }\n\n          return focusableNodes.slice(0, nodeIdx).reverse().find(function (n) {\n            return isTabbable(n, config.tabbableOptions);\n          });\n        }\n      };\n    });\n    state.tabbableGroups = state.containerGroups.filter(function (group) {\n      return group.tabbableNodes.length > 0;\n    }); // throw if no groups have tabbable nodes and we don't have a fallback focus node either\n\n    if (state.tabbableGroups.length <= 0 && !getNodeForOption('fallbackFocus') // returning false not supported for this option\n    ) {\n      throw new Error('Your focus-trap must have at least one container with at least one tabbable node in it at all times');\n    }\n  };\n\n  var tryFocus = function tryFocus(node) {\n    if (node === false) {\n      return;\n    }\n\n    if (node === doc.activeElement) {\n      return;\n    }\n\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n\n    node.focus({\n      preventScroll: !!config.preventScroll\n    });\n    state.mostRecentlyFocusedNode = node;\n\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  };\n\n  var getReturnFocusNode = function getReturnFocusNode(previousActiveElement) {\n    var node = getNodeForOption('setReturnFocus', previousActiveElement);\n    return node ? node : node === false ? false : previousActiveElement;\n  }; // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n\n\n  var checkPointerDown = function checkPointerDown(e) {\n    var target = getActualTarget(e);\n\n    if (findContainerIndex(target) >= 0) {\n      // allow the click since it ocurred inside the trap\n      return;\n    }\n\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      // immediately deactivate the trap\n      trap.deactivate({\n        // if, on deactivation, we should return focus to the node originally-focused\n        //  when the trap was activated (or the configured `setReturnFocus` node),\n        //  then assume it's also OK to return focus to the outside node that was\n        //  just clicked, causing deactivation, as long as that node is focusable;\n        //  if it isn't focusable, then return focus to the original node focused\n        //  on activation (or the configured `setReturnFocus` node)\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked, whether it's focusable or not; by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node)\n        returnFocus: config.returnFocusOnDeactivate && !isFocusable(target, config.tabbableOptions)\n      });\n      return;\n    } // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n\n\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      // allow the click outside the trap to take place\n      return;\n    } // otherwise, prevent the click\n\n\n    e.preventDefault();\n  }; // In case focus escapes the trap for some strange reason, pull it back in.\n\n\n  var checkFocusIn = function checkFocusIn(e) {\n    var target = getActualTarget(e);\n    var targetContained = findContainerIndex(target) >= 0; // In Firefox when you Tab out of an iframe the Document is briefly focused.\n\n    if (targetContained || target instanceof Document) {\n      if (targetContained) {\n        state.mostRecentlyFocusedNode = target;\n      }\n    } else {\n      // escaped! pull it back in to where it just left\n      e.stopImmediatePropagation();\n      tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n    }\n  }; // Hijack Tab events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n\n\n  var checkTab = function checkTab(e) {\n    var target = getActualTarget(e);\n    updateTabbableNodes();\n    var destinationNode = null;\n\n    if (state.tabbableGroups.length > 0) {\n      // make sure the target is actually contained in a group\n      // NOTE: the target may also be the container itself if it's focusable\n      //  with tabIndex='-1' and was given initial focus\n      var containerIndex = findContainerIndex(target);\n      var containerGroup = containerIndex >= 0 ? state.containerGroups[containerIndex] : undefined;\n\n      if (containerIndex < 0) {\n        // target not found in any group: quite possible focus has escaped the trap,\n        //  so bring it back in to...\n        if (e.shiftKey) {\n          // ...the last node in the last group\n          destinationNode = state.tabbableGroups[state.tabbableGroups.length - 1].lastTabbableNode;\n        } else {\n          // ...the first node in the first group\n          destinationNode = state.tabbableGroups[0].firstTabbableNode;\n        }\n      } else if (e.shiftKey) {\n        // REVERSE\n        // is the target the first tabbable node in a group?\n        var startOfGroupIndex = findIndex(state.tabbableGroups, function (_ref2) {\n          var firstTabbableNode = _ref2.firstTabbableNode;\n          return target === firstTabbableNode;\n        });\n\n        if (startOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target, config.tabbableOptions) && !isTabbable(target, config.tabbableOptions) && !containerGroup.nextTabbableNode(target, false))) {\n          // an exception case where the target is either the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle shift+tab as if focus were on the container's\n          //  first tabbable node, and go to the last tabbable node of the LAST group\n          startOfGroupIndex = containerIndex;\n        }\n\n        if (startOfGroupIndex >= 0) {\n          // YES: then shift+tab should go to the last tabbable node in the\n          //  previous group (and wrap around to the last tabbable node of\n          //  the LAST group if it's the first tabbable node of the FIRST group)\n          var destinationGroupIndex = startOfGroupIndex === 0 ? state.tabbableGroups.length - 1 : startOfGroupIndex - 1;\n          var destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.lastTabbableNode;\n        }\n      } else {\n        // FORWARD\n        // is the target the last tabbable node in a group?\n        var lastOfGroupIndex = findIndex(state.tabbableGroups, function (_ref3) {\n          var lastTabbableNode = _ref3.lastTabbableNode;\n          return target === lastTabbableNode;\n        });\n\n        if (lastOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target, config.tabbableOptions) && !isTabbable(target, config.tabbableOptions) && !containerGroup.nextTabbableNode(target))) {\n          // an exception case where the target is the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle tab as if focus were on the container's\n          //  last tabbable node, and go to the first tabbable node of the FIRST group\n          lastOfGroupIndex = containerIndex;\n        }\n\n        if (lastOfGroupIndex >= 0) {\n          // YES: then tab should go to the first tabbable node in the next\n          //  group (and wrap around to the first tabbable node of the FIRST\n          //  group if it's the last tabbable node of the LAST group)\n          var _destinationGroupIndex = lastOfGroupIndex === state.tabbableGroups.length - 1 ? 0 : lastOfGroupIndex + 1;\n\n          var _destinationGroup = state.tabbableGroups[_destinationGroupIndex];\n          destinationNode = _destinationGroup.firstTabbableNode;\n        }\n      }\n    } else {\n      // NOTE: the fallbackFocus option does not support returning false to opt-out\n      destinationNode = getNodeForOption('fallbackFocus');\n    }\n\n    if (destinationNode) {\n      e.preventDefault();\n      tryFocus(destinationNode);\n    } // else, let the browser take care of [shift+]tab and move the focus\n\n  };\n\n  var checkKey = function checkKey(e) {\n    if (isEscapeEvent(e) && valueOrHandler(config.escapeDeactivates, e) !== false) {\n      e.preventDefault();\n      trap.deactivate();\n      return;\n    }\n\n    if (isTabEvent(e)) {\n      checkTab(e);\n      return;\n    }\n  };\n\n  var checkClick = function checkClick(e) {\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      return;\n    }\n\n    var target = getActualTarget(e);\n\n    if (findContainerIndex(target) >= 0) {\n      return;\n    }\n\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  }; //\n  // EVENT LISTENERS\n  //\n\n\n  var addListeners = function addListeners() {\n    if (!state.active) {\n      return;\n    } // There can be only one listening focus trap at a time\n\n\n    activeFocusTraps.activateTrap(trap); // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n\n    state.delayInitialFocusTimer = config.delayInitialFocus ? delay(function () {\n      tryFocus(getInitialFocusNode());\n    }) : tryFocus(getInitialFocusNode());\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('keydown', checkKey, {\n      capture: true,\n      passive: false\n    });\n    return trap;\n  };\n\n  var removeListeners = function removeListeners() {\n    if (!state.active) {\n      return;\n    }\n\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n    return trap;\n  }; //\n  // TRAP DEFINITION\n  //\n\n\n  trap = {\n    activate: function activate(activateOptions) {\n      if (state.active) {\n        return this;\n      }\n\n      var onActivate = getOption(activateOptions, 'onActivate');\n      var onPostActivate = getOption(activateOptions, 'onPostActivate');\n      var checkCanFocusTrap = getOption(activateOptions, 'checkCanFocusTrap');\n\n      if (!checkCanFocusTrap) {\n        updateTabbableNodes();\n      }\n\n      state.active = true;\n      state.paused = false;\n      state.nodeFocusedBeforeActivation = doc.activeElement;\n\n      if (onActivate) {\n        onActivate();\n      }\n\n      var finishActivation = function finishActivation() {\n        if (checkCanFocusTrap) {\n          updateTabbableNodes();\n        }\n\n        addListeners();\n\n        if (onPostActivate) {\n          onPostActivate();\n        }\n      };\n\n      if (checkCanFocusTrap) {\n        checkCanFocusTrap(state.containers.concat()).then(finishActivation, finishActivation);\n        return this;\n      }\n\n      finishActivation();\n      return this;\n    },\n    deactivate: function deactivate(deactivateOptions) {\n      if (!state.active) {\n        return this;\n      }\n\n      clearTimeout(state.delayInitialFocusTimer); // noop if undefined\n\n      state.delayInitialFocusTimer = undefined;\n      removeListeners();\n      state.active = false;\n      state.paused = false;\n      activeFocusTraps.deactivateTrap(trap);\n      var onDeactivate = getOption(deactivateOptions, 'onDeactivate');\n      var onPostDeactivate = getOption(deactivateOptions, 'onPostDeactivate');\n      var checkCanReturnFocus = getOption(deactivateOptions, 'checkCanReturnFocus');\n\n      if (onDeactivate) {\n        onDeactivate();\n      }\n\n      var returnFocus = getOption(deactivateOptions, 'returnFocus', 'returnFocusOnDeactivate');\n\n      var finishDeactivation = function finishDeactivation() {\n        delay(function () {\n          if (returnFocus) {\n            tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n          }\n\n          if (onPostDeactivate) {\n            onPostDeactivate();\n          }\n        });\n      };\n\n      if (returnFocus && checkCanReturnFocus) {\n        checkCanReturnFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation)).then(finishDeactivation, finishDeactivation);\n        return this;\n      }\n\n      finishDeactivation();\n      return this;\n    },\n    pause: function pause() {\n      if (state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = true;\n      removeListeners();\n      return this;\n    },\n    unpause: function unpause() {\n      if (!state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = false;\n      updateTabbableNodes();\n      addListeners();\n      return this;\n    },\n    updateContainerElements: function updateContainerElements(containerElements) {\n      var elementsAsArray = [].concat(containerElements).filter(Boolean);\n      state.containers = elementsAsArray.map(function (element) {\n        return typeof element === 'string' ? doc.querySelector(element) : element;\n      });\n\n      if (state.active) {\n        updateTabbableNodes();\n      }\n\n      return this;\n    }\n  }; // initialize container elements\n\n  trap.updateContainerElements(elements);\n  return trap;\n};\n\nexport { createFocusTrap };\n//# sourceMappingURL=focus-trap.esm.js.map\n","import { FocusableElement, tabbable } from 'tabbable';\n\ntype Container = Element | FocusableElement | null;\n\nconst firstTabbable = (container?: Container): FocusableElement | undefined => {\n  return (container ? tabbable(container, { includeContainer: true, getShadowRoot: true }) : []).shift();\n};\n\nexport default firstTabbable;\n","@import 'variables';\n@import 'mixins';\n\n$-min-width: 8rem;\n$-max-width: 16rem;\n$-min-height: 2rem;\n$-max-height: calc(100vh - 48px);\n\n:host {\n  display: contents;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.content {\n  padding-top: $cat-body-margin-bottom * 0.5;\n  padding-bottom: $cat-body-margin-bottom * 0.5;\n  position: absolute;\n  background: cat-token('color.ui.background.body');\n  display: none;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n  min-width: $-min-width;\n  max-width: $-max-width;\n  min-height: $-min-height;\n  max-height: $-max-height;\n  @include cat-elevation(1);\n  border-radius: cat-border-radius('m');\n  z-index: $cat-menu-z-index;\n}\n","import { autoUpdate, computePosition, flip, offset, Placement } from '@floating-ui/dom';\nimport { Component, Event, EventEmitter, h, Host, Listen, Prop } from '@stencil/core';\nimport * as focusTrap from 'focus-trap';\nimport { FocusableElement, tabbable } from 'tabbable';\nimport firstTabbable from '../../utils/first-tabbable';\n\nlet nextUniqueId = 0;\n\n@Component({\n  tag: 'cat-menu',\n  styleUrl: 'cat-menu.scss',\n  shadow: true\n})\nexport class CatMenu {\n  private static readonly OFFSET = 4;\n  private readonly id = nextUniqueId++;\n  private triggerSlot?: Element;\n  private trigger?: FocusableElement;\n  private content?: HTMLElement;\n  private trap?: focusTrap.FocusTrap;\n  private keyListener?: (event: KeyboardEvent) => void;\n\n  /**\n   * The placement of the menu.\n   */\n  @Prop() placement: Placement = 'bottom-start';\n\n  /**\n   * Emitted when the menu is opened.\n   */\n  @Event() catOpen!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the menu is closed.\n   */\n  @Event() catClose!: EventEmitter<FocusEvent>;\n\n  @Listen('catClick')\n  clickHandler(event: CustomEvent<MouseEvent>) {\n    // hide menu on button click\n    if (this.content && event.composedPath().includes(this.content)) {\n      this.trap?.deactivate();\n      this.hide();\n    }\n  }\n\n  componentDidLoad(): void {\n    this.trigger = firstTabbable(this.triggerSlot);\n    this.trigger?.setAttribute('aria-haspopup', 'true');\n    this.trigger?.setAttribute('aria-expanded', 'false');\n    this.trigger?.setAttribute('aria-controls', this.contentId);\n    this.content?.setAttribute('id', this.contentId);\n    if (this.trigger && this.content) {\n      this.trigger?.addEventListener('click', () => this.show());\n      autoUpdate(this.trigger, this.content, () => this.update());\n    }\n\n    this.keyListener = event => {\n      if (this.content && ['ArrowDown', 'ArrowUp'].includes(event.key)) {\n        const targetElements = tabbable(this.content, { includeContainer: false, getShadowRoot: true });\n        const activeElement = firstTabbable(document.activeElement);\n        const activeIdx = activeElement ? targetElements.indexOf(activeElement) : -1;\n        const activeOff = event.key === 'ArrowDown' ? 1 : -1;\n        const targetIdx = activeIdx < 0 ? 0 : (activeIdx + activeOff + targetElements.length) % targetElements.length;\n        targetElements[targetIdx].focus();\n        event.preventDefault();\n      }\n    };\n    document.addEventListener('keydown', this.keyListener);\n  }\n\n  disconnectedCallback(): void {\n    if (this.keyListener) {\n      document.removeEventListener('keydown', this.keyListener);\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <slot name=\"trigger\" ref={el => (this.triggerSlot = el)}></slot>\n        <div class=\"content\" ref={el => (this.content = el)}>\n          <slot name=\"content\"></slot>\n        </div>\n      </Host>\n    );\n  }\n\n  private get contentId() {\n    return `cat-menu-${this.id}`;\n  }\n\n  private show() {\n    if (this.content) {\n      this.content.style.display = 'block';\n      this.trigger?.setAttribute('aria-expanded', 'true');\n      this.catOpen.emit();\n      this.trap = this.trap\n        ? this.trap.updateContainerElements(this.content)\n        : focusTrap.createFocusTrap(this.content, {\n            tabbableOptions: {\n              getShadowRoot: true\n            },\n            allowOutsideClick: true,\n            clickOutsideDeactivates: event => !this.content || !event.composedPath().includes(this.content),\n            onPostDeactivate: () => this.hide()\n          });\n      this.trap.activate();\n    }\n  }\n\n  private hide() {\n    if (this.content) {\n      this.content.style.display = '';\n      this.trigger?.setAttribute('aria-expanded', 'false');\n      this.catClose.emit();\n    }\n  }\n\n  private update() {\n    if (this.trigger && this.content) {\n      computePosition(this.trigger, this.content, {\n        placement: this.placement,\n        middleware: [offset(CatMenu.OFFSET), flip()]\n      }).then(({ x, y }) => {\n        if (this.content) {\n          Object.assign(this.content.style, {\n            left: `${x}px`,\n            top: `${y}px`\n          });\n        }\n      });\n    }\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n:host {\n  display: block;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.modal-wrapper {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: rgb(cat-token('color.ui.background.modal.wrapper'), 60%);\n  z-index: 2;\n  display: flex;\n\n  &[aria-hidden='true'] {\n    display: none;\n  }\n}\n\n.modal {\n  margin: auto;\n  z-index: 2;\n  position: relative;\n  background-color: cat-token('color.ui.background.modal.body');\n  border-radius: cat-border-radius('l');\n  max-width: 100%;\n  padding: 32px;\n}\n\n.modal-header {\n  display: flex;\n  justify-content: end;\n  align-self: stretch;\n\n  .close-button::part(button) {\n    box-shadow: unset;\n  }\n}\n\n.modal-content {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  align-self: stretch;\n  margin: 16px 0;\n}\n\n@mixin size($size) {\n  .modal-#{$size} {\n    width: cat-token('size.modal.#{$size}');\n  }\n}\n\n@include size('s');\n@include size('m');\n@include size('l');\n","import { Component, Element, h, Method, Prop, State } from '@stencil/core';\nimport * as focusTrap from 'focus-trap';\nimport firstTabbable from '../../utils/first-tabbable';\n\n@Component({\n  tag: 'cat-modal',\n  styleUrl: 'cat-modal.scss',\n  shadow: true\n})\nexport class CatModal {\n  private trap?: focusTrap.FocusTrap;\n  private modal?: HTMLElement;\n  private closeButton?: HTMLElement;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() isVisible = false;\n\n  /**\n   * The size of the modal.\n   */\n  @Prop() size: 's' | 'm' | 'l' = 'm';\n\n  componentDidLoad(): void {\n    if (this.modal) {\n      this.trap = focusTrap.createFocusTrap(this.modal, {\n        tabbableOptions: {\n          getShadowRoot: true\n        },\n        initialFocus: firstTabbable(this.closeButton),\n        allowOutsideClick: true,\n        clickOutsideDeactivates: event => !this.modal || !event.composedPath().includes(this.modal),\n        onDeactivate: () => (this.isVisible = false),\n        setReturnFocus: previousActiveElement =>\n          previousActiveElement instanceof HTMLElement\n            ? (firstTabbable(previousActiveElement) as HTMLElement)\n            : previousActiveElement\n      });\n    }\n  }\n\n  componentDidUpdate(): void {\n    if (this.isVisible) this.trap?.activate();\n    this.updateAccessibility(this.hostElement);\n  }\n\n  /**\n   * Shows the modal.\n   */\n  @Method()\n  async show(): Promise<void> {\n    this.isVisible = true;\n  }\n\n  render() {\n    return (\n      <div aria-modal role=\"dialog\" aria-hidden={!this.isVisible ? 'true' : 'false'} class=\"modal-wrapper\">\n        <div ref={el => (this.modal = el)} class={{ modal: true, [`modal-${this.size}`]: Boolean(this.size) }}>\n          <div class=\"modal-header\">\n            <cat-button\n              ref={el => (this.closeButton = el)}\n              icon=\"cross-outlined\"\n              class=\"close-button\"\n              size=\"s\"\n              iconOnly\n              a11yLabel=\"close\"\n              onCatClick={this.onClick.bind(this)}\n            ></cat-button>\n          </div>\n          <div class=\"modal-content\">\n            <slot></slot>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  private onClick() {\n    this.trap?.deactivate();\n  }\n\n  private updateAccessibility(element: HTMLElement) {\n    if (element.parentElement) {\n      Array.from(element.parentElement.children).forEach(elementSibling => {\n        if (elementSibling !== element) {\n          this.isVisible\n            ? elementSibling.setAttribute('aria-hidden', 'true')\n            : elementSibling.removeAttribute('aria-hidden');\n        }\n      });\n\n      if (element.parentElement !== document.body) {\n        this.updateAccessibility(element.parentElement);\n      }\n    }\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nlabel {\n  display: flex;\n  gap: 0.5rem;\n  @include cat-body('m');\n  cursor: pointer;\n}\n\n.label-left {\n  flex-direction: row-reverse;\n}\n\n.radio {\n  display: flex;\n  position: relative;\n  align-self: flex-start;\n}\n\n.circle {\n  position: absolute;\n  width: 0.75rem;\n  height: 0.75rem;\n  background-color: cat-token('color.theme.primary.bg');\n  border-radius: 10rem;\n  top: calc(50% - 0.375rem);\n  left: calc(50% - 0.375rem);\n  visibility: hidden;\n  pointer-events: none;\n}\n\ninput {\n  margin: 0;\n  width: 1.25rem;\n  height: 1.25rem;\n  appearance: none;\n  background-color: cat-token('color.ui.background.input');\n  border: 1px solid cat-token('color.ui.border.input');\n  border-radius: 10rem;\n  cursor: inherit;\n\n  &:checked {\n    border-color: cat-token('color.theme.primary.bg');\n\n    + .circle {\n      visibility: visible;\n    }\n  }\n\n  &:focus-visible {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: 1px;\n  }\n}\n\n.label {\n  flex: 1 1 auto;\n\n  .is-hidden & {\n    @include cat-visually-hidden;\n  }\n}\n\n.is-disabled {\n  cursor: not-allowed;\n  color: cat-token('color.ui.font.muted');\n\n  input {\n    background-color: cat-token('color.ui.background.inputDisabled');\n\n    &:checked {\n      border-color: cat-token('color.ui.border.input');\n    }\n  }\n\n  .circle {\n    background-color: cat-token('color.ui.border.input');\n  }\n}\n","import { Component, Element, Event, EventEmitter, h, Host, Method, Prop, State } from '@stencil/core';\nimport log from 'loglevel';\nimport { CatFormHint } from '../cat-form-hint/cat-form-hint';\n\nlet nextUniqueId = 0;\n\n/**\n * Radio Buttons are graphical interface elements that allow user to choose\n * only one of a predefined set of mutually exclusive options.\n *\n * @slot hint - Optional hint element to be displayed with the radio.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part label - The label content.\n */\n@Component({\n  tag: 'cat-radio',\n  styleUrl: 'cat-radio.scss',\n  shadow: true\n})\nexport class CatRadio {\n  private readonly id = `cat-radio-${++nextUniqueId}`;\n  private input!: HTMLInputElement;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  /**\n   * Whether this radio is checked.\n   */\n  @Prop({ mutable: true }) checked = false;\n\n  /**\n   * Whether this radio is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * The label of the radio that is visible.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * The name of the radio component.\n   */\n  @Prop() name?: string;\n\n  /**\n   * Whether the radio is required.\n   */\n  @Prop() required = false;\n\n  /**\n   * The value of the radio component.\n   */\n  @Prop() value?: string;\n\n  /**\n   * Optional hint text(s) to be displayed with the radio.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * Whether the label should appear to the left of the radio component.\n   */\n  @Prop() labelLeft = false;\n\n  /**\n   * Emitted when the radio is changed.\n   */\n  @Event() catChange!: EventEmitter;\n\n  /**\n   * Emitted when the radio received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the radio loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillRender(): void {\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    if (!this.label && !this.hasSlottedLabel) {\n      log.error('[A11y] Missing ARIA label on radio', this);\n    }\n  }\n\n  /**\n   * Sets focus on the radio. Use this method instead of `radio.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async setFocus(options?: FocusOptions): Promise<void> {\n    this.input.focus(options);\n  }\n\n  render() {\n    return (\n      <Host>\n        <label\n          htmlFor={this.id}\n          class={{ 'is-hidden': this.labelHidden, 'is-disabled': this.disabled, 'label-left': this.labelLeft }}\n          role=\"radio\"\n          aria-checked={this.checked ? 'true' : 'false'}\n        >\n          <span class=\"radio\">\n            <input\n              ref={el => (this.input = el as HTMLInputElement)}\n              id={this.id}\n              type=\"radio\"\n              name={this.name}\n              value={this.value}\n              checked={this.checked}\n              required={this.required}\n              disabled={this.disabled}\n              onInput={this.onChange.bind(this)}\n              onFocus={this.onFocus.bind(this)}\n              onBlur={this.onBlur.bind(this)}\n            />\n            <span class=\"circle\"></span>\n          </span>\n          <span class=\"label\" part=\"label\">\n            {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n          </span>\n        </label>\n        {this.hintSection}\n      </Host>\n    );\n  }\n\n  private get hintSection() {\n    const hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n    return (\n      (this.hint || hasSlottedHint) && (\n        <CatFormHint hint={this.hint} slottedHint={hasSlottedHint && <slot name=\"hint\"></slot>} />\n      )\n    );\n  }\n\n  private onChange(event: Event) {\n    this.checked = true;\n    this.catChange.emit(event);\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n:host {\n  display: block;\n}\n\n:host([hidden]) {\n  display: none;\n}\n","import { Component, Element, Event, EventEmitter, h, Listen, Prop, Watch } from '@stencil/core';\n\n/**\n * A group of radio buttons.\n */\n@Component({\n  tag: 'cat-radio-group',\n  styleUrl: 'cat-radio-group.scss',\n  shadow: true\n})\nexport class CatRadioGroup {\n  private catRadioGroup: HTMLCatRadioElement[] = [];\n\n  @Element() hostElement!: HTMLElement;\n\n  /**\n   * The name of the radio group component.\n   */\n  @Prop() name?: string;\n\n  /**\n   * The value of the radio group.\n   */\n  @Prop({ mutable: true }) value?: string;\n\n  /**\n   * Whether this radio group is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Adds an accessible label for the radio group that\n   * it is only shown in assistive technologies, like screen readers.\n   */\n  @Prop({ attribute: 'a11y-label' }) a11yLabel?: string;\n\n  /**\n   * Whether the label of the radios should appear to the left of them.\n   */\n  @Prop() labelLeft = false;\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter;\n\n  /**\n   * Emitted when the radio group loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  @Watch('name')\n  onNameChanged(newName?: string) {\n    this.catRadioGroup.forEach(catRadio => {\n      catRadio.name = newName;\n    });\n  }\n\n  @Watch('value')\n  onValueChanged(newValue?: string) {\n    this.catRadioGroup.forEach(catRadio => {\n      catRadio.checked = catRadio.value === newValue;\n    });\n    this.updateTabIndex();\n  }\n\n  @Watch('disabled')\n  onDisabledChanged(disabled: boolean) {\n    this.catRadioGroup.forEach(catRadio => {\n      if (disabled) {\n        catRadio.disabled = disabled;\n      }\n    });\n  }\n\n  @Watch('labelLeft')\n  onLabelLeftChanged(labelLeft: boolean) {\n    this.catRadioGroup.forEach(catRadio => {\n      if (labelLeft) {\n        catRadio.labelLeft = labelLeft;\n      }\n    });\n  }\n\n  componentDidLoad(): void {\n    this.catRadioGroup = Array.from(this.hostElement.querySelectorAll(`cat-radio`));\n    this.onNameChanged(this.name);\n    this.onValueChanged(this.value);\n    this.onDisabledChanged(this.disabled);\n    this.onLabelLeftChanged(this.labelLeft);\n  }\n\n  @Listen('keydown')\n  onKeydown(event: KeyboardEvent): void {\n    if (['ArrowDown', 'ArrowUp', 'ArrowRight', 'ArrowLeft'].includes(event.key) && this.catRadioGroup.length) {\n      const targetElements = this.catRadioGroup.filter(catRadio => !catRadio.disabled);\n      const activeElement = document.activeElement as HTMLCatRadioElement;\n      const activeIdx = this.catRadioGroup.findIndex(catRadio => catRadio === activeElement);\n      const activeOff = ['ArrowDown', 'ArrowRight'].includes(event.key) ? 1 : -1;\n      const targetIdx = activeIdx < 0 ? 0 : (activeIdx + activeOff + targetElements.length) % targetElements.length;\n      targetElements[targetIdx].setFocus();\n      targetElements[targetIdx].shadowRoot?.querySelector('input')?.click();\n      this.updateTabIndex();\n      event.preventDefault();\n    }\n  }\n\n  @Listen('input')\n  onInput(event: MouseEvent): void {\n    const catRadioElement = this.catRadioGroup.find(value => value === event.target);\n    this.value = catRadioElement?.value;\n    this.catChange.emit();\n  }\n\n  @Listen('blur', { capture: true })\n  onBlur(event: FocusEvent): void {\n    if (!event.relatedTarget) {\n      this.catBlur.emit(event);\n    }\n  }\n\n  render() {\n    return (\n      <div role=\"radiogroup\" aria-label={this.a11yLabel}>\n        <slot></slot>\n      </div>\n    );\n  }\n\n  private updateTabIndex() {\n    if (this.catRadioGroup.length) {\n      this.catRadioGroup.forEach(value => value.shadowRoot?.querySelector('input')?.setAttribute('tabindex', '-1'));\n      const checkedRadioIndex = this.catRadioGroup.findIndex(value => value.checked);\n      this.catRadioGroup[checkedRadioIndex >= 0 ? checkedRadioIndex : 0].shadowRoot\n        ?.querySelector('input')\n        ?.setAttribute('tabindex', '0');\n    }\n  }\n}\n","export function isFunction(value) {\n    return typeof value === 'function';\n}\n//# sourceMappingURL=isFunction.js.map","export function createErrorClass(createImpl) {\n    const _super = (instance) => {\n        Error.call(instance);\n        instance.stack = new Error().stack;\n    };\n    const ctorFunc = createImpl(_super);\n    ctorFunc.prototype = Object.create(Error.prototype);\n    ctorFunc.prototype.constructor = ctorFunc;\n    return ctorFunc;\n}\n//# sourceMappingURL=createErrorClass.js.map","import { createErrorClass } from './createErrorClass';\nexport const UnsubscriptionError = createErrorClass((_super) => function UnsubscriptionErrorImpl(errors) {\n    _super(this);\n    this.message = errors\n        ? `${errors.length} errors occurred during unsubscription:\n${errors.map((err, i) => `${i + 1}) ${err.toString()}`).join('\\n  ')}`\n        : '';\n    this.name = 'UnsubscriptionError';\n    this.errors = errors;\n});\n//# sourceMappingURL=UnsubscriptionError.js.map","export function arrRemove(arr, item) {\n    if (arr) {\n        const index = arr.indexOf(item);\n        0 <= index && arr.splice(index, 1);\n    }\n}\n//# sourceMappingURL=arrRemove.js.map","import { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { arrRemove } from './util/arrRemove';\nexport class Subscription {\n    constructor(initialTeardown) {\n        this.initialTeardown = initialTeardown;\n        this.closed = false;\n        this._parentage = null;\n        this._finalizers = null;\n    }\n    unsubscribe() {\n        let errors;\n        if (!this.closed) {\n            this.closed = true;\n            const { _parentage } = this;\n            if (_parentage) {\n                this._parentage = null;\n                if (Array.isArray(_parentage)) {\n                    for (const parent of _parentage) {\n                        parent.remove(this);\n                    }\n                }\n                else {\n                    _parentage.remove(this);\n                }\n            }\n            const { initialTeardown: initialFinalizer } = this;\n            if (isFunction(initialFinalizer)) {\n                try {\n                    initialFinalizer();\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? e.errors : [e];\n                }\n            }\n            const { _finalizers } = this;\n            if (_finalizers) {\n                this._finalizers = null;\n                for (const finalizer of _finalizers) {\n                    try {\n                        execFinalizer(finalizer);\n                    }\n                    catch (err) {\n                        errors = errors !== null && errors !== void 0 ? errors : [];\n                        if (err instanceof UnsubscriptionError) {\n                            errors = [...errors, ...err.errors];\n                        }\n                        else {\n                            errors.push(err);\n                        }\n                    }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        }\n    }\n    add(teardown) {\n        var _a;\n        if (teardown && teardown !== this) {\n            if (this.closed) {\n                execFinalizer(teardown);\n            }\n            else {\n                if (teardown instanceof Subscription) {\n                    if (teardown.closed || teardown._hasParent(this)) {\n                        return;\n                    }\n                    teardown._addParent(this);\n                }\n                (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);\n            }\n        }\n    }\n    _hasParent(parent) {\n        const { _parentage } = this;\n        return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n    }\n    _addParent(parent) {\n        const { _parentage } = this;\n        this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    }\n    _removeParent(parent) {\n        const { _parentage } = this;\n        if (_parentage === parent) {\n            this._parentage = null;\n        }\n        else if (Array.isArray(_parentage)) {\n            arrRemove(_parentage, parent);\n        }\n    }\n    remove(teardown) {\n        const { _finalizers } = this;\n        _finalizers && arrRemove(_finalizers, teardown);\n        if (teardown instanceof Subscription) {\n            teardown._removeParent(this);\n        }\n    }\n}\nSubscription.EMPTY = (() => {\n    const empty = new Subscription();\n    empty.closed = true;\n    return empty;\n})();\nexport const EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nexport function isSubscription(value) {\n    return (value instanceof Subscription ||\n        (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe)));\n}\nfunction execFinalizer(finalizer) {\n    if (isFunction(finalizer)) {\n        finalizer();\n    }\n    else {\n        finalizer.unsubscribe();\n    }\n}\n//# sourceMappingURL=Subscription.js.map","export const config = {\n    onUnhandledError: null,\n    onStoppedNotification: null,\n    Promise: undefined,\n    useDeprecatedSynchronousErrorHandling: false,\n    useDeprecatedNextContext: false,\n};\n//# sourceMappingURL=config.js.map","export const timeoutProvider = {\n    setTimeout(handler, timeout, ...args) {\n        const { delegate } = timeoutProvider;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) {\n            return delegate.setTimeout(handler, timeout, ...args);\n        }\n        return setTimeout(handler, timeout, ...args);\n    },\n    clearTimeout(handle) {\n        const { delegate } = timeoutProvider;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=timeoutProvider.js.map","import { config } from '../config';\nimport { timeoutProvider } from '../scheduler/timeoutProvider';\nexport function reportUnhandledError(err) {\n    timeoutProvider.setTimeout(() => {\n        const { onUnhandledError } = config;\n        if (onUnhandledError) {\n            onUnhandledError(err);\n        }\n        else {\n            throw err;\n        }\n    });\n}\n//# sourceMappingURL=reportUnhandledError.js.map","export function noop() { }\n//# sourceMappingURL=noop.js.map","export const COMPLETE_NOTIFICATION = (() => createNotification('C', undefined, undefined))();\nexport function errorNotification(error) {\n    return createNotification('E', undefined, error);\n}\nexport function nextNotification(value) {\n    return createNotification('N', value, undefined);\n}\nexport function createNotification(kind, value, error) {\n    return {\n        kind,\n        value,\n        error,\n    };\n}\n//# sourceMappingURL=NotificationFactories.js.map","import { config } from '../config';\nlet context = null;\nexport function errorContext(cb) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        const isRoot = !context;\n        if (isRoot) {\n            context = { errorThrown: false, error: null };\n        }\n        cb();\n        if (isRoot) {\n            const { errorThrown, error } = context;\n            context = null;\n            if (errorThrown) {\n                throw error;\n            }\n        }\n    }\n    else {\n        cb();\n    }\n}\nexport function captureError(err) {\n    if (config.useDeprecatedSynchronousErrorHandling && context) {\n        context.errorThrown = true;\n        context.error = err;\n    }\n}\n//# sourceMappingURL=errorContext.js.map","import { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nimport { captureError } from './util/errorContext';\nexport class Subscriber extends Subscription {\n    constructor(destination) {\n        super();\n        this.isStopped = false;\n        if (destination) {\n            this.destination = destination;\n            if (isSubscription(destination)) {\n                destination.add(this);\n            }\n        }\n        else {\n            this.destination = EMPTY_OBSERVER;\n        }\n    }\n    static create(next, error, complete) {\n        return new SafeSubscriber(next, error, complete);\n    }\n    next(value) {\n        if (this.isStopped) {\n            handleStoppedNotification(nextNotification(value), this);\n        }\n        else {\n            this._next(value);\n        }\n    }\n    error(err) {\n        if (this.isStopped) {\n            handleStoppedNotification(errorNotification(err), this);\n        }\n        else {\n            this.isStopped = true;\n            this._error(err);\n        }\n    }\n    complete() {\n        if (this.isStopped) {\n            handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n        }\n        else {\n            this.isStopped = true;\n            this._complete();\n        }\n    }\n    unsubscribe() {\n        if (!this.closed) {\n            this.isStopped = true;\n            super.unsubscribe();\n            this.destination = null;\n        }\n    }\n    _next(value) {\n        this.destination.next(value);\n    }\n    _error(err) {\n        try {\n            this.destination.error(err);\n        }\n        finally {\n            this.unsubscribe();\n        }\n    }\n    _complete() {\n        try {\n            this.destination.complete();\n        }\n        finally {\n            this.unsubscribe();\n        }\n    }\n}\nconst _bind = Function.prototype.bind;\nfunction bind(fn, thisArg) {\n    return _bind.call(fn, thisArg);\n}\nclass ConsumerObserver {\n    constructor(partialObserver) {\n        this.partialObserver = partialObserver;\n    }\n    next(value) {\n        const { partialObserver } = this;\n        if (partialObserver.next) {\n            try {\n                partialObserver.next(value);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    }\n    error(err) {\n        const { partialObserver } = this;\n        if (partialObserver.error) {\n            try {\n                partialObserver.error(err);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n        else {\n            handleUnhandledError(err);\n        }\n    }\n    complete() {\n        const { partialObserver } = this;\n        if (partialObserver.complete) {\n            try {\n                partialObserver.complete();\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    }\n}\nexport class SafeSubscriber extends Subscriber {\n    constructor(observerOrNext, error, complete) {\n        super();\n        let partialObserver;\n        if (isFunction(observerOrNext) || !observerOrNext) {\n            partialObserver = {\n                next: observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : undefined,\n                error: error !== null && error !== void 0 ? error : undefined,\n                complete: complete !== null && complete !== void 0 ? complete : undefined,\n            };\n        }\n        else {\n            let context;\n            if (this && config.useDeprecatedNextContext) {\n                context = Object.create(observerOrNext);\n                context.unsubscribe = () => this.unsubscribe();\n                partialObserver = {\n                    next: observerOrNext.next && bind(observerOrNext.next, context),\n                    error: observerOrNext.error && bind(observerOrNext.error, context),\n                    complete: observerOrNext.complete && bind(observerOrNext.complete, context),\n                };\n            }\n            else {\n                partialObserver = observerOrNext;\n            }\n        }\n        this.destination = new ConsumerObserver(partialObserver);\n    }\n}\nfunction handleUnhandledError(error) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        captureError(error);\n    }\n    else {\n        reportUnhandledError(error);\n    }\n}\nfunction defaultErrorHandler(err) {\n    throw err;\n}\nfunction handleStoppedNotification(notification, subscriber) {\n    const { onStoppedNotification } = config;\n    onStoppedNotification && timeoutProvider.setTimeout(() => onStoppedNotification(notification, subscriber));\n}\nexport const EMPTY_OBSERVER = {\n    closed: true,\n    next: noop,\n    error: defaultErrorHandler,\n    complete: noop,\n};\n//# sourceMappingURL=Subscriber.js.map","export const observable = (() => (typeof Symbol === 'function' && Symbol.observable) || '@@observable')();\n//# sourceMappingURL=observable.js.map","export function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map","import { identity } from './identity';\nexport function pipe(...fns) {\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce((prev, fn) => fn(prev), input);\n    };\n}\n//# sourceMappingURL=pipe.js.map","import { SafeSubscriber, Subscriber } from './Subscriber';\nimport { isSubscription } from './Subscription';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nimport { isFunction } from './util/isFunction';\nimport { errorContext } from './util/errorContext';\nexport class Observable {\n    constructor(subscribe) {\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    lift(operator) {\n        const observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    }\n    subscribe(observerOrNext, error, complete) {\n        const subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n        errorContext(() => {\n            const { operator, source } = this;\n            subscriber.add(operator\n                ?\n                    operator.call(subscriber, source)\n                : source\n                    ?\n                        this._subscribe(subscriber)\n                    :\n                        this._trySubscribe(subscriber));\n        });\n        return subscriber;\n    }\n    _trySubscribe(sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.error(err);\n        }\n    }\n    forEach(next, promiseCtor) {\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor((resolve, reject) => {\n            const subscriber = new SafeSubscriber({\n                next: (value) => {\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscriber.unsubscribe();\n                    }\n                },\n                error: reject,\n                complete: resolve,\n            });\n            this.subscribe(subscriber);\n        });\n    }\n    _subscribe(subscriber) {\n        var _a;\n        return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);\n    }\n    [Symbol_observable]() {\n        return this;\n    }\n    pipe(...operations) {\n        return pipeFromArray(operations)(this);\n    }\n    toPromise(promiseCtor) {\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor((resolve, reject) => {\n            let value;\n            this.subscribe((x) => (value = x), (err) => reject(err), () => resolve(value));\n        });\n    }\n}\nObservable.create = (subscribe) => {\n    return new Observable(subscribe);\n};\nfunction getPromiseCtor(promiseCtor) {\n    var _a;\n    return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;\n}\nfunction isObserver(value) {\n    return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\nfunction isSubscriber(value) {\n    return (value && value instanceof Subscriber) || (isObserver(value) && isSubscription(value));\n}\n//# sourceMappingURL=Observable.js.map","import { isFunction } from './isFunction';\nexport function hasLift(source) {\n    return isFunction(source === null || source === void 0 ? void 0 : source.lift);\n}\nexport function operate(init) {\n    return (source) => {\n        if (hasLift(source)) {\n            return source.lift(function (liftedSource) {\n                try {\n                    return init(liftedSource, this);\n                }\n                catch (err) {\n                    this.error(err);\n                }\n            });\n        }\n        throw new TypeError('Unable to lift unknown Observable type');\n    };\n}\n//# sourceMappingURL=lift.js.map","import { Subscriber } from '../Subscriber';\nexport function createOperatorSubscriber(destination, onNext, onComplete, onError, onFinalize) {\n    return new OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize);\n}\nexport class OperatorSubscriber extends Subscriber {\n    constructor(destination, onNext, onComplete, onError, onFinalize, shouldUnsubscribe) {\n        super(destination);\n        this.onFinalize = onFinalize;\n        this.shouldUnsubscribe = shouldUnsubscribe;\n        this._next = onNext\n            ? function (value) {\n                try {\n                    onNext(value);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n            }\n            : super._next;\n        this._error = onError\n            ? function (err) {\n                try {\n                    onError(err);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : super._error;\n        this._complete = onComplete\n            ? function () {\n                try {\n                    onComplete();\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : super._complete;\n    }\n    unsubscribe() {\n        var _a;\n        if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {\n            const { closed } = this;\n            super.unsubscribe();\n            !closed && ((_a = this.onFinalize) === null || _a === void 0 ? void 0 : _a.call(this));\n        }\n    }\n}\n//# sourceMappingURL=OperatorSubscriber.js.map","import { createErrorClass } from './createErrorClass';\nexport const ObjectUnsubscribedError = createErrorClass((_super) => function ObjectUnsubscribedErrorImpl() {\n    _super(this);\n    this.name = 'ObjectUnsubscribedError';\n    this.message = 'object unsubscribed';\n});\n//# sourceMappingURL=ObjectUnsubscribedError.js.map","import { Observable } from './Observable';\nimport { Subscription, EMPTY_SUBSCRIPTION } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { arrRemove } from './util/arrRemove';\nimport { errorContext } from './util/errorContext';\nexport class Subject extends Observable {\n    constructor() {\n        super();\n        this.closed = false;\n        this.currentObservers = null;\n        this.observers = [];\n        this.isStopped = false;\n        this.hasError = false;\n        this.thrownError = null;\n    }\n    lift(operator) {\n        const subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    }\n    _throwIfClosed() {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n    }\n    next(value) {\n        errorContext(() => {\n            this._throwIfClosed();\n            if (!this.isStopped) {\n                if (!this.currentObservers) {\n                    this.currentObservers = Array.from(this.observers);\n                }\n                for (const observer of this.currentObservers) {\n                    observer.next(value);\n                }\n            }\n        });\n    }\n    error(err) {\n        errorContext(() => {\n            this._throwIfClosed();\n            if (!this.isStopped) {\n                this.hasError = this.isStopped = true;\n                this.thrownError = err;\n                const { observers } = this;\n                while (observers.length) {\n                    observers.shift().error(err);\n                }\n            }\n        });\n    }\n    complete() {\n        errorContext(() => {\n            this._throwIfClosed();\n            if (!this.isStopped) {\n                this.isStopped = true;\n                const { observers } = this;\n                while (observers.length) {\n                    observers.shift().complete();\n                }\n            }\n        });\n    }\n    unsubscribe() {\n        this.isStopped = this.closed = true;\n        this.observers = this.currentObservers = null;\n    }\n    get observed() {\n        var _a;\n        return ((_a = this.observers) === null || _a === void 0 ? void 0 : _a.length) > 0;\n    }\n    _trySubscribe(subscriber) {\n        this._throwIfClosed();\n        return super._trySubscribe(subscriber);\n    }\n    _subscribe(subscriber) {\n        this._throwIfClosed();\n        this._checkFinalizedStatuses(subscriber);\n        return this._innerSubscribe(subscriber);\n    }\n    _innerSubscribe(subscriber) {\n        const { hasError, isStopped, observers } = this;\n        if (hasError || isStopped) {\n            return EMPTY_SUBSCRIPTION;\n        }\n        this.currentObservers = null;\n        observers.push(subscriber);\n        return new Subscription(() => {\n            this.currentObservers = null;\n            arrRemove(observers, subscriber);\n        });\n    }\n    _checkFinalizedStatuses(subscriber) {\n        const { hasError, thrownError, isStopped } = this;\n        if (hasError) {\n            subscriber.error(thrownError);\n        }\n        else if (isStopped) {\n            subscriber.complete();\n        }\n    }\n    asObservable() {\n        const observable = new Observable();\n        observable.source = this;\n        return observable;\n    }\n}\nSubject.create = (destination, source) => {\n    return new AnonymousSubject(destination, source);\n};\nexport class AnonymousSubject extends Subject {\n    constructor(destination, source) {\n        super();\n        this.destination = destination;\n        this.source = source;\n    }\n    next(value) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.next) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n    }\n    error(err) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n    }\n    complete() {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.complete) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    _subscribe(subscriber) {\n        var _a, _b;\n        return (_b = (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber)) !== null && _b !== void 0 ? _b : EMPTY_SUBSCRIPTION;\n    }\n}\n//# sourceMappingURL=Subject.js.map","import { Observable } from '../Observable';\nexport const EMPTY = new Observable((subscriber) => subscriber.complete());\nexport function empty(scheduler) {\n    return scheduler ? emptyScheduled(scheduler) : EMPTY;\n}\nfunction emptyScheduled(scheduler) {\n    return new Observable((subscriber) => scheduler.schedule(() => subscriber.complete()));\n}\n//# sourceMappingURL=empty.js.map","import { isFunction } from './isFunction';\nexport function isScheduler(value) {\n    return value && isFunction(value.schedule);\n}\n//# sourceMappingURL=isScheduler.js.map","import { isFunction } from './isFunction';\nimport { isScheduler } from './isScheduler';\nfunction last(arr) {\n    return arr[arr.length - 1];\n}\nexport function popResultSelector(args) {\n    return isFunction(last(args)) ? args.pop() : undefined;\n}\nexport function popScheduler(args) {\n    return isScheduler(last(args)) ? args.pop() : undefined;\n}\nexport function popNumber(args, defaultValue) {\n    return typeof last(args) === 'number' ? args.pop() : defaultValue;\n}\n//# sourceMappingURL=args.js.map","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","export const isArrayLike = ((x) => x && typeof x.length === 'number' && typeof x !== 'function');\n//# sourceMappingURL=isArrayLike.js.map","import { isFunction } from \"./isFunction\";\nexport function isPromise(value) {\n    return isFunction(value === null || value === void 0 ? void 0 : value.then);\n}\n//# sourceMappingURL=isPromise.js.map","import { observable as Symbol_observable } from '../symbol/observable';\nimport { isFunction } from './isFunction';\nexport function isInteropObservable(input) {\n    return isFunction(input[Symbol_observable]);\n}\n//# sourceMappingURL=isInteropObservable.js.map","import { isFunction } from './isFunction';\nexport function isAsyncIterable(obj) {\n    return Symbol.asyncIterator && isFunction(obj === null || obj === void 0 ? void 0 : obj[Symbol.asyncIterator]);\n}\n//# sourceMappingURL=isAsyncIterable.js.map","export function createInvalidObservableTypeError(input) {\n    return new TypeError(`You provided ${input !== null && typeof input === 'object' ? 'an invalid object' : `'${input}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`);\n}\n//# sourceMappingURL=throwUnobservableError.js.map","export function getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nexport const iterator = getSymbolIterator();\n//# sourceMappingURL=iterator.js.map","import { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from './isFunction';\nexport function isIterable(input) {\n    return isFunction(input === null || input === void 0 ? void 0 : input[Symbol_iterator]);\n}\n//# sourceMappingURL=isIterable.js.map","import { __asyncGenerator, __await } from \"tslib\";\nimport { isFunction } from './isFunction';\nexport function readableStreamLikeToAsyncGenerator(readableStream) {\n    return __asyncGenerator(this, arguments, function* readableStreamLikeToAsyncGenerator_1() {\n        const reader = readableStream.getReader();\n        try {\n            while (true) {\n                const { value, done } = yield __await(reader.read());\n                if (done) {\n                    return yield __await(void 0);\n                }\n                yield yield __await(value);\n            }\n        }\n        finally {\n            reader.releaseLock();\n        }\n    });\n}\nexport function isReadableStreamLike(obj) {\n    return isFunction(obj === null || obj === void 0 ? void 0 : obj.getReader);\n}\n//# sourceMappingURL=isReadableStreamLike.js.map","import { __asyncValues, __awaiter } from \"tslib\";\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isPromise } from '../util/isPromise';\nimport { Observable } from '../Observable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nimport { isIterable } from '../util/isIterable';\nimport { isReadableStreamLike, readableStreamLikeToAsyncGenerator } from '../util/isReadableStreamLike';\nimport { isFunction } from '../util/isFunction';\nimport { reportUnhandledError } from '../util/reportUnhandledError';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function innerFrom(input) {\n    if (input instanceof Observable) {\n        return input;\n    }\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return fromInteropObservable(input);\n        }\n        if (isArrayLike(input)) {\n            return fromArrayLike(input);\n        }\n        if (isPromise(input)) {\n            return fromPromise(input);\n        }\n        if (isAsyncIterable(input)) {\n            return fromAsyncIterable(input);\n        }\n        if (isIterable(input)) {\n            return fromIterable(input);\n        }\n        if (isReadableStreamLike(input)) {\n            return fromReadableStreamLike(input);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\nexport function fromInteropObservable(obj) {\n    return new Observable((subscriber) => {\n        const obs = obj[Symbol_observable]();\n        if (isFunction(obs.subscribe)) {\n            return obs.subscribe(subscriber);\n        }\n        throw new TypeError('Provided object does not correctly implement Symbol.observable');\n    });\n}\nexport function fromArrayLike(array) {\n    return new Observable((subscriber) => {\n        for (let i = 0; i < array.length && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        subscriber.complete();\n    });\n}\nexport function fromPromise(promise) {\n    return new Observable((subscriber) => {\n        promise\n            .then((value) => {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, (err) => subscriber.error(err))\n            .then(null, reportUnhandledError);\n    });\n}\nexport function fromIterable(iterable) {\n    return new Observable((subscriber) => {\n        for (const value of iterable) {\n            subscriber.next(value);\n            if (subscriber.closed) {\n                return;\n            }\n        }\n        subscriber.complete();\n    });\n}\nexport function fromAsyncIterable(asyncIterable) {\n    return new Observable((subscriber) => {\n        process(asyncIterable, subscriber).catch((err) => subscriber.error(err));\n    });\n}\nexport function fromReadableStreamLike(readableStream) {\n    return fromAsyncIterable(readableStreamLikeToAsyncGenerator(readableStream));\n}\nfunction process(asyncIterable, subscriber) {\n    var asyncIterable_1, asyncIterable_1_1;\n    var e_1, _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            for (asyncIterable_1 = __asyncValues(asyncIterable); asyncIterable_1_1 = yield asyncIterable_1.next(), !asyncIterable_1_1.done;) {\n                const value = asyncIterable_1_1.value;\n                subscriber.next(value);\n                if (subscriber.closed) {\n                    return;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (asyncIterable_1_1 && !asyncIterable_1_1.done && (_a = asyncIterable_1.return)) yield _a.call(asyncIterable_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        subscriber.complete();\n    });\n}\n//# sourceMappingURL=innerFrom.js.map","export function executeSchedule(parentSubscription, scheduler, work, delay = 0, repeat = false) {\n    const scheduleSubscription = scheduler.schedule(function () {\n        work();\n        if (repeat) {\n            parentSubscription.add(this.schedule(null, delay));\n        }\n        else {\n            this.unsubscribe();\n        }\n    }, delay);\n    parentSubscription.add(scheduleSubscription);\n    if (!repeat) {\n        return scheduleSubscription;\n    }\n}\n//# sourceMappingURL=executeSchedule.js.map","import { executeSchedule } from '../util/executeSchedule';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function observeOn(scheduler, delay = 0) {\n    return operate((source, subscriber) => {\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => executeSchedule(subscriber, scheduler, () => subscriber.next(value), delay), () => executeSchedule(subscriber, scheduler, () => subscriber.complete(), delay), (err) => executeSchedule(subscriber, scheduler, () => subscriber.error(err), delay)));\n    });\n}\n//# sourceMappingURL=observeOn.js.map","import { operate } from '../util/lift';\nexport function subscribeOn(scheduler, delay = 0) {\n    return operate((source, subscriber) => {\n        subscriber.add(scheduler.schedule(() => source.subscribe(subscriber), delay));\n    });\n}\n//# sourceMappingURL=subscribeOn.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { observeOn } from '../operators/observeOn';\nimport { subscribeOn } from '../operators/subscribeOn';\nexport function scheduleObservable(input, scheduler) {\n    return innerFrom(input).pipe(subscribeOn(scheduler), observeOn(scheduler));\n}\n//# sourceMappingURL=scheduleObservable.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { observeOn } from '../operators/observeOn';\nimport { subscribeOn } from '../operators/subscribeOn';\nexport function schedulePromise(input, scheduler) {\n    return innerFrom(input).pipe(subscribeOn(scheduler), observeOn(scheduler));\n}\n//# sourceMappingURL=schedulePromise.js.map","import { Observable } from '../Observable';\nexport function scheduleArray(input, scheduler) {\n    return new Observable((subscriber) => {\n        let i = 0;\n        return scheduler.schedule(function () {\n            if (i === input.length) {\n                subscriber.complete();\n            }\n            else {\n                subscriber.next(input[i++]);\n                if (!subscriber.closed) {\n                    this.schedule();\n                }\n            }\n        });\n    });\n}\n//# sourceMappingURL=scheduleArray.js.map","import { Observable } from '../Observable';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from '../util/isFunction';\nimport { executeSchedule } from '../util/executeSchedule';\nexport function scheduleIterable(input, scheduler) {\n    return new Observable((subscriber) => {\n        let iterator;\n        executeSchedule(subscriber, scheduler, () => {\n            iterator = input[Symbol_iterator]();\n            executeSchedule(subscriber, scheduler, () => {\n                let value;\n                let done;\n                try {\n                    ({ value, done } = iterator.next());\n                }\n                catch (err) {\n                    subscriber.error(err);\n                    return;\n                }\n                if (done) {\n                    subscriber.complete();\n                }\n                else {\n                    subscriber.next(value);\n                }\n            }, 0, true);\n        });\n        return () => isFunction(iterator === null || iterator === void 0 ? void 0 : iterator.return) && iterator.return();\n    });\n}\n//# sourceMappingURL=scheduleIterable.js.map","import { Observable } from '../Observable';\nimport { executeSchedule } from '../util/executeSchedule';\nexport function scheduleAsyncIterable(input, scheduler) {\n    if (!input) {\n        throw new Error('Iterable cannot be null');\n    }\n    return new Observable((subscriber) => {\n        executeSchedule(subscriber, scheduler, () => {\n            const iterator = input[Symbol.asyncIterator]();\n            executeSchedule(subscriber, scheduler, () => {\n                iterator.next().then((result) => {\n                    if (result.done) {\n                        subscriber.complete();\n                    }\n                    else {\n                        subscriber.next(result.value);\n                    }\n                });\n            }, 0, true);\n        });\n    });\n}\n//# sourceMappingURL=scheduleAsyncIterable.js.map","import { scheduleAsyncIterable } from './scheduleAsyncIterable';\nimport { readableStreamLikeToAsyncGenerator } from '../util/isReadableStreamLike';\nexport function scheduleReadableStreamLike(input, scheduler) {\n    return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(input), scheduler);\n}\n//# sourceMappingURL=scheduleReadableStreamLike.js.map","import { scheduleObservable } from './scheduleObservable';\nimport { schedulePromise } from './schedulePromise';\nimport { scheduleArray } from './scheduleArray';\nimport { scheduleIterable } from './scheduleIterable';\nimport { scheduleAsyncIterable } from './scheduleAsyncIterable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isPromise } from '../util/isPromise';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isIterable } from '../util/isIterable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nimport { isReadableStreamLike } from '../util/isReadableStreamLike';\nimport { scheduleReadableStreamLike } from './scheduleReadableStreamLike';\nexport function scheduled(input, scheduler) {\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return scheduleObservable(input, scheduler);\n        }\n        if (isArrayLike(input)) {\n            return scheduleArray(input, scheduler);\n        }\n        if (isPromise(input)) {\n            return schedulePromise(input, scheduler);\n        }\n        if (isAsyncIterable(input)) {\n            return scheduleAsyncIterable(input, scheduler);\n        }\n        if (isIterable(input)) {\n            return scheduleIterable(input, scheduler);\n        }\n        if (isReadableStreamLike(input)) {\n            return scheduleReadableStreamLike(input, scheduler);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\n//# sourceMappingURL=scheduled.js.map","import { scheduled } from '../scheduled/scheduled';\nimport { innerFrom } from './innerFrom';\nexport function from(input, scheduler) {\n    return scheduler ? scheduled(input, scheduler) : innerFrom(input);\n}\n//# sourceMappingURL=from.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function map(project, thisArg) {\n    return operate((source, subscriber) => {\n        let index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            subscriber.next(project.call(thisArg, value, index++));\n        }));\n    });\n}\n//# sourceMappingURL=map.js.map","import { map } from \"../operators/map\";\nconst { isArray } = Array;\nfunction callOrApply(fn, args) {\n    return isArray(args) ? fn(...args) : fn(args);\n}\nexport function mapOneOrManyArgs(fn) {\n    return map(args => callOrApply(fn, args));\n}\n//# sourceMappingURL=mapOneOrManyArgs.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { executeSchedule } from '../util/executeSchedule';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function mergeInternals(source, subscriber, project, concurrent, onBeforeNext, expand, innerSubScheduler, additionalFinalizer) {\n    const buffer = [];\n    let active = 0;\n    let index = 0;\n    let isComplete = false;\n    const checkComplete = () => {\n        if (isComplete && !buffer.length && !active) {\n            subscriber.complete();\n        }\n    };\n    const outerNext = (value) => (active < concurrent ? doInnerSub(value) : buffer.push(value));\n    const doInnerSub = (value) => {\n        expand && subscriber.next(value);\n        active++;\n        let innerComplete = false;\n        innerFrom(project(value, index++)).subscribe(createOperatorSubscriber(subscriber, (innerValue) => {\n            onBeforeNext === null || onBeforeNext === void 0 ? void 0 : onBeforeNext(innerValue);\n            if (expand) {\n                outerNext(innerValue);\n            }\n            else {\n                subscriber.next(innerValue);\n            }\n        }, () => {\n            innerComplete = true;\n        }, undefined, () => {\n            if (innerComplete) {\n                try {\n                    active--;\n                    while (buffer.length && active < concurrent) {\n                        const bufferedValue = buffer.shift();\n                        if (innerSubScheduler) {\n                            executeSchedule(subscriber, innerSubScheduler, () => doInnerSub(bufferedValue));\n                        }\n                        else {\n                            doInnerSub(bufferedValue);\n                        }\n                    }\n                    checkComplete();\n                }\n                catch (err) {\n                    subscriber.error(err);\n                }\n            }\n        }));\n    };\n    source.subscribe(createOperatorSubscriber(subscriber, outerNext, () => {\n        isComplete = true;\n        checkComplete();\n    }));\n    return () => {\n        additionalFinalizer === null || additionalFinalizer === void 0 ? void 0 : additionalFinalizer();\n    };\n}\n//# sourceMappingURL=mergeInternals.js.map","import { map } from './map';\nimport { innerFrom } from '../observable/innerFrom';\nimport { operate } from '../util/lift';\nimport { mergeInternals } from './mergeInternals';\nimport { isFunction } from '../util/isFunction';\nexport function mergeMap(project, resultSelector, concurrent = Infinity) {\n    if (isFunction(resultSelector)) {\n        return mergeMap((a, i) => map((b, ii) => resultSelector(a, b, i, ii))(innerFrom(project(a, i))), concurrent);\n    }\n    else if (typeof resultSelector === 'number') {\n        concurrent = resultSelector;\n    }\n    return operate((source, subscriber) => mergeInternals(source, subscriber, project, concurrent));\n}\n//# sourceMappingURL=mergeMap.js.map","import { mergeMap } from './mergeMap';\nimport { identity } from '../util/identity';\nexport function mergeAll(concurrent = Infinity) {\n    return mergeMap(identity, concurrent);\n}\n//# sourceMappingURL=mergeAll.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { Observable } from '../Observable';\nimport { mergeMap } from '../operators/mergeMap';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isFunction } from '../util/isFunction';\nimport { mapOneOrManyArgs } from '../util/mapOneOrManyArgs';\nconst nodeEventEmitterMethods = ['addListener', 'removeListener'];\nconst eventTargetMethods = ['addEventListener', 'removeEventListener'];\nconst jqueryMethods = ['on', 'off'];\nexport function fromEvent(target, eventName, options, resultSelector) {\n    if (isFunction(options)) {\n        resultSelector = options;\n        options = undefined;\n    }\n    if (resultSelector) {\n        return fromEvent(target, eventName, options).pipe(mapOneOrManyArgs(resultSelector));\n    }\n    const [add, remove] = isEventTarget(target)\n        ? eventTargetMethods.map((methodName) => (handler) => target[methodName](eventName, handler, options))\n        :\n            isNodeStyleEventEmitter(target)\n                ? nodeEventEmitterMethods.map(toCommonHandlerRegistry(target, eventName))\n                : isJQueryStyleEventEmitter(target)\n                    ? jqueryMethods.map(toCommonHandlerRegistry(target, eventName))\n                    : [];\n    if (!add) {\n        if (isArrayLike(target)) {\n            return mergeMap((subTarget) => fromEvent(subTarget, eventName, options))(innerFrom(target));\n        }\n    }\n    if (!add) {\n        throw new TypeError('Invalid event target');\n    }\n    return new Observable((subscriber) => {\n        const handler = (...args) => subscriber.next(1 < args.length ? args : args[0]);\n        add(handler);\n        return () => remove(handler);\n    });\n}\nfunction toCommonHandlerRegistry(target, eventName) {\n    return (methodName) => (handler) => target[methodName](eventName, handler);\n}\nfunction isNodeStyleEventEmitter(target) {\n    return isFunction(target.addListener) && isFunction(target.removeListener);\n}\nfunction isJQueryStyleEventEmitter(target) {\n    return isFunction(target.on) && isFunction(target.off);\n}\nfunction isEventTarget(target) {\n    return isFunction(target.addEventListener) && isFunction(target.removeEventListener);\n}\n//# sourceMappingURL=fromEvent.js.map","import { mergeAll } from '../operators/mergeAll';\nimport { innerFrom } from './innerFrom';\nimport { EMPTY } from './empty';\nimport { popNumber, popScheduler } from '../util/args';\nimport { from } from './from';\nexport function merge(...args) {\n    const scheduler = popScheduler(args);\n    const concurrent = popNumber(args, Infinity);\n    const sources = args;\n    return !sources.length\n        ?\n            EMPTY\n        : sources.length === 1\n            ?\n                innerFrom(sources[0])\n            :\n                mergeAll(concurrent)(from(sources, scheduler));\n}\n//# sourceMappingURL=merge.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function filter(predicate, thisArg) {\n    return operate((source, subscriber) => {\n        let index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => predicate.call(thisArg, value, index++) && subscriber.next(value)));\n    });\n}\n//# sourceMappingURL=filter.js.map","import { identity } from '../util/identity';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function distinctUntilChanged(comparator, keySelector = identity) {\n    comparator = comparator !== null && comparator !== void 0 ? comparator : defaultCompare;\n    return operate((source, subscriber) => {\n        let previousKey;\n        let first = true;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            const currentKey = keySelector(value);\n            if (first || !comparator(previousKey, currentKey)) {\n                first = false;\n                previousKey = currentKey;\n                subscriber.next(value);\n            }\n        }));\n    });\n}\nfunction defaultCompare(a, b) {\n    return a === b;\n}\n//# sourceMappingURL=distinctUntilChanged.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { innerFrom } from '../observable/innerFrom';\nimport { noop } from '../util/noop';\nexport function takeUntil(notifier) {\n    return operate((source, subscriber) => {\n        innerFrom(notifier).subscribe(createOperatorSubscriber(subscriber, () => subscriber.complete(), noop));\n        !subscriber.closed && source.subscribe(subscriber);\n    });\n}\n//# sourceMappingURL=takeUntil.js.map","@import 'variables';\n\n:host {\n  overflow: hidden;\n  position: relative;\n  display: flex;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n// ----- Scroll shadows\n\n%shadow {\n  position: absolute;\n  transition: $cat-scrollable-shadow-transition;\n}\n\n.shadow-top {\n  @extend %shadow;\n  z-index: 2;\n  width: 100%;\n  top: 0;\n}\n\n.shadow-left {\n  @extend %shadow;\n  z-index: 4;\n  height: 100%;\n  left: 0;\n}\n\n.shadow-right {\n  @extend %shadow;\n  z-index: 4;\n  height: 100%;\n  right: 0;\n}\n\n.shadow-bottom {\n  @extend %shadow;\n  z-index: 2;\n  width: 100%;\n  bottom: 0;\n}\n\n// ----- Component\n\n.scrollable-wrapper {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n\n  &.cat-scrollable-top .shadow-top,\n  &.cat-scrollable-bottom .shadow-bottom,\n  &.cat-scrollable-left .shadow-left,\n  &.cat-scrollable-right .shadow-right {\n    box-shadow: $cat-scrollable-shadow;\n  }\n}\n\n.scrollable-content {\n  width: 100%;\n  overflow: hidden;\n  white-space: nowrap;\n\n  &.scroll-x {\n    overflow-x: auto;\n  }\n\n  &.scroll-y {\n    overflow-y: auto;\n  }\n\n  &.no-overscroll {\n    overscroll-behavior: contain;\n  }\n}\n","import { Component, Event, EventEmitter, h, Prop } from '@stencil/core';\nimport { fromEvent, merge, Observable, Subject } from 'rxjs';\nimport { distinctUntilChanged, filter, map, takeUntil } from 'rxjs/operators';\n\n/**\n * An element to display scrollable content.\n */\n@Component({\n  tag: 'cat-scrollable',\n  styleUrl: 'cat-scrollable.scss',\n  shadow: true\n})\nexport class CatScrollable {\n  scrollElement?: HTMLElement;\n  scrollWrapperElement?: HTMLElement;\n  private readonly init = new Subject<void>();\n  private readonly destroyed = new Subject<void>();\n  private scrolled!: Observable<Event>;\n\n  /** Flags to disable/enable scroll shadowX. */\n  @Prop()\n  noShadowX = false;\n\n  /** Flags to disable/enable scroll shadowY. */\n  @Prop()\n  noShadowY = false;\n\n  /** Flags to disable/enable overflowX. */\n  @Prop()\n  noOverflowX = false;\n\n  /** Flags to disable/enable overflowY. */\n  @Prop()\n  noOverflowY = false;\n\n  /** Flag to disable/enable overscroll behavior. */\n  @Prop()\n  noOverscroll = false;\n\n  /**\n   * Flag to not fire an initial event after content initialization.\n   */\n  @Prop() noScrolledInit = false;\n\n  /**\n   * Buffer to be used to calculate the scroll distance.\n   */\n  @Prop() scrolledBuffer = 0;\n\n  /**\n   * Emitted when the content is fully scrolled to the top.\n   */\n  @Event() scrolledTop!: EventEmitter<void>;\n\n  /**\n   * Emitted when the content is fully scrolled to the left.\n   */\n  @Event() scrolledLeft!: EventEmitter<void>;\n\n  /**\n   * Emitted when the content is fully scrolled to the right.\n   */\n  @Event() scrolledRight!: EventEmitter<void>;\n\n  /**\n   * Emitted when the content is fully scrolled to the bottom.\n   */\n  @Event() scrolledBottom!: EventEmitter<void>;\n\n  componentDidRender() {\n    if (this.scrollElement) {\n      this.scrolled = fromEvent(this.scrollElement, 'scroll').pipe(takeUntil(this.destroyed));\n    }\n    this.attachEmitter('left', this.scrolledLeft, this.scrolledBuffer);\n    this.attachEmitter('right', this.scrolledRight, this.scrolledBuffer);\n    this.attachEmitter('bottom', this.scrolledBottom, this.scrolledBuffer);\n    this.attachEmitter('top', this.scrolledTop, this.scrolledBuffer);\n    merge(this.init, this.scrolled)\n      .pipe(\n        map(() => ({\n          top: this.getScrollOffset('top') > 0,\n          left: this.getScrollOffset('left') > 0,\n          right: this.getScrollOffset('right') > 0,\n          bottom: this.getScrollOffset('bottom') > 0\n        })),\n        distinctUntilChanged(),\n        takeUntil(this.destroyed)\n      )\n      .subscribe(({ top, left, right, bottom }) => {\n        this.toggleClass('cat-scrollable-top', top);\n        this.toggleClass('cat-scrollable-left', left);\n        this.toggleClass('cat-scrollable-right', right);\n        this.toggleClass('cat-scrollable-bottom', bottom);\n      });\n  }\n\n  componentDidLoad() {\n    if (!this.noScrolledInit) {\n      this.init.next();\n    }\n  }\n\n  disconnectedCallback() {\n    this.init.complete();\n    this.destroyed.next();\n    this.destroyed.complete();\n  }\n\n  render() {\n    return [\n      <div class=\"scrollable-wrapper\" ref={el => (this.scrollWrapperElement = el)}>\n        {!this.noShadowY && <div class=\"shadow-top\"></div>}\n        {!this.noShadowX && <div class=\"shadow-left\"></div>}\n        {!this.noShadowX && <div class=\"shadow-right\"></div>}\n        {!this.noShadowY && <div class=\"shadow-bottom\"></div>}\n      </div>,\n      <div\n        ref={el => (this.scrollElement = el)}\n        class={{\n          'scrollable-content': true,\n          'scroll-x': !this.noOverflowX,\n          'scroll-y': !this.noOverflowY,\n          'no-overscroll': this.noOverscroll\n        }}\n      >\n        <slot></slot>\n      </div>\n    ];\n  }\n\n  private attachEmitter(from: 'top' | 'left' | 'right' | 'bottom', emitter: EventEmitter<void>, buffer: number) {\n    merge(this.init, this.scrolled)\n      .pipe(map(() => this.getScrollOffset(from)))\n      .pipe(map(offset => offset <= buffer))\n      .pipe(distinctUntilChanged())\n      .pipe(filter(isLower => isLower))\n      .pipe(takeUntil(this.destroyed))\n      .subscribe(() => emitter.emit());\n  }\n\n  private getScrollOffset(from: 'top' | 'left' | 'right' | 'bottom') {\n    if (this.scrollElement) {\n      switch (from) {\n        case 'top':\n          return this.scrollElement.scrollTop;\n        case 'left':\n          return this.scrollElement.scrollLeft;\n        case 'right':\n          return this.scrollElement.scrollWidth - this.scrollElement.clientWidth - this.scrollElement.scrollLeft;\n        case 'bottom':\n          return this.scrollElement.scrollHeight - this.scrollElement.clientHeight - this.scrollElement.scrollTop;\n        default:\n          return 0;\n      }\n    }\n    return 0;\n  }\n\n  private toggleClass(name: string, value: boolean) {\n    if (value) {\n      this.scrollWrapperElement?.classList.add(name);\n    } else {\n      this.scrollWrapperElement?.classList.remove(name);\n    }\n  }\n}\n","/*! choices.js v10.1.0 |  2022 Josh Johnson | https://github.com/jshjohnson/Choices#readme */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Choices\"] = factory();\n\telse\n\t\troot[\"Choices\"] = factory();\n})(window, function() {\nreturn /******/ (function() { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 282:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.clearChoices = exports.activateChoices = exports.filterChoices = exports.addChoice = void 0;\n\nvar constants_1 = __webpack_require__(883);\n\nvar addChoice = function (_a) {\n  var value = _a.value,\n      label = _a.label,\n      id = _a.id,\n      groupId = _a.groupId,\n      disabled = _a.disabled,\n      elementId = _a.elementId,\n      customProperties = _a.customProperties,\n      placeholder = _a.placeholder,\n      keyCode = _a.keyCode;\n  return {\n    type: constants_1.ACTION_TYPES.ADD_CHOICE,\n    value: value,\n    label: label,\n    id: id,\n    groupId: groupId,\n    disabled: disabled,\n    elementId: elementId,\n    customProperties: customProperties,\n    placeholder: placeholder,\n    keyCode: keyCode\n  };\n};\n\nexports.addChoice = addChoice;\n\nvar filterChoices = function (results) {\n  return {\n    type: constants_1.ACTION_TYPES.FILTER_CHOICES,\n    results: results\n  };\n};\n\nexports.filterChoices = filterChoices;\n\nvar activateChoices = function (active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  return {\n    type: constants_1.ACTION_TYPES.ACTIVATE_CHOICES,\n    active: active\n  };\n};\n\nexports.activateChoices = activateChoices;\n\nvar clearChoices = function () {\n  return {\n    type: constants_1.ACTION_TYPES.CLEAR_CHOICES\n  };\n};\n\nexports.clearChoices = clearChoices;\n\n/***/ }),\n\n/***/ 783:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.addGroup = void 0;\n\nvar constants_1 = __webpack_require__(883);\n\nvar addGroup = function (_a) {\n  var value = _a.value,\n      id = _a.id,\n      active = _a.active,\n      disabled = _a.disabled;\n  return {\n    type: constants_1.ACTION_TYPES.ADD_GROUP,\n    value: value,\n    id: id,\n    active: active,\n    disabled: disabled\n  };\n};\n\nexports.addGroup = addGroup;\n\n/***/ }),\n\n/***/ 464:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.highlightItem = exports.removeItem = exports.addItem = void 0;\n\nvar constants_1 = __webpack_require__(883);\n\nvar addItem = function (_a) {\n  var value = _a.value,\n      label = _a.label,\n      id = _a.id,\n      choiceId = _a.choiceId,\n      groupId = _a.groupId,\n      customProperties = _a.customProperties,\n      placeholder = _a.placeholder,\n      keyCode = _a.keyCode;\n  return {\n    type: constants_1.ACTION_TYPES.ADD_ITEM,\n    value: value,\n    label: label,\n    id: id,\n    choiceId: choiceId,\n    groupId: groupId,\n    customProperties: customProperties,\n    placeholder: placeholder,\n    keyCode: keyCode\n  };\n};\n\nexports.addItem = addItem;\n\nvar removeItem = function (id, choiceId) {\n  return {\n    type: constants_1.ACTION_TYPES.REMOVE_ITEM,\n    id: id,\n    choiceId: choiceId\n  };\n};\n\nexports.removeItem = removeItem;\n\nvar highlightItem = function (id, highlighted) {\n  return {\n    type: constants_1.ACTION_TYPES.HIGHLIGHT_ITEM,\n    id: id,\n    highlighted: highlighted\n  };\n};\n\nexports.highlightItem = highlightItem;\n\n/***/ }),\n\n/***/ 137:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.setIsLoading = exports.resetTo = exports.clearAll = void 0;\n\nvar constants_1 = __webpack_require__(883);\n\nvar clearAll = function () {\n  return {\n    type: constants_1.ACTION_TYPES.CLEAR_ALL\n  };\n};\n\nexports.clearAll = clearAll;\n\nvar resetTo = function (state) {\n  return {\n    type: constants_1.ACTION_TYPES.RESET_TO,\n    state: state\n  };\n};\n\nexports.resetTo = resetTo;\n\nvar setIsLoading = function (isLoading) {\n  return {\n    type: constants_1.ACTION_TYPES.SET_IS_LOADING,\n    isLoading: isLoading\n  };\n};\n\nexports.setIsLoading = setIsLoading;\n\n/***/ }),\n\n/***/ 373:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar deepmerge_1 = __importDefault(__webpack_require__(996));\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n\nvar fuse_js_1 = __importDefault(__webpack_require__(221));\n\nvar choices_1 = __webpack_require__(282);\n\nvar groups_1 = __webpack_require__(783);\n\nvar items_1 = __webpack_require__(464);\n\nvar misc_1 = __webpack_require__(137);\n\nvar components_1 = __webpack_require__(520);\n\nvar constants_1 = __webpack_require__(883);\n\nvar defaults_1 = __webpack_require__(789);\n\nvar utils_1 = __webpack_require__(799);\n\nvar reducers_1 = __webpack_require__(655);\n\nvar store_1 = __importDefault(__webpack_require__(744));\n\nvar templates_1 = __importDefault(__webpack_require__(686));\n/** @see {@link http://browserhacks.com/#hack-acea075d0ac6954f275a70023906050c} */\n\n\nvar IS_IE11 = '-ms-scroll-limit' in document.documentElement.style && '-ms-ime-align' in document.documentElement.style;\nvar USER_DEFAULTS = {};\n/**\n * Choices\n * @author Josh Johnson<josh@joshuajohnson.co.uk>\n */\n\nvar Choices =\n/** @class */\nfunction () {\n  function Choices(element, userConfig) {\n    var _this = this;\n\n    if (element === void 0) {\n      element = '[data-choice]';\n    }\n\n    if (userConfig === void 0) {\n      userConfig = {};\n    }\n\n    if (userConfig.allowHTML === undefined) {\n      console.warn('Deprecation warning: allowHTML will default to false in a future release. To render HTML in Choices, you will need to set it to true. Setting allowHTML will suppress this message.');\n    }\n\n    this.config = deepmerge_1.default.all([defaults_1.DEFAULT_CONFIG, Choices.defaults.options, userConfig], // When merging array configs, replace with a copy of the userConfig array,\n    // instead of concatenating with the default array\n    {\n      arrayMerge: function (_, sourceArray) {\n        return __spreadArray([], sourceArray, true);\n      }\n    });\n    var invalidConfigOptions = (0, utils_1.diff)(this.config, defaults_1.DEFAULT_CONFIG);\n\n    if (invalidConfigOptions.length) {\n      console.warn('Unknown config option(s) passed', invalidConfigOptions.join(', '));\n    }\n\n    var passedElement = typeof element === 'string' ? document.querySelector(element) : element;\n\n    if (!(passedElement instanceof HTMLInputElement || passedElement instanceof HTMLSelectElement)) {\n      throw TypeError('Expected one of the following types text|select-one|select-multiple');\n    }\n\n    this._isTextElement = passedElement.type === constants_1.TEXT_TYPE;\n    this._isSelectOneElement = passedElement.type === constants_1.SELECT_ONE_TYPE;\n    this._isSelectMultipleElement = passedElement.type === constants_1.SELECT_MULTIPLE_TYPE;\n    this._isSelectElement = this._isSelectOneElement || this._isSelectMultipleElement;\n    this.config.searchEnabled = this._isSelectMultipleElement || this.config.searchEnabled;\n\n    if (!['auto', 'always'].includes(\"\".concat(this.config.renderSelectedChoices))) {\n      this.config.renderSelectedChoices = 'auto';\n    }\n\n    if (userConfig.addItemFilter && typeof userConfig.addItemFilter !== 'function') {\n      var re = userConfig.addItemFilter instanceof RegExp ? userConfig.addItemFilter : new RegExp(userConfig.addItemFilter);\n      this.config.addItemFilter = re.test.bind(re);\n    }\n\n    if (this._isTextElement) {\n      this.passedElement = new components_1.WrappedInput({\n        element: passedElement,\n        classNames: this.config.classNames,\n        delimiter: this.config.delimiter\n      });\n    } else {\n      this.passedElement = new components_1.WrappedSelect({\n        element: passedElement,\n        classNames: this.config.classNames,\n        template: function (data) {\n          return _this._templates.option(data);\n        }\n      });\n    }\n\n    this.initialised = false;\n    this._store = new store_1.default();\n    this._initialState = reducers_1.defaultState;\n    this._currentState = reducers_1.defaultState;\n    this._prevState = reducers_1.defaultState;\n    this._currentValue = '';\n    this._canSearch = !!this.config.searchEnabled;\n    this._isScrollingOnIe = false;\n    this._highlightPosition = 0;\n    this._wasTap = true;\n    this._placeholderValue = this._generatePlaceholderValue();\n    this._baseId = (0, utils_1.generateId)(this.passedElement.element, 'choices-');\n    /**\n     * setting direction in cases where it's explicitly set on passedElement\n     * or when calculated direction is different from the document\n     */\n\n    this._direction = this.passedElement.dir;\n\n    if (!this._direction) {\n      var elementDirection = window.getComputedStyle(this.passedElement.element).direction;\n      var documentDirection = window.getComputedStyle(document.documentElement).direction;\n\n      if (elementDirection !== documentDirection) {\n        this._direction = elementDirection;\n      }\n    }\n\n    this._idNames = {\n      itemChoice: 'item-choice'\n    };\n\n    if (this._isSelectElement) {\n      // Assign preset groups from passed element\n      this._presetGroups = this.passedElement.optionGroups; // Assign preset options from passed element\n\n      this._presetOptions = this.passedElement.options;\n    } // Assign preset choices from passed object\n\n\n    this._presetChoices = this.config.choices; // Assign preset items from passed object first\n\n    this._presetItems = this.config.items; // Add any values passed from attribute\n\n    if (this.passedElement.value && this._isTextElement) {\n      var splitValues = this.passedElement.value.split(this.config.delimiter);\n      this._presetItems = this._presetItems.concat(splitValues);\n    } // Create array of choices from option elements\n\n\n    if (this.passedElement.options) {\n      this.passedElement.options.forEach(function (option) {\n        _this._presetChoices.push({\n          value: option.value,\n          label: option.innerHTML,\n          selected: !!option.selected,\n          disabled: option.disabled || option.parentNode.disabled,\n          placeholder: option.value === '' || option.hasAttribute('placeholder'),\n          customProperties: option.dataset['custom-properties']\n        });\n      });\n    }\n\n    this._render = this._render.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n    this._onKeyUp = this._onKeyUp.bind(this);\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this._onClick = this._onClick.bind(this);\n    this._onTouchMove = this._onTouchMove.bind(this);\n    this._onTouchEnd = this._onTouchEnd.bind(this);\n    this._onMouseDown = this._onMouseDown.bind(this);\n    this._onMouseOver = this._onMouseOver.bind(this);\n    this._onFormReset = this._onFormReset.bind(this);\n    this._onSelectKey = this._onSelectKey.bind(this);\n    this._onEnterKey = this._onEnterKey.bind(this);\n    this._onEscapeKey = this._onEscapeKey.bind(this);\n    this._onDirectionKey = this._onDirectionKey.bind(this);\n    this._onDeleteKey = this._onDeleteKey.bind(this); // If element has already been initialised with Choices, fail silently\n\n    if (this.passedElement.isActive) {\n      if (!this.config.silent) {\n        console.warn('Trying to initialise Choices on element already initialised', {\n          element: element\n        });\n      }\n\n      this.initialised = true;\n      return;\n    } // Let's go\n\n\n    this.init();\n  }\n\n  Object.defineProperty(Choices, \"defaults\", {\n    get: function () {\n      return Object.preventExtensions({\n        get options() {\n          return USER_DEFAULTS;\n        },\n\n        get templates() {\n          return templates_1.default;\n        }\n\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Choices.prototype.init = function () {\n    if (this.initialised) {\n      return;\n    }\n\n    this._createTemplates();\n\n    this._createElements();\n\n    this._createStructure();\n\n    this._store.subscribe(this._render);\n\n    this._render();\n\n    this._addEventListeners();\n\n    var shouldDisable = !this.config.addItems || this.passedElement.element.hasAttribute('disabled');\n\n    if (shouldDisable) {\n      this.disable();\n    }\n\n    this.initialised = true;\n    var callbackOnInit = this.config.callbackOnInit; // Run callback if it is a function\n\n    if (callbackOnInit && typeof callbackOnInit === 'function') {\n      callbackOnInit.call(this);\n    }\n  };\n\n  Choices.prototype.destroy = function () {\n    if (!this.initialised) {\n      return;\n    }\n\n    this._removeEventListeners();\n\n    this.passedElement.reveal();\n    this.containerOuter.unwrap(this.passedElement.element);\n    this.clearStore();\n\n    if (this._isSelectElement) {\n      this.passedElement.options = this._presetOptions;\n    }\n\n    this._templates = templates_1.default;\n    this.initialised = false;\n  };\n\n  Choices.prototype.enable = function () {\n    if (this.passedElement.isDisabled) {\n      this.passedElement.enable();\n    }\n\n    if (this.containerOuter.isDisabled) {\n      this._addEventListeners();\n\n      this.input.enable();\n      this.containerOuter.enable();\n    }\n\n    return this;\n  };\n\n  Choices.prototype.disable = function () {\n    if (!this.passedElement.isDisabled) {\n      this.passedElement.disable();\n    }\n\n    if (!this.containerOuter.isDisabled) {\n      this._removeEventListeners();\n\n      this.input.disable();\n      this.containerOuter.disable();\n    }\n\n    return this;\n  };\n\n  Choices.prototype.highlightItem = function (item, runEvent) {\n    if (runEvent === void 0) {\n      runEvent = true;\n    }\n\n    if (!item || !item.id) {\n      return this;\n    }\n\n    var id = item.id,\n        _a = item.groupId,\n        groupId = _a === void 0 ? -1 : _a,\n        _b = item.value,\n        value = _b === void 0 ? '' : _b,\n        _c = item.label,\n        label = _c === void 0 ? '' : _c;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n    this._store.dispatch((0, items_1.highlightItem)(id, true));\n\n    if (runEvent) {\n      this.passedElement.triggerEvent(constants_1.EVENTS.highlightItem, {\n        id: id,\n        value: value,\n        label: label,\n        groupValue: group && group.value ? group.value : null\n      });\n    }\n\n    return this;\n  };\n\n  Choices.prototype.unhighlightItem = function (item) {\n    if (!item || !item.id) {\n      return this;\n    }\n\n    var id = item.id,\n        _a = item.groupId,\n        groupId = _a === void 0 ? -1 : _a,\n        _b = item.value,\n        value = _b === void 0 ? '' : _b,\n        _c = item.label,\n        label = _c === void 0 ? '' : _c;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n    this._store.dispatch((0, items_1.highlightItem)(id, false));\n\n    this.passedElement.triggerEvent(constants_1.EVENTS.highlightItem, {\n      id: id,\n      value: value,\n      label: label,\n      groupValue: group && group.value ? group.value : null\n    });\n    return this;\n  };\n\n  Choices.prototype.highlightAll = function () {\n    var _this = this;\n\n    this._store.items.forEach(function (item) {\n      return _this.highlightItem(item);\n    });\n\n    return this;\n  };\n\n  Choices.prototype.unhighlightAll = function () {\n    var _this = this;\n\n    this._store.items.forEach(function (item) {\n      return _this.unhighlightItem(item);\n    });\n\n    return this;\n  };\n\n  Choices.prototype.removeActiveItemsByValue = function (value) {\n    var _this = this;\n\n    this._store.activeItems.filter(function (item) {\n      return item.value === value;\n    }).forEach(function (item) {\n      return _this._removeItem(item);\n    });\n\n    return this;\n  };\n\n  Choices.prototype.removeActiveItems = function (excludedId) {\n    var _this = this;\n\n    this._store.activeItems.filter(function (_a) {\n      var id = _a.id;\n      return id !== excludedId;\n    }).forEach(function (item) {\n      return _this._removeItem(item);\n    });\n\n    return this;\n  };\n\n  Choices.prototype.removeHighlightedItems = function (runEvent) {\n    var _this = this;\n\n    if (runEvent === void 0) {\n      runEvent = false;\n    }\n\n    this._store.highlightedActiveItems.forEach(function (item) {\n      _this._removeItem(item); // If this action was performed by the user\n      // trigger the event\n\n\n      if (runEvent) {\n        _this._triggerChange(item.value);\n      }\n    });\n\n    return this;\n  };\n\n  Choices.prototype.showDropdown = function (preventInputFocus) {\n    var _this = this;\n\n    if (this.dropdown.isActive) {\n      return this;\n    }\n\n    requestAnimationFrame(function () {\n      _this.dropdown.show();\n\n      _this.containerOuter.open(_this.dropdown.distanceFromTopWindow);\n\n      if (!preventInputFocus && _this._canSearch) {\n        _this.input.focus();\n      }\n\n      _this.passedElement.triggerEvent(constants_1.EVENTS.showDropdown, {});\n    });\n    return this;\n  };\n\n  Choices.prototype.hideDropdown = function (preventInputBlur) {\n    var _this = this;\n\n    if (!this.dropdown.isActive) {\n      return this;\n    }\n\n    requestAnimationFrame(function () {\n      _this.dropdown.hide();\n\n      _this.containerOuter.close();\n\n      if (!preventInputBlur && _this._canSearch) {\n        _this.input.removeActiveDescendant();\n\n        _this.input.blur();\n      }\n\n      _this.passedElement.triggerEvent(constants_1.EVENTS.hideDropdown, {});\n    });\n    return this;\n  };\n\n  Choices.prototype.getValue = function (valueOnly) {\n    if (valueOnly === void 0) {\n      valueOnly = false;\n    }\n\n    var values = this._store.activeItems.reduce(function (selectedItems, item) {\n      var itemValue = valueOnly ? item.value : item;\n      selectedItems.push(itemValue);\n      return selectedItems;\n    }, []);\n\n    return this._isSelectOneElement ? values[0] : values;\n  };\n\n  Choices.prototype.setValue = function (items) {\n    var _this = this;\n\n    if (!this.initialised) {\n      return this;\n    }\n\n    items.forEach(function (value) {\n      return _this._setChoiceOrItem(value);\n    });\n    return this;\n  };\n\n  Choices.prototype.setChoiceByValue = function (value) {\n    var _this = this;\n\n    if (!this.initialised || this._isTextElement) {\n      return this;\n    } // If only one value has been passed, convert to array\n\n\n    var choiceValue = Array.isArray(value) ? value : [value]; // Loop through each value and\n\n    choiceValue.forEach(function (val) {\n      return _this._findAndSelectChoiceByValue(val);\n    });\n    return this;\n  };\n  /**\n   * Set choices of select input via an array of objects (or function that returns array of object or promise of it),\n   * a value field name and a label field name.\n   * This behaves the same as passing items via the choices option but can be called after initialising Choices.\n   * This can also be used to add groups of choices (see example 2); Optionally pass a true `replaceChoices` value to remove any existing choices.\n   * Optionally pass a `customProperties` object to add additional data to your choices (useful when searching/filtering etc).\n   *\n   * **Input types affected:** select-one, select-multiple\n   *\n   * @example\n   * ```js\n   * const example = new Choices(element);\n   *\n   * example.setChoices([\n   *   {value: 'One', label: 'Label One', disabled: true},\n   *   {value: 'Two', label: 'Label Two', selected: true},\n   *   {value: 'Three', label: 'Label Three'},\n   * ], 'value', 'label', false);\n   * ```\n   *\n   * @example\n   * ```js\n   * const example = new Choices(element);\n   *\n   * example.setChoices(async () => {\n   *   try {\n   *      const items = await fetch('/items');\n   *      return items.json()\n   *   } catch(err) {\n   *      console.error(err)\n   *   }\n   * });\n   * ```\n   *\n   * @example\n   * ```js\n   * const example = new Choices(element);\n   *\n   * example.setChoices([{\n   *   label: 'Group one',\n   *   id: 1,\n   *   disabled: false,\n   *   choices: [\n   *     {value: 'Child One', label: 'Child One', selected: true},\n   *     {value: 'Child Two', label: 'Child Two',  disabled: true},\n   *     {value: 'Child Three', label: 'Child Three'},\n   *   ]\n   * },\n   * {\n   *   label: 'Group two',\n   *   id: 2,\n   *   disabled: false,\n   *   choices: [\n   *     {value: 'Child Four', label: 'Child Four', disabled: true},\n   *     {value: 'Child Five', label: 'Child Five'},\n   *     {value: 'Child Six', label: 'Child Six', customProperties: {\n   *       description: 'Custom description about child six',\n   *       random: 'Another random custom property'\n   *     }},\n   *   ]\n   * }], 'value', 'label', false);\n   * ```\n   */\n\n\n  Choices.prototype.setChoices = function (choicesArrayOrFetcher, value, label, replaceChoices) {\n    var _this = this;\n\n    if (choicesArrayOrFetcher === void 0) {\n      choicesArrayOrFetcher = [];\n    }\n\n    if (value === void 0) {\n      value = 'value';\n    }\n\n    if (label === void 0) {\n      label = 'label';\n    }\n\n    if (replaceChoices === void 0) {\n      replaceChoices = false;\n    }\n\n    if (!this.initialised) {\n      throw new ReferenceError(\"setChoices was called on a non-initialized instance of Choices\");\n    }\n\n    if (!this._isSelectElement) {\n      throw new TypeError(\"setChoices can't be used with INPUT based Choices\");\n    }\n\n    if (typeof value !== 'string' || !value) {\n      throw new TypeError(\"value parameter must be a name of 'value' field in passed objects\");\n    } // Clear choices if needed\n\n\n    if (replaceChoices) {\n      this.clearChoices();\n    }\n\n    if (typeof choicesArrayOrFetcher === 'function') {\n      // it's a choices fetcher function\n      var fetcher_1 = choicesArrayOrFetcher(this);\n\n      if (typeof Promise === 'function' && fetcher_1 instanceof Promise) {\n        // that's a promise\n        // eslint-disable-next-line no-promise-executor-return\n        return new Promise(function (resolve) {\n          return requestAnimationFrame(resolve);\n        }).then(function () {\n          return _this._handleLoadingState(true);\n        }).then(function () {\n          return fetcher_1;\n        }).then(function (data) {\n          return _this.setChoices(data, value, label, replaceChoices);\n        }).catch(function (err) {\n          if (!_this.config.silent) {\n            console.error(err);\n          }\n        }).then(function () {\n          return _this._handleLoadingState(false);\n        }).then(function () {\n          return _this;\n        });\n      } // function returned something else than promise, let's check if it's an array of choices\n\n\n      if (!Array.isArray(fetcher_1)) {\n        throw new TypeError(\".setChoices first argument function must return either array of choices or Promise, got: \".concat(typeof fetcher_1));\n      } // recursion with results, it's sync and choices were cleared already\n\n\n      return this.setChoices(fetcher_1, value, label, false);\n    }\n\n    if (!Array.isArray(choicesArrayOrFetcher)) {\n      throw new TypeError(\".setChoices must be called either with array of choices with a function resulting into Promise of array of choices\");\n    }\n\n    this.containerOuter.removeLoadingState();\n\n    this._startLoading();\n\n    choicesArrayOrFetcher.forEach(function (groupOrChoice) {\n      if (groupOrChoice.choices) {\n        _this._addGroup({\n          id: groupOrChoice.id ? parseInt(\"\".concat(groupOrChoice.id), 10) : null,\n          group: groupOrChoice,\n          valueKey: value,\n          labelKey: label\n        });\n      } else {\n        var choice = groupOrChoice;\n\n        _this._addChoice({\n          value: choice[value],\n          label: choice[label],\n          isSelected: !!choice.selected,\n          isDisabled: !!choice.disabled,\n          placeholder: !!choice.placeholder,\n          customProperties: choice.customProperties\n        });\n      }\n    });\n\n    this._stopLoading();\n\n    return this;\n  };\n\n  Choices.prototype.clearChoices = function () {\n    this._store.dispatch((0, choices_1.clearChoices)());\n\n    return this;\n  };\n\n  Choices.prototype.clearStore = function () {\n    this._store.dispatch((0, misc_1.clearAll)());\n\n    return this;\n  };\n\n  Choices.prototype.clearInput = function () {\n    var shouldSetInputWidth = !this._isSelectOneElement;\n    this.input.clear(shouldSetInputWidth);\n\n    if (!this._isTextElement && this._canSearch) {\n      this._isSearching = false;\n\n      this._store.dispatch((0, choices_1.activateChoices)(true));\n    }\n\n    return this;\n  };\n\n  Choices.prototype._render = function () {\n    if (this._store.isLoading()) {\n      return;\n    }\n\n    this._currentState = this._store.state;\n    var stateChanged = this._currentState.choices !== this._prevState.choices || this._currentState.groups !== this._prevState.groups || this._currentState.items !== this._prevState.items;\n    var shouldRenderChoices = this._isSelectElement;\n    var shouldRenderItems = this._currentState.items !== this._prevState.items;\n\n    if (!stateChanged) {\n      return;\n    }\n\n    if (shouldRenderChoices) {\n      this._renderChoices();\n    }\n\n    if (shouldRenderItems) {\n      this._renderItems();\n    }\n\n    this._prevState = this._currentState;\n  };\n\n  Choices.prototype._renderChoices = function () {\n    var _this = this;\n\n    var _a = this._store,\n        activeGroups = _a.activeGroups,\n        activeChoices = _a.activeChoices;\n    var choiceListFragment = document.createDocumentFragment();\n    this.choiceList.clear();\n\n    if (this.config.resetScrollPosition) {\n      requestAnimationFrame(function () {\n        return _this.choiceList.scrollToTop();\n      });\n    } // If we have grouped options\n\n\n    if (activeGroups.length >= 1 && !this._isSearching) {\n      // If we have a placeholder choice along with groups\n      var activePlaceholders = activeChoices.filter(function (activeChoice) {\n        return activeChoice.placeholder === true && activeChoice.groupId === -1;\n      });\n\n      if (activePlaceholders.length >= 1) {\n        choiceListFragment = this._createChoicesFragment(activePlaceholders, choiceListFragment);\n      }\n\n      choiceListFragment = this._createGroupsFragment(activeGroups, activeChoices, choiceListFragment);\n    } else if (activeChoices.length >= 1) {\n      choiceListFragment = this._createChoicesFragment(activeChoices, choiceListFragment);\n    } // If we have choices to show\n\n\n    if (choiceListFragment.childNodes && choiceListFragment.childNodes.length > 0) {\n      var activeItems = this._store.activeItems;\n\n      var canAddItem = this._canAddItem(activeItems, this.input.value); // ...and we can select them\n\n\n      if (canAddItem.response) {\n        // ...append them and highlight the first choice\n        this.choiceList.append(choiceListFragment);\n\n        this._highlightChoice();\n      } else {\n        var notice = this._getTemplate('notice', canAddItem.notice);\n\n        this.choiceList.append(notice);\n      }\n    } else {\n      // Otherwise show a notice\n      var dropdownItem = void 0;\n      var notice = void 0;\n\n      if (this._isSearching) {\n        notice = typeof this.config.noResultsText === 'function' ? this.config.noResultsText() : this.config.noResultsText;\n        dropdownItem = this._getTemplate('notice', notice, 'no-results');\n      } else {\n        notice = typeof this.config.noChoicesText === 'function' ? this.config.noChoicesText() : this.config.noChoicesText;\n        dropdownItem = this._getTemplate('notice', notice, 'no-choices');\n      }\n\n      this.choiceList.append(dropdownItem);\n    }\n  };\n\n  Choices.prototype._renderItems = function () {\n    var activeItems = this._store.activeItems || [];\n    this.itemList.clear(); // Create a fragment to store our list items\n    // (so we don't have to update the DOM for each item)\n\n    var itemListFragment = this._createItemsFragment(activeItems); // If we have items to add, append them\n\n\n    if (itemListFragment.childNodes) {\n      this.itemList.append(itemListFragment);\n    }\n  };\n\n  Choices.prototype._createGroupsFragment = function (groups, choices, fragment) {\n    var _this = this;\n\n    if (fragment === void 0) {\n      fragment = document.createDocumentFragment();\n    }\n\n    var getGroupChoices = function (group) {\n      return choices.filter(function (choice) {\n        if (_this._isSelectOneElement) {\n          return choice.groupId === group.id;\n        }\n\n        return choice.groupId === group.id && (_this.config.renderSelectedChoices === 'always' || !choice.selected);\n      });\n    }; // If sorting is enabled, filter groups\n\n\n    if (this.config.shouldSort) {\n      groups.sort(this.config.sorter);\n    }\n\n    groups.forEach(function (group) {\n      var groupChoices = getGroupChoices(group);\n\n      if (groupChoices.length >= 1) {\n        var dropdownGroup = _this._getTemplate('choiceGroup', group);\n\n        fragment.appendChild(dropdownGroup);\n\n        _this._createChoicesFragment(groupChoices, fragment, true);\n      }\n    });\n    return fragment;\n  };\n\n  Choices.prototype._createChoicesFragment = function (choices, fragment, withinGroup) {\n    var _this = this;\n\n    if (fragment === void 0) {\n      fragment = document.createDocumentFragment();\n    }\n\n    if (withinGroup === void 0) {\n      withinGroup = false;\n    } // Create a fragment to store our list items (so we don't have to update the DOM for each item)\n\n\n    var _a = this.config,\n        renderSelectedChoices = _a.renderSelectedChoices,\n        searchResultLimit = _a.searchResultLimit,\n        renderChoiceLimit = _a.renderChoiceLimit;\n    var filter = this._isSearching ? utils_1.sortByScore : this.config.sorter;\n\n    var appendChoice = function (choice) {\n      var shouldRender = renderSelectedChoices === 'auto' ? _this._isSelectOneElement || !choice.selected : true;\n\n      if (shouldRender) {\n        var dropdownItem = _this._getTemplate('choice', choice, _this.config.itemSelectText);\n\n        fragment.appendChild(dropdownItem);\n      }\n    };\n\n    var rendererableChoices = choices;\n\n    if (renderSelectedChoices === 'auto' && !this._isSelectOneElement) {\n      rendererableChoices = choices.filter(function (choice) {\n        return !choice.selected;\n      });\n    } // Split array into placeholders and \"normal\" choices\n\n\n    var _b = rendererableChoices.reduce(function (acc, choice) {\n      if (choice.placeholder) {\n        acc.placeholderChoices.push(choice);\n      } else {\n        acc.normalChoices.push(choice);\n      }\n\n      return acc;\n    }, {\n      placeholderChoices: [],\n      normalChoices: []\n    }),\n        placeholderChoices = _b.placeholderChoices,\n        normalChoices = _b.normalChoices; // If sorting is enabled or the user is searching, filter choices\n\n\n    if (this.config.shouldSort || this._isSearching) {\n      normalChoices.sort(filter);\n    }\n\n    var choiceLimit = rendererableChoices.length; // Prepend placeholeder\n\n    var sortedChoices = this._isSelectOneElement ? __spreadArray(__spreadArray([], placeholderChoices, true), normalChoices, true) : normalChoices;\n\n    if (this._isSearching) {\n      choiceLimit = searchResultLimit;\n    } else if (renderChoiceLimit && renderChoiceLimit > 0 && !withinGroup) {\n      choiceLimit = renderChoiceLimit;\n    } // Add each choice to dropdown within range\n\n\n    for (var i = 0; i < choiceLimit; i += 1) {\n      if (sortedChoices[i]) {\n        appendChoice(sortedChoices[i]);\n      }\n    }\n\n    return fragment;\n  };\n\n  Choices.prototype._createItemsFragment = function (items, fragment) {\n    var _this = this;\n\n    if (fragment === void 0) {\n      fragment = document.createDocumentFragment();\n    } // Create fragment to add elements to\n\n\n    var _a = this.config,\n        shouldSortItems = _a.shouldSortItems,\n        sorter = _a.sorter,\n        removeItemButton = _a.removeItemButton; // If sorting is enabled, filter items\n\n    if (shouldSortItems && !this._isSelectOneElement) {\n      items.sort(sorter);\n    }\n\n    if (this._isTextElement) {\n      // Update the value of the hidden input\n      this.passedElement.value = items.map(function (_a) {\n        var value = _a.value;\n        return value;\n      }).join(this.config.delimiter);\n    } else {\n      // Update the options of the hidden input\n      this.passedElement.options = items;\n    }\n\n    var addItemToFragment = function (item) {\n      // Create new list element\n      var listItem = _this._getTemplate('item', item, removeItemButton); // Append it to list\n\n\n      fragment.appendChild(listItem);\n    }; // Add each list item to list\n\n\n    items.forEach(addItemToFragment);\n    return fragment;\n  };\n\n  Choices.prototype._triggerChange = function (value) {\n    if (value === undefined || value === null) {\n      return;\n    }\n\n    this.passedElement.triggerEvent(constants_1.EVENTS.change, {\n      value: value\n    });\n  };\n\n  Choices.prototype._selectPlaceholderChoice = function (placeholderChoice) {\n    this._addItem({\n      value: placeholderChoice.value,\n      label: placeholderChoice.label,\n      choiceId: placeholderChoice.id,\n      groupId: placeholderChoice.groupId,\n      placeholder: placeholderChoice.placeholder\n    });\n\n    this._triggerChange(placeholderChoice.value);\n  };\n\n  Choices.prototype._handleButtonAction = function (activeItems, element) {\n    if (!activeItems || !element || !this.config.removeItems || !this.config.removeItemButton) {\n      return;\n    }\n\n    var itemId = element.parentNode && element.parentNode.dataset.id;\n    var itemToRemove = itemId && activeItems.find(function (item) {\n      return item.id === parseInt(itemId, 10);\n    });\n\n    if (!itemToRemove) {\n      return;\n    } // Remove item associated with button\n\n\n    this._removeItem(itemToRemove);\n\n    this._triggerChange(itemToRemove.value);\n\n    if (this._isSelectOneElement && this._store.placeholderChoice) {\n      this._selectPlaceholderChoice(this._store.placeholderChoice);\n    }\n  };\n\n  Choices.prototype._handleItemAction = function (activeItems, element, hasShiftKey) {\n    var _this = this;\n\n    if (hasShiftKey === void 0) {\n      hasShiftKey = false;\n    }\n\n    if (!activeItems || !element || !this.config.removeItems || this._isSelectOneElement) {\n      return;\n    }\n\n    var passedId = element.dataset.id; // We only want to select one item with a click\n    // so we deselect any items that aren't the target\n    // unless shift is being pressed\n\n    activeItems.forEach(function (item) {\n      if (item.id === parseInt(\"\".concat(passedId), 10) && !item.highlighted) {\n        _this.highlightItem(item);\n      } else if (!hasShiftKey && item.highlighted) {\n        _this.unhighlightItem(item);\n      }\n    }); // Focus input as without focus, a user cannot do anything with a\n    // highlighted item\n\n    this.input.focus();\n  };\n\n  Choices.prototype._handleChoiceAction = function (activeItems, element) {\n    if (!activeItems || !element) {\n      return;\n    } // If we are clicking on an option\n\n\n    var id = element.dataset.id;\n\n    var choice = id && this._store.getChoiceById(id);\n\n    if (!choice) {\n      return;\n    }\n\n    var passedKeyCode = activeItems[0] && activeItems[0].keyCode ? activeItems[0].keyCode : undefined;\n    var hasActiveDropdown = this.dropdown.isActive; // Update choice keyCode\n\n    choice.keyCode = passedKeyCode;\n    this.passedElement.triggerEvent(constants_1.EVENTS.choice, {\n      choice: choice\n    });\n\n    if (!choice.selected && !choice.disabled) {\n      var canAddItem = this._canAddItem(activeItems, choice.value);\n\n      if (canAddItem.response) {\n        this._addItem({\n          value: choice.value,\n          label: choice.label,\n          choiceId: choice.id,\n          groupId: choice.groupId,\n          customProperties: choice.customProperties,\n          placeholder: choice.placeholder,\n          keyCode: choice.keyCode\n        });\n\n        this._triggerChange(choice.value);\n      }\n    }\n\n    this.clearInput(); // We want to close the dropdown if we are dealing with a single select box\n\n    if (hasActiveDropdown && this._isSelectOneElement) {\n      this.hideDropdown(true);\n      this.containerOuter.focus();\n    }\n  };\n\n  Choices.prototype._handleBackspace = function (activeItems) {\n    if (!this.config.removeItems || !activeItems) {\n      return;\n    }\n\n    var lastItem = activeItems[activeItems.length - 1];\n    var hasHighlightedItems = activeItems.some(function (item) {\n      return item.highlighted;\n    }); // If editing the last item is allowed and there are not other selected items,\n    // we can edit the item value. Otherwise if we can remove items, remove all selected items\n\n    if (this.config.editItems && !hasHighlightedItems && lastItem) {\n      this.input.value = lastItem.value;\n      this.input.setWidth();\n\n      this._removeItem(lastItem);\n\n      this._triggerChange(lastItem.value);\n    } else {\n      if (!hasHighlightedItems) {\n        // Highlight last item if none already highlighted\n        this.highlightItem(lastItem, false);\n      }\n\n      this.removeHighlightedItems(true);\n    }\n  };\n\n  Choices.prototype._startLoading = function () {\n    this._store.dispatch((0, misc_1.setIsLoading)(true));\n  };\n\n  Choices.prototype._stopLoading = function () {\n    this._store.dispatch((0, misc_1.setIsLoading)(false));\n  };\n\n  Choices.prototype._handleLoadingState = function (setLoading) {\n    if (setLoading === void 0) {\n      setLoading = true;\n    }\n\n    var placeholderItem = this.itemList.getChild(\".\".concat(this.config.classNames.placeholder));\n\n    if (setLoading) {\n      this.disable();\n      this.containerOuter.addLoadingState();\n\n      if (this._isSelectOneElement) {\n        if (!placeholderItem) {\n          placeholderItem = this._getTemplate('placeholder', this.config.loadingText);\n\n          if (placeholderItem) {\n            this.itemList.append(placeholderItem);\n          }\n        } else {\n          placeholderItem.innerHTML = this.config.loadingText;\n        }\n      } else {\n        this.input.placeholder = this.config.loadingText;\n      }\n    } else {\n      this.enable();\n      this.containerOuter.removeLoadingState();\n\n      if (this._isSelectOneElement) {\n        if (placeholderItem) {\n          placeholderItem.innerHTML = this._placeholderValue || '';\n        }\n      } else {\n        this.input.placeholder = this._placeholderValue || '';\n      }\n    }\n  };\n\n  Choices.prototype._handleSearch = function (value) {\n    if (!this.input.isFocussed) {\n      return;\n    }\n\n    var choices = this._store.choices;\n    var _a = this.config,\n        searchFloor = _a.searchFloor,\n        searchChoices = _a.searchChoices;\n    var hasUnactiveChoices = choices.some(function (option) {\n      return !option.active;\n    }); // Check that we have a value to search and the input was an alphanumeric character\n\n    if (value !== null && typeof value !== 'undefined' && value.length >= searchFloor) {\n      var resultCount = searchChoices ? this._searchChoices(value) : 0; // Trigger search event\n\n      this.passedElement.triggerEvent(constants_1.EVENTS.search, {\n        value: value,\n        resultCount: resultCount\n      });\n    } else if (hasUnactiveChoices) {\n      // Otherwise reset choices to active\n      this._isSearching = false;\n\n      this._store.dispatch((0, choices_1.activateChoices)(true));\n    }\n  };\n\n  Choices.prototype._canAddItem = function (activeItems, value) {\n    var canAddItem = true;\n    var notice = typeof this.config.addItemText === 'function' ? this.config.addItemText(value) : this.config.addItemText;\n\n    if (!this._isSelectOneElement) {\n      var isDuplicateValue = (0, utils_1.existsInArray)(activeItems, value);\n\n      if (this.config.maxItemCount > 0 && this.config.maxItemCount <= activeItems.length) {\n        // If there is a max entry limit and we have reached that limit\n        // don't update\n        canAddItem = false;\n        notice = typeof this.config.maxItemText === 'function' ? this.config.maxItemText(this.config.maxItemCount) : this.config.maxItemText;\n      }\n\n      if (!this.config.duplicateItemsAllowed && isDuplicateValue && canAddItem) {\n        canAddItem = false;\n        notice = typeof this.config.uniqueItemText === 'function' ? this.config.uniqueItemText(value) : this.config.uniqueItemText;\n      }\n\n      if (this._isTextElement && this.config.addItems && canAddItem && typeof this.config.addItemFilter === 'function' && !this.config.addItemFilter(value)) {\n        canAddItem = false;\n        notice = typeof this.config.customAddItemText === 'function' ? this.config.customAddItemText(value) : this.config.customAddItemText;\n      }\n    }\n\n    return {\n      response: canAddItem,\n      notice: notice\n    };\n  };\n\n  Choices.prototype._searchChoices = function (value) {\n    var newValue = typeof value === 'string' ? value.trim() : value;\n    var currentValue = typeof this._currentValue === 'string' ? this._currentValue.trim() : this._currentValue;\n\n    if (newValue.length < 1 && newValue === \"\".concat(currentValue, \" \")) {\n      return 0;\n    } // If new value matches the desired length and is not the same as the current value with a space\n\n\n    var haystack = this._store.searchableChoices;\n    var needle = newValue;\n    var options = Object.assign(this.config.fuseOptions, {\n      keys: __spreadArray([], this.config.searchFields, true),\n      includeMatches: true\n    });\n    var fuse = new fuse_js_1.default(haystack, options);\n    var results = fuse.search(needle); // see https://github.com/krisk/Fuse/issues/303\n\n    this._currentValue = newValue;\n    this._highlightPosition = 0;\n    this._isSearching = true;\n\n    this._store.dispatch((0, choices_1.filterChoices)(results));\n\n    return results.length;\n  };\n\n  Choices.prototype._addEventListeners = function () {\n    var documentElement = document.documentElement; // capture events - can cancel event processing or propagation\n\n    documentElement.addEventListener('touchend', this._onTouchEnd, true);\n    this.containerOuter.element.addEventListener('keydown', this._onKeyDown, true);\n    this.containerOuter.element.addEventListener('mousedown', this._onMouseDown, true); // passive events - doesn't call `preventDefault` or `stopPropagation`\n\n    documentElement.addEventListener('click', this._onClick, {\n      passive: true\n    });\n    documentElement.addEventListener('touchmove', this._onTouchMove, {\n      passive: true\n    });\n    this.dropdown.element.addEventListener('mouseover', this._onMouseOver, {\n      passive: true\n    });\n\n    if (this._isSelectOneElement) {\n      this.containerOuter.element.addEventListener('focus', this._onFocus, {\n        passive: true\n      });\n      this.containerOuter.element.addEventListener('blur', this._onBlur, {\n        passive: true\n      });\n    }\n\n    this.input.element.addEventListener('keyup', this._onKeyUp, {\n      passive: true\n    });\n    this.input.element.addEventListener('focus', this._onFocus, {\n      passive: true\n    });\n    this.input.element.addEventListener('blur', this._onBlur, {\n      passive: true\n    });\n\n    if (this.input.element.form) {\n      this.input.element.form.addEventListener('reset', this._onFormReset, {\n        passive: true\n      });\n    }\n\n    this.input.addEventListeners();\n  };\n\n  Choices.prototype._removeEventListeners = function () {\n    var documentElement = document.documentElement;\n    documentElement.removeEventListener('touchend', this._onTouchEnd, true);\n    this.containerOuter.element.removeEventListener('keydown', this._onKeyDown, true);\n    this.containerOuter.element.removeEventListener('mousedown', this._onMouseDown, true);\n    documentElement.removeEventListener('click', this._onClick);\n    documentElement.removeEventListener('touchmove', this._onTouchMove);\n    this.dropdown.element.removeEventListener('mouseover', this._onMouseOver);\n\n    if (this._isSelectOneElement) {\n      this.containerOuter.element.removeEventListener('focus', this._onFocus);\n      this.containerOuter.element.removeEventListener('blur', this._onBlur);\n    }\n\n    this.input.element.removeEventListener('keyup', this._onKeyUp);\n    this.input.element.removeEventListener('focus', this._onFocus);\n    this.input.element.removeEventListener('blur', this._onBlur);\n\n    if (this.input.element.form) {\n      this.input.element.form.removeEventListener('reset', this._onFormReset);\n    }\n\n    this.input.removeEventListeners();\n  };\n\n  Choices.prototype._onKeyDown = function (event) {\n    var keyCode = event.keyCode;\n    var activeItems = this._store.activeItems;\n    var hasFocusedInput = this.input.isFocussed;\n    var hasActiveDropdown = this.dropdown.isActive;\n    var hasItems = this.itemList.hasChildren();\n    var keyString = String.fromCharCode(keyCode);\n    var wasAlphaNumericChar = /[a-zA-Z0-9-_ ]/.test(keyString);\n    var BACK_KEY = constants_1.KEY_CODES.BACK_KEY,\n        DELETE_KEY = constants_1.KEY_CODES.DELETE_KEY,\n        ENTER_KEY = constants_1.KEY_CODES.ENTER_KEY,\n        A_KEY = constants_1.KEY_CODES.A_KEY,\n        ESC_KEY = constants_1.KEY_CODES.ESC_KEY,\n        UP_KEY = constants_1.KEY_CODES.UP_KEY,\n        DOWN_KEY = constants_1.KEY_CODES.DOWN_KEY,\n        PAGE_UP_KEY = constants_1.KEY_CODES.PAGE_UP_KEY,\n        PAGE_DOWN_KEY = constants_1.KEY_CODES.PAGE_DOWN_KEY;\n\n    if (!this._isTextElement && !hasActiveDropdown && wasAlphaNumericChar) {\n      this.showDropdown();\n\n      if (!this.input.isFocussed) {\n        /*\n          We update the input value with the pressed key as\n          the input was not focussed at the time of key press\n          therefore does not have the value of the key.\n        */\n        this.input.value += keyString.toLowerCase();\n      }\n    }\n\n    switch (keyCode) {\n      case A_KEY:\n        return this._onSelectKey(event, hasItems);\n\n      case ENTER_KEY:\n        return this._onEnterKey(event, activeItems, hasActiveDropdown);\n\n      case ESC_KEY:\n        return this._onEscapeKey(hasActiveDropdown);\n\n      case UP_KEY:\n      case PAGE_UP_KEY:\n      case DOWN_KEY:\n      case PAGE_DOWN_KEY:\n        return this._onDirectionKey(event, hasActiveDropdown);\n\n      case DELETE_KEY:\n      case BACK_KEY:\n        return this._onDeleteKey(event, activeItems, hasFocusedInput);\n\n      default:\n    }\n  };\n\n  Choices.prototype._onKeyUp = function (_a) {\n    var target = _a.target,\n        keyCode = _a.keyCode;\n    var value = this.input.value;\n    var activeItems = this._store.activeItems;\n\n    var canAddItem = this._canAddItem(activeItems, value);\n\n    var backKey = constants_1.KEY_CODES.BACK_KEY,\n        deleteKey = constants_1.KEY_CODES.DELETE_KEY; // We are typing into a text input and have a value, we want to show a dropdown\n    // notice. Otherwise hide the dropdown\n\n    if (this._isTextElement) {\n      var canShowDropdownNotice = canAddItem.notice && value;\n\n      if (canShowDropdownNotice) {\n        var dropdownItem = this._getTemplate('notice', canAddItem.notice);\n\n        this.dropdown.element.innerHTML = dropdownItem.outerHTML;\n        this.showDropdown(true);\n      } else {\n        this.hideDropdown(true);\n      }\n    } else {\n      var wasRemovalKeyCode = keyCode === backKey || keyCode === deleteKey;\n      var userHasRemovedValue = wasRemovalKeyCode && target && !target.value;\n      var canReactivateChoices = !this._isTextElement && this._isSearching;\n      var canSearch = this._canSearch && canAddItem.response;\n\n      if (userHasRemovedValue && canReactivateChoices) {\n        this._isSearching = false;\n\n        this._store.dispatch((0, choices_1.activateChoices)(true));\n      } else if (canSearch) {\n        this._handleSearch(this.input.rawValue);\n      }\n    }\n\n    this._canSearch = this.config.searchEnabled;\n  };\n\n  Choices.prototype._onSelectKey = function (event, hasItems) {\n    var ctrlKey = event.ctrlKey,\n        metaKey = event.metaKey;\n    var hasCtrlDownKeyPressed = ctrlKey || metaKey; // If CTRL + A or CMD + A have been pressed and there are items to select\n\n    if (hasCtrlDownKeyPressed && hasItems) {\n      this._canSearch = false;\n      var shouldHightlightAll = this.config.removeItems && !this.input.value && this.input.element === document.activeElement;\n\n      if (shouldHightlightAll) {\n        this.highlightAll();\n      }\n    }\n  };\n\n  Choices.prototype._onEnterKey = function (event, activeItems, hasActiveDropdown) {\n    var target = event.target;\n    var enterKey = constants_1.KEY_CODES.ENTER_KEY;\n    var targetWasButton = target && target.hasAttribute('data-button');\n\n    if (this._isTextElement && target && target.value) {\n      var value = this.input.value;\n\n      var canAddItem = this._canAddItem(activeItems, value);\n\n      if (canAddItem.response) {\n        this.hideDropdown(true);\n\n        this._addItem({\n          value: value\n        });\n\n        this._triggerChange(value);\n\n        this.clearInput();\n      }\n    }\n\n    if (targetWasButton) {\n      this._handleButtonAction(activeItems, target);\n\n      event.preventDefault();\n    }\n\n    if (hasActiveDropdown) {\n      var highlightedChoice = this.dropdown.getChild(\".\".concat(this.config.classNames.highlightedState));\n\n      if (highlightedChoice) {\n        // add enter keyCode value\n        if (activeItems[0]) {\n          activeItems[0].keyCode = enterKey; // eslint-disable-line no-param-reassign\n        }\n\n        this._handleChoiceAction(activeItems, highlightedChoice);\n      }\n\n      event.preventDefault();\n    } else if (this._isSelectOneElement) {\n      this.showDropdown();\n      event.preventDefault();\n    }\n  };\n\n  Choices.prototype._onEscapeKey = function (hasActiveDropdown) {\n    if (hasActiveDropdown) {\n      this.hideDropdown(true);\n      this.containerOuter.focus();\n    }\n  };\n\n  Choices.prototype._onDirectionKey = function (event, hasActiveDropdown) {\n    var keyCode = event.keyCode,\n        metaKey = event.metaKey;\n    var downKey = constants_1.KEY_CODES.DOWN_KEY,\n        pageUpKey = constants_1.KEY_CODES.PAGE_UP_KEY,\n        pageDownKey = constants_1.KEY_CODES.PAGE_DOWN_KEY; // If up or down key is pressed, traverse through options\n\n    if (hasActiveDropdown || this._isSelectOneElement) {\n      this.showDropdown();\n      this._canSearch = false;\n      var directionInt = keyCode === downKey || keyCode === pageDownKey ? 1 : -1;\n      var skipKey = metaKey || keyCode === pageDownKey || keyCode === pageUpKey;\n      var selectableChoiceIdentifier = '[data-choice-selectable]';\n      var nextEl = void 0;\n\n      if (skipKey) {\n        if (directionInt > 0) {\n          nextEl = this.dropdown.element.querySelector(\"\".concat(selectableChoiceIdentifier, \":last-of-type\"));\n        } else {\n          nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n        }\n      } else {\n        var currentEl = this.dropdown.element.querySelector(\".\".concat(this.config.classNames.highlightedState));\n\n        if (currentEl) {\n          nextEl = (0, utils_1.getAdjacentEl)(currentEl, selectableChoiceIdentifier, directionInt);\n        } else {\n          nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n        }\n      }\n\n      if (nextEl) {\n        // We prevent default to stop the cursor moving\n        // when pressing the arrow\n        if (!(0, utils_1.isScrolledIntoView)(nextEl, this.choiceList.element, directionInt)) {\n          this.choiceList.scrollToChildElement(nextEl, directionInt);\n        }\n\n        this._highlightChoice(nextEl);\n      } // Prevent default to maintain cursor position whilst\n      // traversing dropdown options\n\n\n      event.preventDefault();\n    }\n  };\n\n  Choices.prototype._onDeleteKey = function (event, activeItems, hasFocusedInput) {\n    var target = event.target; // If backspace or delete key is pressed and the input has no value\n\n    if (!this._isSelectOneElement && !target.value && hasFocusedInput) {\n      this._handleBackspace(activeItems);\n\n      event.preventDefault();\n    }\n  };\n\n  Choices.prototype._onTouchMove = function () {\n    if (this._wasTap) {\n      this._wasTap = false;\n    }\n  };\n\n  Choices.prototype._onTouchEnd = function (event) {\n    var target = (event || event.touches[0]).target;\n    var touchWasWithinContainer = this._wasTap && this.containerOuter.element.contains(target);\n\n    if (touchWasWithinContainer) {\n      var containerWasExactTarget = target === this.containerOuter.element || target === this.containerInner.element;\n\n      if (containerWasExactTarget) {\n        if (this._isTextElement) {\n          this.input.focus();\n        } else if (this._isSelectMultipleElement) {\n          this.showDropdown();\n        }\n      } // Prevents focus event firing\n\n\n      event.stopPropagation();\n    }\n\n    this._wasTap = true;\n  };\n  /**\n   * Handles mousedown event in capture mode for containetOuter.element\n   */\n\n\n  Choices.prototype._onMouseDown = function (event) {\n    var target = event.target;\n\n    if (!(target instanceof HTMLElement)) {\n      return;\n    } // If we have our mouse down on the scrollbar and are on IE11...\n\n\n    if (IS_IE11 && this.choiceList.element.contains(target)) {\n      // check if click was on a scrollbar area\n      var firstChoice = this.choiceList.element.firstElementChild;\n      var isOnScrollbar = this._direction === 'ltr' ? event.offsetX >= firstChoice.offsetWidth : event.offsetX < firstChoice.offsetLeft;\n      this._isScrollingOnIe = isOnScrollbar;\n    }\n\n    if (target === this.input.element) {\n      return;\n    }\n\n    var item = target.closest('[data-button],[data-item],[data-choice]');\n\n    if (item instanceof HTMLElement) {\n      var hasShiftKey = event.shiftKey;\n      var activeItems = this._store.activeItems;\n      var dataset = item.dataset;\n\n      if ('button' in dataset) {\n        this._handleButtonAction(activeItems, item);\n      } else if ('item' in dataset) {\n        this._handleItemAction(activeItems, item, hasShiftKey);\n      } else if ('choice' in dataset) {\n        this._handleChoiceAction(activeItems, item);\n      }\n    }\n\n    event.preventDefault();\n  };\n  /**\n   * Handles mouseover event over this.dropdown\n   * @param {MouseEvent} event\n   */\n\n\n  Choices.prototype._onMouseOver = function (_a) {\n    var target = _a.target;\n\n    if (target instanceof HTMLElement && 'choice' in target.dataset) {\n      this._highlightChoice(target);\n    }\n  };\n\n  Choices.prototype._onClick = function (_a) {\n    var target = _a.target;\n    var clickWasWithinContainer = this.containerOuter.element.contains(target);\n\n    if (clickWasWithinContainer) {\n      if (!this.dropdown.isActive && !this.containerOuter.isDisabled) {\n        if (this._isTextElement) {\n          if (document.activeElement !== this.input.element) {\n            this.input.focus();\n          }\n        } else {\n          this.showDropdown();\n          this.containerOuter.focus();\n        }\n      } else if (this._isSelectOneElement && target !== this.input.element && !this.dropdown.element.contains(target)) {\n        this.hideDropdown();\n      }\n    } else {\n      var hasHighlightedItems = this._store.highlightedActiveItems.length > 0;\n\n      if (hasHighlightedItems) {\n        this.unhighlightAll();\n      }\n\n      this.containerOuter.removeFocusState();\n      this.hideDropdown(true);\n    }\n  };\n\n  Choices.prototype._onFocus = function (_a) {\n    var _b;\n\n    var _this = this;\n\n    var target = _a.target;\n    var focusWasWithinContainer = target && this.containerOuter.element.contains(target);\n\n    if (!focusWasWithinContainer) {\n      return;\n    }\n\n    var focusActions = (_b = {}, _b[constants_1.TEXT_TYPE] = function () {\n      if (target === _this.input.element) {\n        _this.containerOuter.addFocusState();\n      }\n    }, _b[constants_1.SELECT_ONE_TYPE] = function () {\n      _this.containerOuter.addFocusState();\n\n      if (target === _this.input.element) {\n        _this.showDropdown(true);\n      }\n    }, _b[constants_1.SELECT_MULTIPLE_TYPE] = function () {\n      if (target === _this.input.element) {\n        _this.showDropdown(true); // If element is a select box, the focused element is the container and the dropdown\n        // isn't already open, focus and show dropdown\n\n\n        _this.containerOuter.addFocusState();\n      }\n    }, _b);\n    focusActions[this.passedElement.element.type]();\n  };\n\n  Choices.prototype._onBlur = function (_a) {\n    var _b;\n\n    var _this = this;\n\n    var target = _a.target;\n    var blurWasWithinContainer = target && this.containerOuter.element.contains(target);\n\n    if (blurWasWithinContainer && !this._isScrollingOnIe) {\n      var activeItems = this._store.activeItems;\n      var hasHighlightedItems_1 = activeItems.some(function (item) {\n        return item.highlighted;\n      });\n      var blurActions = (_b = {}, _b[constants_1.TEXT_TYPE] = function () {\n        if (target === _this.input.element) {\n          _this.containerOuter.removeFocusState();\n\n          if (hasHighlightedItems_1) {\n            _this.unhighlightAll();\n          }\n\n          _this.hideDropdown(true);\n        }\n      }, _b[constants_1.SELECT_ONE_TYPE] = function () {\n        _this.containerOuter.removeFocusState();\n\n        if (target === _this.input.element || target === _this.containerOuter.element && !_this._canSearch) {\n          _this.hideDropdown(true);\n        }\n      }, _b[constants_1.SELECT_MULTIPLE_TYPE] = function () {\n        if (target === _this.input.element) {\n          _this.containerOuter.removeFocusState();\n\n          _this.hideDropdown(true);\n\n          if (hasHighlightedItems_1) {\n            _this.unhighlightAll();\n          }\n        }\n      }, _b);\n      blurActions[this.passedElement.element.type]();\n    } else {\n      // On IE11, clicking the scollbar blurs our input and thus\n      // closes the dropdown. To stop this, we refocus our input\n      // if we know we are on IE *and* are scrolling.\n      this._isScrollingOnIe = false;\n      this.input.element.focus();\n    }\n  };\n\n  Choices.prototype._onFormReset = function () {\n    this._store.dispatch((0, misc_1.resetTo)(this._initialState));\n  };\n\n  Choices.prototype._highlightChoice = function (el) {\n    var _this = this;\n\n    if (el === void 0) {\n      el = null;\n    }\n\n    var choices = Array.from(this.dropdown.element.querySelectorAll('[data-choice-selectable]'));\n\n    if (!choices.length) {\n      return;\n    }\n\n    var passedEl = el;\n    var highlightedChoices = Array.from(this.dropdown.element.querySelectorAll(\".\".concat(this.config.classNames.highlightedState))); // Remove any highlighted choices\n\n    highlightedChoices.forEach(function (choice) {\n      choice.classList.remove(_this.config.classNames.highlightedState);\n      choice.setAttribute('aria-selected', 'false');\n    });\n\n    if (passedEl) {\n      this._highlightPosition = choices.indexOf(passedEl);\n    } else {\n      // Highlight choice based on last known highlight location\n      if (choices.length > this._highlightPosition) {\n        // If we have an option to highlight\n        passedEl = choices[this._highlightPosition];\n      } else {\n        // Otherwise highlight the option before\n        passedEl = choices[choices.length - 1];\n      }\n\n      if (!passedEl) {\n        passedEl = choices[0];\n      }\n    }\n\n    passedEl.classList.add(this.config.classNames.highlightedState);\n    passedEl.setAttribute('aria-selected', 'true');\n    this.passedElement.triggerEvent(constants_1.EVENTS.highlightChoice, {\n      el: passedEl\n    });\n\n    if (this.dropdown.isActive) {\n      // IE11 ignores aria-label and blocks virtual keyboard\n      // if aria-activedescendant is set without a dropdown\n      this.input.setActiveDescendant(passedEl.id);\n      this.containerOuter.setActiveDescendant(passedEl.id);\n    }\n  };\n\n  Choices.prototype._addItem = function (_a) {\n    var value = _a.value,\n        _b = _a.label,\n        label = _b === void 0 ? null : _b,\n        _c = _a.choiceId,\n        choiceId = _c === void 0 ? -1 : _c,\n        _d = _a.groupId,\n        groupId = _d === void 0 ? -1 : _d,\n        _e = _a.customProperties,\n        customProperties = _e === void 0 ? {} : _e,\n        _f = _a.placeholder,\n        placeholder = _f === void 0 ? false : _f,\n        _g = _a.keyCode,\n        keyCode = _g === void 0 ? -1 : _g;\n    var passedValue = typeof value === 'string' ? value.trim() : value;\n    var items = this._store.items;\n    var passedLabel = label || passedValue;\n    var passedOptionId = choiceId || -1;\n    var group = groupId >= 0 ? this._store.getGroupById(groupId) : null;\n    var id = items ? items.length + 1 : 1; // If a prepended value has been passed, prepend it\n\n    if (this.config.prependValue) {\n      passedValue = this.config.prependValue + passedValue.toString();\n    } // If an appended value has been passed, append it\n\n\n    if (this.config.appendValue) {\n      passedValue += this.config.appendValue.toString();\n    }\n\n    this._store.dispatch((0, items_1.addItem)({\n      value: passedValue,\n      label: passedLabel,\n      id: id,\n      choiceId: passedOptionId,\n      groupId: groupId,\n      customProperties: customProperties,\n      placeholder: placeholder,\n      keyCode: keyCode\n    }));\n\n    if (this._isSelectOneElement) {\n      this.removeActiveItems(id);\n    } // Trigger change event\n\n\n    this.passedElement.triggerEvent(constants_1.EVENTS.addItem, {\n      id: id,\n      value: passedValue,\n      label: passedLabel,\n      customProperties: customProperties,\n      groupValue: group && group.value ? group.value : null,\n      keyCode: keyCode\n    });\n  };\n\n  Choices.prototype._removeItem = function (item) {\n    var id = item.id,\n        value = item.value,\n        label = item.label,\n        customProperties = item.customProperties,\n        choiceId = item.choiceId,\n        groupId = item.groupId;\n    var group = groupId && groupId >= 0 ? this._store.getGroupById(groupId) : null;\n\n    if (!id || !choiceId) {\n      return;\n    }\n\n    this._store.dispatch((0, items_1.removeItem)(id, choiceId));\n\n    this.passedElement.triggerEvent(constants_1.EVENTS.removeItem, {\n      id: id,\n      value: value,\n      label: label,\n      customProperties: customProperties,\n      groupValue: group && group.value ? group.value : null\n    });\n  };\n\n  Choices.prototype._addChoice = function (_a) {\n    var value = _a.value,\n        _b = _a.label,\n        label = _b === void 0 ? null : _b,\n        _c = _a.isSelected,\n        isSelected = _c === void 0 ? false : _c,\n        _d = _a.isDisabled,\n        isDisabled = _d === void 0 ? false : _d,\n        _e = _a.groupId,\n        groupId = _e === void 0 ? -1 : _e,\n        _f = _a.customProperties,\n        customProperties = _f === void 0 ? {} : _f,\n        _g = _a.placeholder,\n        placeholder = _g === void 0 ? false : _g,\n        _h = _a.keyCode,\n        keyCode = _h === void 0 ? -1 : _h;\n\n    if (typeof value === 'undefined' || value === null) {\n      return;\n    } // Generate unique id\n\n\n    var choices = this._store.choices;\n    var choiceLabel = label || value;\n    var choiceId = choices ? choices.length + 1 : 1;\n    var choiceElementId = \"\".concat(this._baseId, \"-\").concat(this._idNames.itemChoice, \"-\").concat(choiceId);\n\n    this._store.dispatch((0, choices_1.addChoice)({\n      id: choiceId,\n      groupId: groupId,\n      elementId: choiceElementId,\n      value: value,\n      label: choiceLabel,\n      disabled: isDisabled,\n      customProperties: customProperties,\n      placeholder: placeholder,\n      keyCode: keyCode\n    }));\n\n    if (isSelected) {\n      this._addItem({\n        value: value,\n        label: choiceLabel,\n        choiceId: choiceId,\n        customProperties: customProperties,\n        placeholder: placeholder,\n        keyCode: keyCode\n      });\n    }\n  };\n\n  Choices.prototype._addGroup = function (_a) {\n    var _this = this;\n\n    var group = _a.group,\n        id = _a.id,\n        _b = _a.valueKey,\n        valueKey = _b === void 0 ? 'value' : _b,\n        _c = _a.labelKey,\n        labelKey = _c === void 0 ? 'label' : _c;\n    var groupChoices = (0, utils_1.isType)('Object', group) ? group.choices : Array.from(group.getElementsByTagName('OPTION'));\n    var groupId = id || Math.floor(new Date().valueOf() * Math.random());\n    var isDisabled = group.disabled ? group.disabled : false;\n\n    if (groupChoices) {\n      this._store.dispatch((0, groups_1.addGroup)({\n        value: group.label,\n        id: groupId,\n        active: true,\n        disabled: isDisabled\n      }));\n\n      var addGroupChoices = function (choice) {\n        var isOptDisabled = choice.disabled || choice.parentNode && choice.parentNode.disabled;\n\n        _this._addChoice({\n          value: choice[valueKey],\n          label: (0, utils_1.isType)('Object', choice) ? choice[labelKey] : choice.innerHTML,\n          isSelected: choice.selected,\n          isDisabled: isOptDisabled,\n          groupId: groupId,\n          customProperties: choice.customProperties,\n          placeholder: choice.placeholder\n        });\n      };\n\n      groupChoices.forEach(addGroupChoices);\n    } else {\n      this._store.dispatch((0, groups_1.addGroup)({\n        value: group.label,\n        id: group.id,\n        active: false,\n        disabled: group.disabled\n      }));\n    }\n  };\n\n  Choices.prototype._getTemplate = function (template) {\n    var _a;\n\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    return (_a = this._templates[template]).call.apply(_a, __spreadArray([this, this.config], args, false));\n  };\n\n  Choices.prototype._createTemplates = function () {\n    var callbackOnCreateTemplates = this.config.callbackOnCreateTemplates;\n    var userTemplates = {};\n\n    if (callbackOnCreateTemplates && typeof callbackOnCreateTemplates === 'function') {\n      userTemplates = callbackOnCreateTemplates.call(this, utils_1.strToEl);\n    }\n\n    this._templates = (0, deepmerge_1.default)(templates_1.default, userTemplates);\n  };\n\n  Choices.prototype._createElements = function () {\n    this.containerOuter = new components_1.Container({\n      element: this._getTemplate('containerOuter', this._direction, this._isSelectElement, this._isSelectOneElement, this.config.searchEnabled, this.passedElement.element.type, this.config.labelId),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type,\n      position: this.config.position\n    });\n    this.containerInner = new components_1.Container({\n      element: this._getTemplate('containerInner'),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type,\n      position: this.config.position\n    });\n    this.input = new components_1.Input({\n      element: this._getTemplate('input', this._placeholderValue),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type,\n      preventPaste: !this.config.paste\n    });\n    this.choiceList = new components_1.List({\n      element: this._getTemplate('choiceList', this._isSelectOneElement)\n    });\n    this.itemList = new components_1.List({\n      element: this._getTemplate('itemList', this._isSelectOneElement)\n    });\n    this.dropdown = new components_1.Dropdown({\n      element: this._getTemplate('dropdown'),\n      classNames: this.config.classNames,\n      type: this.passedElement.element.type\n    });\n  };\n\n  Choices.prototype._createStructure = function () {\n    // Hide original element\n    this.passedElement.conceal(); // Wrap input in container preserving DOM ordering\n\n    this.containerInner.wrap(this.passedElement.element); // Wrapper inner container with outer container\n\n    this.containerOuter.wrap(this.containerInner.element);\n\n    if (this._isSelectOneElement) {\n      this.input.placeholder = this.config.searchPlaceholderValue || '';\n    } else if (this._placeholderValue) {\n      this.input.placeholder = this._placeholderValue;\n      this.input.setWidth();\n    }\n\n    this.containerOuter.element.appendChild(this.containerInner.element);\n    this.containerOuter.element.appendChild(this.dropdown.element);\n    this.containerInner.element.appendChild(this.itemList.element);\n\n    if (!this._isTextElement) {\n      this.dropdown.element.appendChild(this.choiceList.element);\n    }\n\n    if (!this._isSelectOneElement) {\n      this.containerInner.element.appendChild(this.input.element);\n    } else if (this.config.searchEnabled) {\n      this.dropdown.element.insertBefore(this.input.element, this.dropdown.element.firstChild);\n    }\n\n    if (this._isSelectElement) {\n      this._highlightPosition = 0;\n      this._isSearching = false;\n\n      this._startLoading();\n\n      if (this._presetGroups.length) {\n        this._addPredefinedGroups(this._presetGroups);\n      } else {\n        this._addPredefinedChoices(this._presetChoices);\n      }\n\n      this._stopLoading();\n    }\n\n    if (this._isTextElement) {\n      this._addPredefinedItems(this._presetItems);\n    }\n  };\n\n  Choices.prototype._addPredefinedGroups = function (groups) {\n    var _this = this; // If we have a placeholder option\n\n\n    var placeholderChoice = this.passedElement.placeholderOption;\n\n    if (placeholderChoice && placeholderChoice.parentNode && placeholderChoice.parentNode.tagName === 'SELECT') {\n      this._addChoice({\n        value: placeholderChoice.value,\n        label: placeholderChoice.innerHTML,\n        isSelected: placeholderChoice.selected,\n        isDisabled: placeholderChoice.disabled,\n        placeholder: true\n      });\n    }\n\n    groups.forEach(function (group) {\n      return _this._addGroup({\n        group: group,\n        id: group.id || null\n      });\n    });\n  };\n\n  Choices.prototype._addPredefinedChoices = function (choices) {\n    var _this = this; // If sorting is enabled or the user is searching, filter choices\n\n\n    if (this.config.shouldSort) {\n      choices.sort(this.config.sorter);\n    }\n\n    var hasSelectedChoice = choices.some(function (choice) {\n      return choice.selected;\n    });\n    var firstEnabledChoiceIndex = choices.findIndex(function (choice) {\n      return choice.disabled === undefined || !choice.disabled;\n    });\n    choices.forEach(function (choice, index) {\n      var _a = choice.value,\n          value = _a === void 0 ? '' : _a,\n          label = choice.label,\n          customProperties = choice.customProperties,\n          placeholder = choice.placeholder;\n\n      if (_this._isSelectElement) {\n        // If the choice is actually a group\n        if (choice.choices) {\n          _this._addGroup({\n            group: choice,\n            id: choice.id || null\n          });\n        } else {\n          /**\n           * If there is a selected choice already or the choice is not the first in\n           * the array, add each choice normally.\n           *\n           * Otherwise we pre-select the first enabled choice in the array (\"select-one\" only)\n           */\n          var shouldPreselect = _this._isSelectOneElement && !hasSelectedChoice && index === firstEnabledChoiceIndex;\n          var isSelected = shouldPreselect ? true : choice.selected;\n          var isDisabled = choice.disabled;\n\n          _this._addChoice({\n            value: value,\n            label: label,\n            isSelected: !!isSelected,\n            isDisabled: !!isDisabled,\n            placeholder: !!placeholder,\n            customProperties: customProperties\n          });\n        }\n      } else {\n        _this._addChoice({\n          value: value,\n          label: label,\n          isSelected: !!choice.selected,\n          isDisabled: !!choice.disabled,\n          placeholder: !!choice.placeholder,\n          customProperties: customProperties\n        });\n      }\n    });\n  };\n\n  Choices.prototype._addPredefinedItems = function (items) {\n    var _this = this;\n\n    items.forEach(function (item) {\n      if (typeof item === 'object' && item.value) {\n        _this._addItem({\n          value: item.value,\n          label: item.label,\n          choiceId: item.id,\n          customProperties: item.customProperties,\n          placeholder: item.placeholder\n        });\n      }\n\n      if (typeof item === 'string') {\n        _this._addItem({\n          value: item\n        });\n      }\n    });\n  };\n\n  Choices.prototype._setChoiceOrItem = function (item) {\n    var _this = this;\n\n    var itemType = (0, utils_1.getType)(item).toLowerCase();\n    var handleType = {\n      object: function () {\n        if (!item.value) {\n          return;\n        } // If we are dealing with a select input, we need to create an option first\n        // that is then selected. For text inputs we can just add items normally.\n\n\n        if (!_this._isTextElement) {\n          _this._addChoice({\n            value: item.value,\n            label: item.label,\n            isSelected: true,\n            isDisabled: false,\n            customProperties: item.customProperties,\n            placeholder: item.placeholder\n          });\n        } else {\n          _this._addItem({\n            value: item.value,\n            label: item.label,\n            choiceId: item.id,\n            customProperties: item.customProperties,\n            placeholder: item.placeholder\n          });\n        }\n      },\n      string: function () {\n        if (!_this._isTextElement) {\n          _this._addChoice({\n            value: item,\n            label: item,\n            isSelected: true,\n            isDisabled: false\n          });\n        } else {\n          _this._addItem({\n            value: item\n          });\n        }\n      }\n    };\n    handleType[itemType]();\n  };\n\n  Choices.prototype._findAndSelectChoiceByValue = function (value) {\n    var _this = this;\n\n    var choices = this._store.choices; // Check 'value' property exists and the choice isn't already selected\n\n    var foundChoice = choices.find(function (choice) {\n      return _this.config.valueComparer(choice.value, value);\n    });\n\n    if (foundChoice && !foundChoice.selected) {\n      this._addItem({\n        value: foundChoice.value,\n        label: foundChoice.label,\n        choiceId: foundChoice.id,\n        groupId: foundChoice.groupId,\n        customProperties: foundChoice.customProperties,\n        placeholder: foundChoice.placeholder,\n        keyCode: foundChoice.keyCode\n      });\n    }\n  };\n\n  Choices.prototype._generatePlaceholderValue = function () {\n    if (this._isSelectElement && this.passedElement.placeholderOption) {\n      var placeholderOption = this.passedElement.placeholderOption;\n      return placeholderOption ? placeholderOption.text : null;\n    }\n\n    var _a = this.config,\n        placeholder = _a.placeholder,\n        placeholderValue = _a.placeholderValue;\n    var dataset = this.passedElement.element.dataset;\n\n    if (placeholder) {\n      if (placeholderValue) {\n        return placeholderValue;\n      }\n\n      if (dataset.placeholder) {\n        return dataset.placeholder;\n      }\n    }\n\n    return null;\n  };\n\n  return Choices;\n}();\n\nexports[\"default\"] = Choices;\n\n/***/ }),\n\n/***/ 613:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar utils_1 = __webpack_require__(799);\n\nvar constants_1 = __webpack_require__(883);\n\nvar Container =\n/** @class */\nfunction () {\n  function Container(_a) {\n    var element = _a.element,\n        type = _a.type,\n        classNames = _a.classNames,\n        position = _a.position;\n    this.element = element;\n    this.classNames = classNames;\n    this.type = type;\n    this.position = position;\n    this.isOpen = false;\n    this.isFlipped = false;\n    this.isFocussed = false;\n    this.isDisabled = false;\n    this.isLoading = false;\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n  }\n\n  Container.prototype.addEventListeners = function () {\n    this.element.addEventListener('focus', this._onFocus);\n    this.element.addEventListener('blur', this._onBlur);\n  };\n\n  Container.prototype.removeEventListeners = function () {\n    this.element.removeEventListener('focus', this._onFocus);\n    this.element.removeEventListener('blur', this._onBlur);\n  };\n  /**\n   * Determine whether container should be flipped based on passed\n   * dropdown position\n   */\n\n\n  Container.prototype.shouldFlip = function (dropdownPos) {\n    if (typeof dropdownPos !== 'number') {\n      return false;\n    } // If flip is enabled and the dropdown bottom position is\n    // greater than the window height flip the dropdown.\n\n\n    var shouldFlip = false;\n\n    if (this.position === 'auto') {\n      shouldFlip = !window.matchMedia(\"(min-height: \".concat(dropdownPos + 1, \"px)\")).matches;\n    } else if (this.position === 'top') {\n      shouldFlip = true;\n    }\n\n    return shouldFlip;\n  };\n\n  Container.prototype.setActiveDescendant = function (activeDescendantID) {\n    this.element.setAttribute('aria-activedescendant', activeDescendantID);\n  };\n\n  Container.prototype.removeActiveDescendant = function () {\n    this.element.removeAttribute('aria-activedescendant');\n  };\n\n  Container.prototype.open = function (dropdownPos) {\n    this.element.classList.add(this.classNames.openState);\n    this.element.setAttribute('aria-expanded', 'true');\n    this.isOpen = true;\n\n    if (this.shouldFlip(dropdownPos)) {\n      this.element.classList.add(this.classNames.flippedState);\n      this.isFlipped = true;\n    }\n  };\n\n  Container.prototype.close = function () {\n    this.element.classList.remove(this.classNames.openState);\n    this.element.setAttribute('aria-expanded', 'false');\n    this.removeActiveDescendant();\n    this.isOpen = false; // A dropdown flips if it does not have space within the page\n\n    if (this.isFlipped) {\n      this.element.classList.remove(this.classNames.flippedState);\n      this.isFlipped = false;\n    }\n  };\n\n  Container.prototype.focus = function () {\n    if (!this.isFocussed) {\n      this.element.focus();\n    }\n  };\n\n  Container.prototype.addFocusState = function () {\n    this.element.classList.add(this.classNames.focusState);\n  };\n\n  Container.prototype.removeFocusState = function () {\n    this.element.classList.remove(this.classNames.focusState);\n  };\n\n  Container.prototype.enable = function () {\n    this.element.classList.remove(this.classNames.disabledState);\n    this.element.removeAttribute('aria-disabled');\n\n    if (this.type === constants_1.SELECT_ONE_TYPE) {\n      this.element.setAttribute('tabindex', '0');\n    }\n\n    this.isDisabled = false;\n  };\n\n  Container.prototype.disable = function () {\n    this.element.classList.add(this.classNames.disabledState);\n    this.element.setAttribute('aria-disabled', 'true');\n\n    if (this.type === constants_1.SELECT_ONE_TYPE) {\n      this.element.setAttribute('tabindex', '-1');\n    }\n\n    this.isDisabled = true;\n  };\n\n  Container.prototype.wrap = function (element) {\n    (0, utils_1.wrap)(element, this.element);\n  };\n\n  Container.prototype.unwrap = function (element) {\n    if (this.element.parentNode) {\n      // Move passed element outside this element\n      this.element.parentNode.insertBefore(element, this.element); // Remove this element\n\n      this.element.parentNode.removeChild(this.element);\n    }\n  };\n\n  Container.prototype.addLoadingState = function () {\n    this.element.classList.add(this.classNames.loadingState);\n    this.element.setAttribute('aria-busy', 'true');\n    this.isLoading = true;\n  };\n\n  Container.prototype.removeLoadingState = function () {\n    this.element.classList.remove(this.classNames.loadingState);\n    this.element.removeAttribute('aria-busy');\n    this.isLoading = false;\n  };\n\n  Container.prototype._onFocus = function () {\n    this.isFocussed = true;\n  };\n\n  Container.prototype._onBlur = function () {\n    this.isFocussed = false;\n  };\n\n  return Container;\n}();\n\nexports[\"default\"] = Container;\n\n/***/ }),\n\n/***/ 217:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar Dropdown =\n/** @class */\nfunction () {\n  function Dropdown(_a) {\n    var element = _a.element,\n        type = _a.type,\n        classNames = _a.classNames;\n    this.element = element;\n    this.classNames = classNames;\n    this.type = type;\n    this.isActive = false;\n  }\n\n  Object.defineProperty(Dropdown.prototype, \"distanceFromTopWindow\", {\n    /**\n     * Bottom position of dropdown in viewport coordinates\n     */\n    get: function () {\n      return this.element.getBoundingClientRect().bottom;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Dropdown.prototype.getChild = function (selector) {\n    return this.element.querySelector(selector);\n  };\n  /**\n   * Show dropdown to user by adding active state class\n   */\n\n\n  Dropdown.prototype.show = function () {\n    this.element.classList.add(this.classNames.activeState);\n    this.element.setAttribute('aria-expanded', 'true');\n    this.isActive = true;\n    return this;\n  };\n  /**\n   * Hide dropdown from user\n   */\n\n\n  Dropdown.prototype.hide = function () {\n    this.element.classList.remove(this.classNames.activeState);\n    this.element.setAttribute('aria-expanded', 'false');\n    this.isActive = false;\n    return this;\n  };\n\n  return Dropdown;\n}();\n\nexports[\"default\"] = Dropdown;\n\n/***/ }),\n\n/***/ 520:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.WrappedSelect = exports.WrappedInput = exports.List = exports.Input = exports.Container = exports.Dropdown = void 0;\n\nvar dropdown_1 = __importDefault(__webpack_require__(217));\n\nexports.Dropdown = dropdown_1.default;\n\nvar container_1 = __importDefault(__webpack_require__(613));\n\nexports.Container = container_1.default;\n\nvar input_1 = __importDefault(__webpack_require__(11));\n\nexports.Input = input_1.default;\n\nvar list_1 = __importDefault(__webpack_require__(624));\n\nexports.List = list_1.default;\n\nvar wrapped_input_1 = __importDefault(__webpack_require__(541));\n\nexports.WrappedInput = wrapped_input_1.default;\n\nvar wrapped_select_1 = __importDefault(__webpack_require__(982));\n\nexports.WrappedSelect = wrapped_select_1.default;\n\n/***/ }),\n\n/***/ 11:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar utils_1 = __webpack_require__(799);\n\nvar constants_1 = __webpack_require__(883);\n\nvar Input =\n/** @class */\nfunction () {\n  function Input(_a) {\n    var element = _a.element,\n        type = _a.type,\n        classNames = _a.classNames,\n        preventPaste = _a.preventPaste;\n    this.element = element;\n    this.type = type;\n    this.classNames = classNames;\n    this.preventPaste = preventPaste;\n    this.isFocussed = this.element.isEqualNode(document.activeElement);\n    this.isDisabled = element.disabled;\n    this._onPaste = this._onPaste.bind(this);\n    this._onInput = this._onInput.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onBlur = this._onBlur.bind(this);\n  }\n\n  Object.defineProperty(Input.prototype, \"placeholder\", {\n    set: function (placeholder) {\n      this.element.placeholder = placeholder;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Input.prototype, \"value\", {\n    get: function () {\n      return (0, utils_1.sanitise)(this.element.value);\n    },\n    set: function (value) {\n      this.element.value = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Input.prototype, \"rawValue\", {\n    get: function () {\n      return this.element.value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Input.prototype.addEventListeners = function () {\n    this.element.addEventListener('paste', this._onPaste);\n    this.element.addEventListener('input', this._onInput, {\n      passive: true\n    });\n    this.element.addEventListener('focus', this._onFocus, {\n      passive: true\n    });\n    this.element.addEventListener('blur', this._onBlur, {\n      passive: true\n    });\n  };\n\n  Input.prototype.removeEventListeners = function () {\n    this.element.removeEventListener('input', this._onInput);\n    this.element.removeEventListener('paste', this._onPaste);\n    this.element.removeEventListener('focus', this._onFocus);\n    this.element.removeEventListener('blur', this._onBlur);\n  };\n\n  Input.prototype.enable = function () {\n    this.element.removeAttribute('disabled');\n    this.isDisabled = false;\n  };\n\n  Input.prototype.disable = function () {\n    this.element.setAttribute('disabled', '');\n    this.isDisabled = true;\n  };\n\n  Input.prototype.focus = function () {\n    if (!this.isFocussed) {\n      this.element.focus();\n    }\n  };\n\n  Input.prototype.blur = function () {\n    if (this.isFocussed) {\n      this.element.blur();\n    }\n  };\n\n  Input.prototype.clear = function (setWidth) {\n    if (setWidth === void 0) {\n      setWidth = true;\n    }\n\n    if (this.element.value) {\n      this.element.value = '';\n    }\n\n    if (setWidth) {\n      this.setWidth();\n    }\n\n    return this;\n  };\n  /**\n   * Set the correct input width based on placeholder\n   * value or input value\n   */\n\n\n  Input.prototype.setWidth = function () {\n    // Resize input to contents or placeholder\n    var _a = this.element,\n        style = _a.style,\n        value = _a.value,\n        placeholder = _a.placeholder;\n    style.minWidth = \"\".concat(placeholder.length + 1, \"ch\");\n    style.width = \"\".concat(value.length + 1, \"ch\");\n  };\n\n  Input.prototype.setActiveDescendant = function (activeDescendantID) {\n    this.element.setAttribute('aria-activedescendant', activeDescendantID);\n  };\n\n  Input.prototype.removeActiveDescendant = function () {\n    this.element.removeAttribute('aria-activedescendant');\n  };\n\n  Input.prototype._onInput = function () {\n    if (this.type !== constants_1.SELECT_ONE_TYPE) {\n      this.setWidth();\n    }\n  };\n\n  Input.prototype._onPaste = function (event) {\n    if (this.preventPaste) {\n      event.preventDefault();\n    }\n  };\n\n  Input.prototype._onFocus = function () {\n    this.isFocussed = true;\n  };\n\n  Input.prototype._onBlur = function () {\n    this.isFocussed = false;\n  };\n\n  return Input;\n}();\n\nexports[\"default\"] = Input;\n\n/***/ }),\n\n/***/ 624:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar constants_1 = __webpack_require__(883);\n\nvar List =\n/** @class */\nfunction () {\n  function List(_a) {\n    var element = _a.element;\n    this.element = element;\n    this.scrollPos = this.element.scrollTop;\n    this.height = this.element.offsetHeight;\n  }\n\n  List.prototype.clear = function () {\n    this.element.innerHTML = '';\n  };\n\n  List.prototype.append = function (node) {\n    this.element.appendChild(node);\n  };\n\n  List.prototype.getChild = function (selector) {\n    return this.element.querySelector(selector);\n  };\n\n  List.prototype.hasChildren = function () {\n    return this.element.hasChildNodes();\n  };\n\n  List.prototype.scrollToTop = function () {\n    this.element.scrollTop = 0;\n  };\n\n  List.prototype.scrollToChildElement = function (element, direction) {\n    var _this = this;\n\n    if (!element) {\n      return;\n    }\n\n    var listHeight = this.element.offsetHeight; // Scroll position of dropdown\n\n    var listScrollPosition = this.element.scrollTop + listHeight;\n    var elementHeight = element.offsetHeight; // Distance from bottom of element to top of parent\n\n    var elementPos = element.offsetTop + elementHeight; // Difference between the element and scroll position\n\n    var destination = direction > 0 ? this.element.scrollTop + elementPos - listScrollPosition : element.offsetTop;\n    requestAnimationFrame(function () {\n      _this._animateScroll(destination, direction);\n    });\n  };\n\n  List.prototype._scrollDown = function (scrollPos, strength, destination) {\n    var easing = (destination - scrollPos) / strength;\n    var distance = easing > 1 ? easing : 1;\n    this.element.scrollTop = scrollPos + distance;\n  };\n\n  List.prototype._scrollUp = function (scrollPos, strength, destination) {\n    var easing = (scrollPos - destination) / strength;\n    var distance = easing > 1 ? easing : 1;\n    this.element.scrollTop = scrollPos - distance;\n  };\n\n  List.prototype._animateScroll = function (destination, direction) {\n    var _this = this;\n\n    var strength = constants_1.SCROLLING_SPEED;\n    var choiceListScrollTop = this.element.scrollTop;\n    var continueAnimation = false;\n\n    if (direction > 0) {\n      this._scrollDown(choiceListScrollTop, strength, destination);\n\n      if (choiceListScrollTop < destination) {\n        continueAnimation = true;\n      }\n    } else {\n      this._scrollUp(choiceListScrollTop, strength, destination);\n\n      if (choiceListScrollTop > destination) {\n        continueAnimation = true;\n      }\n    }\n\n    if (continueAnimation) {\n      requestAnimationFrame(function () {\n        _this._animateScroll(destination, direction);\n      });\n    }\n  };\n\n  return List;\n}();\n\nexports[\"default\"] = List;\n\n/***/ }),\n\n/***/ 730:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar utils_1 = __webpack_require__(799);\n\nvar WrappedElement =\n/** @class */\nfunction () {\n  function WrappedElement(_a) {\n    var element = _a.element,\n        classNames = _a.classNames;\n    this.element = element;\n    this.classNames = classNames;\n\n    if (!(element instanceof HTMLInputElement) && !(element instanceof HTMLSelectElement)) {\n      throw new TypeError('Invalid element passed');\n    }\n\n    this.isDisabled = false;\n  }\n\n  Object.defineProperty(WrappedElement.prototype, \"isActive\", {\n    get: function () {\n      return this.element.dataset.choice === 'active';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WrappedElement.prototype, \"dir\", {\n    get: function () {\n      return this.element.dir;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WrappedElement.prototype, \"value\", {\n    get: function () {\n      return this.element.value;\n    },\n    set: function (value) {\n      // you must define setter here otherwise it will be readonly property\n      this.element.value = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  WrappedElement.prototype.conceal = function () {\n    // Hide passed input\n    this.element.classList.add(this.classNames.input);\n    this.element.hidden = true; // Remove element from tab index\n\n    this.element.tabIndex = -1; // Backup original styles if any\n\n    var origStyle = this.element.getAttribute('style');\n\n    if (origStyle) {\n      this.element.setAttribute('data-choice-orig-style', origStyle);\n    }\n\n    this.element.setAttribute('data-choice', 'active');\n  };\n\n  WrappedElement.prototype.reveal = function () {\n    // Reinstate passed element\n    this.element.classList.remove(this.classNames.input);\n    this.element.hidden = false;\n    this.element.removeAttribute('tabindex'); // Recover original styles if any\n\n    var origStyle = this.element.getAttribute('data-choice-orig-style');\n\n    if (origStyle) {\n      this.element.removeAttribute('data-choice-orig-style');\n      this.element.setAttribute('style', origStyle);\n    } else {\n      this.element.removeAttribute('style');\n    }\n\n    this.element.removeAttribute('data-choice'); // Re-assign values - this is weird, I know\n    // @todo Figure out why we need to do this\n\n    this.element.value = this.element.value; // eslint-disable-line no-self-assign\n  };\n\n  WrappedElement.prototype.enable = function () {\n    this.element.removeAttribute('disabled');\n    this.element.disabled = false;\n    this.isDisabled = false;\n  };\n\n  WrappedElement.prototype.disable = function () {\n    this.element.setAttribute('disabled', '');\n    this.element.disabled = true;\n    this.isDisabled = true;\n  };\n\n  WrappedElement.prototype.triggerEvent = function (eventType, data) {\n    (0, utils_1.dispatchEvent)(this.element, eventType, data);\n  };\n\n  return WrappedElement;\n}();\n\nexports[\"default\"] = WrappedElement;\n\n/***/ }),\n\n/***/ 541:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar wrapped_element_1 = __importDefault(__webpack_require__(730));\n\nvar WrappedInput =\n/** @class */\nfunction (_super) {\n  __extends(WrappedInput, _super);\n\n  function WrappedInput(_a) {\n    var element = _a.element,\n        classNames = _a.classNames,\n        delimiter = _a.delimiter;\n\n    var _this = _super.call(this, {\n      element: element,\n      classNames: classNames\n    }) || this;\n\n    _this.delimiter = delimiter;\n    return _this;\n  }\n\n  Object.defineProperty(WrappedInput.prototype, \"value\", {\n    get: function () {\n      return this.element.value;\n    },\n    set: function (value) {\n      this.element.setAttribute('value', value);\n      this.element.value = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return WrappedInput;\n}(wrapped_element_1.default);\n\nexports[\"default\"] = WrappedInput;\n\n/***/ }),\n\n/***/ 982:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar wrapped_element_1 = __importDefault(__webpack_require__(730));\n\nvar WrappedSelect =\n/** @class */\nfunction (_super) {\n  __extends(WrappedSelect, _super);\n\n  function WrappedSelect(_a) {\n    var element = _a.element,\n        classNames = _a.classNames,\n        template = _a.template;\n\n    var _this = _super.call(this, {\n      element: element,\n      classNames: classNames\n    }) || this;\n\n    _this.template = template;\n    return _this;\n  }\n\n  Object.defineProperty(WrappedSelect.prototype, \"placeholderOption\", {\n    get: function () {\n      return this.element.querySelector('option[value=\"\"]') || // Backward compatibility layer for the non-standard placeholder attribute supported in older versions.\n      this.element.querySelector('option[placeholder]');\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WrappedSelect.prototype, \"optionGroups\", {\n    get: function () {\n      return Array.from(this.element.getElementsByTagName('OPTGROUP'));\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(WrappedSelect.prototype, \"options\", {\n    get: function () {\n      return Array.from(this.element.options);\n    },\n    set: function (options) {\n      var _this = this;\n\n      var fragment = document.createDocumentFragment();\n\n      var addOptionToFragment = function (data) {\n        // Create a standard select option\n        var option = _this.template(data); // Append it to fragment\n\n\n        fragment.appendChild(option);\n      }; // Add each list item to list\n\n\n      options.forEach(function (optionData) {\n        return addOptionToFragment(optionData);\n      });\n      this.appendDocFragment(fragment);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  WrappedSelect.prototype.appendDocFragment = function (fragment) {\n    this.element.innerHTML = '';\n    this.element.appendChild(fragment);\n  };\n\n  return WrappedSelect;\n}(wrapped_element_1.default);\n\nexports[\"default\"] = WrappedSelect;\n\n/***/ }),\n\n/***/ 883:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SCROLLING_SPEED = exports.SELECT_MULTIPLE_TYPE = exports.SELECT_ONE_TYPE = exports.TEXT_TYPE = exports.KEY_CODES = exports.ACTION_TYPES = exports.EVENTS = void 0;\nexports.EVENTS = {\n  showDropdown: 'showDropdown',\n  hideDropdown: 'hideDropdown',\n  change: 'change',\n  choice: 'choice',\n  search: 'search',\n  addItem: 'addItem',\n  removeItem: 'removeItem',\n  highlightItem: 'highlightItem',\n  highlightChoice: 'highlightChoice',\n  unhighlightItem: 'unhighlightItem'\n};\nexports.ACTION_TYPES = {\n  ADD_CHOICE: 'ADD_CHOICE',\n  FILTER_CHOICES: 'FILTER_CHOICES',\n  ACTIVATE_CHOICES: 'ACTIVATE_CHOICES',\n  CLEAR_CHOICES: 'CLEAR_CHOICES',\n  ADD_GROUP: 'ADD_GROUP',\n  ADD_ITEM: 'ADD_ITEM',\n  REMOVE_ITEM: 'REMOVE_ITEM',\n  HIGHLIGHT_ITEM: 'HIGHLIGHT_ITEM',\n  CLEAR_ALL: 'CLEAR_ALL',\n  RESET_TO: 'RESET_TO',\n  SET_IS_LOADING: 'SET_IS_LOADING'\n};\nexports.KEY_CODES = {\n  BACK_KEY: 46,\n  DELETE_KEY: 8,\n  ENTER_KEY: 13,\n  A_KEY: 65,\n  ESC_KEY: 27,\n  UP_KEY: 38,\n  DOWN_KEY: 40,\n  PAGE_UP_KEY: 33,\n  PAGE_DOWN_KEY: 34\n};\nexports.TEXT_TYPE = 'text';\nexports.SELECT_ONE_TYPE = 'select-one';\nexports.SELECT_MULTIPLE_TYPE = 'select-multiple';\nexports.SCROLLING_SPEED = 4;\n\n/***/ }),\n\n/***/ 789:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.DEFAULT_CONFIG = exports.DEFAULT_CLASSNAMES = void 0;\n\nvar utils_1 = __webpack_require__(799);\n\nexports.DEFAULT_CLASSNAMES = {\n  containerOuter: 'choices',\n  containerInner: 'choices__inner',\n  input: 'choices__input',\n  inputCloned: 'choices__input--cloned',\n  list: 'choices__list',\n  listItems: 'choices__list--multiple',\n  listSingle: 'choices__list--single',\n  listDropdown: 'choices__list--dropdown',\n  item: 'choices__item',\n  itemSelectable: 'choices__item--selectable',\n  itemDisabled: 'choices__item--disabled',\n  itemChoice: 'choices__item--choice',\n  placeholder: 'choices__placeholder',\n  group: 'choices__group',\n  groupHeading: 'choices__heading',\n  button: 'choices__button',\n  activeState: 'is-active',\n  focusState: 'is-focused',\n  openState: 'is-open',\n  disabledState: 'is-disabled',\n  highlightedState: 'is-highlighted',\n  selectedState: 'is-selected',\n  flippedState: 'is-flipped',\n  loadingState: 'is-loading',\n  noResults: 'has-no-results',\n  noChoices: 'has-no-choices'\n};\nexports.DEFAULT_CONFIG = {\n  items: [],\n  choices: [],\n  silent: false,\n  renderChoiceLimit: -1,\n  maxItemCount: -1,\n  addItems: true,\n  addItemFilter: null,\n  removeItems: true,\n  removeItemButton: false,\n  editItems: false,\n  allowHTML: true,\n  duplicateItemsAllowed: true,\n  delimiter: ',',\n  paste: true,\n  searchEnabled: true,\n  searchChoices: true,\n  searchFloor: 1,\n  searchResultLimit: 4,\n  searchFields: ['label', 'value'],\n  position: 'auto',\n  resetScrollPosition: true,\n  shouldSort: true,\n  shouldSortItems: false,\n  sorter: utils_1.sortByAlpha,\n  placeholder: true,\n  placeholderValue: null,\n  searchPlaceholderValue: null,\n  prependValue: null,\n  appendValue: null,\n  renderSelectedChoices: 'auto',\n  loadingText: 'Loading...',\n  noResultsText: 'No results found',\n  noChoicesText: 'No choices to choose from',\n  itemSelectText: 'Press to select',\n  uniqueItemText: 'Only unique values can be added',\n  customAddItemText: 'Only values matching specific conditions can be added',\n  addItemText: function (value) {\n    return \"Press Enter to add <b>\\\"\".concat((0, utils_1.sanitise)(value), \"\\\"</b>\");\n  },\n  maxItemText: function (maxItemCount) {\n    return \"Only \".concat(maxItemCount, \" values can be added\");\n  },\n  valueComparer: function (value1, value2) {\n    return value1 === value2;\n  },\n  fuseOptions: {\n    includeScore: true\n  },\n  labelId: '',\n  callbackOnInit: null,\n  callbackOnCreateTemplates: null,\n  classNames: exports.DEFAULT_CLASSNAMES\n};\n\n/***/ }),\n\n/***/ 18:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 978:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 948:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 359:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 285:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 533:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 187:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __exportStar = this && this.__exportStar || function (m, exports) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n__exportStar(__webpack_require__(18), exports);\n\n__exportStar(__webpack_require__(978), exports);\n\n__exportStar(__webpack_require__(948), exports);\n\n__exportStar(__webpack_require__(359), exports);\n\n__exportStar(__webpack_require__(285), exports);\n\n__exportStar(__webpack_require__(533), exports);\n\n__exportStar(__webpack_require__(287), exports);\n\n__exportStar(__webpack_require__(132), exports);\n\n__exportStar(__webpack_require__(837), exports);\n\n__exportStar(__webpack_require__(598), exports);\n\n__exportStar(__webpack_require__(369), exports);\n\n__exportStar(__webpack_require__(37), exports);\n\n__exportStar(__webpack_require__(47), exports);\n\n__exportStar(__webpack_require__(923), exports);\n\n__exportStar(__webpack_require__(876), exports);\n\n/***/ }),\n\n/***/ 287:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 132:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 837:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 598:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 369:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 47:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 923:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 876:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/***/ }),\n\n/***/ 799:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.diff = exports.cloneObject = exports.existsInArray = exports.dispatchEvent = exports.sortByScore = exports.sortByAlpha = exports.strToEl = exports.sanitise = exports.isScrolledIntoView = exports.getAdjacentEl = exports.wrap = exports.isType = exports.getType = exports.generateId = exports.generateChars = exports.getRandomNumber = void 0;\n\nvar getRandomNumber = function (min, max) {\n  return Math.floor(Math.random() * (max - min) + min);\n};\n\nexports.getRandomNumber = getRandomNumber;\n\nvar generateChars = function (length) {\n  return Array.from({\n    length: length\n  }, function () {\n    return (0, exports.getRandomNumber)(0, 36).toString(36);\n  }).join('');\n};\n\nexports.generateChars = generateChars;\n\nvar generateId = function (element, prefix) {\n  var id = element.id || element.name && \"\".concat(element.name, \"-\").concat((0, exports.generateChars)(2)) || (0, exports.generateChars)(4);\n  id = id.replace(/(:|\\.|\\[|\\]|,)/g, '');\n  id = \"\".concat(prefix, \"-\").concat(id);\n  return id;\n};\n\nexports.generateId = generateId;\n\nvar getType = function (obj) {\n  return Object.prototype.toString.call(obj).slice(8, -1);\n};\n\nexports.getType = getType;\n\nvar isType = function (type, obj) {\n  return obj !== undefined && obj !== null && (0, exports.getType)(obj) === type;\n};\n\nexports.isType = isType;\n\nvar wrap = function (element, wrapper) {\n  if (wrapper === void 0) {\n    wrapper = document.createElement('div');\n  }\n\n  if (element.parentNode) {\n    if (element.nextSibling) {\n      element.parentNode.insertBefore(wrapper, element.nextSibling);\n    } else {\n      element.parentNode.appendChild(wrapper);\n    }\n  }\n\n  return wrapper.appendChild(element);\n};\n\nexports.wrap = wrap;\n\nvar getAdjacentEl = function (startEl, selector, direction) {\n  if (direction === void 0) {\n    direction = 1;\n  }\n\n  var prop = \"\".concat(direction > 0 ? 'next' : 'previous', \"ElementSibling\");\n  var sibling = startEl[prop];\n\n  while (sibling) {\n    if (sibling.matches(selector)) {\n      return sibling;\n    }\n\n    sibling = sibling[prop];\n  }\n\n  return sibling;\n};\n\nexports.getAdjacentEl = getAdjacentEl;\n\nvar isScrolledIntoView = function (element, parent, direction) {\n  if (direction === void 0) {\n    direction = 1;\n  }\n\n  if (!element) {\n    return false;\n  }\n\n  var isVisible;\n\n  if (direction > 0) {\n    // In view from bottom\n    isVisible = parent.scrollTop + parent.offsetHeight >= element.offsetTop + element.offsetHeight;\n  } else {\n    // In view from top\n    isVisible = element.offsetTop >= parent.scrollTop;\n  }\n\n  return isVisible;\n};\n\nexports.isScrolledIntoView = isScrolledIntoView;\n\nvar sanitise = function (value) {\n  if (typeof value !== 'string') {\n    return value;\n  }\n\n  return value.replace(/&/g, '&amp;').replace(/>/g, '&gt;').replace(/</g, '&lt;').replace(/\"/g, '&quot;');\n};\n\nexports.sanitise = sanitise;\n\nexports.strToEl = function () {\n  var tmpEl = document.createElement('div');\n  return function (str) {\n    var cleanedInput = str.trim();\n    tmpEl.innerHTML = cleanedInput;\n    var firldChild = tmpEl.children[0];\n\n    while (tmpEl.firstChild) {\n      tmpEl.removeChild(tmpEl.firstChild);\n    }\n\n    return firldChild;\n  };\n}();\n\nvar sortByAlpha = function (_a, _b) {\n  var value = _a.value,\n      _c = _a.label,\n      label = _c === void 0 ? value : _c;\n  var value2 = _b.value,\n      _d = _b.label,\n      label2 = _d === void 0 ? value2 : _d;\n  return label.localeCompare(label2, [], {\n    sensitivity: 'base',\n    ignorePunctuation: true,\n    numeric: true\n  });\n};\n\nexports.sortByAlpha = sortByAlpha;\n\nvar sortByScore = function (a, b) {\n  var _a = a.score,\n      scoreA = _a === void 0 ? 0 : _a;\n  var _b = b.score,\n      scoreB = _b === void 0 ? 0 : _b;\n  return scoreA - scoreB;\n};\n\nexports.sortByScore = sortByScore;\n\nvar dispatchEvent = function (element, type, customArgs) {\n  if (customArgs === void 0) {\n    customArgs = null;\n  }\n\n  var event = new CustomEvent(type, {\n    detail: customArgs,\n    bubbles: true,\n    cancelable: true\n  });\n  return element.dispatchEvent(event);\n};\n\nexports.dispatchEvent = dispatchEvent;\n\nvar existsInArray = function (array, value, key) {\n  if (key === void 0) {\n    key = 'value';\n  }\n\n  return array.some(function (item) {\n    if (typeof value === 'string') {\n      return item[key] === value.trim();\n    }\n\n    return item[key] === value;\n  });\n};\n\nexports.existsInArray = existsInArray;\n\nvar cloneObject = function (obj) {\n  return JSON.parse(JSON.stringify(obj));\n};\n\nexports.cloneObject = cloneObject;\n/**\n * Returns an array of keys present on the first but missing on the second object\n */\n\nvar diff = function (a, b) {\n  var aKeys = Object.keys(a).sort();\n  var bKeys = Object.keys(b).sort();\n  return aKeys.filter(function (i) {\n    return bKeys.indexOf(i) < 0;\n  });\n};\n\nexports.diff = diff;\n\n/***/ }),\n\n/***/ 273:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\nexports.defaultState = [];\n\nfunction choices(state, action) {\n  if (state === void 0) {\n    state = exports.defaultState;\n  }\n\n  if (action === void 0) {\n    action = {};\n  }\n\n  switch (action.type) {\n    case 'ADD_CHOICE':\n      {\n        var addChoiceAction = action;\n        var choice = {\n          id: addChoiceAction.id,\n          elementId: addChoiceAction.elementId,\n          groupId: addChoiceAction.groupId,\n          value: addChoiceAction.value,\n          label: addChoiceAction.label || addChoiceAction.value,\n          disabled: addChoiceAction.disabled || false,\n          selected: false,\n          active: true,\n          score: 9999,\n          customProperties: addChoiceAction.customProperties,\n          placeholder: addChoiceAction.placeholder || false\n        };\n        /*\n          A disabled choice appears in the choice dropdown but cannot be selected\n          A selected choice has been added to the passed input's value (added as an item)\n          An active choice appears within the choice dropdown\n        */\n\n        return __spreadArray(__spreadArray([], state, true), [choice], false);\n      }\n\n    case 'ADD_ITEM':\n      {\n        var addItemAction_1 = action; // When an item is added and it has an associated choice,\n        // we want to disable it so it can't be chosen again\n\n        if (addItemAction_1.choiceId > -1) {\n          return state.map(function (obj) {\n            var choice = obj;\n\n            if (choice.id === parseInt(\"\".concat(addItemAction_1.choiceId), 10)) {\n              choice.selected = true;\n            }\n\n            return choice;\n          });\n        }\n\n        return state;\n      }\n\n    case 'REMOVE_ITEM':\n      {\n        var removeItemAction_1 = action; // When an item is removed and it has an associated choice,\n        // we want to re-enable it so it can be chosen again\n\n        if (removeItemAction_1.choiceId && removeItemAction_1.choiceId > -1) {\n          return state.map(function (obj) {\n            var choice = obj;\n\n            if (choice.id === parseInt(\"\".concat(removeItemAction_1.choiceId), 10)) {\n              choice.selected = false;\n            }\n\n            return choice;\n          });\n        }\n\n        return state;\n      }\n\n    case 'FILTER_CHOICES':\n      {\n        var filterChoicesAction_1 = action;\n        return state.map(function (obj) {\n          var choice = obj; // Set active state based on whether choice is\n          // within filtered results\n\n          choice.active = filterChoicesAction_1.results.some(function (_a) {\n            var item = _a.item,\n                score = _a.score;\n\n            if (item.id === choice.id) {\n              choice.score = score;\n              return true;\n            }\n\n            return false;\n          });\n          return choice;\n        });\n      }\n\n    case 'ACTIVATE_CHOICES':\n      {\n        var activateChoicesAction_1 = action;\n        return state.map(function (obj) {\n          var choice = obj;\n          choice.active = activateChoicesAction_1.active;\n          return choice;\n        });\n      }\n\n    case 'CLEAR_CHOICES':\n      {\n        return exports.defaultState;\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nexports[\"default\"] = choices;\n\n/***/ }),\n\n/***/ 871:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\nexports.defaultState = [];\n\nfunction groups(state, action) {\n  if (state === void 0) {\n    state = exports.defaultState;\n  }\n\n  if (action === void 0) {\n    action = {};\n  }\n\n  switch (action.type) {\n    case 'ADD_GROUP':\n      {\n        var addGroupAction = action;\n        return __spreadArray(__spreadArray([], state, true), [{\n          id: addGroupAction.id,\n          value: addGroupAction.value,\n          active: addGroupAction.active,\n          disabled: addGroupAction.disabled\n        }], false);\n      }\n\n    case 'CLEAR_CHOICES':\n      {\n        return [];\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nexports[\"default\"] = groups;\n\n/***/ }),\n\n/***/ 655:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\n\nvar redux_1 = __webpack_require__(857);\n\nvar items_1 = __importDefault(__webpack_require__(52));\n\nvar groups_1 = __importDefault(__webpack_require__(871));\n\nvar choices_1 = __importDefault(__webpack_require__(273));\n\nvar loading_1 = __importDefault(__webpack_require__(502));\n\nvar utils_1 = __webpack_require__(799);\n\nexports.defaultState = {\n  groups: [],\n  items: [],\n  choices: [],\n  loading: false\n};\nvar appReducer = (0, redux_1.combineReducers)({\n  items: items_1.default,\n  groups: groups_1.default,\n  choices: choices_1.default,\n  loading: loading_1.default\n});\n\nvar rootReducer = function (passedState, action) {\n  var state = passedState; // If we are clearing all items, groups and options we reassign\n  // state and then pass that state to our proper reducer. This isn't\n  // mutating our actual state\n  // See: http://stackoverflow.com/a/35641992\n\n  if (action.type === 'CLEAR_ALL') {\n    state = exports.defaultState;\n  } else if (action.type === 'RESET_TO') {\n    return (0, utils_1.cloneObject)(action.state);\n  }\n\n  return appReducer(state, action);\n};\n\nexports[\"default\"] = rootReducer;\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\nexports.defaultState = [];\n\nfunction items(state, action) {\n  if (state === void 0) {\n    state = exports.defaultState;\n  }\n\n  if (action === void 0) {\n    action = {};\n  }\n\n  switch (action.type) {\n    case 'ADD_ITEM':\n      {\n        var addItemAction = action; // Add object to items array\n\n        var newState = __spreadArray(__spreadArray([], state, true), [{\n          id: addItemAction.id,\n          choiceId: addItemAction.choiceId,\n          groupId: addItemAction.groupId,\n          value: addItemAction.value,\n          label: addItemAction.label,\n          active: true,\n          highlighted: false,\n          customProperties: addItemAction.customProperties,\n          placeholder: addItemAction.placeholder || false,\n          keyCode: null\n        }], false);\n\n        return newState.map(function (obj) {\n          var item = obj;\n          item.highlighted = false;\n          return item;\n        });\n      }\n\n    case 'REMOVE_ITEM':\n      {\n        // Set item to inactive\n        return state.map(function (obj) {\n          var item = obj;\n\n          if (item.id === action.id) {\n            item.active = false;\n          }\n\n          return item;\n        });\n      }\n\n    case 'HIGHLIGHT_ITEM':\n      {\n        var highlightItemAction_1 = action;\n        return state.map(function (obj) {\n          var item = obj;\n\n          if (item.id === highlightItemAction_1.id) {\n            item.highlighted = highlightItemAction_1.highlighted;\n          }\n\n          return item;\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nexports[\"default\"] = items;\n\n/***/ }),\n\n/***/ 502:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultState = void 0;\nexports.defaultState = false;\n\nvar general = function (state, action) {\n  if (state === void 0) {\n    state = exports.defaultState;\n  }\n\n  if (action === void 0) {\n    action = {};\n  }\n\n  switch (action.type) {\n    case 'SET_IS_LOADING':\n      {\n        return action.isLoading;\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\nexports[\"default\"] = general;\n\n/***/ }),\n\n/***/ 744:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nvar redux_1 = __webpack_require__(857);\n\nvar index_1 = __importDefault(__webpack_require__(655));\n\nvar Store =\n/** @class */\nfunction () {\n  function Store() {\n    this._store = (0, redux_1.createStore)(index_1.default, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n  }\n  /**\n   * Subscribe store to function call (wrapped Redux method)\n   */\n\n\n  Store.prototype.subscribe = function (onChange) {\n    this._store.subscribe(onChange);\n  };\n  /**\n   * Dispatch event to store (wrapped Redux method)\n   */\n\n\n  Store.prototype.dispatch = function (action) {\n    this._store.dispatch(action);\n  };\n\n  Object.defineProperty(Store.prototype, \"state\", {\n    /**\n     * Get store object (wrapping Redux method)\n     */\n    get: function () {\n      return this._store.getState();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"items\", {\n    /**\n     * Get items from store\n     */\n    get: function () {\n      return this.state.items;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"activeItems\", {\n    /**\n     * Get active items from store\n     */\n    get: function () {\n      return this.items.filter(function (item) {\n        return item.active === true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"highlightedActiveItems\", {\n    /**\n     * Get highlighted items from store\n     */\n    get: function () {\n      return this.items.filter(function (item) {\n        return item.active && item.highlighted;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"choices\", {\n    /**\n     * Get choices from store\n     */\n    get: function () {\n      return this.state.choices;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"activeChoices\", {\n    /**\n     * Get active choices from store\n     */\n    get: function () {\n      return this.choices.filter(function (choice) {\n        return choice.active === true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"selectableChoices\", {\n    /**\n     * Get selectable choices from store\n     */\n    get: function () {\n      return this.choices.filter(function (choice) {\n        return choice.disabled !== true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"searchableChoices\", {\n    /**\n     * Get choices that can be searched (excluding placeholders)\n     */\n    get: function () {\n      return this.selectableChoices.filter(function (choice) {\n        return choice.placeholder !== true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"placeholderChoice\", {\n    /**\n     * Get placeholder choice from store\n     */\n    get: function () {\n      return __spreadArray([], this.choices, true).reverse().find(function (choice) {\n        return choice.placeholder === true;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"groups\", {\n    /**\n     * Get groups from store\n     */\n    get: function () {\n      return this.state.groups;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"activeGroups\", {\n    /**\n     * Get active groups from store\n     */\n    get: function () {\n      var _a = this,\n          groups = _a.groups,\n          choices = _a.choices;\n\n      return groups.filter(function (group) {\n        var isActive = group.active === true && group.disabled === false;\n        var hasActiveOptions = choices.some(function (choice) {\n          return choice.active === true && choice.disabled === false;\n        });\n        return isActive && hasActiveOptions;\n      }, []);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * Get loading state from store\n   */\n\n  Store.prototype.isLoading = function () {\n    return this.state.loading;\n  };\n  /**\n   * Get single choice by it's ID\n   */\n\n\n  Store.prototype.getChoiceById = function (id) {\n    return this.activeChoices.find(function (choice) {\n      return choice.id === parseInt(id, 10);\n    });\n  };\n  /**\n   * Get group by group id\n   */\n\n\n  Store.prototype.getGroupById = function (id) {\n    return this.groups.find(function (group) {\n      return group.id === id;\n    });\n  };\n\n  return Store;\n}();\n\nexports[\"default\"] = Store;\n\n/***/ }),\n\n/***/ 686:\n/***/ (function(__unused_webpack_module, exports) {\n\n\n/**\n * Helpers to create HTML elements used by Choices\n * Can be overridden by providing `callbackOnCreateTemplates` option\n */\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nvar templates = {\n  containerOuter: function (_a, dir, isSelectElement, isSelectOneElement, searchEnabled, passedElementType, labelId) {\n    var containerOuter = _a.classNames.containerOuter;\n    var div = Object.assign(document.createElement('div'), {\n      className: containerOuter\n    });\n    div.dataset.type = passedElementType;\n\n    if (dir) {\n      div.dir = dir;\n    }\n\n    if (isSelectOneElement) {\n      div.tabIndex = 0;\n    }\n\n    if (isSelectElement) {\n      div.setAttribute('role', searchEnabled ? 'combobox' : 'listbox');\n\n      if (searchEnabled) {\n        div.setAttribute('aria-autocomplete', 'list');\n      }\n    }\n\n    div.setAttribute('aria-haspopup', 'true');\n    div.setAttribute('aria-expanded', 'false');\n\n    if (labelId) {\n      div.setAttribute('aria-labeledby', labelId);\n    }\n\n    return div;\n  },\n  containerInner: function (_a) {\n    var containerInner = _a.classNames.containerInner;\n    return Object.assign(document.createElement('div'), {\n      className: containerInner\n    });\n  },\n  itemList: function (_a, isSelectOneElement) {\n    var _b = _a.classNames,\n        list = _b.list,\n        listSingle = _b.listSingle,\n        listItems = _b.listItems;\n    return Object.assign(document.createElement('div'), {\n      className: \"\".concat(list, \" \").concat(isSelectOneElement ? listSingle : listItems)\n    });\n  },\n  placeholder: function (_a, value) {\n    var _b;\n\n    var allowHTML = _a.allowHTML,\n        placeholder = _a.classNames.placeholder;\n    return Object.assign(document.createElement('div'), (_b = {\n      className: placeholder\n    }, _b[allowHTML ? 'innerHTML' : 'innerText'] = value, _b));\n  },\n  item: function (_a, _b, removeItemButton) {\n    var _c, _d;\n\n    var allowHTML = _a.allowHTML,\n        _e = _a.classNames,\n        item = _e.item,\n        button = _e.button,\n        highlightedState = _e.highlightedState,\n        itemSelectable = _e.itemSelectable,\n        placeholder = _e.placeholder;\n    var id = _b.id,\n        value = _b.value,\n        label = _b.label,\n        customProperties = _b.customProperties,\n        active = _b.active,\n        disabled = _b.disabled,\n        highlighted = _b.highlighted,\n        isPlaceholder = _b.placeholder;\n    var div = Object.assign(document.createElement('div'), (_c = {\n      className: item\n    }, _c[allowHTML ? 'innerHTML' : 'innerText'] = label, _c));\n    Object.assign(div.dataset, {\n      item: '',\n      id: id,\n      value: value,\n      customProperties: customProperties\n    });\n\n    if (active) {\n      div.setAttribute('aria-selected', 'true');\n    }\n\n    if (disabled) {\n      div.setAttribute('aria-disabled', 'true');\n    }\n\n    if (isPlaceholder) {\n      div.classList.add(placeholder);\n    }\n\n    div.classList.add(highlighted ? highlightedState : itemSelectable);\n\n    if (removeItemButton) {\n      if (disabled) {\n        div.classList.remove(itemSelectable);\n      }\n\n      div.dataset.deletable = '';\n      /** @todo This MUST be localizable, not hardcoded! */\n\n      var REMOVE_ITEM_TEXT = 'Remove item';\n      var removeButton = Object.assign(document.createElement('button'), (_d = {\n        type: 'button',\n        className: button\n      }, _d[allowHTML ? 'innerHTML' : 'innerText'] = REMOVE_ITEM_TEXT, _d));\n      removeButton.setAttribute('aria-label', \"\".concat(REMOVE_ITEM_TEXT, \": '\").concat(value, \"'\"));\n      removeButton.dataset.button = '';\n      div.appendChild(removeButton);\n    }\n\n    return div;\n  },\n  choiceList: function (_a, isSelectOneElement) {\n    var list = _a.classNames.list;\n    var div = Object.assign(document.createElement('div'), {\n      className: list\n    });\n\n    if (!isSelectOneElement) {\n      div.setAttribute('aria-multiselectable', 'true');\n    }\n\n    div.setAttribute('role', 'listbox');\n    return div;\n  },\n  choiceGroup: function (_a, _b) {\n    var _c;\n\n    var allowHTML = _a.allowHTML,\n        _d = _a.classNames,\n        group = _d.group,\n        groupHeading = _d.groupHeading,\n        itemDisabled = _d.itemDisabled;\n    var id = _b.id,\n        value = _b.value,\n        disabled = _b.disabled;\n    var div = Object.assign(document.createElement('div'), {\n      className: \"\".concat(group, \" \").concat(disabled ? itemDisabled : '')\n    });\n    div.setAttribute('role', 'group');\n    Object.assign(div.dataset, {\n      group: '',\n      id: id,\n      value: value\n    });\n\n    if (disabled) {\n      div.setAttribute('aria-disabled', 'true');\n    }\n\n    div.appendChild(Object.assign(document.createElement('div'), (_c = {\n      className: groupHeading\n    }, _c[allowHTML ? 'innerHTML' : 'innerText'] = value, _c)));\n    return div;\n  },\n  choice: function (_a, _b, selectText) {\n    var _c;\n\n    var allowHTML = _a.allowHTML,\n        _d = _a.classNames,\n        item = _d.item,\n        itemChoice = _d.itemChoice,\n        itemSelectable = _d.itemSelectable,\n        selectedState = _d.selectedState,\n        itemDisabled = _d.itemDisabled,\n        placeholder = _d.placeholder;\n    var id = _b.id,\n        value = _b.value,\n        label = _b.label,\n        groupId = _b.groupId,\n        elementId = _b.elementId,\n        isDisabled = _b.disabled,\n        isSelected = _b.selected,\n        isPlaceholder = _b.placeholder;\n    var div = Object.assign(document.createElement('div'), (_c = {\n      id: elementId\n    }, _c[allowHTML ? 'innerHTML' : 'innerText'] = label, _c.className = \"\".concat(item, \" \").concat(itemChoice), _c));\n\n    if (isSelected) {\n      div.classList.add(selectedState);\n    }\n\n    if (isPlaceholder) {\n      div.classList.add(placeholder);\n    }\n\n    div.setAttribute('role', groupId && groupId > 0 ? 'treeitem' : 'option');\n    Object.assign(div.dataset, {\n      choice: '',\n      id: id,\n      value: value,\n      selectText: selectText\n    });\n\n    if (isDisabled) {\n      div.classList.add(itemDisabled);\n      div.dataset.choiceDisabled = '';\n      div.setAttribute('aria-disabled', 'true');\n    } else {\n      div.classList.add(itemSelectable);\n      div.dataset.choiceSelectable = '';\n    }\n\n    return div;\n  },\n  input: function (_a, placeholderValue) {\n    var _b = _a.classNames,\n        input = _b.input,\n        inputCloned = _b.inputCloned;\n    var inp = Object.assign(document.createElement('input'), {\n      type: 'search',\n      name: 'search_terms',\n      className: \"\".concat(input, \" \").concat(inputCloned),\n      autocomplete: 'off',\n      autocapitalize: 'off',\n      spellcheck: false\n    });\n    inp.setAttribute('role', 'textbox');\n    inp.setAttribute('aria-autocomplete', 'list');\n    inp.setAttribute('aria-label', placeholderValue);\n    return inp;\n  },\n  dropdown: function (_a) {\n    var _b = _a.classNames,\n        list = _b.list,\n        listDropdown = _b.listDropdown;\n    var div = document.createElement('div');\n    div.classList.add(list, listDropdown);\n    div.setAttribute('aria-expanded', 'false');\n    return div;\n  },\n  notice: function (_a, innerText, type) {\n    var _b;\n\n    var allowHTML = _a.allowHTML,\n        _c = _a.classNames,\n        item = _c.item,\n        itemChoice = _c.itemChoice,\n        noResults = _c.noResults,\n        noChoices = _c.noChoices;\n\n    if (type === void 0) {\n      type = '';\n    }\n\n    var classes = [item, itemChoice];\n\n    if (type === 'no-choices') {\n      classes.push(noChoices);\n    } else if (type === 'no-results') {\n      classes.push(noResults);\n    }\n\n    return Object.assign(document.createElement('div'), (_b = {}, _b[allowHTML ? 'innerHTML' : 'innerText'] = innerText, _b.className = classes.join(' '), _b));\n  },\n  option: function (_a) {\n    var label = _a.label,\n        value = _a.value,\n        customProperties = _a.customProperties,\n        active = _a.active,\n        disabled = _a.disabled;\n    var opt = new Option(label, value, false, active);\n\n    if (customProperties) {\n      opt.dataset.customProperties = \"\".concat(customProperties);\n    }\n\n    opt.disabled = !!disabled;\n    return opt;\n  }\n};\nexports[\"default\"] = templates;\n\n/***/ }),\n\n/***/ 996:\n/***/ (function(module) {\n\n\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n\n\n/***/ }),\n\n/***/ 221:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Fuse; }\n/* harmony export */ });\n/**\n * Fuse.js v6.5.3 - Lightweight fuzzy-search (http://fusejs.io)\n *\n * Copyright (c) 2021 Kiro Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction isArray(value) {\n  return !Array.isArray\n    ? getTag(value) === '[object Array]'\n    : Array.isArray(value)\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/baseToString.js\nconst INFINITY = 1 / 0;\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value\n  }\n  let result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result\n}\n\nfunction toString(value) {\n  return value == null ? '' : baseToString(value)\n}\n\nfunction isString(value) {\n  return typeof value === 'string'\n}\n\nfunction isNumber(value) {\n  return typeof value === 'number'\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js\nfunction isBoolean(value) {\n  return (\n    value === true ||\n    value === false ||\n    (isObjectLike(value) && getTag(value) == '[object Boolean]')\n  )\n}\n\nfunction isObject(value) {\n  return typeof value === 'object'\n}\n\n// Checks if `value` is object-like.\nfunction isObjectLike(value) {\n  return isObject(value) && value !== null\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null\n}\n\nfunction isBlank(value) {\n  return !value.trim().length\n}\n\n// Gets the `toStringTag` of `value`.\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js\nfunction getTag(value) {\n  return value == null\n    ? value === undefined\n      ? '[object Undefined]'\n      : '[object Null]'\n    : Object.prototype.toString.call(value)\n}\n\nconst EXTENDED_SEARCH_UNAVAILABLE = 'Extended search is not available';\n\nconst INCORRECT_INDEX_TYPE = \"Incorrect 'index' type\";\n\nconst LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = (key) =>\n  `Invalid value for key ${key}`;\n\nconst PATTERN_LENGTH_TOO_LARGE = (max) =>\n  `Pattern length exceeds max of ${max}.`;\n\nconst MISSING_KEY_PROPERTY = (name) => `Missing ${name} property in key`;\n\nconst INVALID_KEY_WEIGHT_VALUE = (key) =>\n  `Property 'weight' in key '${key}' must be a positive integer`;\n\nconst hasOwn = Object.prototype.hasOwnProperty;\n\nclass KeyStore {\n  constructor(keys) {\n    this._keys = [];\n    this._keyMap = {};\n\n    let totalWeight = 0;\n\n    keys.forEach((key) => {\n      let obj = createKey(key);\n\n      totalWeight += obj.weight;\n\n      this._keys.push(obj);\n      this._keyMap[obj.id] = obj;\n\n      totalWeight += obj.weight;\n    });\n\n    // Normalize weights so that their sum is equal to 1\n    this._keys.forEach((key) => {\n      key.weight /= totalWeight;\n    });\n  }\n  get(keyId) {\n    return this._keyMap[keyId]\n  }\n  keys() {\n    return this._keys\n  }\n  toJSON() {\n    return JSON.stringify(this._keys)\n  }\n}\n\nfunction createKey(key) {\n  let path = null;\n  let id = null;\n  let src = null;\n  let weight = 1;\n\n  if (isString(key) || isArray(key)) {\n    src = key;\n    path = createKeyPath(key);\n    id = createKeyId(key);\n  } else {\n    if (!hasOwn.call(key, 'name')) {\n      throw new Error(MISSING_KEY_PROPERTY('name'))\n    }\n\n    const name = key.name;\n    src = name;\n\n    if (hasOwn.call(key, 'weight')) {\n      weight = key.weight;\n\n      if (weight <= 0) {\n        throw new Error(INVALID_KEY_WEIGHT_VALUE(name))\n      }\n    }\n\n    path = createKeyPath(name);\n    id = createKeyId(name);\n  }\n\n  return { path, id, weight, src }\n}\n\nfunction createKeyPath(key) {\n  return isArray(key) ? key : key.split('.')\n}\n\nfunction createKeyId(key) {\n  return isArray(key) ? key.join('.') : key\n}\n\nfunction get(obj, path) {\n  let list = [];\n  let arr = false;\n\n  const deepGet = (obj, path, index) => {\n    if (!isDefined(obj)) {\n      return\n    }\n    if (!path[index]) {\n      // If there's no path left, we've arrived at the object we care about.\n      list.push(obj);\n    } else {\n      let key = path[index];\n\n      const value = obj[key];\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      // If we're at the last value in the path, and if it's a string/number/bool,\n      // add it to the list\n      if (\n        index === path.length - 1 &&\n        (isString(value) || isNumber(value) || isBoolean(value))\n      ) {\n        list.push(toString(value));\n      } else if (isArray(value)) {\n        arr = true;\n        // Search each item in the array.\n        for (let i = 0, len = value.length; i < len; i += 1) {\n          deepGet(value[i], path, index + 1);\n        }\n      } else if (path.length) {\n        // An object. Recurse further.\n        deepGet(value, path, index + 1);\n      }\n    }\n  };\n\n  // Backwards compatibility (since path used to be a string)\n  deepGet(obj, isString(path) ? path.split('.') : path, 0);\n\n  return arr ? list : list[0]\n}\n\nconst MatchOptions = {\n  // Whether the matches should be included in the result set. When `true`, each record in the result\n  // set will include the indices of the matched characters.\n  // These can consequently be used for highlighting purposes.\n  includeMatches: false,\n  // When `true`, the matching function will continue to the end of a search pattern even if\n  // a perfect match has already been located in the string.\n  findAllMatches: false,\n  // Minimum number of characters that must be matched before a result is considered a match\n  minMatchCharLength: 1\n};\n\nconst BasicOptions = {\n  // When `true`, the algorithm continues searching to the end of the input even if a perfect\n  // match is found before the end of the same input.\n  isCaseSensitive: false,\n  // When true, the matching function will continue to the end of a search pattern even if\n  includeScore: false,\n  // List of properties that will be searched. This also supports nested properties.\n  keys: [],\n  // Whether to sort the result list, by score\n  shouldSort: true,\n  // Default sort function: sort by ascending score, ascending index\n  sortFn: (a, b) =>\n    a.score === b.score ? (a.idx < b.idx ? -1 : 1) : a.score < b.score ? -1 : 1\n};\n\nconst FuzzyOptions = {\n  // Approximately where in the text is the pattern expected to be found?\n  location: 0,\n  // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match\n  // (of both letters and location), a threshold of '1.0' would match anything.\n  threshold: 0.6,\n  // Determines how close the match must be to the fuzzy location (specified above).\n  // An exact letter match which is 'distance' characters away from the fuzzy location\n  // would score as a complete mismatch. A distance of '0' requires the match be at\n  // the exact location specified, a threshold of '1000' would require a perfect match\n  // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\n  distance: 100\n};\n\nconst AdvancedOptions = {\n  // When `true`, it enables the use of unix-like search commands\n  useExtendedSearch: false,\n  // The get function to use when fetching an object's properties.\n  // The default will search nested paths *ie foo.bar.baz*\n  getFn: get,\n  // When `true`, search will ignore `location` and `distance`, so it won't matter\n  // where in the string the pattern appears.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score\n  ignoreLocation: false,\n  // When `true`, the calculation for the relevance score (used for sorting) will\n  // ignore the field-length norm.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm\n  ignoreFieldNorm: false,\n  // The weight to determine how much field length norm effects scoring.\n  fieldNormWeight: 1\n};\n\nvar Config = {\n  ...BasicOptions,\n  ...MatchOptions,\n  ...FuzzyOptions,\n  ...AdvancedOptions\n};\n\nconst SPACE = /[^ ]+/g;\n\n// Field-length norm: the shorter the field, the higher the weight.\n// Set to 3 decimals to reduce index size.\nfunction norm(weight = 1, mantissa = 3) {\n  const cache = new Map();\n  const m = Math.pow(10, mantissa);\n\n  return {\n    get(value) {\n      const numTokens = value.match(SPACE).length;\n\n      if (cache.has(numTokens)) {\n        return cache.get(numTokens)\n      }\n\n      // Default function is 1/sqrt(x), weight makes that variable\n      const norm = 1 / Math.pow(numTokens, 0.5 * weight);\n\n      // In place of `toFixed(mantissa)`, for faster computation\n      const n = parseFloat(Math.round(norm * m) / m);\n\n      cache.set(numTokens, n);\n\n      return n\n    },\n    clear() {\n      cache.clear();\n    }\n  }\n}\n\nclass FuseIndex {\n  constructor({\n    getFn = Config.getFn,\n    fieldNormWeight = Config.fieldNormWeight\n  } = {}) {\n    this.norm = norm(fieldNormWeight, 3);\n    this.getFn = getFn;\n    this.isCreated = false;\n\n    this.setIndexRecords();\n  }\n  setSources(docs = []) {\n    this.docs = docs;\n  }\n  setIndexRecords(records = []) {\n    this.records = records;\n  }\n  setKeys(keys = []) {\n    this.keys = keys;\n    this._keysMap = {};\n    keys.forEach((key, idx) => {\n      this._keysMap[key.id] = idx;\n    });\n  }\n  create() {\n    if (this.isCreated || !this.docs.length) {\n      return\n    }\n\n    this.isCreated = true;\n\n    // List is Array<String>\n    if (isString(this.docs[0])) {\n      this.docs.forEach((doc, docIndex) => {\n        this._addString(doc, docIndex);\n      });\n    } else {\n      // List is Array<Object>\n      this.docs.forEach((doc, docIndex) => {\n        this._addObject(doc, docIndex);\n      });\n    }\n\n    this.norm.clear();\n  }\n  // Adds a doc to the end of the index\n  add(doc) {\n    const idx = this.size();\n\n    if (isString(doc)) {\n      this._addString(doc, idx);\n    } else {\n      this._addObject(doc, idx);\n    }\n  }\n  // Removes the doc at the specified index of the index\n  removeAt(idx) {\n    this.records.splice(idx, 1);\n\n    // Change ref index of every subsquent doc\n    for (let i = idx, len = this.size(); i < len; i += 1) {\n      this.records[i].i -= 1;\n    }\n  }\n  getValueForItemAtKeyId(item, keyId) {\n    return item[this._keysMap[keyId]]\n  }\n  size() {\n    return this.records.length\n  }\n  _addString(doc, docIndex) {\n    if (!isDefined(doc) || isBlank(doc)) {\n      return\n    }\n\n    let record = {\n      v: doc,\n      i: docIndex,\n      n: this.norm.get(doc)\n    };\n\n    this.records.push(record);\n  }\n  _addObject(doc, docIndex) {\n    let record = { i: docIndex, $: {} };\n\n    // Iterate over every key (i.e, path), and fetch the value at that key\n    this.keys.forEach((key, keyIndex) => {\n      // console.log(key)\n      let value = this.getFn(doc, key.path);\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      if (isArray(value)) {\n        let subRecords = [];\n        const stack = [{ nestedArrIndex: -1, value }];\n\n        while (stack.length) {\n          const { nestedArrIndex, value } = stack.pop();\n\n          if (!isDefined(value)) {\n            continue\n          }\n\n          if (isString(value) && !isBlank(value)) {\n            let subRecord = {\n              v: value,\n              i: nestedArrIndex,\n              n: this.norm.get(value)\n            };\n\n            subRecords.push(subRecord);\n          } else if (isArray(value)) {\n            value.forEach((item, k) => {\n              stack.push({\n                nestedArrIndex: k,\n                value: item\n              });\n            });\n          } else ;\n        }\n        record.$[keyIndex] = subRecords;\n      } else if (!isBlank(value)) {\n        let subRecord = {\n          v: value,\n          n: this.norm.get(value)\n        };\n\n        record.$[keyIndex] = subRecord;\n      }\n    });\n\n    this.records.push(record);\n  }\n  toJSON() {\n    return {\n      keys: this.keys,\n      records: this.records\n    }\n  }\n}\n\nfunction createIndex(\n  keys,\n  docs,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys.map(createKey));\n  myIndex.setSources(docs);\n  myIndex.create();\n  return myIndex\n}\n\nfunction parseIndex(\n  data,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const { keys, records } = data;\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys);\n  myIndex.setIndexRecords(records);\n  return myIndex\n}\n\nfunction computeScore$1(\n  pattern,\n  {\n    errors = 0,\n    currentLocation = 0,\n    expectedLocation = 0,\n    distance = Config.distance,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  const accuracy = errors / pattern.length;\n\n  if (ignoreLocation) {\n    return accuracy\n  }\n\n  const proximity = Math.abs(expectedLocation - currentLocation);\n\n  if (!distance) {\n    // Dodge divide by zero error.\n    return proximity ? 1.0 : accuracy\n  }\n\n  return accuracy + proximity / distance\n}\n\nfunction convertMaskToIndices(\n  matchmask = [],\n  minMatchCharLength = Config.minMatchCharLength\n) {\n  let indices = [];\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (let len = matchmask.length; i < len; i += 1) {\n    let match = matchmask[i];\n    if (match && start === -1) {\n      start = i;\n    } else if (!match && start !== -1) {\n      end = i - 1;\n      if (end - start + 1 >= minMatchCharLength) {\n        indices.push([start, end]);\n      }\n      start = -1;\n    }\n  }\n\n  // (i-1 - start) + 1 => i - start\n  if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n    indices.push([start, i - 1]);\n  }\n\n  return indices\n}\n\n// Machine word size\nconst MAX_BITS = 32;\n\nfunction search(\n  text,\n  pattern,\n  patternAlphabet,\n  {\n    location = Config.location,\n    distance = Config.distance,\n    threshold = Config.threshold,\n    findAllMatches = Config.findAllMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    includeMatches = Config.includeMatches,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  if (pattern.length > MAX_BITS) {\n    throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS))\n  }\n\n  const patternLen = pattern.length;\n  // Set starting location at beginning text and initialize the alphabet.\n  const textLen = text.length;\n  // Handle the case when location > text.length\n  const expectedLocation = Math.max(0, Math.min(location, textLen));\n  // Highest score beyond which we give up.\n  let currentThreshold = threshold;\n  // Is there a nearby exact match? (speedup)\n  let bestLocation = expectedLocation;\n\n  // Performance: only computer matches when the minMatchCharLength > 1\n  // OR if `includeMatches` is true.\n  const computeMatches = minMatchCharLength > 1 || includeMatches;\n  // A mask of the matches, used for building the indices\n  const matchMask = computeMatches ? Array(textLen) : [];\n\n  let index;\n\n  // Get all exact matches, here for speed up\n  while ((index = text.indexOf(pattern, bestLocation)) > -1) {\n    let score = computeScore$1(pattern, {\n      currentLocation: index,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    currentThreshold = Math.min(score, currentThreshold);\n    bestLocation = index + patternLen;\n\n    if (computeMatches) {\n      let i = 0;\n      while (i < patternLen) {\n        matchMask[index + i] = 1;\n        i += 1;\n      }\n    }\n  }\n\n  // Reset the best location\n  bestLocation = -1;\n\n  let lastBitArr = [];\n  let finalScore = 1;\n  let binMax = patternLen + textLen;\n\n  const mask = 1 << (patternLen - 1);\n\n  for (let i = 0; i < patternLen; i += 1) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from the match location we can stray\n    // at this error level.\n    let binMin = 0;\n    let binMid = binMax;\n\n    while (binMin < binMid) {\n      const score = computeScore$1(pattern, {\n        errors: i,\n        currentLocation: expectedLocation + binMid,\n        expectedLocation,\n        distance,\n        ignoreLocation\n      });\n\n      if (score <= currentThreshold) {\n        binMin = binMid;\n      } else {\n        binMax = binMid;\n      }\n\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    }\n\n    // Use the result from this iteration as the maximum for the next.\n    binMax = binMid;\n\n    let start = Math.max(1, expectedLocation - binMid + 1);\n    let finish = findAllMatches\n      ? textLen\n      : Math.min(expectedLocation + binMid, textLen) + patternLen;\n\n    // Initialize the bit array\n    let bitArr = Array(finish + 2);\n\n    bitArr[finish + 1] = (1 << i) - 1;\n\n    for (let j = finish; j >= start; j -= 1) {\n      let currentLocation = j - 1;\n      let charMatch = patternAlphabet[text.charAt(currentLocation)];\n\n      if (computeMatches) {\n        // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)\n        matchMask[currentLocation] = +!!charMatch;\n      }\n\n      // First pass: exact match\n      bitArr[j] = ((bitArr[j + 1] << 1) | 1) & charMatch;\n\n      // Subsequent passes: fuzzy match\n      if (i) {\n        bitArr[j] |=\n          ((lastBitArr[j + 1] | lastBitArr[j]) << 1) | 1 | lastBitArr[j + 1];\n      }\n\n      if (bitArr[j] & mask) {\n        finalScore = computeScore$1(pattern, {\n          errors: i,\n          currentLocation,\n          expectedLocation,\n          distance,\n          ignoreLocation\n        });\n\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (finalScore <= currentThreshold) {\n          // Indeed it is\n          currentThreshold = finalScore;\n          bestLocation = currentLocation;\n\n          // Already passed `loc`, downhill from here on in.\n          if (bestLocation <= expectedLocation) {\n            break\n          }\n\n          // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n          start = Math.max(1, 2 * expectedLocation - bestLocation);\n        }\n      }\n    }\n\n    // No hope for a (better) match at greater error levels.\n    const score = computeScore$1(pattern, {\n      errors: i + 1,\n      currentLocation: expectedLocation,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    if (score > currentThreshold) {\n      break\n    }\n\n    lastBitArr = bitArr;\n  }\n\n  const result = {\n    isMatch: bestLocation >= 0,\n    // Count exact matches (those with a score of 0) to be \"almost\" exact\n    score: Math.max(0.001, finalScore)\n  };\n\n  if (computeMatches) {\n    const indices = convertMaskToIndices(matchMask, minMatchCharLength);\n    if (!indices.length) {\n      result.isMatch = false;\n    } else if (includeMatches) {\n      result.indices = indices;\n    }\n  }\n\n  return result\n}\n\nfunction createPatternAlphabet(pattern) {\n  let mask = {};\n\n  for (let i = 0, len = pattern.length; i < len; i += 1) {\n    const char = pattern.charAt(i);\n    mask[char] = (mask[char] || 0) | (1 << (len - i - 1));\n  }\n\n  return mask\n}\n\nclass BitapSearch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    this.options = {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    };\n\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n\n    this.chunks = [];\n\n    if (!this.pattern.length) {\n      return\n    }\n\n    const addChunk = (pattern, startIndex) => {\n      this.chunks.push({\n        pattern,\n        alphabet: createPatternAlphabet(pattern),\n        startIndex\n      });\n    };\n\n    const len = this.pattern.length;\n\n    if (len > MAX_BITS) {\n      let i = 0;\n      const remainder = len % MAX_BITS;\n      const end = len - remainder;\n\n      while (i < end) {\n        addChunk(this.pattern.substr(i, MAX_BITS), i);\n        i += MAX_BITS;\n      }\n\n      if (remainder) {\n        const startIndex = len - MAX_BITS;\n        addChunk(this.pattern.substr(startIndex), startIndex);\n      }\n    } else {\n      addChunk(this.pattern, 0);\n    }\n  }\n\n  searchIn(text) {\n    const { isCaseSensitive, includeMatches } = this.options;\n\n    if (!isCaseSensitive) {\n      text = text.toLowerCase();\n    }\n\n    // Exact match\n    if (this.pattern === text) {\n      let result = {\n        isMatch: true,\n        score: 0\n      };\n\n      if (includeMatches) {\n        result.indices = [[0, text.length - 1]];\n      }\n\n      return result\n    }\n\n    // Otherwise, use Bitap algorithm\n    const {\n      location,\n      distance,\n      threshold,\n      findAllMatches,\n      minMatchCharLength,\n      ignoreLocation\n    } = this.options;\n\n    let allIndices = [];\n    let totalScore = 0;\n    let hasMatches = false;\n\n    this.chunks.forEach(({ pattern, alphabet, startIndex }) => {\n      const { isMatch, score, indices } = search(text, pattern, alphabet, {\n        location: location + startIndex,\n        distance,\n        threshold,\n        findAllMatches,\n        minMatchCharLength,\n        includeMatches,\n        ignoreLocation\n      });\n\n      if (isMatch) {\n        hasMatches = true;\n      }\n\n      totalScore += score;\n\n      if (isMatch && indices) {\n        allIndices = [...allIndices, ...indices];\n      }\n    });\n\n    let result = {\n      isMatch: hasMatches,\n      score: hasMatches ? totalScore / this.chunks.length : 1\n    };\n\n    if (hasMatches && includeMatches) {\n      result.indices = allIndices;\n    }\n\n    return result\n  }\n}\n\nclass BaseMatch {\n  constructor(pattern) {\n    this.pattern = pattern;\n  }\n  static isMultiMatch(pattern) {\n    return getMatch(pattern, this.multiRegex)\n  }\n  static isSingleMatch(pattern) {\n    return getMatch(pattern, this.singleRegex)\n  }\n  search(/*text*/) {}\n}\n\nfunction getMatch(pattern, exp) {\n  const matches = pattern.match(exp);\n  return matches ? matches[1] : null\n}\n\n// Token: 'file\n\nclass ExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'exact'\n  }\n  static get multiRegex() {\n    return /^=\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^=(.*)$/\n  }\n  search(text) {\n    const isMatch = text === this.pattern;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !fire\n\nclass InverseExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!(.*)$/\n  }\n  search(text) {\n    const index = text.indexOf(this.pattern);\n    const isMatch = index === -1;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: ^file\n\nclass PrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'prefix-exact'\n  }\n  static get multiRegex() {\n    return /^\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !^fire\n\nclass InversePrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-prefix-exact'\n  }\n  static get multiRegex() {\n    return /^!\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = !text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: .file$\n\nclass SuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'suffix-exact'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = text.endsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [text.length - this.pattern.length, text.length - 1]\n    }\n  }\n}\n\n// Token: !.file$\n\nclass InverseSuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-suffix-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^!(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = !text.endsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\nclass FuzzyMatch extends BaseMatch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    super(pattern);\n    this._bitapSearch = new BitapSearch(pattern, {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    });\n  }\n  static get type() {\n    return 'fuzzy'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^(.*)$/\n  }\n  search(text) {\n    return this._bitapSearch.searchIn(text)\n  }\n}\n\n// Token: 'file\n\nclass IncludeMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'include'\n  }\n  static get multiRegex() {\n    return /^'\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^'(.*)$/\n  }\n  search(text) {\n    let location = 0;\n    let index;\n\n    const indices = [];\n    const patternLen = this.pattern.length;\n\n    // Get all exact matches\n    while ((index = text.indexOf(this.pattern, location)) > -1) {\n      location = index + patternLen;\n      indices.push([index, location - 1]);\n    }\n\n    const isMatch = !!indices.length;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices\n    }\n  }\n}\n\n// Order is important. DO NOT CHANGE.\nconst searchers = [\n  ExactMatch,\n  IncludeMatch,\n  PrefixExactMatch,\n  InversePrefixExactMatch,\n  InverseSuffixExactMatch,\n  SuffixExactMatch,\n  InverseExactMatch,\n  FuzzyMatch\n];\n\nconst searchersLen = searchers.length;\n\n// Regex to split by spaces, but keep anything in quotes together\nconst SPACE_RE = / +(?=([^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/;\nconst OR_TOKEN = '|';\n\n// Return a 2D array representation of the query, for simpler parsing.\n// Example:\n// \"^core go$ | rb$ | py$ xy$\" => [[\"^core\", \"go$\"], [\"rb$\"], [\"py$\", \"xy$\"]]\nfunction parseQuery(pattern, options = {}) {\n  return pattern.split(OR_TOKEN).map((item) => {\n    let query = item\n      .trim()\n      .split(SPACE_RE)\n      .filter((item) => item && !!item.trim());\n\n    let results = [];\n    for (let i = 0, len = query.length; i < len; i += 1) {\n      const queryItem = query[i];\n\n      // 1. Handle multiple query match (i.e, once that are quoted, like `\"hello world\"`)\n      let found = false;\n      let idx = -1;\n      while (!found && ++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isMultiMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          found = true;\n        }\n      }\n\n      if (found) {\n        continue\n      }\n\n      // 2. Handle single query matches (i.e, once that are *not* quoted)\n      idx = -1;\n      while (++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isSingleMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          break\n        }\n      }\n    }\n\n    return results\n  })\n}\n\n// These extended matchers can return an array of matches, as opposed\n// to a singl match\nconst MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);\n\n/**\n * Command-like searching\n * ======================\n *\n * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,\n * search in a given text.\n *\n * Search syntax:\n *\n * | Token       | Match type                 | Description                            |\n * | ----------- | -------------------------- | -------------------------------------- |\n * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |\n * | `=scheme`   | exact-match                | Items that are `scheme`                |\n * | `'python`   | include-match              | Items that include `python`            |\n * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |\n * | `^java`     | prefix-exact-match         | Items that start with `java`           |\n * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |\n * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |\n * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |\n *\n * A single pipe character acts as an OR operator. For example, the following\n * query matches entries that start with `core` and end with either`go`, `rb`,\n * or`py`.\n *\n * ```\n * ^core go$ | rb$ | py$\n * ```\n */\nclass ExtendedSearch {\n  constructor(\n    pattern,\n    {\n      isCaseSensitive = Config.isCaseSensitive,\n      includeMatches = Config.includeMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      ignoreLocation = Config.ignoreLocation,\n      findAllMatches = Config.findAllMatches,\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance\n    } = {}\n  ) {\n    this.query = null;\n    this.options = {\n      isCaseSensitive,\n      includeMatches,\n      minMatchCharLength,\n      findAllMatches,\n      ignoreLocation,\n      location,\n      threshold,\n      distance\n    };\n\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    this.query = parseQuery(this.pattern, this.options);\n  }\n\n  static condition(_, options) {\n    return options.useExtendedSearch\n  }\n\n  searchIn(text) {\n    const query = this.query;\n\n    if (!query) {\n      return {\n        isMatch: false,\n        score: 1\n      }\n    }\n\n    const { includeMatches, isCaseSensitive } = this.options;\n\n    text = isCaseSensitive ? text : text.toLowerCase();\n\n    let numMatches = 0;\n    let allIndices = [];\n    let totalScore = 0;\n\n    // ORs\n    for (let i = 0, qLen = query.length; i < qLen; i += 1) {\n      const searchers = query[i];\n\n      // Reset indices\n      allIndices.length = 0;\n      numMatches = 0;\n\n      // ANDs\n      for (let j = 0, pLen = searchers.length; j < pLen; j += 1) {\n        const searcher = searchers[j];\n        const { isMatch, indices, score } = searcher.search(text);\n\n        if (isMatch) {\n          numMatches += 1;\n          totalScore += score;\n          if (includeMatches) {\n            const type = searcher.constructor.type;\n            if (MultiMatchSet.has(type)) {\n              allIndices = [...allIndices, ...indices];\n            } else {\n              allIndices.push(indices);\n            }\n          }\n        } else {\n          totalScore = 0;\n          numMatches = 0;\n          allIndices.length = 0;\n          break\n        }\n      }\n\n      // OR condition, so if TRUE, return\n      if (numMatches) {\n        let result = {\n          isMatch: true,\n          score: totalScore / numMatches\n        };\n\n        if (includeMatches) {\n          result.indices = allIndices;\n        }\n\n        return result\n      }\n    }\n\n    // Nothing was matched\n    return {\n      isMatch: false,\n      score: 1\n    }\n  }\n}\n\nconst registeredSearchers = [];\n\nfunction register(...args) {\n  registeredSearchers.push(...args);\n}\n\nfunction createSearcher(pattern, options) {\n  for (let i = 0, len = registeredSearchers.length; i < len; i += 1) {\n    let searcherClass = registeredSearchers[i];\n    if (searcherClass.condition(pattern, options)) {\n      return new searcherClass(pattern, options)\n    }\n  }\n\n  return new BitapSearch(pattern, options)\n}\n\nconst LogicalOperator = {\n  AND: '$and',\n  OR: '$or'\n};\n\nconst KeyType = {\n  PATH: '$path',\n  PATTERN: '$val'\n};\n\nconst isExpression = (query) =>\n  !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);\n\nconst isPath = (query) => !!query[KeyType.PATH];\n\nconst isLeaf = (query) =>\n  !isArray(query) && isObject(query) && !isExpression(query);\n\nconst convertToExplicit = (query) => ({\n  [LogicalOperator.AND]: Object.keys(query).map((key) => ({\n    [key]: query[key]\n  }))\n});\n\n// When `auto` is `true`, the parse function will infer and initialize and add\n// the appropriate `Searcher` instance\nfunction parse(query, options, { auto = true } = {}) {\n  const next = (query) => {\n    let keys = Object.keys(query);\n\n    const isQueryPath = isPath(query);\n\n    if (!isQueryPath && keys.length > 1 && !isExpression(query)) {\n      return next(convertToExplicit(query))\n    }\n\n    if (isLeaf(query)) {\n      const key = isQueryPath ? query[KeyType.PATH] : keys[0];\n\n      const pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];\n\n      if (!isString(pattern)) {\n        throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key))\n      }\n\n      const obj = {\n        keyId: createKeyId(key),\n        pattern\n      };\n\n      if (auto) {\n        obj.searcher = createSearcher(pattern, options);\n      }\n\n      return obj\n    }\n\n    let node = {\n      children: [],\n      operator: keys[0]\n    };\n\n    keys.forEach((key) => {\n      const value = query[key];\n\n      if (isArray(value)) {\n        value.forEach((item) => {\n          node.children.push(next(item));\n        });\n      }\n    });\n\n    return node\n  };\n\n  if (!isExpression(query)) {\n    query = convertToExplicit(query);\n  }\n\n  return next(query)\n}\n\n// Practical scoring function\nfunction computeScore(\n  results,\n  { ignoreFieldNorm = Config.ignoreFieldNorm }\n) {\n  results.forEach((result) => {\n    let totalScore = 1;\n\n    result.matches.forEach(({ key, norm, score }) => {\n      const weight = key ? key.weight : null;\n\n      totalScore *= Math.pow(\n        score === 0 && weight ? Number.EPSILON : score,\n        (weight || 1) * (ignoreFieldNorm ? 1 : norm)\n      );\n    });\n\n    result.score = totalScore;\n  });\n}\n\nfunction transformMatches(result, data) {\n  const matches = result.matches;\n  data.matches = [];\n\n  if (!isDefined(matches)) {\n    return\n  }\n\n  matches.forEach((match) => {\n    if (!isDefined(match.indices) || !match.indices.length) {\n      return\n    }\n\n    const { indices, value } = match;\n\n    let obj = {\n      indices,\n      value\n    };\n\n    if (match.key) {\n      obj.key = match.key.src;\n    }\n\n    if (match.idx > -1) {\n      obj.refIndex = match.idx;\n    }\n\n    data.matches.push(obj);\n  });\n}\n\nfunction transformScore(result, data) {\n  data.score = result.score;\n}\n\nfunction format(\n  results,\n  docs,\n  {\n    includeMatches = Config.includeMatches,\n    includeScore = Config.includeScore\n  } = {}\n) {\n  const transformers = [];\n\n  if (includeMatches) transformers.push(transformMatches);\n  if (includeScore) transformers.push(transformScore);\n\n  return results.map((result) => {\n    const { idx } = result;\n\n    const data = {\n      item: docs[idx],\n      refIndex: idx\n    };\n\n    if (transformers.length) {\n      transformers.forEach((transformer) => {\n        transformer(result, data);\n      });\n    }\n\n    return data\n  })\n}\n\nclass Fuse {\n  constructor(docs, options = {}, index) {\n    this.options = { ...Config, ...options };\n\n    if (\n      this.options.useExtendedSearch &&\n      !true\n    ) {}\n\n    this._keyStore = new KeyStore(this.options.keys);\n\n    this.setCollection(docs, index);\n  }\n\n  setCollection(docs, index) {\n    this._docs = docs;\n\n    if (index && !(index instanceof FuseIndex)) {\n      throw new Error(INCORRECT_INDEX_TYPE)\n    }\n\n    this._myIndex =\n      index ||\n      createIndex(this.options.keys, this._docs, {\n        getFn: this.options.getFn,\n        fieldNormWeight: this.options.fieldNormWeight\n      });\n  }\n\n  add(doc) {\n    if (!isDefined(doc)) {\n      return\n    }\n\n    this._docs.push(doc);\n    this._myIndex.add(doc);\n  }\n\n  remove(predicate = (/* doc, idx */) => false) {\n    const results = [];\n\n    for (let i = 0, len = this._docs.length; i < len; i += 1) {\n      const doc = this._docs[i];\n      if (predicate(doc, i)) {\n        this.removeAt(i);\n        i -= 1;\n        len -= 1;\n\n        results.push(doc);\n      }\n    }\n\n    return results\n  }\n\n  removeAt(idx) {\n    this._docs.splice(idx, 1);\n    this._myIndex.removeAt(idx);\n  }\n\n  getIndex() {\n    return this._myIndex\n  }\n\n  search(query, { limit = -1 } = {}) {\n    const {\n      includeMatches,\n      includeScore,\n      shouldSort,\n      sortFn,\n      ignoreFieldNorm\n    } = this.options;\n\n    let results = isString(query)\n      ? isString(this._docs[0])\n        ? this._searchStringList(query)\n        : this._searchObjectList(query)\n      : this._searchLogical(query);\n\n    computeScore(results, { ignoreFieldNorm });\n\n    if (shouldSort) {\n      results.sort(sortFn);\n    }\n\n    if (isNumber(limit) && limit > -1) {\n      results = results.slice(0, limit);\n    }\n\n    return format(results, this._docs, {\n      includeMatches,\n      includeScore\n    })\n  }\n\n  _searchStringList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { records } = this._myIndex;\n    const results = [];\n\n    // Iterate over every string in the index\n    records.forEach(({ v: text, i: idx, n: norm }) => {\n      if (!isDefined(text)) {\n        return\n      }\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        results.push({\n          item: text,\n          idx,\n          matches: [{ score, value: text, norm, indices }]\n        });\n      }\n    });\n\n    return results\n  }\n\n  _searchLogical(query) {\n\n    const expression = parse(query, this.options);\n\n    const evaluate = (node, item, idx) => {\n      if (!node.children) {\n        const { keyId, searcher } = node;\n\n        const matches = this._findMatches({\n          key: this._keyStore.get(keyId),\n          value: this._myIndex.getValueForItemAtKeyId(item, keyId),\n          searcher\n        });\n\n        if (matches && matches.length) {\n          return [\n            {\n              idx,\n              item,\n              matches\n            }\n          ]\n        }\n\n        return []\n      }\n\n      const res = [];\n      for (let i = 0, len = node.children.length; i < len; i += 1) {\n        const child = node.children[i];\n        const result = evaluate(child, item, idx);\n        if (result.length) {\n          res.push(...result);\n        } else if (node.operator === LogicalOperator.AND) {\n          return []\n        }\n      }\n      return res\n    };\n\n    const records = this._myIndex.records;\n    const resultMap = {};\n    const results = [];\n\n    records.forEach(({ $: item, i: idx }) => {\n      if (isDefined(item)) {\n        let expResults = evaluate(expression, item, idx);\n\n        if (expResults.length) {\n          // Dedupe when adding\n          if (!resultMap[idx]) {\n            resultMap[idx] = { idx, item, matches: [] };\n            results.push(resultMap[idx]);\n          }\n          expResults.forEach(({ matches }) => {\n            resultMap[idx].matches.push(...matches);\n          });\n        }\n      }\n    });\n\n    return results\n  }\n\n  _searchObjectList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { keys, records } = this._myIndex;\n    const results = [];\n\n    // List is Array<Object>\n    records.forEach(({ $: item, i: idx }) => {\n      if (!isDefined(item)) {\n        return\n      }\n\n      let matches = [];\n\n      // Iterate over every key (i.e, path), and fetch the value at that key\n      keys.forEach((key, keyIndex) => {\n        matches.push(\n          ...this._findMatches({\n            key,\n            value: item[keyIndex],\n            searcher\n          })\n        );\n      });\n\n      if (matches.length) {\n        results.push({\n          idx,\n          item,\n          matches\n        });\n      }\n    });\n\n    return results\n  }\n  _findMatches({ key, value, searcher }) {\n    if (!isDefined(value)) {\n      return []\n    }\n\n    let matches = [];\n\n    if (isArray(value)) {\n      value.forEach(({ v: text, i: idx, n: norm }) => {\n        if (!isDefined(text)) {\n          return\n        }\n\n        const { isMatch, score, indices } = searcher.searchIn(text);\n\n        if (isMatch) {\n          matches.push({\n            score,\n            key,\n            value: text,\n            idx,\n            norm,\n            indices\n          });\n        }\n      });\n    } else {\n      const { v: text, n: norm } = value;\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        matches.push({ score, key, value: text, norm, indices });\n      }\n    }\n\n    return matches\n  }\n}\n\nFuse.version = '6.5.3';\nFuse.createIndex = createIndex;\nFuse.parseIndex = parseIndex;\nFuse.config = Config;\n\n{\n  Fuse.parseQuery = parse;\n}\n\n{\n  register(ExtendedSearch);\n}\n\n\n\n\n/***/ }),\n\n/***/ 857:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"__DO_NOT_USE__ActionTypes\": function() { return /* binding */ ActionTypes; },\n  \"applyMiddleware\": function() { return /* binding */ applyMiddleware; },\n  \"bindActionCreators\": function() { return /* binding */ bindActionCreators; },\n  \"combineReducers\": function() { return /* binding */ combineReducers; },\n  \"compose\": function() { return /* binding */ compose; },\n  \"createStore\": function() { return /* binding */ createStore; }\n});\n\n;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\n\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n;// CONCATENATED MODULE: ./node_modules/redux/es/redux.js\n\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (false) {}\n\n  return typeOfVal;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error( true ? formatProdErrorMessage(0) : 0);\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error( true ? formatProdErrorMessage(1) : 0);\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error( true ? formatProdErrorMessage(2) : 0);\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error( true ? formatProdErrorMessage(3) : 0);\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error( true ? formatProdErrorMessage(4) : 0);\n    }\n\n    if (isDispatching) {\n      throw new Error( true ? formatProdErrorMessage(5) : 0);\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error( true ? formatProdErrorMessage(6) : 0);\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error( true ? formatProdErrorMessage(7) : 0);\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error( true ? formatProdErrorMessage(8) : 0);\n    }\n\n    if (isDispatching) {\n      throw new Error( true ? formatProdErrorMessage(9) : 0);\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error( true ? formatProdErrorMessage(10) : 0);\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error( true ? formatProdErrorMessage(11) : 0);\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error( true ? formatProdErrorMessage(12) : 0);\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error( true ? formatProdErrorMessage(13) : 0);\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (false) {}\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (false) {}\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (false) { var warningMessage; }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error( true ? formatProdErrorMessage(14) : 0);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error( true ? formatProdErrorMessage(16) : 0);\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error( true ? formatProdErrorMessage(15) : 0);\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2(_objectSpread2({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (false) {}\n\n\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t!function() {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__webpack_require__.n = function(module) {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\tfunction() { return module['default']; } :\n/******/ \t\t\t\tfunction() { return module; };\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t!function() {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = function(exports) {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.\n!function() {\n/* harmony import */ var _scripts_choices__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(373);\n/* harmony import */ var _scripts_choices__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_scripts_choices__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _scripts_interfaces__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(187);\n/* harmony import */ var _scripts_interfaces__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_scripts_interfaces__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _scripts_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(883);\n/* harmony import */ var _scripts_defaults__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(789);\n/* harmony import */ var _scripts_templates__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(686);\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ((_scripts_choices__WEBPACK_IMPORTED_MODULE_0___default()));\n\n}();\n__webpack_exports__ = __webpack_exports__[\"default\"];\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});","@use 'sass:color';\n@use 'variables' as *;\n@use 'mixins' as *;\n@use '~choices.js/src/styles/base';\n@use 'src/components/cat-form-hint/cat-form-hint';\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  @include cat-body('m');\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nlabel {\n  align-self: flex-start;\n  font-size: inherit;\n  font-weight: inherit;\n  margin: 0;\n\n  &.hidden {\n    @include cat-visually-hidden;\n  }\n}\n\n.input-optional {\n  margin-left: 0.25rem;\n  @include cat-body('xs');\n  color: cat-token('color.ui.font.muted');\n}\n\n$choices-selector: 'choices' !default;\n$choices-font-size-lg: 16px !default;\n$choices-font-size-md: 15px !default;\n$choices-font-size-sm: 12px !default;\n$choices-border-radius: 4px !default;\n$choices-border-radius-item: 2px !default;\n$choices-bg-color: #fff !default;\n$choices-bg-color-disabled: #eaeaea !default;\n$choices-bg-color-dropdown: #fff !default;\n$choices-text-color: #333 !default;\n$choices-keyline-color: #d7dbe0 !default;\n$choices-primary-color: rgba(105, 118, 135, 10%) !default;\n$choices-disabled-color: #eaeaea !default;\n$choices-highlight-color: $choices-primary-color !default;\n$choices-button-dimension: 10px !default;\n$choices-button-offset: 12px !default;\n$choices-icon-cross: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHZpZXdCb3g9IjAgMCAxMCAxMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEuMjc1MzIgMC4zOTEzNzFDMS4wMzEyNCAwLjE0NzI5NCAwLjYzNTUxIDAuMTQ3Mjk0IDAuMzkxNDMyIDAuMzkxMzcxQzAuMTQ3MzU1IDAuNjM1NDQ5IDAuMTQ3MzU1IDEuMDMxMTggMC4zOTE0MzIgMS4yNzUyNUw0LjExNjE2IDQuOTk5OThMMC4zOTE0MzIgOC43MjQ3QzAuMTQ3MzU1IDguOTY4NzggMC4xNDczNTUgOS4zNjQ1MSAwLjM5MTQzMiA5LjYwODU5QzAuNjM1NTEgOS44NTI2NyAxLjAzMTI0IDkuODUyNjcgMS4yNzUzMiA5LjYwODU5TDUuMDAwMDQgNS44ODM4Nkw4LjcyNDc3IDkuNjA4NTlDOC45Njg4NCA5Ljg1MjY3IDkuMzY0NTcgOS44NTI2NyA5LjYwODY1IDkuNjA4NTlDOS44NTI3MyA5LjM2NDUxIDkuODUyNzMgOC45Njg3OCA5LjYwODY1IDguNzI0N0w1Ljg4MzkyIDQuOTk5OThMOS42MDg2NSAxLjI3NTI1QzkuODUyNzMgMS4wMzExOCA5Ljg1MjczIDAuNjM1NDQ5IDkuNjA4NjUgMC4zOTEzNzFDOS4zNjQ1NyAwLjE0NzI5NCA4Ljk2ODg0IDAuMTQ3Mjk0IDguNzI0NzcgMC4zOTEzNzFMNS4wMDAwNCA0LjExNjFMMS4yNzUzMiAwLjM5MTM3MVoiIGZpbGw9ImJsYWNrIi8+Cjwvc3ZnPgo=') !default;\n$choices-icon-cross-inverse: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuNDY5NjcgNi40Njk2N0M2Ljc2MjU2IDYuMTc2NzggNy4yMzc0NCA2LjE3Njc4IDcuNTMwMzMgNi40Njk2N0wxMCA4LjkzOTM0TDEyLjQ2OTcgNi40Njk2N0MxMi43NjI2IDYuMTc2NzggMTMuMjM3NCA2LjE3Njc4IDEzLjUzMDMgNi40Njk2N0MxMy44MjMyIDYuNzYyNTYgMTMuODIzMiA3LjIzNzQ0IDEzLjUzMDMgNy41MzAzM0wxMS4wNjA3IDEwTDEzLjUzMDMgMTIuNDY5N0MxMy44MjMyIDEyLjc2MjYgMTMuODIzMiAxMy4yMzc0IDEzLjUzMDMgMTMuNTMwM0MxMy4yMzc0IDEzLjgyMzIgMTIuNzYyNiAxMy44MjMyIDEyLjQ2OTcgMTMuNTMwM0wxMCAxMS4wNjA3TDcuNTMwMzMgMTMuNTMwM0M3LjIzNzQ0IDEzLjgyMzIgNi43NjI1NiAxMy44MjMyIDYuNDY5NjcgMTMuNTMwM0M2LjE3Njc4IDEzLjIzNzQgNi4xNzY3OCAxMi43NjI2IDYuNDY5NjcgMTIuNDY5N0w4LjkzOTM0IDEwTDYuNDY5NjcgNy41MzAzM0M2LjE3Njc4IDcuMjM3NDQgNi4xNzY3OCA2Ljc2MjU2IDYuNDY5NjcgNi40Njk2N1oiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTAgMC4yNUM0LjYxNTIyIDAuMjUgMC4yNSA0LjYxNTIyIDAuMjUgMTBDMC4yNSAxNS4zODQ4IDQuNjE1MjIgMTkuNzUgMTAgMTkuNzVDMTUuMzg0OCAxOS43NSAxOS43NSAxNS4zODQ4IDE5Ljc1IDEwQzE5Ljc1IDQuNjE1MjIgMTUuMzg0OCAwLjI1IDEwIDAuMjVaTTEuNzUgMTBDMS43NSA1LjQ0MzY1IDUuNDQzNjUgMS43NSAxMCAxLjc1QzE0LjU1NjMgMS43NSAxOC4yNSA1LjQ0MzY1IDE4LjI1IDEwQzE4LjI1IDE0LjU1NjMgMTQuNTU2MyAxOC4yNSAxMCAxOC4yNUM1LjQ0MzY1IDE4LjI1IDEuNzUgMTQuNTU2MyAxLjc1IDEwWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==') !default;\n$choices-z-index: 1;\n$choices-chevron-bg: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iNyIgdmlld0JveD0iMCAwIDEyIDciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMC40Njk2NyAwLjQ2OTY3QzAuNzYyNTYzIDAuMTc2Nzc3IDEuMjM3NDQgMC4xNzY3NzcgMS41MzAzMyAwLjQ2OTY3TDYgNC45MzkzNEwxMC40Njk3IDAuNDY5NjcxQzEwLjc2MjYgMC4xNzY3NzggMTEuMjM3NCAwLjE3Njc3OCAxMS41MzAzIDAuNDY5NjcxQzExLjgyMzIgMC43NjI1NjQgMTEuODIzMiAxLjIzNzQ0IDExLjUzMDMgMS41MzAzM0w2LjUzMDMzIDYuNTMwMzNDNi4yMzc0NCA2LjgyMzIyIDUuNzYyNTYgNi44MjMyMiA1LjQ2OTY3IDYuNTMwMzNMMC40Njk2NyAxLjUzMDMzQzAuMTc2Nzc3IDEuMjM3NDQgMC4xNzY3NzcgMC43NjI1NjMgMC40Njk2NyAwLjQ2OTY3WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==');\n$choices-search-icon: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04LjUgMC4yNUMzLjk0MzY1IDAuMjUgMC4yNSAzLjk0MzY1IDAuMjUgOC41QzAuMjUgMTMuMDU2MyAzLjk0MzY1IDE2Ljc1IDguNSAxNi43NUMxMC41MjU1IDE2Ljc1IDEyLjM4MDUgMTYuMDIwMSAxMy44MTYzIDE0LjgwODlDMTMuODUyNiAxNC44ODkyIDEzLjkwMzcgMTQuOTY0NCAxMy45Njk3IDE1LjAzMDNMMTYuNDY5NyAxNy41MzAzQzE2Ljc2MjYgMTcuODIzMiAxNy4yMzc0IDE3LjgyMzIgMTcuNTMwMyAxNy41MzAzQzE3LjgyMzIgMTcuMjM3NCAxNy44MjMyIDE2Ljc2MjYgMTcuNTMwMyAxNi40Njk3TDE1LjAzMDMgMTMuOTY5N0MxNC45NjQ0IDEzLjkwMzcgMTQuODg5MiAxMy44NTI2IDE0LjgwODkgMTMuODE2M0MxNi4wMjAxIDEyLjM4MDUgMTYuNzUgMTAuNTI1NSAxNi43NSA4LjVDMTYuNzUgMy45NDM2NSAxMy4wNTYzIDAuMjUgOC41IDAuMjVaTTEuNzUgOC41QzEuNzUgNC43NzIwOCA0Ljc3MjA4IDEuNzUgOC41IDEuNzVDMTIuMjI3OSAxLjc1IDE1LjI1IDQuNzcyMDggMTUuMjUgOC41QzE1LjI1IDEyLjIyNzkgMTIuMjI3OSAxNS4yNSA4LjUgMTUuMjVDNC43NzIwOCAxNS4yNSAxLjc1IDEyLjIyNzkgMS43NSA4LjVaIiBmaWxsPSIjNjk3Njg3Ii8+Cjwvc3ZnPgo=');\n\n.#{$choices-selector} {\n  position: relative;\n  overflow: hidden;\n  font-size: $choices-font-size-lg;\n\n  &.is-focused,\n  &:focus {\n    outline: none;\n    box-shadow: 0 1px 4px 0 #101d3033;\n  }\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  &.is-open {\n    overflow: visible;\n  }\n\n  &.is-disabled {\n    .#{$choices-selector}__inner,\n    .#{$choices-selector}__input {\n      background-color: $choices-bg-color-disabled;\n      cursor: not-allowed;\n      user-select: none;\n    }\n    .#{$choices-selector}__item {\n      cursor: not-allowed;\n    }\n  }\n\n  [hidden] {\n    display: none !important;\n  }\n}\n\n.#{$choices-selector}[data-type*='select-one'] {\n  cursor: pointer;\n\n  .#{$choices-selector}__list--dropdown .#{$choices-selector}__list {\n    padding-top: 0.5rem;\n  }\n\n  .#{$choices-selector}__input {\n    display: block;\n    width: 100%;\n    padding: 12px 16px 12px 40px;\n    border-bottom: 1px solid $choices-keyline-color;\n    margin: 0;\n    color: #000;\n    background: #fff $choices-search-icon no-repeat left 12px center;\n\n    &::before {\n      content: 'abc';\n    }\n  }\n  .#{$choices-selector}__button {\n    background-image: $choices-icon-cross-inverse;\n    padding: 0;\n    background-size: 20px;\n    position: absolute;\n    top: 50%;\n    right: 0;\n    margin-top: -10px;\n    margin-right: 35px;\n    height: 20px;\n    width: 20px;\n\n    &:focus {\n      box-shadow: 0 0 0 2px $choices-highlight-color;\n    }\n  }\n  .#{$choices-selector}__item[data-value=''] .#{$choices-selector}__button {\n    display: none;\n  }\n\n  .#{$choices-selector}__item {\n    @include cat-ellipsis;\n  }\n\n  &[dir='rtl'] {\n    &::after {\n      left: 11.5px;\n      right: auto;\n    }\n    .#{$choices-selector}__button {\n      right: auto;\n      left: 0;\n      margin-left: 35px;\n      margin-right: 0;\n    }\n  }\n}\n\n.#{$choices-selector}[data-type*='select-multiple'],\n.#{$choices-selector}[data-type*='text'] {\n  .#{$choices-selector}__inner {\n    cursor: text;\n    display: flex;\n    flex-flow: row wrap;\n    align-items: center;\n    padding: 4px 60px 4px 4px;\n    gap: 4px;\n  }\n\n  .#{$choices-selector}__item {\n    cat-checkbox {\n      @include cat-ellipsis;\n      margin: 0;\n\n      &::part(label) {\n        @include cat-ellipsis;\n      }\n    }\n  }\n\n  .#{$choices-selector}__input {\n    min-width: 1ch;\n    width: 1ch;\n  }\n\n  .#{$choices-selector}__button {\n    position: relative;\n    display: inline-block;\n    padding-left: $choices-button-offset * 2;\n    background-image: $choices-icon-cross;\n    background-size: $choices-button-dimension;\n    width: $choices-button-dimension;\n    line-height: 1;\n    opacity: 0.75;\n    border-radius: 0;\n\n    &:hover,\n    &:focus {\n      opacity: 1;\n    }\n  }\n\n  cat-button {\n    position: absolute;\n    top: 50%;\n    right: 0;\n    margin-top: -20px;\n    margin-right: 25px;\n\n    &::part(button) {\n      box-shadow: unset;\n      background-color: transparent;\n    }\n  }\n\n  &[dir='rtl'] {\n    .#{$choices-selector}__inner {\n      padding-right: 4px;\n      padding-left: 60px;\n    }\n\n    cat-button {\n      right: auto;\n      left: 0;\n      margin-left: 25px;\n      margin-right: 0;\n    }\n  }\n}\n\n.#{$choices-selector}[data-type*='select-one'],\n.#{$choices-selector}[data-type*='select-multiple'] {\n  &::after {\n    content: '';\n    width: 12px;\n    height: 6.5px;\n    background-image: $choices-chevron-bg;\n    position: absolute;\n    right: 11.5px;\n    top: 50%;\n    margin-top: -2.5px;\n    pointer-events: none;\n    transition: transform cat-token('time.transition.m') linear;\n  }\n\n  &[dir='rtl'] {\n    &::after {\n      left: 11.5px;\n      right: auto;\n    }\n  }\n\n  &.is-open::after {\n    transform: rotate(180deg);\n    transition: transform cat-token('time.transition.m') linear;\n  }\n}\n\n.#{$choices-selector}__inner {\n  display: inline-block;\n  vertical-align: top;\n  width: 100%;\n  background-color: $choices-bg-color;\n  border: 1px solid $choices-keyline-color;\n  border-radius: $choices-border-radius;\n  font-size: $choices-font-size-md;\n  min-height: 40px;\n  overflow: hidden;\n\n  .is-open & {\n    border-radius: $choices-border-radius $choices-border-radius 0 0;\n  }\n\n  .is-flipped.is-open & {\n    border-radius: 0 0 $choices-border-radius $choices-border-radius;\n  }\n}\n\n.#{$choices-selector}__list {\n  margin: 0;\n  padding-left: 0;\n  list-style: none;\n\n  &[aria-expanded] {\n    @extend %choices-dropdown;\n  }\n}\n\n.#{$choices-selector}__list--single {\n  display: flex;\n  padding: 9px 50px 9px 12px;\n  width: 100%;\n\n  [dir='rtl'] & {\n    padding-right: 12px;\n    padding-left: 50px;\n  }\n  .#{$choices-selector}__item {\n    width: 100%;\n  }\n}\n\n.#{$choices-selector}__list--multiple {\n  display: contents;\n\n  .#{$choices-selector}__item {\n    @include cat-body('m', 600);\n\n    display: inline-flex;\n    align-items: center;\n    justify-content: space-between;\n    border-radius: $choices-border-radius-item;\n    padding: 5px 8px 5px 4px;\n    background-color: $choices-primary-color;\n    color: #000;\n    word-break: break-all;\n    box-sizing: border-box;\n\n    &[data-deletable] {\n      padding-right: 5px;\n    }\n\n    [dir='rtl'] & {\n      margin-right: 0;\n      margin-left: 3.75px;\n    }\n\n    &.is-highlighted {\n      background-color: color.adjust($choices-primary-color, $lightness: -5%);\n    }\n\n    .is-disabled & {\n      background-color: color.adjust($choices-disabled-color, $lightness: -25%);\n    }\n  }\n}\n\n%choices-dropdown {\n  visibility: hidden;\n  z-index: $choices-z-index;\n  position: absolute;\n  width: 100%;\n  background-color: $choices-bg-color-dropdown;\n  border: 1px solid $choices-keyline-color;\n  top: 100%;\n  margin-top: -1px;\n  overflow: hidden;\n  word-break: break-all;\n  will-change: visibility;\n  box-shadow: 0 2px 4px 0 #101d3033;\n  border-bottom-left-radius: $choices-border-radius;\n  border-bottom-right-radius: $choices-border-radius;\n\n  &.is-active {\n    visibility: visible;\n  }\n\n  .is-flipped & {\n    top: auto;\n    bottom: 100%;\n    margin-top: 0;\n    margin-bottom: -1px;\n    border-radius: 0.25rem 0.25rem 0 0;\n  }\n  .#{$choices-selector}__list {\n    position: relative;\n    max-height: 300px;\n    padding: 8px 0;\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n    will-change: scroll-position;\n  }\n  .#{$choices-selector}__item {\n    @include cat-body('m', 500);\n    position: relative;\n    padding: 10px;\n    min-height: 40px;\n\n    [dir='rtl'] & {\n      text-align: right;\n    }\n  }\n  .#{$choices-selector}__item--selectable {\n    @media (min-width: 640px) {\n      &[data-select-text]:not([data-select-text='']) {\n        padding-right: 100px;\n\n        [dir='rtl'] & {\n          padding-right: 10px;\n        }\n      }\n\n      &::after {\n        content: attr(data-select-text);\n        font-size: $choices-font-size-sm;\n        opacity: 0;\n        position: absolute;\n        right: 10px;\n        top: 50%;\n        transform: translateY(-50%);\n      }\n\n      [dir='rtl'] & {\n        text-align: right;\n        padding-left: 100px;\n\n        &::after {\n          right: auto;\n          left: 10px;\n        }\n      }\n    }\n\n    &.is-highlighted {\n      background-color: rgba(105, 118, 135, 5%);\n\n      &::after {\n        opacity: 0.5;\n      }\n    }\n  }\n}\n\n.#{$choices-selector}__list--dropdown {\n  @extend %choices-dropdown;\n}\n\n.#{$choices-selector}__item {\n  cursor: default;\n  border-left: 3px solid transparent;\n  transition: cat-token('time.transition.m') linear;\n}\n\n.#{$choices-selector}__item--selectable {\n  cursor: pointer;\n}\n\n.#{$choices-selector}__item--selected {\n  border-color: cat-token('color.theme.primary.bg');\n}\n\n.#{$choices-selector}__item--disabled {\n  cursor: not-allowed;\n  user-select: none;\n  opacity: 0.5;\n}\n\n.#{$choices-selector}__heading {\n  font-weight: 600;\n  font-size: $choices-font-size-sm;\n  padding: 10px;\n  border-bottom: 1px solid color.adjust($choices-keyline-color, $lightness: 10%);\n  color: color.adjust(#333, $lightness: 30%);\n}\n\n.#{$choices-selector}__button {\n  text-indent: -9999px;\n  appearance: none;\n  border: 0;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  background-position: center;\n  cursor: pointer;\n\n  &:focus {\n    outline: none;\n  }\n}\n\n.#{$choices-selector}__input {\n  display: inline-block;\n  vertical-align: baseline;\n  background-color: cat-token('color.ui.background.body');\n  font-size: $choices-font-size-md;\n  font-family: cat-body-font-family();\n  border: 0;\n  border-radius: 0;\n  max-width: 100%;\n  padding: 7px 0 4px 2px;\n\n  &:focus {\n    outline: 0;\n  }\n\n  &::-webkit-search-decoration,\n  &::-webkit-search-cancel-button,\n  &::-webkit-search-results-button,\n  &::-webkit-search-results-decoration {\n    display: none;\n  }\n\n  &::-ms-clear,\n  &::-ms-reveal {\n    display: none;\n    width: 0;\n    height: 0;\n  }\n\n  [dir='rtl'] & {\n    padding-right: 2px;\n    padding-left: 0;\n  }\n}\n\n.#{$choices-selector}__placeholder {\n  opacity: 0.5;\n}\n\n.#{$choices-selector}__group {\n  padding: 8px 16px;\n  height: 34px;\n\n  .#{$choices-selector}__heading {\n    font-style: normal;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 18px;\n    padding: unset;\n    border-bottom: 0;\n    color: #697687;\n  }\n\n  &:not(:first-child) {\n    border-top: 1px solid color.adjust($choices-keyline-color, $lightness: 10%);\n    margin-top: 8px;\n  }\n}\n\n.d-flex {\n  display: flex;\n}\n\n.align-items-center {\n  align-items: center;\n}\n\n.choices-option-icon {\n  width: 20px;\n  aspect-ratio: 1;\n  border-radius: cat-border-radius('s');\n}\n","import { Component, Element, Event, EventEmitter, h, Host, Prop, State, Watch, Listen } from '@stencil/core';\nimport Choices, { Choice, ClassNames, Item, Options } from 'choices.js';\nimport log from 'loglevel';\nimport { CatFormHint } from '../cat-form-hint/cat-form-hint';\nimport { CatI18nRegistry } from '../cat-i18n/cat-i18n-registry';\n\nlet nextUniqueId = 0;\n\nconst getOptionTemplate = (data: Item): string => {\n  if (data.customProperties?.imageUrl) {\n    return `\n    <div class=\"d-flex align-items-center\">\n      <img class=\"choices-option-icon\" src=\"${data.customProperties.imageUrl}\" style=\"margin-right: 0.5rem\" />\n      ${data.label}\n    </div>\n    `;\n  }\n  return `<cat-checkbox label=\"${data.label}\" checked=\"${data.selected}\"></cat-checkbox>`;\n};\n\n/**\n * A single option in the select.\n */\nexport type CatSelectItem = Pick<Choice, 'label' | 'value' | 'customProperties'>;\n\n/**\n * Select lets user choose one option from an options menu. Consider using\n * select when you have 6 or more options. Select component supports any content\n * type.\n *\n * @slot hint - Optional hint element to be displayed with the select.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part label - The label content.\n */\n@Component({\n  tag: 'cat-select',\n  styleUrl: 'cat-select.scss',\n  shadow: true\n})\nexport class CatSelect {\n  private readonly i18n = CatI18nRegistry.getInstance();\n  private readonly id = `cat-select-${nextUniqueId++}`;\n  private resetItemsOnNextValueChange = true;\n\n  private choice?: Choices;\n  private choicesElement?: HTMLElement;\n  private choiceInner?: Element;\n  private choiceDropdown?: Element;\n  private selectElement?: HTMLSelectElement;\n  private removeElement?: HTMLCatButtonElement;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  /**\n   * The label for the select.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A value is required or must be check for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * The available options for the input.\n   */\n  @Prop() items: CatSelectItem[] = [];\n\n  /**\n   * The value of the select.\n   */\n  @Prop({ mutable: true }) value?: any; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n  /**\n   * Disable the select.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Enable multiple selection.\n   */\n  @Prop() multiple = false;\n\n  /**\n   * The placeholder for the select.\n   */\n  @Prop() placeholder = '';\n\n  /**\n   * Whether the dropdown should appear above `(top)` or below `(bottom)` the\n   * input. By default, if there is not enough space within the window the\n   * dropdown will appear above the input, otherwise below it.\n   */\n  @Prop() position: 'auto' | 'top' | 'bottom' = 'auto';\n\n  /**\n   * Enable search for the select.\n   */\n  @Prop() search = false;\n\n  /**\n   * Optional hint text(s) to be displayed with the select.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter;\n\n  /**\n   * Emitted when the search is triggered.\n   */\n  @Event() catSearch!: EventEmitter;\n\n  /**\n   * Emitted when scrolled to the bottom.\n   */\n  @Event() catScrolledBottom!: EventEmitter;\n\n  /**\n   * Emitted when the select loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  @Watch('items')\n  setChoicesHandler(items: CatSelectItem[]) {\n    const isSelected = (item: CatSelectItem) => this.value?.includes(item.value);\n    const choices = items.map(item => ({ ...item, selected: isSelected(item) }));\n    this.choice?.setChoices(choices, 'value', 'label', true);\n\n    const vItems = this.choice?.getValue() || [];\n    const vItemsArray = (Array.isArray(vItems) ? vItems : [vItems]) as Item[];\n    const value = this.value || [];\n    const vItemValues = [...value];\n\n    // remove duplicate items\n    this.choice?.unhighlightAll();\n    vItemsArray.forEach(vItem => {\n      const index = vItemValues.indexOf(vItem.value);\n      if (index > -1) {\n        vItemValues.splice(index, 1);\n      } else {\n        vItem.choiceId = -1; // disconnect item from choice\n        this.choice?.highlightItem(vItem, false);\n      }\n    });\n    this.choice?.removeHighlightedItems(false);\n  }\n\n  @Watch('value')\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  setValueHandler(value?: any) {\n    if (this.resetItemsOnNextValueChange) {\n      this.choice?.removeActiveItems(-1);\n    }\n    this.resetItemsOnNextValueChange = true;\n    this.choice?.setChoiceByValue(value);\n    this.multiple && this.updateRemoveItemButtonVisibility();\n  }\n\n  componentWillRender(): void {\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    if (!this.label && !this.hasSlottedLabel) {\n      log.error('[A11y] Missing ARIA label on select', this);\n    }\n  }\n\n  componentDidLoad(): void {\n    this.init();\n    const attachedInternals: ElementInternals | undefined = this.hostElement.attachInternals?.();\n    if (attachedInternals) {\n      const root = attachedInternals.shadowRoot;\n      this.choicesElement = root?.querySelector('.choices') || undefined;\n      this.choiceInner = root?.querySelector('.choices__inner') || undefined;\n      this.choiceDropdown = root?.querySelector('.choices__list--dropdown')?.firstElementChild || undefined;\n    }\n    this.choicesElement?.addEventListener('click', this.resetFocus.bind(this));\n    this.choiceInner?.addEventListener('click', this.showDropdownHandler.bind(this));\n    this.selectElement?.addEventListener('hideDropdown', this.showMultipleFocus.bind(this));\n    this.selectElement?.addEventListener('showDropdown', this.showMultipleFocus.bind(this));\n    this.selectElement?.addEventListener('removeItem', this.resetFocus.bind(this));\n    this.selectElement?.addEventListener('change', this.onChange.bind(this));\n    this.selectElement?.addEventListener('search', this.onSearch.bind(this));\n    this.choiceDropdown?.addEventListener('scroll', this.onScrolledBottom.bind(this));\n    if (this.multiple) {\n      this.selectElement?.addEventListener('choice', this.onChoice.bind(this));\n      this.createRemoveItemButton();\n    }\n  }\n\n  disconnectedCallback(): void {\n    this.choice?.destroy();\n    this.choice = undefined;\n    this.choicesElement?.removeEventListener('click', this.resetFocus.bind(this));\n    this.choiceInner?.removeEventListener('click', this.showDropdownHandler.bind(this));\n    this.selectElement?.removeEventListener('hideDropdown', this.showMultipleFocus.bind(this));\n    this.selectElement?.removeEventListener('showDropdown', this.showMultipleFocus.bind(this));\n    this.selectElement?.removeEventListener('removeItem', this.resetFocus.bind(this));\n    this.selectElement?.removeEventListener('change', this.onChange.bind(this));\n    this.selectElement?.removeEventListener('search', this.onSearch.bind(this));\n    this.choiceDropdown?.removeEventListener('scroll', this.onScrolledBottom.bind(this));\n    if (this.multiple) {\n      this.removeElement?.removeEventListener('choice', this.onChoice.bind(this));\n    }\n  }\n\n  @Listen('blur', { capture: true })\n  onBlur(event: FocusEvent): void {\n    this.catBlur.emit(event);\n  }\n\n  render() {\n    return (\n      <Host>\n        {(this.hasSlottedLabel || this.label) && (\n          <label htmlFor={this.id} class={{ hidden: this.labelHidden }}>\n            <span part=\"label\">\n              {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n              {!this.required && (\n                <span class=\"input-optional\" aria-hidden=\"true\">\n                  ({this.i18n.t('input.optional')})\n                </span>\n              )}\n            </span>\n          </label>\n        )}\n        <select\n          id={this.id}\n          ref={el => (this.selectElement = el)}\n          multiple={this.multiple}\n          disabled={this.disabled}\n        ></select>\n        {this.hintSection}\n      </Host>\n    );\n  }\n\n  private init() {\n    const component = this; // eslint-disable-line @typescript-eslint/no-this-alias\n    const removeItemText = (value: string) => this.i18n.t('select.removeItem', { value });\n    const config = {\n      allowHTML: true,\n      removeItemButton: true,\n      duplicateItemsAllowed: false,\n      delimiter: '',\n      paste: false,\n      searchEnabled: this.search,\n      searchChoices: false,\n      position: this.position,\n      resetScrollPosition: false,\n      placeholder: !!this.placeholder,\n      placeholderValue: this.placeholder || '',\n      searchPlaceholderValue: this.i18n.t('select.searchPlaceholder'),\n      renderSelectedChoices: 'always' as 'auto' | 'always',\n      loadingText: this.i18n.t('select.loading'),\n      noResultsText: this.i18n.t('select.noResults'),\n      noChoicesText: this.i18n.t('select.noChoices'),\n      itemSelectText: this.i18n.t('select.selectItem'),\n      addItemText: (value: string) => this.i18n.t('select.addItem', { value }),\n      maxItemText: (maxItemCount: number) => this.i18n.t('select.maxItem', { maxItemCount }),\n      uniqueItemText: this.i18n.t('select.uniqueItem'),\n      customAddItemText: this.i18n.t('select.customAddItem'),\n      callbackOnInit: function () {\n        const choice = this as unknown as Choices;\n        choice.setChoices(component.items, 'value', 'label', true);\n        choice.setChoiceByValue(component.value);\n      }\n    };\n\n    const configSingle = {\n      callbackOnCreateTemplates: (strToEl: (str: string) => HTMLElement) => {\n        return {\n          item: ({ classNames }: { classNames: ClassNames }, data: Item) => {\n            const template = data.customProperties?.imageUrl\n              ? `<img class=\"choices-option-icon\" src=\"${data.customProperties.imageUrl}\" style=\"margin-right: 0.5rem\" />`\n              : '';\n            return strToEl(\n              `\n              <div class=\"${classNames.item} ${\n                data.highlighted ? classNames.highlightedState : classNames.itemSelectable\n              } ${data.placeholder ? classNames.placeholder : ''}\" data-item data-id=\"${data.id}\" data-value=\"${\n                data.value\n              }\" ${data.active ? 'aria-selected=\"true\"' : ''} ${data.disabled ? 'aria-disabled=\"true\"' : ''}>\n                  <span>${template}</span> ${data.label}\n                  <button type=\"button\"\n                    class=\"${classNames.button}\"\n                    aria-label=\"${removeItemText(data.label)}\"\n                    data-button>${removeItemText(data.label)}</button>\n              </div>\n              `\n            );\n          }\n        };\n      }\n    };\n\n    const configMultiple = {\n      callbackOnCreateTemplates: (strToEl: (str: string) => HTMLElement) => {\n        const itemSelectText = config.itemSelectText;\n        return {\n          item: ({ classNames }: { classNames: ClassNames }, data: Item) => {\n            const template = data.customProperties?.imageUrl\n              ? `<img class=\"choices-option-icon\" src=\"${data.customProperties.imageUrl}\" style=\"margin-right: 0.5rem;\" />`\n              : '';\n            return strToEl(\n              `<div class=\"\n                ${classNames.item}\n                ${data.highlighted ? classNames.highlightedState : classNames.itemSelectable}\n                ${data.placeholder ? classNames.placeholder : ''}\"\n                data-item data-id=\"${data.id}\" data-value=\"${data.value}\"\n                ${data.active ? 'aria-selected=\"true\"' : ''}\n                ${data.disabled ? 'aria-disabled=\"true\"' : ''}>\n                  ${template}\n                  ${data.label}\n                  <button type=\"button\"\n                    class=\"${classNames.button}\"\n                    aria-label=\"${removeItemText(data.label)}\"\n                    data-button>${removeItemText(data.label)}</button>\n              </div>`\n            );\n          },\n          choice: function ({ classNames }: { classNames: ClassNames }, data: Item) {\n            const template = getOptionTemplate(data);\n            const className = `${String(classNames.item)} ${String(classNames.itemChoice)}\n                  ${String(data.disabled ? classNames.itemDisabled : classNames.itemSelectable)}\n                  ${data.selected ? 'choices__item--selected' : ''}`;\n            return strToEl(\n              `<div class=\"${className}\"\n                data-select-text=\"${itemSelectText}\"\n                data-choice data-id=\"${String(data.id)}\" data-value=\"${String(data.value)}\"\n                ${data.disabled ? 'data-choice-disabled aria-disabled=\"true\"' : 'data-choice-selectable'}\n                ${data.groupId && data.groupId > 0 ? 'role=\"treeitem\"' : 'role=\"option\"'}>\n                  ${template}\n              </div>`\n            );\n          }\n        };\n      }\n    };\n\n    const settings: Partial<Options> = this.multiple\n      ? { ...config, ...configMultiple }\n      : { ...config, ...configSingle };\n    this.choice = new Choices(this.selectElement, settings);\n  }\n\n  private get hintSection() {\n    const hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n    return (\n      (this.hint || hasSlottedHint) && (\n        <CatFormHint hint={this.hint} slottedHint={hasSlottedHint && <slot name=\"hint\"></slot>} />\n      )\n    );\n  }\n\n  private onChange() {\n    this.resetItemsOnNextValueChange = false;\n    this.value = this.choice?.getValue(true);\n    this.catChange.emit(this.value);\n  }\n\n  private showMultipleFocus() {\n    if (this.multiple && this.isFocused() && !this.choicesElement?.classList.contains('is-focused')) {\n      this.choicesElement?.classList.add('is-focused');\n    }\n  }\n\n  private resetFocus() {\n    if (!this.isFocused()) {\n      if (!this.choicesElement?.hasAttribute('tabindex')) {\n        this.choicesElement?.setAttribute('tabindex', '0');\n      }\n      this.choicesElement?.focus();\n    }\n  }\n\n  private isFocused() {\n    return document.activeElement === this.hostElement;\n  }\n\n  private onChoice(event: Event) {\n    const customEvent = event as CustomEvent<{ choice: Choice }>;\n    const choice = customEvent.detail.choice;\n    if (choice.selected) {\n      this.choice?.removeActiveItemsByValue(choice.value);\n      this.onChange();\n    }\n  }\n\n  private onSearch(event: Event) {\n    const customEvent = event as CustomEvent<{ value: string }>;\n    this.catSearch.emit(customEvent.detail.value);\n  }\n\n  private onScrolledBottom() {\n    const scrolledBottom =\n      this.choiceDropdown?.scrollHeight ===\n      (this.choiceDropdown?.scrollTop || 0) + (this.choiceDropdown?.clientHeight || 0);\n    if (scrolledBottom) {\n      this.catScrolledBottom.emit();\n    }\n  }\n\n  private showDropdownHandler() {\n    !this.disabled && this.choice?.showDropdown();\n  }\n\n  private createRemoveItemButton() {\n    this.removeElement = document.createElement('cat-button') as HTMLCatButtonElement;\n    this.removeElement.icon = 'cross-circle-outlined';\n    this.removeElement.iconOnly = true;\n    this.removeElement.a11yLabel = this.i18n.t('select.removeItem');\n    this.updateRemoveItemButtonVisibility();\n    this.removeElement.addEventListener('click', this.onRemoveItemButtonClick.bind(this));\n    this.choiceInner?.appendChild(this.removeElement);\n  }\n\n  private updateRemoveItemButtonVisibility() {\n    if (this.value?.length) {\n      this.removeElement?.removeAttribute('hidden');\n    } else {\n      this.removeElement?.setAttribute('hidden', 'true');\n    }\n  }\n\n  private onRemoveItemButtonClick(event: Event) {\n    event.stopPropagation();\n    this.choice?.removeActiveItems(-1);\n    this.onChange();\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n$skeleton-sizes: (\n  'xl': 3.5rem,\n  'l': 3rem,\n  'm': 2.5rem,\n  's': 2rem,\n  'xs': 1.5rem\n);\n\n:host {\n  /**\n   * @prop --background: The background color of the skeleton.\n   * @prop --highlight: The highlight color of the skeleton.\n   * @prop --speed: The animation speed.\n   */\n  display: flex;\n  flex-direction: column;\n  position: relative;\n\n  --background: #{cat-token('color.ui.background.skeleton')};\n  --highlight: #{cat-token('color.ui.background.skeletonHighlight')};\n  --speed: 2s;\n}\n\n:host([variant='square']),\n:host([variant='circle']) {\n  display: inline-flex;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n:host([variant='head']) {\n  margin-bottom: $cat-head-margin-bottom;\n}\n\n:host([variant='body']) {\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n.skeleton {\n  display: block;\n  border-radius: cat-border-radius('m');\n  background: var(--background);\n}\n\n.skeleton-circle {\n  border-radius: 10rem;\n}\n\n// ----- size\n\n@mixin size($size, $lvl) {\n  $-text-offset: 4px;\n  .skeleton-#{$size} {\n    &.skeleton-rectangle {\n      width: var(--width, 100%);\n      height: var(--height, map.get($skeleton-sizes, $size));\n    }\n\n    &.skeleton-square,\n    &.skeleton-circle {\n      width: var(--width, map.get($skeleton-sizes, $size));\n      height: var(--height, map.get($skeleton-sizes, $size));\n    }\n\n    &.skeleton-head,\n    &.skeleton-body {\n      width: var(--width, var(--line-width, 100%));\n    }\n\n    &.skeleton-head {\n      height: calc(#{cat-head-font-size($lvl)} - #{$-text-offset});\n      margin: calc((#{cat-head-line-height($lvl)} - #{cat-head-font-size($lvl)} + #{$-text-offset}) * 0.5) 0;\n    }\n\n    &.skeleton-body {\n      height: calc(#{cat-body-font-size($size)} - #{$-text-offset});\n      margin: calc((#{cat-body-line-height($size)} - #{cat-body-font-size($size)} + #{$-text-offset}) * 0.5) 0;\n    }\n  }\n}\n\n@include size('xs', 5);\n@include size('s', 4);\n@include size('m', 3);\n@include size('l', 2);\n@include size('xl', 1);\n\n// ----- animation\n\n.skeleton-sheen {\n  background: linear-gradient(90deg, var(--background) 33%, var(--highlight) 50%, var(--background) 66%)\n    var(--background);\n  background-size: 300% 100%;\n  animation: sheen var(--speed) ease-in-out infinite;\n}\n\n.skeleton-pulse {\n  position: relative;\n  overflow: hidden;\n\n  &::before {\n    content: '';\n    display: block;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-color: var(--highlight);\n    animation: var(--speed) ease-in-out 0.5s infinite normal none running pulse;\n    opacity: 0;\n  }\n}\n\n@keyframes sheen {\n  0% {\n    background-position: right;\n  }\n}\n\n@keyframes pulse {\n  50% {\n    opacity: 1;\n  }\n}\n","import { Component, Host, h, Prop } from '@stencil/core';\n\n/**\n * Skeletons are used to show where content will eventually be drawn.\n */\n@Component({\n  tag: 'cat-skeleton',\n  styleUrl: 'cat-skeleton.scss',\n  shadow: true\n})\nexport class CatSkeleton {\n  /**\n   * The animation style of the skeleton.\n   */\n  @Prop() effect: 'plain' | 'sheen' | 'pulse' = 'sheen';\n\n  /**\n   * The rendering style of the skeleton.\n   */\n  @Prop() variant: 'rectangle' | 'square' | 'circle' | 'head' | 'body' = 'rectangle';\n\n  /**\n   * The size of the skeleton. If the variant is set to \"head\", the size values\n   * \"xs\" to \"xl\" translate to the head levels `h1` to `h5`.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' = 'm';\n\n  /**\n   * The number of text lines to be rendered for \"head\" and \"body\" variants.\n   * Defaults to 1 for \"head\" and 3 for \"body\". Will be ignored for other\n   * variants.\n   */\n  @Prop() lines?: number;\n\n  render() {\n    return (\n      <Host>\n        {Array.from(Array(this.count)).map(() => (\n          <div\n            style={this.style}\n            class={{\n              skeleton: true,\n              [`skeleton-${this.effect}`]: Boolean(this.effect),\n              [`skeleton-${this.variant}`]: Boolean(this.variant),\n              [`skeleton-${this.size}`]: Boolean(this.size)\n            }}\n          ></div>\n        ))}\n      </Host>\n    );\n  }\n\n  private get count() {\n    switch (this.variant) {\n      case 'head':\n        return Math.max(1, this.lines || 1);\n      case 'body':\n        return Math.max(1, this.lines || 3);\n      default:\n        return 1;\n    }\n  }\n\n  private get style() {\n    return this.variant === 'head' || this.variant === 'body'\n      ? {\n          '--line-width': `${this.random(50, 100)}%`\n        }\n      : undefined;\n  }\n\n  private random(min: number, max: number) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'sass:map';\n\n$spinner-sizes: (\n  'xl': 1.75rem,\n  'l': 1.5rem,\n  'm': 1.25rem,\n  's': 1rem,\n  'xs': 0.75rem\n);\n\n:host {\n  display: inline-flex;\n  vertical-align: middle;\n  @include cat-select(none);\n\n  &[hidden] {\n    display: none;\n  }\n}\n\nspan {\n  display: inline-flex;\n}\n\nsvg {\n  fill: none;\n  stroke: currentColor;\n  stroke-dasharray: 135px;\n  stroke-dashoffset: 95px;\n  stroke-linecap: round;\n  stroke-width: 5px;\n  transform-origin: center center;\n  animation: spin 0.75s cubic-bezier(0.4, 0.15, 0.6, 0.85) infinite;\n  width: 1em;\n  height: 1em;\n}\n\n// ----- sizes\n\n@mixin size($size) {\n  .spinner-#{$size} svg {\n    font-size: map.get($spinner-sizes, $size);\n  }\n}\n\n@include size('xs');\n@include size('s');\n@include size('m');\n@include size('l');\n@include size('xl');\n\n// ----- animation\n\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n}\n","import { Component, h, Prop } from '@stencil/core';\n\n/**\n * Spinners are used to indicate users that their action is being processed.\n */\n@Component({\n  tag: 'cat-spinner',\n  styleUrl: 'cat-spinner.scss',\n  shadow: true\n})\nexport class CatSpinner {\n  /**\n   * The size of the spinner.\n   */\n  @Prop() size: 'xs' | 's' | 'm' | 'l' | 'xl' | 'inline' = 'm';\n\n  /**\n   * Adds accessible label for the spinner that is only shown for screen\n   * readers. The `aria-hidden` attribute will be set if no label is present.\n   */\n  @Prop({ attribute: 'a11y-label' }) a11yLabel?: string;\n\n  render() {\n    return (\n      <span\n        aria-label={this.a11yLabel}\n        aria-hidden={this.a11yLabel ? null : 'true'}\n        class={{\n          [`spinner-${this.size}`]: this.size !== 'inline'\n        }}\n      >\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\">\n          <circle cx=\"24\" cy=\"24\" r=\"21.5\"></circle>\n        </svg>\n      </span>\n    );\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n:host {\n  display: block;\n}\n\n:host([hidden]) {\n  display: none;\n}\n","import { Component, h, Prop, Event, EventEmitter, Listen, Host, Element } from '@stencil/core';\nimport { Breakpoint } from '../../utils/breakpoints';\n\nlet nextUniqueId = 0;\n\n/**\n * A single tab inside a tabs component.\n */\n@Component({\n  tag: 'cat-tab',\n  styleUrl: 'cat-tab.scss',\n  shadow: true\n})\nexport class CatTab {\n  @Element() hostElement!: HTMLElement;\n\n  /**\n   * The label of the tab.\n   */\n  @Prop({ reflect: true }) label = '';\n\n  /**\n   * The name of an icon to be displayed in the tab.\n   */\n  @Prop({ reflect: true }) icon?: string;\n\n  /**\n   * Hide the actual button content and only display the tab.\n   */\n  @Prop({ reflect: true }) iconOnly: boolean | Breakpoint = false;\n\n  /**\n   * Display the icon on the right.\n   */\n  @Prop({ reflect: true }) iconRight = false;\n\n  /**\n   * A destination to link to, rendered in the href attribute of a link.\n   */\n  @Prop({ reflect: true }) url?: string;\n\n  /**\n   * Specifies where to open the linked document.\n   */\n  @Prop({ reflect: true }) urlTarget?: '_blank' | '_self';\n\n  /**\n   * Specifies that the tab should be deactivated.\n   */\n  @Prop({ reflect: true }) deactivated = false;\n\n  /**\n   * Emitted when tab is clicked.\n   */\n  @Event() tabClick!: EventEmitter<MouseEvent>;\n\n  connectedCallback() {\n    if (!this.hostElement.id) {\n      this.hostElement.id = `cat-tab-${nextUniqueId++}`;\n    }\n  }\n\n  @Listen('click')\n  onClick(event: MouseEvent) {\n    this.tabClick.emit(event);\n  }\n\n  render() {\n    return <Host></Host>;\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n:host {\n  display: flex;\n  flex-direction: row;\n  box-shadow: inset 0 -1px 0 0 cat-token('color.ui.border.tabs');\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n:host([tabs-align='center']) {\n  justify-content: center;\n}\n\n:host([tabs-align='right']) {\n  justify-content: end;\n}\n\n:host([tabs-align='justify']) {\n  cat-button {\n    flex: 1 0 auto;\n  }\n}\n\n.tab {\n  padding: 0.5rem;\n\n  &.tab-active {\n    box-shadow: inset 0 -3px 0 0 cat-token('color.ui.border.activeTab');\n  }\n}\n","import { Component, h, Element, State, Watch, Listen, Host, Prop } from '@stencil/core';\n\n/**\n * Tabs are used to display multiple panels to be contained within a single\n * window, using tabs as a navigational element.\n *\n * @part tab - The header of the tab.\n */\n@Component({\n  tag: 'cat-tabs',\n  styleUrl: 'cat-tabs.scss',\n  shadow: true\n})\nexport class CatTabs {\n  private buttons: HTMLCatButtonElement[] = [];\n  private mutationObserver?: MutationObserver;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() tabs: HTMLCatTabElement[] = [];\n\n  @State() activeTabId?: string;\n\n  /**\n   * The ID of the active tab.\n   */\n  @Prop() activeTab = '';\n\n  /**\n   * The alignment of the tabs.\n   */\n  @Prop() tabsAlign: 'left' | 'center' | 'right' | 'justify' = 'left';\n\n  @Watch('activeTabId')\n  onActiveTabChanged(newActiveTab: string): void {\n    const activeTab = this.tabs.find(value => value.id === newActiveTab);\n    activeTab?.click();\n  }\n\n  componentWillLoad(): void {\n    this.syncTabs();\n    if (this.tabs.length) {\n      this.activeTabId = this.activeTab;\n    }\n  }\n\n  componentDidLoad() {\n    this.mutationObserver = new MutationObserver(\n      mutations => mutations.some(value => value.target.nodeName === 'CAT-TAB') && this.syncTabs()\n    );\n\n    this.mutationObserver?.observe(this.hostElement, {\n      childList: true,\n      attributes: true,\n      subtree: true\n    });\n  }\n\n  disconnectedCallback() {\n    this.mutationObserver?.disconnect();\n  }\n\n  @Listen('keydown')\n  onKeydown(event: KeyboardEvent): void {\n    if (['ArrowDown', 'ArrowUp', 'ArrowRight', 'ArrowLeft'].includes(event.key)) {\n      const targetElements = this.buttons.filter(button => !button.disabled);\n      const activeElement = this.hostElement.shadowRoot?.activeElement as HTMLCatButtonElement;\n      const activeIdx = activeElement ? targetElements.indexOf(activeElement) : -1;\n      const activeOff = ['ArrowDown', 'ArrowRight'].includes(event.key) ? 1 : -1;\n      const targetIdx = activeIdx < 0 ? 0 : (activeIdx + activeOff + targetElements.length) % targetElements.length;\n      targetElements[targetIdx].setFocus();\n      event.preventDefault();\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        {this.tabs.map((tab: HTMLCatTabElement) => {\n          return (\n            <cat-button\n              ref={el => el && this.updateButtonsRef(el)}\n              buttonId={tab.id}\n              role=\"tab\"\n              part=\"tab\"\n              class={{\n                tab: true,\n                'tab-active': Boolean(this.activeTabId && tab.id === this.activeTabId)\n              }}\n              color={this.activeTabId && tab.id === this.activeTabId ? 'primary' : 'secondary'}\n              variant=\"text\"\n              icon={tab.icon}\n              iconOnly={tab.iconOnly}\n              iconRight={tab.iconRight}\n              url={tab.url}\n              disabled={tab.deactivated}\n              urlTarget={tab.urlTarget}\n              onCatClick={() => (this.activeTabId = tab.id)}\n            >\n              {tab.label}\n            </cat-button>\n          );\n        })}\n      </Host>\n    );\n  }\n\n  private updateButtonsRef(button: HTMLCatButtonElement) {\n    const indexOf = this.buttons.indexOf(button);\n\n    if (indexOf >= 0) {\n      this.buttons[indexOf] = button;\n    } else {\n      this.buttons.push(button);\n    }\n  }\n\n  private syncTabs() {\n    this.tabs = Array.from(this.hostElement.querySelectorAll('cat-tab'));\n  }\n}\n","var e,t,n=\"function\"==typeof Map?new Map:(e=[],t=[],{has:function(t){return e.indexOf(t)>-1},get:function(n){return t[e.indexOf(n)]},set:function(n,o){-1===e.indexOf(n)&&(e.push(n),t.push(o))},delete:function(n){var o=e.indexOf(n);o>-1&&(e.splice(o,1),t.splice(o,1))}}),o=function(e){return new Event(e,{bubbles:!0})};try{new Event(\"test\")}catch(e){o=function(e){var t=document.createEvent(\"Event\");return t.initEvent(e,!0,!1),t}}function r(e){var t=n.get(e);t&&t.destroy()}function i(e){var t=n.get(e);t&&t.update()}var l=null;\"undefined\"==typeof window||\"function\"!=typeof window.getComputedStyle?((l=function(e){return e}).destroy=function(e){return e},l.update=function(e){return e}):((l=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return function(e){if(e&&e.nodeName&&\"TEXTAREA\"===e.nodeName&&!n.has(e)){var t,r=null,i=null,l=null,d=function(){e.clientWidth!==i&&c()},a=function(t){window.removeEventListener(\"resize\",d,!1),e.removeEventListener(\"input\",c,!1),e.removeEventListener(\"keyup\",c,!1),e.removeEventListener(\"autosize:destroy\",a,!1),e.removeEventListener(\"autosize:update\",c,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),n.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener(\"autosize:destroy\",a,!1),\"onpropertychange\"in e&&\"oninput\"in e&&e.addEventListener(\"keyup\",c,!1),window.addEventListener(\"resize\",d,!1),e.addEventListener(\"input\",c,!1),e.addEventListener(\"autosize:update\",c,!1),e.style.overflowX=\"hidden\",e.style.wordWrap=\"break-word\",n.set(e,{destroy:a,update:c}),\"vertical\"===(t=window.getComputedStyle(e,null)).resize?e.style.resize=\"none\":\"both\"===t.resize&&(e.style.resize=\"horizontal\"),r=\"content-box\"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(r)&&(r=0),c()}function u(t){var n=e.style.width;e.style.width=\"0px\",e.style.width=n,e.style.overflowY=t}function s(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),n=document.documentElement&&document.documentElement.scrollTop;e.style.height=\"\",e.style.height=e.scrollHeight+r+\"px\",i=e.clientWidth,t.forEach(function(e){e.node.scrollTop=e.scrollTop}),n&&(document.documentElement.scrollTop=n)}}function c(){s();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),r=\"content-box\"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(r<t?\"hidden\"===n.overflowY&&(u(\"scroll\"),s(),r=\"content-box\"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):\"hidden\"!==n.overflowY&&(u(\"hidden\"),s(),r=\"content-box\"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),l!==r){l=r;var i=o(\"autosize:resized\");try{e.dispatchEvent(i)}catch(e){}}}}(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e},l.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e});var d=l;export default d;\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  @include cat-body('m');\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nlabel {\n  align-self: flex-start;\n\n  &.hidden {\n    @include cat-visually-hidden;\n  }\n}\n\n.input-optional {\n  margin-left: 0.25rem;\n  @include cat-body('xs');\n  color: cat-token('color.ui.font.muted');\n}\n\ntextarea {\n  margin: 0;\n  padding: 0.625rem 0.75rem;\n  min-height: 2.5rem;\n  font: inherit;\n  background: cat-token('color.ui.background.input');\n  border-radius: cat-border-radius('m');\n  border: none;\n  box-shadow: 0 0 0 1px cat-token('color.ui.border.input');\n  transition: box-shadow cat-token('time.transition.s') linear;\n\n  &:disabled {\n    background: cat-token('color.ui.background.inputDisabled');\n    cursor: not-allowed;\n    color: cat-token('color.ui.font.muted');\n    resize: none;\n  }\n\n  &:hover:not(:disabled) {\n    box-shadow: 0 0 0 2px cat-token('color.ui.border.input');\n  }\n\n  &:focus {\n    outline: 2px solid cat-token('color.ui.border.focus');\n  }\n\n  &::placeholder {\n    color: cat-token('color.ui.font.muted');\n  }\n}\n","import { Component, Element, Event, EventEmitter, h, Host, Method, Prop, State } from '@stencil/core';\nimport autosize from 'autosize';\nimport log from 'loglevel';\nimport { CatFormHint } from '../cat-form-hint/cat-form-hint';\n\nlet nextUniqueId = 0;\n\n/**\n * Textarea specifies a control that allows user to write text over multiple\n * rows. Used when the expected user input is long. For shorter input, use the\n * input component.\n *\n * @slot hint - Optional hint element to be displayed with the textarea.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part label - The label content.\n */\n@Component({\n  tag: 'cat-textarea',\n  styleUrl: 'cat-textarea.scss',\n  shadow: true\n})\nexport class CatTextarea {\n  private readonly id = `cat-textarea-${nextUniqueId++}`;\n  private textarea!: HTMLTextAreaElement;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  /**\n   * Whether the textarea is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Optional hint text(s) to be displayed with the textarea.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * The label for the textarea.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A maximum length (number of characters) for textual values.\n   */\n  @Prop() maxLength?: number;\n\n  /**\n   * A minimum length (number of characters) for textual values.\n   */\n  @Prop() minLength?: number;\n\n  /**\n   * The name of the form control. Submitted with the form as part of a name/value pair.\n   */\n  @Prop() name = '';\n\n  /**\n   * The placeholder text to display within the input.\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * The value is not editable.\n   */\n  @Prop() readonly = false;\n\n  /**\n   * A value is required or must be check for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * Specifies the initial number of lines in the textarea.\n   */\n  @Prop() rows = 3;\n\n  /**\n   * The initial value of the control.\n   */\n  @Prop({ mutable: true }) value?: string | number;\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter;\n\n  /**\n   * Emitted when the textarea received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the textarea loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillRender(): void {\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    if (!this.label && !this.hasSlottedLabel) {\n      log.error('[A11y] Missing ARIA label on textarea', this);\n    }\n  }\n\n  componentDidLoad(): void {\n    autosize(this.textarea);\n  }\n\n  /**\n   * Sets focus on the textarea. Use this method instead of `textarea.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async setFocus(options?: FocusOptions): Promise<void> {\n    this.textarea.focus(options);\n  }\n\n  render() {\n    return (\n      <Host>\n        {(this.hasSlottedLabel || this.label) && (\n          <label htmlFor={this.id} class={{ hidden: this.labelHidden }}>\n            <span part=\"label\">\n              {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n              {!this.required && (\n                <span class=\"input-optional\" aria-hidden=\"true\">\n                  (Optional)\n                </span>\n              )}\n            </span>\n          </label>\n        )}\n        <textarea\n          ref={el => (this.textarea = el as HTMLTextAreaElement)}\n          id={this.id}\n          disabled={this.disabled}\n          maxlength={this.maxLength}\n          minlength={this.minLength}\n          name={this.name}\n          placeholder={this.placeholder}\n          readonly={this.readonly}\n          required={this.required}\n          rows={this.rows}\n          value={this.value}\n          onInput={this.onInput.bind(this)}\n          onFocus={this.onFocus.bind(this)}\n          onBlur={this.onBlur.bind(this)}\n        ></textarea>\n        {this.hintSection}\n      </Host>\n    );\n  }\n\n  private get hintSection() {\n    const hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n    return (\n      (this.hint || hasSlottedHint) && (\n        <CatFormHint hint={this.hint} slottedHint={hasSlottedHint && <slot name=\"hint\"></slot>} />\n      )\n    );\n  }\n\n  private onInput(event: Event) {\n    this.value = this.textarea.value;\n    this.catChange.emit(event);\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n  }\n}\n",":host {\n  display: block;\n}\n","import { Component, h } from '@stencil/core';\nimport { NotificationsService, ToastOptions } from '../cat-notification/cat-notification';\n\n/**\n * Toast Component Demo\n *\n * @part toast - The content of the toast.\n */\n@Component({\n  tag: 'cat-toast-demo',\n  styleUrl: 'cat-toast-demo.scss'\n})\nexport class CatToastDemo {\n  render() {\n    return <cat-button onClick={this.onClick.bind(this)}>Show Notifications</cat-button>;\n  }\n\n  private onClick() {\n    const infoOptions: Partial<ToastOptions> = {\n      position: 'top-left',\n      type: 'info'\n    };\n    const errorOptions: Partial<ToastOptions> = {\n      position: 'top-center',\n      type: 'error'\n    };\n    const errorOptions2: Partial<ToastOptions> = {\n      position: 'bottom-left',\n      type: 'error'\n    };\n    const successOptions3: Partial<ToastOptions> = {\n      position: 'bottom-right',\n      type: 'success'\n    };\n    const template = document.createElement('template');\n    template.innerHTML = `<div style=\"padding: 7px 30px 7px 10px\">Custom HTML Node Content</div>`;\n    const successOptions4: Partial<ToastOptions> = {\n      position: 'bottom-right',\n      type: 'success',\n      content: template.content.firstChild as HTMLElement\n    };\n    const primaryOptions: Partial<ToastOptions> = {\n      position: 'bottom-right',\n      type: 'primary'\n    };\n\n    const secondaryOptions: Partial<ToastOptions> = {\n      position: 'bottom-right',\n      type: 'secondary'\n    };\n\n    NotificationsService.secondary('Secondary Click', 'secondary info', secondaryOptions);\n    NotificationsService.primary('primary Click', 'secondary info', primaryOptions);\n    NotificationsService.error('Default Click');\n    NotificationsService.error('Long default title, long default title, long default title, long default title');\n    NotificationsService.info('Info Click', 'Info message', infoOptions);\n    NotificationsService.success('', ' ', successOptions4);\n    NotificationsService.error('Error Title', ' ', errorOptions);\n    NotificationsService.error(\n      'Error 2 Title',\n      'Very long message, Very long message, Very long message, Very long message, Very long message, Very long message, Very long message, Very long message, Very long message, Very long message,Very long message, Very long message, Very long message, Very long message, Very long message, ',\n      errorOptions2\n    );\n    NotificationsService.success('Success Title - very long title without message', ' ', successOptions3);\n  }\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n@use 'src/components/cat-form-hint/cat-form-hint';\n\n$toggle-width: 2rem;\n$toggle-height: 1.25rem;\n\n:host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  margin-bottom: $cat-body-margin-bottom;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\nlabel {\n  flex: 0 1 auto;\n  display: flex;\n  gap: 0.5rem;\n  @include cat-body('m');\n  @include cat-select(none);\n  cursor: pointer;\n}\n\n.label-left {\n  flex-direction: row-reverse;\n}\n\ninput {\n  position: absolute;\n  margin: 0;\n  width: $toggle-width;\n  height: $toggle-height;\n  opacity: 0;\n  cursor: inherit;\n}\n\n.toggle {\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  width: $toggle-width;\n  height: $toggle-height;\n  border-radius: 10rem;\n  background-color: cat-token('color.ui.border.input');\n  transition: background-color cat-token('time.transition.s') ease;\n  pointer-events: none;\n\n  :checked + & {\n    background-color: cat-token('color.theme.primary.bg');\n  }\n\n  :focus-visible + & {\n    outline: 2px solid cat-token('color.ui.border.focus');\n    outline-offset: 1px;\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    width: 1rem;\n    height: 1rem;\n    background: #fff;\n    border-radius: 10rem;\n    transform: translateX(calc(2px - 0.5rem));\n    transition: transform cat-token('time.transition.s') linear;\n    @include cat-elevation(1);\n\n    :checked + & {\n      transform: translateX(calc(-2px + 0.5rem));\n    }\n  }\n}\n\n.label {\n  flex: 1 1 auto;\n\n  .is-hidden & {\n    @include cat-visually-hidden;\n  }\n}\n\n.is-disabled {\n  cursor: not-allowed;\n  color: cat-token('color.ui.font.muted');\n}\n","import { Component, Element, Event, EventEmitter, h, Host, Method, Prop, State } from '@stencil/core';\nimport log from 'loglevel';\nimport { CatFormHint } from '../cat-form-hint/cat-form-hint';\n\nlet nextUniqueId = 0;\n\n/**\n * Toggles are graphical interface switches that give user control over a\n * feature or option that can be turned on or off.\n *\n * @slot hint - Optional hint element to be displayed with the toggle.\n * @slot label - The slotted label. If both the label property and the label slot are present, only the label slot will be displayed.\n * @part toggle - The toggle element.\n * @part label - The label content.\n */\n@Component({\n  tag: 'cat-toggle',\n  styleUrls: ['cat-toggle.scss'],\n  shadow: true\n})\nexport class CatToggle {\n  private readonly id = `cat-toggle-${nextUniqueId++}`;\n  private input!: HTMLInputElement;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  /**\n   * Checked state of the toggle.\n   */\n  @Prop({ mutable: true }) checked = false;\n\n  /**\n   * Disabled state of the toggle.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * The label of the toggle that is visible.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * The name of the input\n   */\n  @Prop() name?: string;\n\n  /**\n   * Required state of the toggle.\n   */\n  @Prop() required = false;\n\n  /**\n   * The value of the toggle\n   */\n  @Prop({ mutable: true }) value?: string | boolean;\n\n  /**\n   * Optional hint text(s) to be displayed with the toggle.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * Whether the label should appear to the left of the toggle.\n   */\n  @Prop() labelLeft = false;\n\n  /**\n   * Emitted when the checked status of the toggle is changed.\n   */\n  @Event() catChange!: EventEmitter;\n\n  /**\n   * Emitted when the toggle received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the toggle loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillRender(): void {\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    if (!this.label && !this.hasSlottedLabel) {\n      log.error('[A11y] Missing ARIA label on toggle', this);\n    }\n  }\n\n  /**\n   * Sets focus on the toggle. Use this method instead of `toggle.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async setFocus(options?: FocusOptions): Promise<void> {\n    this.input.focus(options);\n  }\n\n  render() {\n    return (\n      <Host>\n        <label\n          htmlFor={this.id}\n          class={{ 'is-hidden': this.labelHidden, 'is-disabled': this.disabled, 'label-left': this.labelLeft }}\n        >\n          <input\n            ref={el => (this.input = el as HTMLInputElement)}\n            id={this.id}\n            type=\"checkbox\"\n            name={this.name}\n            value={this.value !== undefined ? String(this.value) : this.value}\n            checked={this.checked}\n            required={this.required}\n            disabled={this.disabled}\n            class=\"form-check-input\"\n            role=\"switch\"\n            onInput={this.onInput.bind(this)}\n            onFocus={this.onFocus.bind(this)}\n            onBlur={this.onBlur.bind(this)}\n          />\n          <span class=\"toggle\" part=\"toggle\"></span>\n          <span class=\"label\" part=\"label\">\n            {(this.hasSlottedLabel && <slot name=\"label\"></slot>) || this.label}\n          </span>\n        </label>\n        {this.hintSection}\n      </Host>\n    );\n  }\n\n  private get hintSection() {\n    const hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n    return (\n      (this.hint || hasSlottedHint) && (\n        <CatFormHint hint={this.hint} slottedHint={hasSlottedHint && <slot name=\"hint\"></slot>} />\n      )\n    );\n  }\n\n  private onInput(event: Event) {\n    this.checked = this.input.checked;\n\n    if (!this.value || typeof this.value === 'boolean') {\n      this.value = this.checked;\n    }\n    this.catChange.emit(event);\n  }\n\n  private onFocus(event: FocusEvent) {\n    this.catFocus.emit(event);\n  }\n\n  private onBlur(event: FocusEvent) {\n    this.catBlur.emit(event);\n  }\n}\n","const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;\n\nexport default isTouchDevice;\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n$-max-width: 16rem;\n$-box-shadow: rgb(0 0 0 / 8%) 0 1px 8px 0;\n\n:host {\n  display: contents;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.tooltip {\n  position: absolute;\n  @include cat-body('s', 500);\n  padding: 0.75rem;\n  background-color: cat-token('color.ui.background.tooltip');\n  border-radius: cat-border-radius('m');\n  color: cat-token('color.ui.font.tooltip');\n  transition: opacity cat-token('time.transition.m') linear, visibility cat-token('time.transition.m') linear;\n  visibility: hidden;\n  opacity: 0;\n  box-shadow: $-box-shadow;\n  z-index: $cat-tooltip-z-index;\n  max-width: $-max-width;\n\n  &-show {\n    opacity: 1;\n    visibility: visible;\n  }\n}\n\n.tooltip-trigger {\n  display: inline-block;\n\n  &:focus {\n    outline: none;\n  }\n}\n","import { Component, h, Host, Listen, Prop } from '@stencil/core';\nimport { autoUpdate, computePosition, flip, offset, Placement } from '@floating-ui/dom';\nimport isTouchScreen from '../../utils/is-touch-screen';\nimport firstTabbable from '../../utils/first-tabbable';\nimport { FocusableElement } from 'tabbable';\n\nlet nextUniqueId = 0;\n\n@Component({\n  tag: 'cat-tooltip',\n  styleUrl: 'cat-tooltip.scss',\n  shadow: true\n})\nexport class CatTooltip {\n  private static readonly OFFSET = 4;\n  private readonly id = `cat-tooltip-${nextUniqueId++}`;\n  private tooltip?: HTMLElement;\n  private triggerElement?: HTMLElement;\n  private trigger?: FocusableElement;\n  private showTimeout?: number;\n  private hideTimeout?: number;\n  private touchTimeout?: number;\n\n  /**\n   * The content of the tooltip.\n   */\n  @Prop() content = '';\n\n  /**\n   * Specifies that the tooltip should be disabled. A disabled tooltip is unusable,\n   * and invisible. Corresponds with the native HTML disabled attribute.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * The placement of the tooltip.\n   */\n  @Prop() placement: Placement = 'top';\n\n  /**\n   * The delay time for showing tooltip in ms.\n   */\n  @Prop() showDelay = 500;\n\n  /**\n   * The delay time for hiding tooltip in ms.\n   */\n  @Prop() hideDelay = 0;\n\n  /**\n   * The duration of tap to show the tooltip.\n   */\n  @Prop() longTouchDuration = 1000;\n\n  @Listen('keydown')\n  handleKeyDown({ key }: KeyboardEvent) {\n    key === 'Escape' && this.hideListener();\n  }\n\n  componentDidLoad(): void {\n    this.trigger = firstTabbable(this.triggerElement) || this.triggerElement;\n    if (!this.isTabbable) {\n      this.trigger?.setAttribute('tabindex', '0');\n    }\n    if (this.trigger && this.tooltip) {\n      autoUpdate(this.trigger, this.tooltip, () => this.update());\n    }\n\n    if (isTouchScreen) {\n      window.addEventListener('touchstart', this.windowTouchStartListener.bind(this));\n      this.trigger?.addEventListener('touchstart', this.touchStartListener.bind(this));\n      this.trigger?.addEventListener('touchend', this.touchEndListener.bind(this));\n    } else {\n      this.trigger?.addEventListener('focusin', this.showListener.bind(this));\n      this.trigger?.addEventListener('focusout', this.hideListener.bind(this));\n      this.trigger?.addEventListener('mouseenter', this.showListener.bind(this));\n      this.trigger?.addEventListener('mouseleave', this.hideListener.bind(this));\n    }\n  }\n\n  disconnectedCallback(): void {\n    if (isTouchScreen) {\n      window.removeEventListener('touchstart', this.windowTouchStartListener.bind(this));\n      this.trigger?.removeEventListener('touchstart', this.touchStartListener.bind(this));\n      this.trigger?.removeEventListener('touchend', this.touchEndListener.bind(this));\n    } else {\n      this.trigger?.removeEventListener('mouseenter', this.showListener.bind(this));\n      this.trigger?.removeEventListener('mouseleave', this.hideListener.bind(this));\n      this.trigger?.removeEventListener('focusin', this.showListener.bind(this));\n      this.trigger?.removeEventListener('focusout', this.hideListener.bind(this));\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <div ref={el => (this.triggerElement = el)} aria-describedby={this.id} class=\"tooltip-trigger\">\n          <slot />\n        </div>\n        {this.content && !this.disabled && (\n          <div ref={el => (this.tooltip = el)} id={this.id} class=\"tooltip\">\n            {this.content}\n          </div>\n        )}\n      </Host>\n    );\n  }\n\n  private get isTabbable() {\n    return firstTabbable(this.trigger);\n  }\n\n  private update() {\n    if (this.trigger && this.tooltip) {\n      computePosition(this.trigger, this.tooltip, {\n        placement: this.placement,\n        middleware: [offset(CatTooltip.OFFSET), flip()]\n      }).then(({ x, y }) => {\n        if (this.tooltip) {\n          Object.assign(this.tooltip.style, {\n            left: `${Math.max(0, x)}px`,\n            top: `${y}px`\n          });\n        }\n      });\n    }\n  }\n\n  private showListener() {\n    window.clearTimeout(this.hideTimeout);\n    this.showTimeout = window.setTimeout(() => {\n      this.tooltip?.classList.add('tooltip-show');\n    }, this.showDelay);\n  }\n\n  private hideListener() {\n    window.clearTimeout(this.showTimeout);\n    this.hideTimeout = window.setTimeout(() => {\n      this.tooltip?.classList.remove('tooltip-show');\n    }, this.hideDelay);\n  }\n\n  private touchStartListener(event: Event) {\n    event.stopPropagation();\n    this.touchTimeout = window.setTimeout(() => {\n      this.tooltip?.classList.add('tooltip-show');\n    }, this.longTouchDuration);\n  }\n\n  private touchEndListener() {\n    if (this.touchTimeout) {\n      window.clearTimeout(this.touchTimeout);\n    }\n  }\n\n  private windowTouchStartListener() {\n    this.tooltip?.classList.remove('tooltip-show');\n  }\n}\n"]}