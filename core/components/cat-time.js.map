{"file":"cat-time.js","mappings":"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","names":["i18n","CatTime","__stencil_proxyCustomElement","HTMLElement"],"sources":["src/components/cat-time/cat-time-locale.ts","src/components/cat-time/cat-time-math.ts","src/components/cat-time/cat-time.scss?tag=cat-time&encapsulation=shadow","src/components/cat-time/cat-time.tsx"],"sourcesContent":["import { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\n\nexport function getHour12(language: string): boolean {\n  const dateStr = new Intl.DateTimeFormat(language, { hour: '2-digit', minute: '2-digit' })\n    .format(new Date())\n    .toLowerCase();\n  return dateStr.includes('am') || dateStr.includes('pm');\n}\n\nexport function getLocale(language: string) {\n  return {\n    change: i18n.t('timepicker.change'),\n    choose: i18n.t('timepicker.choose'),\n    timeFormat: getHour12(language) ? '12' : '24'\n  };\n}\n\nexport function formatIso(date: Date) {\n  return `${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`;\n}\n","export function clampTime(min: string | null, date: Date, max: string | null): Date {\n  const [, hhMin, mmMin] = min?.match(/(\\d{2}):(\\d{2})/)?.map(Number) ?? [];\n  const [, hhMax, mmMax] = max?.match(/(\\d{2}):(\\d{2})/)?.map(Number) ?? [];\n  let minTime = -Infinity;\n  let maxTime = Infinity;\n  if (hhMin !== undefined && mmMin !== undefined) {\n    minTime = new Date(date.getFullYear(), date.getMonth(), date.getDate(), hhMin, mmMin).getTime();\n  }\n  if (hhMax !== undefined && mmMax !== undefined) {\n    maxTime = new Date(date.getFullYear(), date.getMonth(), date.getDate(), hhMax, mmMax).getTime();\n  }\n  return new Date(Math.min(Math.max(date.getTime(), minTime), maxTime));\n}\n\nexport function isBefore(date: Date, time: string | null): boolean {\n  const [, hh, mm] = time?.match(/(\\d{2}):(\\d{2})/)?.map(Number) ?? [];\n  if (hh === undefined || mm === undefined) {\n    return false;\n  }\n  return date.getHours() < hh || (date.getHours() === hh && date.getMinutes() < mm);\n}\n\nexport function isAfter(date: Date, time: string | null): boolean {\n  const [, hh, mm] = time?.match(/(\\d{2}):(\\d{2})/)?.map(Number) ?? [];\n  if (hh === undefined || mm === undefined) {\n    return false;\n  }\n  return date.getHours() > hh || (date.getHours() === hh && date.getMinutes() > mm);\n}\n","@use 'variables' as *;\n@use 'mixins' as *;\n\n:host {\n  display: block;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n.label-aria {\n  @include cat-visually-hidden;\n}\n\n.cat-time-addon {\n  margin-left: -1px;\n  display: flex;\n}\n\nnav {\n  max-height: 16rem;\n\n  ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n}\n\n.time-disabled {\n  opacity: 0.25;\n}\n","import { Placement } from '@floating-ui/dom';\nimport { Component, Element, Event, EventEmitter, Host, Listen, Method, Prop, State, Watch, h } from '@stencil/core';\nimport { ErrorMap } from '../cat-form-hint/cat-form-hint';\nimport { catI18nRegistry as i18n } from '../cat-i18n/cat-i18n-registry';\nimport { formatIso, getLocale } from './cat-time-locale';\nimport { clampTime, isAfter, isBefore } from './cat-time-math';\n\n/**\n * A time input component to select a time in a dropdown.\n */\n@Component({\n  tag: 'cat-time',\n  styleUrl: 'cat-time.scss',\n  shadow: {\n    delegatesFocus: true\n  }\n})\nexport class CatTime {\n  private readonly language = i18n.getLocale();\n  private readonly locale = getLocale(this.language);\n  private input?: HTMLCatInputElement;\n\n  @Element() hostElement!: HTMLElement;\n\n  @State() hasSlottedLabel = false;\n\n  @State() hasSlottedHint = false;\n\n  @State() selectionTime: Date | null = null;\n\n  @State() isAm = true;\n\n  @State() valueChangedBySelection = false;\n\n  /**\n   * Whether the label need a marker to shown if the input is required or optional.\n   */\n  @Prop() requiredMarker?: 'none' | 'required' | 'optional' | 'none!' | 'optional!' | 'required!' = 'optional';\n\n  /**\n   * Whether the label is on top or left.\n   */\n  @Prop() horizontal = false;\n\n  /**\n   * Hint for form autofill feature.\n   */\n  @Prop() autoComplete = 'off';\n\n  /**\n   * Whether the input should show a clear button.\n   */\n  @Prop() clearable = false;\n\n  /**\n   * Whether the input is disabled.\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Optional hint text(s) to be displayed with the input.\n   */\n  @Prop() hint?: string | string[];\n\n  /**\n   * The name of an icon to be displayed in the input.\n   */\n  @Prop() icon?: string;\n\n  /**\n   * Display the icon on the right.\n   */\n  @Prop() iconRight = false;\n\n  /**\n   * A unique identifier for the input.\n   */\n  @Prop() identifier?: string;\n\n  /**\n   * The label for the input.\n   */\n  @Prop() label = '';\n\n  /**\n   * Visually hide the label, but still show it to assistive technologies like screen readers.\n   */\n  @Prop() labelHidden = false;\n\n  /**\n   * A maximum time value given in HH:mm format.\n   */\n  @Prop() max?: string;\n\n  /**\n   * A minimum value given in HH:mm format.\n   */\n  @Prop() min?: string;\n\n  /**\n   * The name of the form control. Submitted with the form as part of a name/value pair.\n   */\n  @Prop() name?: string;\n\n  /**\n   * The placeholder text to display within the input.\n   */\n  @Prop() placeholder?: string;\n\n  /**\n   * A textual prefix to be displayed in the input.\n   */\n  @Prop() textPrefix?: string;\n\n  /**\n   * A textual suffix to be displayed in the input.\n   */\n  @Prop() textSuffix?: string;\n\n  /**\n   * The value is not editable.\n   */\n  @Prop() readonly = false;\n\n  /**\n   * A value is required or must be check for the form to be submittable.\n   */\n  @Prop() required = false;\n\n  /**\n   * The value of the control given in HH:mm format\n   */\n  @Prop({ mutable: true }) value?: string;\n\n  /**\n   * The validation errors for this input. Will render a hint under the input\n   * with the translated error message(s) `error.${key}`. If an object is\n   * passed, the keys will be used as error keys and the values translation\n   * parameters.\n   * If the value is `true`, the input will be marked as invalid without any\n   * hints under the input.\n   */\n  @Prop() errors?: boolean | string[] | ErrorMap;\n\n  /**\n   * Fine-grained control over when the errors are shown. Can be `false` to\n   * never show errors, `true` to show errors on blur, or a number to show\n   * errors change with the given delay in milliseconds or immediately on blur.\n   */\n  @Prop() errorUpdate: boolean | number = 0;\n\n  /**\n   * Attributes that will be added to the native HTML input element.\n   */\n  @Prop() nativeAttributes?: { [key: string]: string };\n\n  /**\n   * The placement of the dropdown.\n   */\n  @Prop() placement: Placement = 'bottom-end';\n\n  /**\n   * The step size for times in minutes.\n   */\n  @Prop() step = 30;\n\n  @Watch('min')\n  onMinChanged(min?: string, oldMin?: string) {\n    if (min !== oldMin) {\n      this.reclamp('min', min);\n    }\n  }\n\n  @Watch('max')\n  onMaxChanged(max?: string, oldMax?: string) {\n    if (max !== oldMax) {\n      this.reclamp('max', max);\n    }\n  }\n\n  @Watch('value')\n  onValueChanged(value: string, oldValue: string) {\n    if (this.valueChangedBySelection) {\n      this.valueChangedBySelection = false;\n    } else if (value !== oldValue) {\n      this.set12hFormat();\n      this.syncValue(value ?? '');\n    }\n  }\n\n  /**\n   * Emitted when the value is changed.\n   */\n  @Event() catChange!: EventEmitter<string>;\n\n  /**\n   * Emitted when the input received focus.\n   */\n  @Event() catFocus!: EventEmitter<FocusEvent>;\n\n  /**\n   * Emitted when the input loses focus.\n   */\n  @Event() catBlur!: EventEmitter<FocusEvent>;\n\n  componentWillLoad() {\n    this.set12hFormat();\n    this.syncValue(this.value ?? '');\n  }\n\n  componentWillRender(): void {\n    this.hasSlottedLabel = !!this.hostElement.querySelector('[slot=\"label\"]');\n    this.hasSlottedHint = !!this.hostElement.querySelector('[slot=\"hint\"]');\n  }\n\n  componentDidLoad() {\n    this.input?.mask({\n      time: true,\n      timeFormat: this.locale.timeFormat,\n      timePattern: ['h', 'm']\n    });\n  }\n\n  @Listen('catOpen')\n  onOpen() {\n    const query = (selector: string) => this.hostElement.shadowRoot?.querySelector<HTMLCatButtonElement>(selector);\n    const time = clampTime(this.min ?? null, this.selectionTime ?? new Date(2000, 5, 1, 8), this.max ?? null);\n    const elem1 = query(`[data-time=\"${formatIso(time)}\"]`);\n    time.setMinutes(Math.floor(time.getMinutes() / this.step) * this.step);\n    const elem2 = query(`[data-time=\"${formatIso(time)}\"]`);\n    setTimeout(() => {\n      (elem2 ?? elem1)?.doFocus();\n      (elem2 ?? elem1)?.scrollIntoView(this.selectionTime ? { block: 'center' } : undefined);\n    }); // not entirely sure why this is necessary\n  }\n\n  /**\n   * Select a time in the picker.\n   *\n   * @param date The time to select.\n   */\n  @Method()\n  async select(date: Date | null): Promise<void> {\n    const oldValue = this.value;\n    let newValue = this.value;\n    if (!date) {\n      this.selectionTime = null;\n      newValue = undefined;\n    } else {\n      const time = clampTime(this.min ?? null, date, this.max ?? null);\n      this.isAm = this.format(time).toLowerCase().includes('am');\n      this.selectionTime = time;\n      newValue = formatIso(time);\n    }\n    // we need to set the input explicitly to sync the input even without a\n    // rerender (if the value is not changed)\n    if (this.input) {\n      this.input.value = this.format(this.selectionTime, false);\n    }\n    if (oldValue !== newValue) {\n      this.valueChangedBySelection = true;\n      this.value = newValue;\n      this.catChange.emit(this.value);\n    } else {\n      this.valueChangedBySelection = false;\n    }\n  }\n\n  /**\n   * Programmatically move focus to the input. Use this method instead of\n   * `input.focus()`.\n   *\n   * @param options An optional object providing options to control aspects of\n   * the focusing process.\n   */\n  @Method()\n  async doFocus(options?: FocusOptions): Promise<void> {\n    this.input?.doFocus(options);\n  }\n\n  /**\n   * Programmatically remove focus from the input. Use this method instead of\n   * `input.blur()`.\n   */\n  @Method()\n  async doBlur(): Promise<void> {\n    this.input?.doBlur();\n  }\n\n  /**\n   * Clear the input.\n   */\n  @Method()\n  async clear(): Promise<void> {\n    this.input?.clear();\n  }\n\n  render() {\n    this.hostElement.tabIndex = Number(this.hostElement.getAttribute('tabindex')) || 0;\n    return (\n      <Host>\n        <cat-input\n          class=\"cat-time-input\"\n          ref={el => (this.input = el as HTMLCatInputElement)}\n          requiredMarker={this.requiredMarker}\n          horizontal={this.horizontal}\n          autoComplete={this.autoComplete}\n          clearable={this.clearable}\n          disabled={this.disabled}\n          hint={this.hint}\n          icon={this.icon}\n          iconRight={this.iconRight}\n          identifier={this.identifier}\n          label={this.label}\n          labelHidden={this.labelHidden}\n          name={this.name}\n          placeholder={this.placeholder}\n          textPrefix={this.textPrefix}\n          textSuffix={this.textSuffix}\n          readonly={this.readonly}\n          required={this.required}\n          value={this.format(this.selectionTime, false)}\n          errors={this.errors}\n          errorUpdate={this.errorUpdate}\n          nativeAttributes={this.nativeAttributes}\n          onCatFocus={e => this.catFocus.emit(e.detail)}\n          onCatBlur={e => this.onInputBlur(e.detail)}\n        >\n          <span slot=\"label\">\n            {this.hasSlottedLabel && <slot name=\"label\"></slot>}\n            {!this.hasSlottedLabel && this.label}\n            <span class=\"label-aria\"> (HH:mm)</span>\n          </span>\n          <div slot=\"addon\" class=\"cat-time-addon\">\n            {this.locale.timeFormat === '12' && (\n              <cat-button\n                class=\"cat-time-format\"\n                disabled={this.disabled || this.readonly}\n                onCatClick={() => this.toggleAm()}\n              >\n                {this.isAm ? 'AM' : 'PM'}\n              </cat-button>\n            )}\n            <cat-dropdown slot=\"addon\" placement={this.placement}>\n              <cat-button\n                slot=\"trigger\"\n                class=\"cat-time-toggle\"\n                disabled={this.disabled || this.readonly}\n                icon=\"$cat:timepicker-clock\"\n                iconOnly\n                a11yLabel={\n                  this.selectionTime ? `${this.locale.change}, ${this.format(this.selectionTime)}` : this.locale.choose\n                }\n              ></cat-button>\n              <nav slot=\"content\" class=\"cat-nav\">\n                <ul>\n                  {this.timeArray().map(time => {\n                    const isoTime = formatIso(time);\n                    const disabled = isBefore(time, this.min ?? null) || isAfter(time, this.max ?? null);\n                    return (\n                      <li>\n                        <cat-button\n                          class={{\n                            'cat-nav-item': true,\n                            'time-disabled': disabled\n                          }}\n                          disabled={disabled}\n                          active={isoTime === this.value}\n                          color={isoTime === this.value ? 'primary' : 'secondary'}\n                          variant={isoTime === this.value ? 'filled' : 'outlined'}\n                          onCatClick={() => this.select(time)}\n                          data-time={isoTime}\n                        >\n                          {this.format(time)}\n                        </cat-button>\n                      </li>\n                    );\n                  })}\n                </ul>\n              </nav>\n            </cat-dropdown>\n          </div>\n          {this.hasSlottedHint && (\n            <span slot=\"hint\">\n              <slot name=\"hint\"></slot>\n            </span>\n          )}\n        </cat-input>\n      </Host>\n    );\n  }\n\n  private timeArray() {\n    const result = [];\n    const start = new Date(2000, 5, 1, 0, 0, 0);\n    let time = new Date(start.getTime());\n    while (time.getDate() === start.getDate()) {\n      result.push(time);\n      time = new Date(time.getTime() + this.step * 60000);\n    }\n    return result;\n  }\n\n  private syncValue(value: string) {\n    const [, hh, mm] = value.match(/(\\d{2}):(\\d{2})/)?.map(Number) ?? [];\n    if (hh === undefined || mm === undefined) {\n      this.select(null);\n      return;\n    }\n\n    this.select(\n      this.locale.timeFormat === '24'\n        ? new Date(2000, 5, 1, hh, mm, 0)\n        : new Date(2000, 5, 1, (hh % 12) + (this.isAm ? 0 : 12), mm, 0)\n    );\n  }\n\n  private set12hFormat() {\n    const [, hh] = this.value?.match(/(\\d{2}):(\\d{2})/)?.map(Number) ?? [];\n    if (this.locale.timeFormat === '12') {\n      this.isAm = hh === 0 || hh < 12;\n    }\n  }\n\n  private toggleAm() {\n    if (this.selectionTime) {\n      this.select(new Date(this.selectionTime.getTime() + (this.isAm ? 12 : -12) * 3600000));\n    } else {\n      this.isAm = !this.isAm;\n    }\n  }\n\n  private onInputBlur(e: FocusEvent) {\n    this.syncValue(this.input?.value ?? '');\n    this.catBlur.emit(e);\n  }\n\n  private format(date: Date | null, includeAmPm = true) {\n    const str = date\n      ? new Intl.DateTimeFormat(this.language, {\n          hour: '2-digit',\n          minute: '2-digit'\n        }).format(date)\n      : '';\n    return includeAmPm ? str : str.replace(/\\s?(am|pm)/i, '');\n  }\n\n  private reclamp(mode: 'min' | 'max', limit: string | undefined) {\n    if (!this.value) return;\n    const min = (mode === 'min' ? limit : this.min) ?? null;\n    const max = (mode === 'max' ? limit : this.max) ?? null;\n    const [match, hh, mm] = this.value.match(/(\\d{2}):(\\d{2})/) ?? [];\n    const newValue = match ? formatIso(clampTime(min, new Date(2000, 5, 1, Number(hh), Number(mm)), max)) : undefined;\n    if (this.value !== newValue) {\n      this.syncValue(newValue ?? '');\n      this.catChange.emit(newValue);\n    }\n  }\n}\n"],"version":3}